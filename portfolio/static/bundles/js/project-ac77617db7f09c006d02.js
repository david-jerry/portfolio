(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[242],{700:(e,t,o)=>{"use strict";var n=o(3097),a=o.n(n),i=(o(7695),o(2510),o(5009),o(4559)),s=o.n(i);s().defaults.withCredentials=!0,s().defaults.xsrfCookieName="csrftoken",s().defaults.xsrfHeaderName="X-CSRFToken",s().defaults.timeout=25e3;const r=s();var l=o(75),c=o.n(l),d=o(170),u=o.n(d);const g=2592e3;function m(e){let t=e+"=",o=document.cookie.split(";");for(let e=0;e<o.length;e++){let n=o[e];for(;" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}function p(e,t,o){const n=new Date;n.setTime(n.getTime()+o);let a="expires="+n.toUTCString();document.cookie=e+"="+t+";"+a+";path=/; domain="+location.hostname+"; SameSite=Strict; Secure"}const h=m("acceptPrivacyPolicy"),w=m("acceptCookiePolicy"),f=m("acceptNecessary")||!0,S=m("acceptAnalytics"),y=m("acceptGPSPolicy"),I=m("acceptMarketing"),v=m("acceptFunctionality");function b(){return{isInactive:!1,active:"all",read:0,open:"all",updateOrCreate:!1,processingRequest:!1,openFloatIcon:!1,viewCookiesList:!1,closeCookieModal:h&&w&&f&&S&&y&&I&&v,installPrompt:null,deferredPrompt:null,closeInstallPrompt:"closeInstallPrompt"in localStorage,showInstallFloatIcon:!("showInstallFloatIcon"in localStorage),fullScreen:!1,darkMode:"darkMode"in localStorage,shareable:null,detail:!1,navbarFixed:!1,prevOffset:0,acceptNecessary:f,acceptAnalytics:S,acceptGPS:y,acceptMarketing:I,acceptCookiePolicy:w,acceptPolicy:h,acceptFunctionality:v,Init(){this.navbarScrollEffect,this.installPWASettings,this.shareableSettings},scrollToElement(e){document.getElementById(`${e}`).scrollIntoView({behavior:"smooth"})},htmxAfterSwab(){u().on("htmx:afterSwap",(function(e){if(console.log("htmx oob swab events: ",e),"main"===e.detail.target.id){var t=document.querySelector("title"),o=document.querySelector('meta[name="author"]'),n=document.querySelector('meta[name="description"]');if(t){var a=e.detail.target.querySelector("title");a&&(t.textContent=a.textContent)}if(o){var i=e.detail.target.querySelector('meta[name="author"]');i&&o.setAttribute("content",i.getAttribute("content"))}if(n){var s=e.detail.target.querySelector('meta[name="description"]');s&&n.setAttribute("content",s.getAttribute("content"))}var r=e.detail.xhr.responseURL;r&&window.history.pushState(null,"",r)}}))},navbarScrollEffect(){const e=window.pageYOffset,t=document.querySelector("#header"),o=document.querySelector("#main");e>2&&!this.isNavbarFixed&&(t.classList.remove("relative"),t.classList.add("fixed"),o.style.marginTop=`${t.offsetHeight}px`,this.isNavbarFixed=!0),0===e&&this.isNavbarFixed&&(t.classList.remove("fixed"),t.classList.add("relative"),o.style.marginTop=0,this.isNavbarFixed=!1),e>this.prevOffset&&this.isNavbarFixed&&(t.classList.add("hidden"),o.style.marginTop=0),e<this.prevOffset&&this.isNavbarFixed&&(t.classList.remove("hidden"),o.style.marginTop=`${t.offsetHeight}px`),this.prevOffset=e},openDetail(e){let t=e;u().ajax("GET",t,{target:"#detail",swap:"innerHTML"}),this.detail=!0},openUpdateCreate(e){this.updateOrCreate=!0,u().ajax("GET",e,{target:"#updateOrCreate",swap:"innerHTML"})},shareableSettings(){const e="acceptSocialSharePolicy"in localStorage;null!==this.shareable||e?!1===this.shareable&&e?localStorage.removeItem("acceptSocialSharePolicy"):!0===this.shareable&&e&&localStorage.setItem("acceptSocialSharePolicy","true"):localStorage.setItem("acceptSocialSharePolicy","true")},async shareURL(e,t){if("acceptSocialSharePolicy"in localStorage){void 0===t&&(t=document.title);const o=`${location.host}${e}`;navigator.share&&await navigator.share({title:t,text:`Check out this link from ${location.host}: \n${t.toUpperCase()}.`,url:o}).then((async()=>await c().success({title:"[SOCIAL SHARE]",balloon:!0,position:"topRight",animateInside:!0,message:`Successfully shared: ${t.toUpperCase()}`}))).catch((async e=>await c().error({title:"[SOCIAL SHARE ERROR]",balloon:!0,position:"topRight",animateInside:!0,message:e.message})))}},enableDarkMode(){localStorage.setItem("darkMode","true"),document.documentElement.classList.add("dark"),this.darkMode=!0},disableDarkMode(){localStorage.removeItem("darkMode"),document.documentElement.classList.remove("dark"),this.darkMode=!1},acceptAllPolicies(){p("acceptPrivacyPolicy",!0,g),p("acceptCookiePolicy",!0,g),p("acceptNecessary",!0,g),p("acceptAnalytics",!0,g),p("acceptGPSPolicy",!0,g),p("acceptMarketing",!0,g),p("acceptFunctionality",!0,g),this.closeCookieModal=!0},installPWASettings(){let e=localStorage.getItem("deferredPrompt"),t=JSON.parse(e);console.log(t),null===t&&(this.closeInstallPrompt=!0,this.showInstallFloatIcon=!0)},installPWA(){let e=localStorage.getItem("deferredPrompt");JSON.parse(e)&&(window.deferredPrompt.prompt(),window.deferredPrompt.userChoice.then((e=>{"accepted"===e.outcome?(console.log("User accepted the install prompt"),this.closeInstallPrompt=!0,this.showInstallFloatIcon=!1):(console.log("User dismissed the install prompt"),this.closeInstallPrompt=!0,this.showInstallFloatIcon=!0)}))),window.addEventListener("appinstalled",(e=>{this.closeInstallPrompt=!0,this.showInstallFloatIcon=!1,c().info({title:"üëç [PWA INSTALLED]",balloon:!0,position:"topRight",animateInside:!0,message:"Thank you for installing the web app. This offers you offline capabilities to use my site when you are out of data."})}))},canclePWA(){this.closeInstallPrompt=!0,this.showInstallFloatIcon=!0},switchFullscreenMode(){this.fullScreen=!this.fullScreen,document.fullscreenElement||document.mozFullScreenElement||document.msFullScreenElement||document.webkitFullScreenElement?(document.exitFullscreen(),localStorage.removeItem("fullscreen")):(document.documentElement.requestFullscreen(),localStorage.setItem("fullscreen","true"))}}}const P=document.getElementById("progress"),E=document.getElementById("progressLabel");var T=o(9250),k=o(4501),A=o(246),O=o(1506),C=o(7809),N=(o(9346),o(3666)),L=o(344),F=o.n(L),R=o(5421),x=o.n(R);window.anime=N.Z,window.ScrollMagic=F(),window.htmx=u(),window.tinymce=a(),window.lottieweb=x(),window.ethers=C,window.axios=r,window.Swiper=k.ZP,window.iziToast=c();let M=null;function U(){clearTimeout(M),A.Z.store("isInactive",!1)}function B(){A.Z.store("isInactive",!0)}M=setTimeout(B,1e3),document.addEventListener("mousemove",U),document.addEventListener("keyup",U),document.addEventListener("scroll",U);const q=(0,T.qY)();let{APPLICATION_SERVER_KEY:D,CREATE_WP_DEVICE:H,SEND_NOTIFICATION:Z}=window.WEB_PUSH_CFG;function j(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),o=window.atob(t),n=new Uint8Array(o.length),a=0;a<o.length;++a)n[a]=o.charCodeAt(a);return n}async function $(e){const t=e.toJSON(),o=t.endpoint.split("/"),n=o[o.length-1],a={status_type:"subscribe",subscription:t,browser:q.name.toLowerCase(),p256dh:t.keys.p256dh,auth:t.keys.auth,user_agent:navigator.getUserAgent,registration_id:n,group:"users"},i=JSON.stringify(a);await r.post(H,i,{headers:{"Content-Type":"application/json","X-CSRFToken":document.head.querySelector('meta[name="csrf-token"]').getAttribute("content")}}).then((function(t){document.getElementById("subscribeNotificationButton").classList.toggle("hidden",!0),J(e)})).catch((function(e){}))}function _(){if(document.getElementById("subscribeNotificationButton")){const e=document.getElementById("subscribeNotificationButton");e.classList.toggle("hidden",!0),e.classList.toggle("md:hidden",!0)}}async function J(e){const t=e.toJSON(),o=t.endpoint.split("/"),n={registration_id:o[o.length-1],auth:t.keys.auth,head:"Jerry Says üîä ",body:"This is how push notifications from my site will be shown on your devices."},a=JSON.stringify(n);await r.post(Z,a,{headers:{"Content-Type":"application/json"}}).then((async function(e){await c().info({title:"[PUSH NOTIFICATION TEST SUCCESSFUL]",balloon:!0,position:"topRight",animateInside:!0,message:e.data.message})})).catch((async function(e){await c().error({title:"[PUSH NOTIFICATION TEST ERROR]",balloon:!0,position:"topRight",animateInside:!0,message:e.response.data.detail})}))}"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/sw.js",{scope:"/"}).then((e=>{navigator.serviceWorker.ready.then((function(e){W(e),e.installing?console.log("Service worker installing"):e.waiting?console.log("Service worker installed"):e.active&&console.log("Service worker active")}))})).catch((e=>{}))}));const W=e=>{e.showNotification?(e.showNotification&&_(),"denied"!==Notification.permission?("denied"!==Notification.permission&&_(),"PushManager"in window?("PushManager"in window&&_(),e.pushManager.getSubscription().then((t=>{console.log("Registration Object",e),t&&null!==t?(null!==t||t)&&(console.log("Subscribe Already Done"),_()):function(e){if(document.getElementById("subscribeNotificationButton")){const t=document.getElementById("subscribeNotificationButton");t.classList.toggle("hidden",!1),t.classList.toggle("md:hidden",!1),t.addEventListener("click",(()=>{!async function(e){await e.pushManager.getSubscription().then((function(e){e&&($(e),J(e))}));const t={userVisibleOnly:!0,applicationServerKey:j(D)};await e.pushManager.subscribe(t).then((function(e){$(e)})).catch((e=>{}))}(e),console.log("Subscribe Button Set")}))}}(e)}))):c().info({title:"[PUSH BNOTIFICATION UNAVAILBALE]",balloon:!0,position:"topRight",animateInside:!0,message:"Push notification is not allowed in your browser."})):c().warning({title:"[PUSH NOTIFICATION DENIED]",balloon:!0,position:"topRight",animateInside:!0,message:"You prevented us from shwoing notifications. Manually check if you have prevented push notifcation from us."})):c().error({title:"[PUSH NOTIFICATION UNSUPPORTED]",balloon:!0,position:"topRight",animateInside:!0,message:"Showing <strong>PUSH NOTIFICATIONS</strong> is unsupported"})};A.Z.plugin(O.Z),window.Alpine=A.Z,A.Z.data("Default",b),A.Z.data("Project",(function(){return{prjectProcessing:!1,async submitProject(){this.prjectProcessing=!0,b.processingRequest=!0,P.value=0,E.innerText="0%";const e=this.$refs.form,t=e.action;let o=new FormData(e);await e.querySelectorAll("[name]").forEach((e=>{if("is_published"===e.name)"on"===e.value?o.append(e.name,!0):o.append(e.name,!1);else if("textarea"===e.type){let t=e.id;o.append(e.name,window.parent.tinymce.get(t).getContent())}else o.append(e.name,e.value)})),console.dir(o),await r.post(t,o).then((e=>{201===e.status&&(c().success({title:"PROJECT ADDED",message:"Project Successfully Added"}),P.value=100,E.innerText="100%",b.processingRequest=!1)})).catch((e=>{c().error({title:"PROJECT UPLOADING FAILED",message:e.message})}))},async checkStatus(e,t){await r.get(`/api/projects/check-processing/${e}/${t}/`).then((async o=>{201===o.status?(P.value=100,E.innerText="100%",await(500,new window.Promise((e=>setTimeout(e,500)))),b.processingRequest=!1,c().success({title:"PROJECT PROCESSING",message:o.data.message}),await u().ajax("GET",`/projects/${o.data.object.slug}/`,{target:"#detail",swap:"innerHTML"}),b.detail=!0):(P.value++,E.innerText=`${P.value}%`,this.checkStatus(e,t))})).catch((e=>{b.processingRequest=!1,c().error({title:"PROJECT PROCESSING FAILED",message:e.message}),this.prjectProcessing=!1}))}}})),A.Z.start(),window.matchMedia("(display-mode: standalone)").matches?(console.log("PWA is already installed"),localStorage.removeItem("deferredPrompt")):(console.log("PWA is not installed"),window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),e?(localStorage.setItem("deferredPrompt",JSON.stringify(e)),window.deferredPrompt=e):"deferredPrompt"in localStorage||(self.closeInstallPrompt=!0,self.showInstallFloatIcon=!0)}))),["htmx:afterSwap"].forEach((e=>{window.addEventListener(e,(function(){window.anime=N.Z,window.scrollMagic=F(),window.iziToast=c(),window.tinymce=a(),window.lottieweb=x(),window.ethers=C,window.axios=r,window.Swiper=k.ZP;const e=document.querySelectorAll(".counter"),t=document.getElementById("car"),o=new(F().Controller);document.getElementById("countTrigger")&&new(F().Scene)({triggerElement:"#countTrigger",triggerHook:"onEnter",duration:"100%",reverse:!1,offset:50}).on("enter",(function(){e&&e.forEach((e=>{(0,N.Z)({targets:e,innerHTML:[0,e.getAttribute("data-count")],easing:"easeInOutSine",round:1,duration:4e3})}))})).addTo(o),document.getElementById("track")&&new(F().Scene)({triggerElement:"#track",triggerHook:"onEnter",duration:"100%",reverse:!0,offset:50}).on("enter",(function(){t&&(0,N.Z)({targets:"#car",translateX:{value:"-100vw",duration:5e3},easing:"easeInOutSine",opacity:1,delay:N.Z.stagger(200,{start:500}),direction:"normal",loop:!1})})).addTo(o),document.getElementById("hows")&&new(F().Scene)({triggerElement:"#hows",triggerHook:"onEnter",duration:"100%",reverse:!1,offset:100}).on("enter",(function(){document.querySelectorAll(".how")&&(0,N.Z)({targets:".how",translateX:56,easing:"easeInOutSine",duration:800,opacity:1,delay:N.Z.stagger(200,{start:500})})})).addTo(o),document.querySelectorAll(".intro")&&(0,N.Z)({targets:".intro",translateX:-56,easing:"easeInOutSine",duration:800,opacity:1,delay:N.Z.stagger(200,{start:500})})}))}))},6601:()=>{}},e=>{e.O(0,[699],(()=>(700,e(e.s=700)))),e.O()}]);
//# sourceMappingURL=project-ac77617db7f09c006d02.js.map