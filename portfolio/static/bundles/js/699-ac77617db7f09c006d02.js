/*! For license information please see 699-ac77617db7f09c006d02.js.LICENSE.txt */
(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[699],{1506:(e,t,n)=>{"use strict";function r(e){if(e.includes("full"))return.99;if(e.includes("half"))return.5;if(!e.includes("threshold"))return 0;let t=e[e.indexOf("threshold")+1];return"100"===t?1:"0"===t?0:Number(`.${t}`)}function o(e){let t=e.match(/^(-?[0-9]+)(px|%)?$/);return t?t[1]+(t[2]||"px"):void 0}function i(e){const t="0px 0px 0px 0px",n=e.indexOf("margin");if(-1===n)return t;let r=[];for(let t=1;t<5;t++)r.push(o(e[n+t]||""));return r=r.filter((e=>void 0!==e)),r.length?r.join(" ").trim():t}n.d(t,{Z:()=>s});var s=function(e){e.directive("intersect",((e,{value:t,expression:n,modifiers:o},{evaluateLater:s,cleanup:a})=>{let l=s(n),c={rootMargin:i(o),threshold:r(o)},u=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting!==("leave"===t)&&(l(),o.includes("once")&&u.disconnect())}))}),c);u.observe(e),a((()=>{u.disconnect()}))}))}},9085:function(e){"use strict";!function(t){function n(e){return parseInt(e)===e}function r(e){if(!n(e.length))return!1;for(var t=0;t<e.length;t++)if(!n(e[t])||e[t]<0||e[t]>255)return!1;return!0}function o(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!r(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(n(e.length)&&r(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function i(e){return new Uint8Array(e)}function s(e,t,n,r,o){null==r&&null==o||(e=e.slice?e.slice(r,o):Array.prototype.slice.call(e,r,o)),t.set(e,n)}var a,l={toBytes:function(e){var t=[],n=0;for(e=encodeURI(e);n<e.length;){var r=e.charCodeAt(n++);37===r?(t.push(parseInt(e.substr(n,2),16)),n+=2):t.push(r)}return o(t)},fromBytes:function(e){for(var t=[],n=0;n<e.length;){var r=e[n];r<128?(t.push(String.fromCharCode(r)),n++):r>191&&r<224?(t.push(String.fromCharCode((31&r)<<6|63&e[n+1])),n+=2):(t.push(String.fromCharCode((15&r)<<12|(63&e[n+1])<<6|63&e[n+2])),n+=3)}return t.join("")}},c=(a="0123456789abcdef",{toBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},fromBytes:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(a[(240&r)>>4]+a[15&r])}return t.join("")}}),u={16:10,24:12,32:14},d=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],h=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],p=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],f=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],m=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],g=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],v=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],y=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],b=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],w=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],x=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],E=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],S=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],C=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],A=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function _(e){for(var t=[],n=0;n<e.length;n+=4)t.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return t}var k=function(e){if(!(this instanceof k))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:o(e,!0)}),this._prepare()};k.prototype._prepare=function(){var e=u[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var n,r=4*(e+1),o=this.key.length/4,i=_(this.key);for(t=0;t<o;t++)n=t>>2,this._Ke[n][t%4]=i[t],this._Kd[e-n][t%4]=i[t];for(var s,a=0,l=o;l<r;){if(s=i[o-1],i[0]^=h[s>>16&255]<<24^h[s>>8&255]<<16^h[255&s]<<8^h[s>>24&255]^d[a]<<24,a+=1,8!=o)for(t=1;t<o;t++)i[t]^=i[t-1];else{for(t=1;t<o/2;t++)i[t]^=i[t-1];for(s=i[o/2-1],i[o/2]^=h[255&s]^h[s>>8&255]<<8^h[s>>16&255]<<16^h[s>>24&255]<<24,t=o/2+1;t<o;t++)i[t]^=i[t-1]}for(t=0;t<o&&l<r;)c=l>>2,p=l%4,this._Ke[c][p]=i[t],this._Kd[e-c][p]=i[t++],l++}for(var c=1;c<e;c++)for(var p=0;p<4;p++)s=this._Kd[c][p],this._Kd[c][p]=E[s>>24&255]^S[s>>16&255]^C[s>>8&255]^A[255&s]},k.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,n=[0,0,0,0],r=_(e),o=0;o<4;o++)r[o]^=this._Ke[0][o];for(var s=1;s<t;s++){for(o=0;o<4;o++)n[o]=f[r[o]>>24&255]^m[r[(o+1)%4]>>16&255]^g[r[(o+2)%4]>>8&255]^v[255&r[(o+3)%4]]^this._Ke[s][o];r=n.slice()}var a,l=i(16);for(o=0;o<4;o++)a=this._Ke[t][o],l[4*o]=255&(h[r[o]>>24&255]^a>>24),l[4*o+1]=255&(h[r[(o+1)%4]>>16&255]^a>>16),l[4*o+2]=255&(h[r[(o+2)%4]>>8&255]^a>>8),l[4*o+3]=255&(h[255&r[(o+3)%4]]^a);return l},k.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,n=[0,0,0,0],r=_(e),o=0;o<4;o++)r[o]^=this._Kd[0][o];for(var s=1;s<t;s++){for(o=0;o<4;o++)n[o]=y[r[o]>>24&255]^b[r[(o+3)%4]>>16&255]^w[r[(o+2)%4]>>8&255]^x[255&r[(o+1)%4]]^this._Kd[s][o];r=n.slice()}var a,l=i(16);for(o=0;o<4;o++)a=this._Kd[t][o],l[4*o]=255&(p[r[o]>>24&255]^a>>24),l[4*o+1]=255&(p[r[(o+3)%4]>>16&255]^a>>16),l[4*o+2]=255&(p[r[(o+2)%4]>>8&255]^a>>8),l[4*o+3]=255&(p[255&r[(o+1)%4]]^a);return l};var T=function(e){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new k(e)};T.prototype.encrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=i(e.length),n=i(16),r=0;r<e.length;r+=16)s(e,n,0,r,r+16),s(n=this._aes.encrypt(n),t,r);return t},T.prototype.decrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=i(e.length),n=i(16),r=0;r<e.length;r+=16)s(e,n,0,r,r+16),s(n=this._aes.decrypt(n),t,r);return t};var M=function(e,t){if(!(this instanceof M))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=i(16);this._lastCipherblock=o(t,!0),this._aes=new k(e)};M.prototype.encrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=i(e.length),n=i(16),r=0;r<e.length;r+=16){s(e,n,0,r,r+16);for(var a=0;a<16;a++)n[a]^=this._lastCipherblock[a];this._lastCipherblock=this._aes.encrypt(n),s(this._lastCipherblock,t,r)}return t},M.prototype.decrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=i(e.length),n=i(16),r=0;r<e.length;r+=16){s(e,n,0,r,r+16),n=this._aes.decrypt(n);for(var a=0;a<16;a++)t[r+a]=n[a]^this._lastCipherblock[a];s(e,this._lastCipherblock,0,r,r+16)}return t};var P=function(e,t,n){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=i(16);n||(n=1),this.segmentSize=n,this._shiftRegister=o(t,!0),this._aes=new k(e)};P.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,n=o(e,!0),r=0;r<n.length;r+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)n[r+i]^=t[i];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(n,this._shiftRegister,16-this.segmentSize,r,r+this.segmentSize)}return n},P.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,n=o(e,!0),r=0;r<n.length;r+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)n[r+i]^=t[i];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(e,this._shiftRegister,16-this.segmentSize,r,r+this.segmentSize)}return n};var O=function(e,t){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=i(16);this._lastPrecipher=o(t,!0),this._lastPrecipherIndex=16,this._aes=new k(e)};O.prototype.encrypt=function(e){for(var t=o(e,!0),n=0;n<t.length;n++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[n]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},O.prototype.decrypt=O.prototype.encrypt;var R=function(e){if(!(this instanceof R))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=i(16),this.setValue(e)):this.setBytes(e)};R.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},R.prototype.setBytes=function(e){if(16!=(e=o(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},R.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var N=function(e,t){if(!(this instanceof N))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof R||(t=new R(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new k(e)};N.prototype.encrypt=function(e){for(var t=o(e,!0),n=0;n<t.length;n++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[n]^=this._remainingCounter[this._remainingCounterIndex++];return t},N.prototype.decrypt=N.prototype.encrypt;var D={AES:k,Counter:R,ModeOfOperation:{ecb:T,cbc:M,cfb:P,ofb:O,ctr:N},utils:{hex:c,utf8:l},padding:{pkcs7:{pad:function(e){var t=16-(e=o(e,!0)).length%16,n=i(e.length+t);s(e,n);for(var r=e.length;r<n.length;r++)n[r]=t;return n},strip:function(e){if((e=o(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var n=e.length-t,r=0;r<t;r++)if(e[n+r]!==t)throw new Error("PKCS#7 invalid padding byte");var a=i(n);return s(e,a,0,0,n),a}}},_arrayTest:{coerceArray:o,createArray:i,copyArray:s}};e.exports=D}()},246:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Rn});var r,o,i,s,a=!1,l=!1,c=[],u=-1;function d(e){let t=c.indexOf(e);-1!==t&&t>u&&c.splice(t,1)}function h(){a=!1,l=!0;for(let e=0;e<c.length;e++)c[e](),u=e;c.length=0,u=-1,l=!1}var p=!0;function f(e){o=e}var m=[],g=[],v=[];function y(e,t){"function"==typeof t?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,g.push(t))}function b(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach((([n,r])=>{(void 0===t||t.includes(n))&&(r.forEach((e=>e())),delete e._x_attributeCleanups[n])}))}var w=new MutationObserver(M),x=!1;function E(){w.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),x=!0}function S(){(C=C.concat(w.takeRecords())).length&&!A&&(A=!0,queueMicrotask((()=>{M(C),C.length=0,A=!1}))),w.disconnect(),x=!1}var C=[],A=!1;function _(e){if(!x)return e();S();let t=e();return E(),t}var k=!1,T=[];function M(e){if(k)return void(T=T.concat(e));let t=[],n=[],r=new Map,o=new Map;for(let i=0;i<e.length;i++)if(!e[i].target._x_ignoreMutationObserver&&("childList"===e[i].type&&(e[i].addedNodes.forEach((e=>1===e.nodeType&&t.push(e))),e[i].removedNodes.forEach((e=>1===e.nodeType&&n.push(e)))),"attributes"===e[i].type)){let t=e[i].target,n=e[i].attributeName,s=e[i].oldValue,a=()=>{r.has(t)||r.set(t,[]),r.get(t).push({name:n,value:t.getAttribute(n)})},l=()=>{o.has(t)||o.set(t,[]),o.get(t).push(n)};t.hasAttribute(n)&&null===s?a():t.hasAttribute(n)?(l(),a()):l()}o.forEach(((e,t)=>{b(t,e)})),r.forEach(((e,t)=>{m.forEach((n=>n(t,e)))}));for(let e of n)if(!t.includes(e)&&(g.forEach((t=>t(e))),e._x_cleanups))for(;e._x_cleanups.length;)e._x_cleanups.pop()();t.forEach((e=>{e._x_ignoreSelf=!0,e._x_ignore=!0}));for(let e of t)n.includes(e)||e.isConnected&&(delete e._x_ignoreSelf,delete e._x_ignore,v.forEach((t=>t(e))),e._x_ignore=!0,e._x_ignoreSelf=!0);t.forEach((e=>{delete e._x_ignoreSelf,delete e._x_ignore})),t=null,n=null,r=null,o=null}function P(e){return D(N(e))}function O(e,t,n){return e._x_dataStack=[t,...N(n||e)],()=>{e._x_dataStack=e._x_dataStack.filter((e=>e!==t))}}function R(e,t){let n=e._x_dataStack[0];Object.entries(t).forEach((([e,t])=>{n[e]=t}))}function N(e){return e._x_dataStack?e._x_dataStack:"function"==typeof ShadowRoot&&e instanceof ShadowRoot?N(e.host):e.parentNode?N(e.parentNode):[]}function D(e){let t=new Proxy({},{ownKeys:()=>Array.from(new Set(e.flatMap((e=>Object.keys(e))))),has:(t,n)=>e.some((e=>e.hasOwnProperty(n))),get:(n,r)=>(e.find((e=>{if(e.hasOwnProperty(r)){let n=Object.getOwnPropertyDescriptor(e,r);if(n.get&&n.get._x_alreadyBound||n.set&&n.set._x_alreadyBound)return!0;if((n.get||n.set)&&n.enumerable){let o=n.get,i=n.set,s=n;o=o&&o.bind(t),i=i&&i.bind(t),o&&(o._x_alreadyBound=!0),i&&(i._x_alreadyBound=!0),Object.defineProperty(e,r,{...s,get:o,set:i})}return!0}return!1}))||{})[r],set:(t,n,r)=>{let o=e.find((e=>e.hasOwnProperty(n)));return o?o[n]=r:e[e.length-1][n]=r,!0}});return t}function I(e){let t=(n,r="")=>{Object.entries(Object.getOwnPropertyDescriptors(n)).forEach((([o,{value:i,enumerable:s}])=>{if(!1===s||void 0===i)return;let a=""===r?o:`${r}.${o}`;var l;"object"==typeof i&&null!==i&&i._x_interceptor?n[o]=i.initialize(e,a,o):"object"!=typeof(l=i)||Array.isArray(l)||null===l||i===n||i instanceof Element||t(i,a)}))};return t(e)}function B(e,t=(()=>{})){let n={initialValue:void 0,_x_interceptor:!0,initialize(t,n,r){return e(this.initialValue,(()=>function(e,t){return t.split(".").reduce(((e,t)=>e[t]),e)}(t,n)),(e=>F(t,n,e)),n,r)}};return t(n),e=>{if("object"==typeof e&&null!==e&&e._x_interceptor){let t=n.initialize.bind(n);n.initialize=(r,o,i)=>{let s=e.initialize(r,o,i);return n.initialValue=s,t(r,o,i)}}else n.initialValue=e;return n}}function F(e,t,n){if("string"==typeof t&&(t=t.split(".")),1!==t.length){if(0===t.length)throw error;return e[t[0]]||(e[t[0]]={}),F(e[t[0]],t.slice(1),n)}e[t[0]]=n}var L={};function H(e,t){L[e]=t}function z(e,t){return Object.entries(L).forEach((([n,r])=>{Object.defineProperty(e,`$${n}`,{get(){let[e,n]=ie(t);return e={interceptor:B,...e},y(t,n),r(t,e)},enumerable:!1})})),e}function V(e,t,n,...r){try{return n(...r)}catch(n){j(n,e,t)}}function j(e,t,n=undefined){Object.assign(e,{el:t,expression:n}),console.warn(`Alpine Expression Error: ${e.message}\n\n${n?'Expression: "'+n+'"\n\n':""}`,t),setTimeout((()=>{throw e}),0)}var U=!0;function G(e,t,n={}){let r;return q(e,t)((e=>r=e),n),r}function q(...e){return W(...e)}var W=Z;function Z(e,t){let n={};z(n,e);let r=[n,...N(e)],o="function"==typeof t?function(e,t){return(n=(()=>{}),{scope:r={},params:o=[]}={})=>{K(n,t.apply(D([r,...e]),o))}}(r,t):function(e,t,n){let r=function(e,t){if($[e])return $[e];let n=Object.getPrototypeOf((async function(){})).constructor,r=/^[\n\s]*if.*\(.*\)/.test(e)||/^(let|const)\s/.test(e)?`(async()=>{ ${e} })()`:e;let o=(()=>{try{return new n(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`)}catch(n){return j(n,t,e),Promise.resolve()}})();return $[e]=o,o}(t,n);return(o=(()=>{}),{scope:i={},params:s=[]}={})=>{r.result=void 0,r.finished=!1;let a=D([i,...e]);if("function"==typeof r){let e=r(r,a).catch((e=>j(e,n,t)));r.finished?(K(o,r.result,a,s,n),r.result=void 0):e.then((e=>{K(o,e,a,s,n)})).catch((e=>j(e,n,t))).finally((()=>r.result=void 0))}}}(r,t,e);return V.bind(null,e,t,o)}var $={};function K(e,t,n,r,o){if(U&&"function"==typeof t){let i=t.apply(n,r);i instanceof Promise?i.then((t=>K(e,t,n,r))).catch((e=>j(e,o,t))):e(i)}else"object"==typeof t&&t instanceof Promise?t.then((t=>e(t))):e(t)}var X="x-";function Y(e=""){return X+e}var J={};function Q(e,t){return J[e]=t,{before(t){if(!J[t])return void console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");const n=pe.indexOf(t);pe.splice(n>=0?n:pe.indexOf("DEFAULT"),0,e)}}}function ee(e,t,n){if(t=Array.from(t),e._x_virtualDirectives){let n=Object.entries(e._x_virtualDirectives).map((([e,t])=>({name:e,value:t}))),r=te(n);n=n.map((e=>r.find((t=>t.name===e.name))?{name:`x-bind:${e.name}`,value:`"${e.value}"`}:e)),t=t.concat(n)}let r={},o=t.map(ae(((e,t)=>r[e]=t))).filter(ue).map(function(e,t){return({name:n,value:r})=>{let o=n.match(de()),i=n.match(/:([a-zA-Z0-9\-:]+)/),s=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=t||e[n]||n;return{type:o?o[1]:null,value:i?i[1]:null,modifiers:s.map((e=>e.replace(".",""))),expression:r,original:a}}}(r,n)).sort(fe);return o.map((t=>function(e,t){let n=J[t.type]||(()=>{}),[r,o]=ie(e);!function(e,t,n){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(n)}(e,t.original,o);let i=()=>{e._x_ignore||e._x_ignoreSelf||(n.inline&&n.inline(e,t,r),n=n.bind(n,e,t,r),ne?re.get(oe).push(n):n())};return i.runCleanups=o,i}(e,t)))}function te(e){return Array.from(e).map(ae()).filter((e=>!ue(e)))}var ne=!1,re=new Map,oe=Symbol();function ie(e){let t=[],[n,r]=function(e){let t=()=>{};return[n=>{let r=o(n);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach((e=>e()))}),e._x_effects.add(r),t=()=>{void 0!==r&&(e._x_effects.delete(r),i(r))},r},()=>{t()}]}(e);return t.push(r),[{Alpine:Qe,effect:n,cleanup:e=>t.push(e),evaluateLater:q.bind(q,e),evaluate:G.bind(G,e)},()=>t.forEach((e=>e()))]}var se=(e,t)=>({name:n,value:r})=>(n.startsWith(e)&&(n=n.replace(e,t)),{name:n,value:r});function ae(e=(()=>{})){return({name:t,value:n})=>{let{name:r,value:o}=le.reduce(((e,t)=>t(e)),{name:t,value:n});return r!==t&&e(r,t),{name:r,value:o}}}var le=[];function ce(e){le.push(e)}function ue({name:e}){return de().test(e)}var de=()=>new RegExp(`^${X}([^:^.]+)\\b`),he="DEFAULT",pe=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",he,"teleport"];function fe(e,t){let n=-1===pe.indexOf(e.type)?he:e.type,r=-1===pe.indexOf(t.type)?he:t.type;return pe.indexOf(n)-pe.indexOf(r)}function me(e,t,n={}){e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function ge(e,t){if("function"==typeof ShadowRoot&&e instanceof ShadowRoot)return void Array.from(e.children).forEach((e=>ge(e,t)));let n=!1;if(t(e,(()=>n=!0)),n)return;let r=e.firstElementChild;for(;r;)ge(r,t),r=r.nextElementSibling}function ve(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var ye=[],be=[];function we(){return ye.map((e=>e()))}function xe(){return ye.concat(be).map((e=>e()))}function Ee(e){ye.push(e)}function Se(e){be.push(e)}function Ce(e,t=!1){return Ae(e,(e=>{if((t?xe():we()).some((t=>e.matches(t))))return!0}))}function Ae(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),e.parentElement)return Ae(e.parentElement,t)}}var _e=[];function ke(e,t=ge,n=(()=>{})){!function(r){ne=!0;let o=Symbol();oe=o,re.set(o,[]);let i=()=>{for(;re.get(o).length;)re.get(o).shift()();re.delete(o)};t(e,((e,t)=>{n(e,t),_e.forEach((n=>n(e,t))),ee(e,e.attributes).forEach((e=>e())),e._x_ignore&&t()})),ne=!1,i()}()}function Te(e){ge(e,(e=>b(e)))}var Me=[],Pe=!1;function Oe(e=(()=>{})){return queueMicrotask((()=>{Pe||setTimeout((()=>{Re()}))})),new Promise((t=>{Me.push((()=>{e(),t()}))}))}function Re(){for(Pe=!1;Me.length;)Me.shift()()}function Ne(e,t){return Array.isArray(t)?De(e,t.join(" ")):"object"==typeof t&&null!==t?function(e,t){let n=e=>e.split(" ").filter(Boolean),r=Object.entries(t).flatMap((([e,t])=>!!t&&n(e))).filter(Boolean),o=Object.entries(t).flatMap((([e,t])=>!t&&n(e))).filter(Boolean),i=[],s=[];return o.forEach((t=>{e.classList.contains(t)&&(e.classList.remove(t),s.push(t))})),r.forEach((t=>{e.classList.contains(t)||(e.classList.add(t),i.push(t))})),()=>{s.forEach((t=>e.classList.add(t))),i.forEach((t=>e.classList.remove(t)))}}(e,t):"function"==typeof t?Ne(e,t()):De(e,t)}function De(e,t){return t=!0===t?t="":t||"",n=t.split(" ").filter((t=>!e.classList.contains(t))).filter(Boolean),e.classList.add(...n),()=>{e.classList.remove(...n)};var n}function Ie(e,t){return"object"==typeof t&&null!==t?function(e,t){let n={};return Object.entries(t).forEach((([t,r])=>{n[t]=e.style[t],t.startsWith("--")||(t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),e.style.setProperty(t,r)})),setTimeout((()=>{0===e.style.length&&e.removeAttribute("style")})),()=>{Ie(e,n)}}(e,t):function(e,t){let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}}(e,t)}function Be(e,t=(()=>{})){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}function Fe(e,t,n={}){e._x_transition||(e._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(n=(()=>{}),r=(()=>{})){He(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,r)},out(n=(()=>{}),r=(()=>{})){He(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,r)}})}function Le(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:Le(t)}function He(e,t,{during:n,start:r,end:o}={},i=(()=>{}),s=(()=>{})){if(e._x_transitioning&&e._x_transitioning.cancel(),0===Object.keys(n).length&&0===Object.keys(r).length&&0===Object.keys(o).length)return i(),void s();let a,l,c;!function(e,t){let n,r,o,i=Be((()=>{_((()=>{n=!0,r||t.before(),o||(t.end(),Re()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning}))}));e._x_transitioning={beforeCancels:[],beforeCancel(e){this.beforeCancels.push(e)},cancel:Be((function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();i()})),finish:i},_((()=>{t.start(),t.during()})),Pe=!0,requestAnimationFrame((()=>{if(n)return;let i=1e3*Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s","")),s=1e3*Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""));0===i&&(i=1e3*Number(getComputedStyle(e).animationDuration.replace("s",""))),_((()=>{t.before()})),r=!0,requestAnimationFrame((()=>{n||(_((()=>{t.end()})),Re(),setTimeout(e._x_transitioning.finish,i+s),o=!0)}))}))}(e,{start(){a=t(e,r)},during(){l=t(e,n)},before:i,end(){a(),c=t(e,o)},after:s,cleanup(){l(),c()}})}function ze(e,t,n){if(-1===e.indexOf(t))return n;const r=e[e.indexOf(t)+1];if(!r)return n;if("scale"===t&&isNaN(r))return n;if("duration"===t){let e=r.match(/([0-9]+)ms/);if(e)return e[1]}return"origin"===t&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[r,e[e.indexOf(t)+2]].join(" "):r}Q("transition",((e,{value:t,modifiers:n,expression:r},{evaluate:o})=>{"function"==typeof r&&(r=o(r)),r?function(e,t,n){Fe(e,Ne,""),{enter:t=>{e._x_transition.enter.during=t},"enter-start":t=>{e._x_transition.enter.start=t},"enter-end":t=>{e._x_transition.enter.end=t},leave:t=>{e._x_transition.leave.during=t},"leave-start":t=>{e._x_transition.leave.start=t},"leave-end":t=>{e._x_transition.leave.end=t}}[n](t)}(e,r,t):function(e,t,n){Fe(e,Ie);let r=!t.includes("in")&&!t.includes("out")&&!n,o=r||t.includes("in")||["enter"].includes(n),i=r||t.includes("out")||["leave"].includes(n);t.includes("in")&&!r&&(t=t.filter(((e,n)=>n<t.indexOf("out")))),t.includes("out")&&!r&&(t=t.filter(((e,n)=>n>t.indexOf("out"))));let s=!t.includes("opacity")&&!t.includes("scale"),a=s||t.includes("opacity")?0:1,l=s||t.includes("scale")?ze(t,"scale",95)/100:1,c=ze(t,"delay",0),u=ze(t,"origin","center"),d="opacity, transform",h=ze(t,"duration",150)/1e3,p=ze(t,"duration",75)/1e3,f="cubic-bezier(0.4, 0.0, 0.2, 1)";o&&(e._x_transition.enter.during={transformOrigin:u,transitionDelay:c,transitionProperty:d,transitionDuration:`${h}s`,transitionTimingFunction:f},e._x_transition.enter.start={opacity:a,transform:`scale(${l})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),i&&(e._x_transition.leave.during={transformOrigin:u,transitionDelay:c,transitionProperty:d,transitionDuration:`${p}s`,transitionTimingFunction:f},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:a,transform:`scale(${l})`})}(e,n,t)})),window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,n,r){const o="visible"===document.visibilityState?requestAnimationFrame:setTimeout;let i=()=>o(n);t?e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(n):i():e._x_transition?e._x_transition.in(n):i():(e._x_hidePromise=e._x_transition?new Promise(((t,n)=>{e._x_transition.out((()=>{}),(()=>t(r))),e._x_transitioning.beforeCancel((()=>n({isFromCancelledTransition:!0})))})):Promise.resolve(r),queueMicrotask((()=>{let t=Le(e);t?(t._x_hideChildren||(t._x_hideChildren=[]),t._x_hideChildren.push(e)):o((()=>{let t=e=>{let n=Promise.all([e._x_hidePromise,...(e._x_hideChildren||[]).map(t)]).then((([e])=>e()));return delete e._x_hidePromise,delete e._x_hideChildren,n};t(e).catch((e=>{if(!e.isFromCancelledTransition)throw e}))}))})))};var Ve=!1;function je(e,t=(()=>{})){return(...n)=>Ve?t(...n):e(...n)}function Ue(e,t,n,o=[]){switch(e._x_bindings||(e._x_bindings=r({})),e._x_bindings[t]=n,t=o.includes("camel")?t.toLowerCase().replace(/-(\w)/g,((e,t)=>t.toUpperCase())):t){case"value":!function(e,t){if("radio"===e.type)void 0===e.attributes.value&&(e.value=t),window.fromModel&&(e.checked=Ge(e.value,t));else if("checkbox"===e.type)Number.isInteger(t)?e.value=t:Number.isInteger(t)||Array.isArray(t)||"boolean"==typeof t||[null,void 0].includes(t)?Array.isArray(t)?e.checked=t.some((t=>Ge(t,e.value))):e.checked=!!t:e.value=String(t);else if("SELECT"===e.tagName)!function(e,t){const n=[].concat(t).map((e=>e+""));Array.from(e.options).forEach((e=>{e.selected=n.includes(e.value)}))}(e,t);else{if(e.value===t)return;e.value=t}}(e,n);break;case"style":!function(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=Ie(e,t)}(e,n);break;case"class":!function(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=Ne(e,t)}(e,n);break;default:!function(e,t,n){[null,void 0,!1].includes(n)&&function(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}(t)?e.removeAttribute(t):(qe(t)&&(n=t),function(e,t,n){e.getAttribute(t)!=n&&e.setAttribute(t,n)}(e,t,n))}(e,t,n)}}function Ge(e,t){return e==t}function qe(e){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function We(e,t){var n;return function(){var r=this,o=arguments;clearTimeout(n),n=setTimeout((function(){n=null,e.apply(r,o)}),t)}}function Ze(e,t){let n;return function(){let r=arguments;n||(e.apply(this,r),n=!0,setTimeout((()=>n=!1),t))}}var $e={},Ke=!1,Xe={};function Ye(e,t,n){let r=[];for(;r.length;)r.pop()();let o=Object.entries(t).map((([e,t])=>({name:e,value:t}))),i=te(o);o=o.map((e=>i.find((t=>t.name===e.name))?{name:`x-bind:${e.name}`,value:`"${e.value}"`}:e)),ee(e,o,n).map((e=>{r.push(e.runCleanups),e()}))}var Je={},Qe={get reactive(){return r},get release(){return i},get effect(){return o},get raw(){return s},version:"3.12.0",flushAndStopDeferringMutations:function(){k=!1,M(T),T=[]},dontAutoEvaluateFunctions:function(e){let t=U;U=!1,e(),U=t},disableEffectScheduling:function(e){p=!1,e(),p=!0},startObservingMutations:E,stopObservingMutations:S,setReactivityEngine:function(e){r=e.reactive,i=e.release,o=t=>e.effect(t,{scheduler:e=>{p?function(e){var t;t=e,c.includes(t)||c.push(t),l||a||(a=!0,queueMicrotask(h))}(e):e()}}),s=e.raw},closestDataStack:N,skipDuringClone:je,onlyDuringClone:function(e){return(...t)=>Ve&&e(...t)},addRootSelector:Ee,addInitSelector:Se,addScopeToNode:O,deferMutations:function(){k=!0},mapAttributes:ce,evaluateLater:q,interceptInit:function(e){_e.push(e)},setEvaluator:function(e){W=e},mergeProxies:D,findClosest:Ae,closestRoot:Ce,destroyTree:Te,interceptor:B,transition:He,setStyles:Ie,mutateDom:_,directive:Q,throttle:Ze,debounce:We,evaluate:G,initTree:ke,nextTick:Oe,prefixed:Y,prefix:function(e){X=e},plugin:function(e){e(Qe)},magic:H,store:function(e,t){if(Ke||($e=r($e),Ke=!0),void 0===t)return $e[e];$e[e]=t,"object"==typeof t&&null!==t&&t.hasOwnProperty("init")&&"function"==typeof t.init&&$e[e].init(),I($e[e])},start:function(){var e;document.body||ve("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),me(document,"alpine:init"),me(document,"alpine:initializing"),E(),e=e=>ke(e,ge),v.push(e),y((e=>Te(e))),m.push(((e,t)=>{ee(e,t).forEach((e=>e()))})),Array.from(document.querySelectorAll(xe())).filter((e=>!Ce(e.parentElement,!0))).forEach((e=>{ke(e)})),me(document,"alpine:initialized")},clone:function(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),Ve=!0,function(e){let n=o;f(((e,t)=>{let r=n(e);return i(r),()=>{}})),function(e){let t=!1;ke(e,((e,n)=>{ge(e,((e,r)=>{if(t&&function(e){return we().some((t=>e.matches(t)))}(e))return r();t=!0,n(e,r)}))}))}(t),f(n)}(),Ve=!1},bound:function(e,t,n){if(e._x_bindings&&void 0!==e._x_bindings[t])return e._x_bindings[t];let r=e.getAttribute(t);return null===r?"function"==typeof n?n():n:""===r||(qe(t)?!![t,"true"].includes(r):r)},$data:P,walk:ge,data:function(e,t){Je[e]=t},bind:function(e,t){let n="function"!=typeof t?()=>t:t;e instanceof Element?Ye(e,n()):Xe[e]=n}};function et(e,t){const n=Object.create(null),r=e.split(",");for(let e=0;e<r.length;e++)n[r[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}var tt,nt=Object.freeze({}),rt=(Object.freeze([]),Object.assign),ot=Object.prototype.hasOwnProperty,it=(e,t)=>ot.call(e,t),st=Array.isArray,at=e=>"[object Map]"===dt(e),lt=e=>"symbol"==typeof e,ct=e=>null!==e&&"object"==typeof e,ut=Object.prototype.toString,dt=e=>ut.call(e),ht=e=>dt(e).slice(8,-1),pt=e=>"string"==typeof e&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,ft=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},mt=/-(\w)/g,gt=(ft((e=>e.replace(mt,((e,t)=>t?t.toUpperCase():"")))),/\B([A-Z])/g),vt=(ft((e=>e.replace(gt,"-$1").toLowerCase())),ft((e=>e.charAt(0).toUpperCase()+e.slice(1)))),yt=(ft((e=>e?`on${vt(e)}`:"")),(e,t)=>e!==t&&(e==e||t==t)),bt=new WeakMap,wt=[],xt=Symbol("iterate"),Et=Symbol("Map key iterate"),St=0;function Ct(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var At=!0,_t=[];function kt(){const e=_t.pop();At=void 0===e||e}function Tt(e,t,n){if(!At||void 0===tt)return;let r=bt.get(e);r||bt.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=new Set),o.has(tt)||(o.add(tt),tt.deps.push(o),tt.options.onTrack&&tt.options.onTrack({effect:tt,target:e,type:t,key:n}))}function Mt(e,t,n,r,o,i){const s=bt.get(e);if(!s)return;const a=new Set,l=e=>{e&&e.forEach((e=>{(e!==tt||e.allowRecurse)&&a.add(e)}))};if("clear"===t)s.forEach(l);else if("length"===n&&st(e))s.forEach(((e,t)=>{("length"===t||t>=r)&&l(e)}));else switch(void 0!==n&&l(s.get(n)),t){case"add":st(e)?pt(n)&&l(s.get("length")):(l(s.get(xt)),at(e)&&l(s.get(Et)));break;case"delete":st(e)||(l(s.get(xt)),at(e)&&l(s.get(Et)));break;case"set":at(e)&&l(s.get(xt))}a.forEach((s=>{s.options.onTrigger&&s.options.onTrigger({effect:s,target:e,key:n,type:t,newValue:r,oldValue:o,oldTarget:i}),s.options.scheduler?s.options.scheduler(s):s()}))}var Pt=et("__proto__,__v_isRef,__isVue"),Ot=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(lt)),Rt=Ft(),Nt=Ft(!1,!0),Dt=Ft(!0),It=Ft(!0,!0),Bt={};function Ft(e=!1,t=!1){return function(n,r,o){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_raw"===r&&o===(e?t?pn:hn:t?dn:un).get(n))return n;const i=st(n);if(!e&&i&&it(Bt,r))return Reflect.get(Bt,r,o);const s=Reflect.get(n,r,o);return(lt(r)?Ot.has(r):Pt(r))?s:(e||Tt(n,"get",r),t?s:yn(s)?i&&pt(r)?s:s.value:ct(s)?e?mn(s):fn(s):s)}}function Lt(e=!1){return function(t,n,r,o){let i=t[n];if(!e&&(r=vn(r),i=vn(i),!st(t)&&yn(i)&&!yn(r)))return i.value=r,!0;const s=st(t)&&pt(n)?Number(n)<t.length:it(t,n),a=Reflect.set(t,n,r,o);return t===vn(o)&&(s?yt(r,i)&&Mt(t,"set",n,r,i):Mt(t,"add",n,r)),a}}["includes","indexOf","lastIndexOf"].forEach((e=>{const t=Array.prototype[e];Bt[e]=function(...e){const n=vn(this);for(let e=0,t=this.length;e<t;e++)Tt(n,"get",e+"");const r=t.apply(n,e);return-1===r||!1===r?t.apply(n,e.map(vn)):r}})),["push","pop","shift","unshift","splice"].forEach((e=>{const t=Array.prototype[e];Bt[e]=function(...e){_t.push(At),At=!1;const n=t.apply(this,e);return kt(),n}}));var Ht={get:Rt,set:Lt(),deleteProperty:function(e,t){const n=it(e,t),r=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&Mt(e,"delete",t,void 0,r),o},has:function(e,t){const n=Reflect.has(e,t);return lt(t)&&Ot.has(t)||Tt(e,"has",t),n},ownKeys:function(e){return Tt(e,"iterate",st(e)?"length":xt),Reflect.ownKeys(e)}},zt={get:Dt,set:(e,t)=>(console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0),deleteProperty:(e,t)=>(console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0)},Vt=(rt({},Ht,{get:Nt,set:Lt(!0)}),rt({},zt,{get:It}),e=>ct(e)?fn(e):e),jt=e=>ct(e)?mn(e):e,Ut=e=>e,Gt=e=>Reflect.getPrototypeOf(e);function qt(e,t,n=!1,r=!1){const o=vn(e=e.__v_raw),i=vn(t);t!==i&&!n&&Tt(o,"get",t),!n&&Tt(o,"get",i);const{has:s}=Gt(o),a=r?Ut:n?jt:Vt;return s.call(o,t)?a(e.get(t)):s.call(o,i)?a(e.get(i)):void(e!==o&&e.get(t))}function Wt(e,t=!1){const n=this.__v_raw,r=vn(n),o=vn(e);return e!==o&&!t&&Tt(r,"has",e),!t&&Tt(r,"has",o),e===o?n.has(e):n.has(e)||n.has(o)}function Zt(e,t=!1){return e=e.__v_raw,!t&&Tt(vn(e),"iterate",xt),Reflect.get(e,"size",e)}function $t(e){e=vn(e);const t=vn(this);return Gt(t).has.call(t,e)||(t.add(e),Mt(t,"add",e,e)),this}function Kt(e,t){t=vn(t);const n=vn(this),{has:r,get:o}=Gt(n);let i=r.call(n,e);i?cn(n,r,e):(e=vn(e),i=r.call(n,e));const s=o.call(n,e);return n.set(e,t),i?yt(t,s)&&Mt(n,"set",e,t,s):Mt(n,"add",e,t),this}function Xt(e){const t=vn(this),{has:n,get:r}=Gt(t);let o=n.call(t,e);o?cn(t,n,e):(e=vn(e),o=n.call(t,e));const i=r?r.call(t,e):void 0,s=t.delete(e);return o&&Mt(t,"delete",e,void 0,i),s}function Yt(){const e=vn(this),t=0!==e.size,n=at(e)?new Map(e):new Set(e),r=e.clear();return t&&Mt(e,"clear",void 0,void 0,n),r}function Jt(e,t){return function(n,r){const o=this,i=o.__v_raw,s=vn(i),a=t?Ut:e?jt:Vt;return!e&&Tt(s,"iterate",xt),i.forEach(((e,t)=>n.call(r,a(e),a(t),o)))}}function Qt(e,t,n){return function(...r){const o=this.__v_raw,i=vn(o),s=at(i),a="entries"===e||e===Symbol.iterator&&s,l="keys"===e&&s,c=o[e](...r),u=n?Ut:t?jt:Vt;return!t&&Tt(i,"iterate",l?Et:xt),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function en(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${vt(e)} operation ${n}failed: target is readonly.`,vn(this))}return"delete"!==e&&this}}var tn={get(e){return qt(this,e)},get size(){return Zt(this)},has:Wt,add:$t,set:Kt,delete:Xt,clear:Yt,forEach:Jt(!1,!1)},nn={get(e){return qt(this,e,!1,!0)},get size(){return Zt(this)},has:Wt,add:$t,set:Kt,delete:Xt,clear:Yt,forEach:Jt(!1,!0)},rn={get(e){return qt(this,e,!0)},get size(){return Zt(this,!0)},has(e){return Wt.call(this,e,!0)},add:en("add"),set:en("set"),delete:en("delete"),clear:en("clear"),forEach:Jt(!0,!1)},on={get(e){return qt(this,e,!0,!0)},get size(){return Zt(this,!0)},has(e){return Wt.call(this,e,!0)},add:en("add"),set:en("set"),delete:en("delete"),clear:en("clear"),forEach:Jt(!0,!0)};function sn(e,t){const n=t?e?on:nn:e?rn:tn;return(t,r,o)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(it(n,r)&&r in t?n:t,r,o)}["keys","values","entries",Symbol.iterator].forEach((e=>{tn[e]=Qt(e,!1,!1),rn[e]=Qt(e,!0,!1),nn[e]=Qt(e,!1,!0),on[e]=Qt(e,!0,!0)}));var an={get:sn(!1,!1)},ln=(sn(!1,!0),{get:sn(!0,!1)});function cn(e,t,n){const r=vn(n);if(r!==n&&t.call(e,r)){const t=ht(e);console.warn(`Reactive ${t} contains both the raw and reactive versions of the same object${"Map"===t?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}sn(!0,!0);var un=new WeakMap,dn=new WeakMap,hn=new WeakMap,pn=new WeakMap;function fn(e){return e&&e.__v_isReadonly?e:gn(e,!1,Ht,an,un)}function mn(e){return gn(e,!0,zt,ln,hn)}function gn(e,t,n,r,o){if(!ct(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const s=(a=e).__v_skip||!Object.isExtensible(a)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(ht(a));var a;if(0===s)return e;const l=new Proxy(e,2===s?r:n);return o.set(e,l),l}function vn(e){return e&&vn(e.__v_raw)||e}function yn(e){return Boolean(e&&!0===e.__v_isRef)}H("nextTick",(()=>Oe)),H("dispatch",(e=>me.bind(me,e))),H("watch",((e,{evaluateLater:t,effect:n})=>(r,o)=>{let i,s=t(r),a=!0,l=n((()=>s((e=>{JSON.stringify(e),a?i=e:queueMicrotask((()=>{o(e,i),i=e})),a=!1}))));e._x_effects.delete(l)})),H("store",(function(){return $e})),H("data",(e=>P(e))),H("root",(e=>Ce(e))),H("refs",(e=>(e._x_refs_proxy||(e._x_refs_proxy=D(function(e){let t=[],n=e;for(;n;)n._x_refs&&t.push(n._x_refs),n=n.parentNode;return t}(e))),e._x_refs_proxy)));var bn={};function wn(e){return bn[e]||(bn[e]=0),++bn[e]}function xn(e,t,n){H(t,(t=>ve(`You can't use [$${directiveName}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,t)))}H("id",(e=>(t,n=null)=>{let r=function(e,t){return Ae(e,(e=>{if(e._x_ids&&e._x_ids[t])return!0}))}(e,t),o=r?r._x_ids[t]:wn(t);return n?`${t}-${o}-${n}`:`${t}-${o}`})),H("el",(e=>e)),xn("Focus","focus","focus"),xn("Persist","persist","persist"),Q("modelable",((e,{expression:t},{effect:n,evaluateLater:r,cleanup:s})=>{let a=r(t),l=()=>{let e;return a((t=>e=t)),e},c=r(`${t} = __placeholder`),u=e=>c((()=>{}),{scope:{__placeholder:e}}),d=l();u(d),queueMicrotask((()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let t=e._x_model.get,n=e._x_model.set,r=function({get:e,set:t},{get:n,set:r}){let s,a,l,c,u=!0,d=o((()=>{let o,i;u?(o=e(),r(o),i=n(),u=!1):(o=e(),i=n(),l=JSON.stringify(o),c=JSON.stringify(i),l!==s?(i=n(),r(o),i=o):(t(i),o=i)),s=JSON.stringify(o),a=JSON.stringify(i)}));return()=>{i(d)}}({get:()=>t(),set(e){n(e)}},{get:()=>l(),set(e){u(e)}});s(r)}))}));var En=document.createElement("div");Q("teleport",((e,{modifiers:t,expression:n},{cleanup:r})=>{"template"!==e.tagName.toLowerCase()&&ve("x-teleport can only be used on a <template> tag",e);let o=je((()=>document.querySelector(n)),(()=>En))();o||ve(`Cannot find x-teleport element for selector: "${n}"`);let i=e.content.cloneNode(!0).firstElementChild;e._x_teleport=i,i._x_teleportBack=e,e._x_forwardEvents&&e._x_forwardEvents.forEach((t=>{i.addEventListener(t,(t=>{t.stopPropagation(),e.dispatchEvent(new t.constructor(t.type,t))}))})),O(i,{},e),_((()=>{t.includes("prepend")?o.parentNode.insertBefore(i,o):t.includes("append")?o.parentNode.insertBefore(i,o.nextSibling):o.appendChild(i),ke(i),i._x_ignore=!0})),r((()=>i.remove()))}));var Sn=()=>{};function Cn(e,t,n,r){let o=e,i=e=>r(e),s={},a=(e,t)=>n=>t(e,n);if(n.includes("dot")&&(t=t.replace(/-/g,".")),n.includes("camel")&&(t=t.toLowerCase().replace(/-(\w)/g,((e,t)=>t.toUpperCase()))),n.includes("passive")&&(s.passive=!0),n.includes("capture")&&(s.capture=!0),n.includes("window")&&(o=window),n.includes("document")&&(o=document),n.includes("prevent")&&(i=a(i,((e,t)=>{t.preventDefault(),e(t)}))),n.includes("stop")&&(i=a(i,((e,t)=>{t.stopPropagation(),e(t)}))),n.includes("self")&&(i=a(i,((t,n)=>{n.target===e&&t(n)}))),(n.includes("away")||n.includes("outside"))&&(o=document,i=a(i,((t,n)=>{e.contains(n.target)||!1!==n.target.isConnected&&(e.offsetWidth<1&&e.offsetHeight<1||!1!==e._x_isShown&&t(n))}))),n.includes("once")&&(i=a(i,((e,n)=>{e(n),o.removeEventListener(t,i,s)}))),i=a(i,((e,r)=>{(function(e){return["keydown","keyup"].includes(e)})(t)&&function(e,t){let n=t.filter((e=>!["window","document","prevent","stop","once","capture"].includes(e)));if(n.includes("debounce")){let e=n.indexOf("debounce");n.splice(e,An((n[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.includes("throttle")){let e=n.indexOf("throttle");n.splice(e,An((n[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(0===n.length)return!1;if(1===n.length&&_n(e.key).includes(n[0]))return!1;const r=["ctrl","shift","alt","meta","cmd","super"].filter((e=>n.includes(e)));return n=n.filter((e=>!r.includes(e))),!(r.length>0&&r.filter((t=>("cmd"!==t&&"super"!==t||(t="meta"),e[`${t}Key`]))).length===r.length&&_n(e.key).includes(n[0]))}(r,n)||e(r)})),n.includes("debounce")){let e=n[n.indexOf("debounce")+1]||"invalid-wait",t=An(e.split("ms")[0])?Number(e.split("ms")[0]):250;i=We(i,t)}if(n.includes("throttle")){let e=n[n.indexOf("throttle")+1]||"invalid-wait",t=An(e.split("ms")[0])?Number(e.split("ms")[0]):250;i=Ze(i,t)}return o.addEventListener(t,i,s),()=>{o.removeEventListener(t,i,s)}}function An(e){return!Array.isArray(e)&&!isNaN(e)}function _n(e){if(!e)return[];var t;e=[" ","_"].includes(t=e)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase();let n={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return n[e]=e,Object.keys(n).map((t=>{if(n[t]===e)return t})).filter((e=>e))}function kn(e){let t=e?parseFloat(e):null;return n=t,Array.isArray(n)||isNaN(n)?e:t;var n}function Tn(e){return null!==e&&"object"==typeof e&&"function"==typeof e.get&&"function"==typeof e.set}function Mn(e,t,n,r){let o={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map((e=>e.trim())).forEach(((e,n)=>{o[e]=t[n]})):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&"object"==typeof t?e.item.replace("{","").replace("}","").split(",").map((e=>e.trim())).forEach((e=>{o[e]=t[e]})):o[e.item]=t,e.index&&(o[e.index]=n),e.collection&&(o[e.collection]=r),o}function Pn(){}function On(e,t,n){Q(t,(r=>ve(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r)))}Sn.inline=(e,{modifiers:t},{cleanup:n})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,n((()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore}))},Q("ignore",Sn),Q("effect",((e,{expression:t},{effect:n})=>n(q(e,t)))),Q("model",((e,{modifiers:t,expression:n},{effect:r,cleanup:o})=>{let i=e;t.includes("parent")&&(i=e.parentNode);let s,a=q(i,n);s="string"==typeof n?q(i,`${n} = __placeholder`):"function"==typeof n&&"string"==typeof n()?q(i,`${n()} = __placeholder`):()=>{};let l=()=>{let e;return a((t=>e=t)),Tn(e)?e.get():e},c=e=>{let t;a((e=>t=e)),Tn(t)?t.set(e):s((()=>{}),{scope:{__placeholder:e}})};t.includes("fill")&&e.hasAttribute("value")&&(null===l()||""===l())&&c(e.value),"string"==typeof n&&"radio"===e.type&&_((()=>{e.hasAttribute("name")||e.setAttribute("name",n)}));var u="select"===e.tagName.toLowerCase()||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let d=Ve?()=>{}:Cn(e,u,t,(n=>{c(function(e,t,n,r){return _((()=>{if(n instanceof CustomEvent&&void 0!==n.detail)return void 0!==n.detail?n.detail:n.target.value;if("checkbox"===e.type){if(Array.isArray(r)){let e=t.includes("number")?kn(n.target.value):n.target.value;return n.target.checked?r.concat([e]):r.filter((t=>!(t==e)))}return n.target.checked}if("select"===e.tagName.toLowerCase()&&e.multiple)return t.includes("number")?Array.from(n.target.selectedOptions).map((e=>kn(e.value||e.text))):Array.from(n.target.selectedOptions).map((e=>e.value||e.text));{let e=n.target.value;return t.includes("number")?kn(e):t.includes("trim")?e.trim():e}}))}(e,t,n,l()))}));if(e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=d,o((()=>e._x_removeModelListeners.default())),e.form){let t=Cn(e.form,"reset",[],(t=>{Oe((()=>e._x_model&&e._x_model.set(e.value)))}));o((()=>t()))}e._x_model={get:()=>l(),set(e){c(e)}},e._x_forceModelUpdate=t=>{void 0===(t=void 0===t?l():t)&&"string"==typeof n&&n.match(/\./)&&(t=""),window.fromModel=!0,_((()=>Ue(e,"value",t))),delete window.fromModel},r((()=>{let n=l();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(n)}))})),Q("cloak",(e=>queueMicrotask((()=>_((()=>e.removeAttribute(Y("cloak")))))))),Se((()=>`[${Y("init")}]`)),Q("init",je(((e,{expression:t},{evaluate:n})=>"string"==typeof t?!!t.trim()&&n(t,{},!1):n(t,{},!1)))),Q("text",((e,{expression:t},{effect:n,evaluateLater:r})=>{let o=r(t);n((()=>{o((t=>{_((()=>{e.textContent=t}))}))}))})),Q("html",((e,{expression:t},{effect:n,evaluateLater:r})=>{let o=r(t);n((()=>{o((t=>{_((()=>{e.innerHTML=t,e._x_ignoreSelf=!0,ke(e),delete e._x_ignoreSelf}))}))}))})),ce(se(":",Y("bind:"))),Q("bind",((e,{value:t,modifiers:n,expression:r,original:o},{effect:i})=>{if(!t){let t={};return s=t,Object.entries(Xe).forEach((([e,t])=>{Object.defineProperty(s,e,{get:()=>(...e)=>t(...e)})})),void q(e,r)((t=>{Ye(e,t,o)}),{scope:t})}var s;if("key"===t)return function(e,t){e._x_keyExpression=t}(e,r);let a=q(e,r);i((()=>a((o=>{void 0===o&&"string"==typeof r&&r.match(/\./)&&(o=""),_((()=>Ue(e,t,o,n)))}))))})),Ee((()=>`[${Y("data")}]`)),Q("data",je(((e,{expression:t},{cleanup:n})=>{t=""===t?"{}":t;let o={};z(o,e);let i={};var s,a;s=i,a=o,Object.entries(Je).forEach((([e,t])=>{Object.defineProperty(s,e,{get:()=>(...e)=>t.bind(a)(...e),enumerable:!1})}));let l=G(e,t,{scope:i});void 0!==l&&!0!==l||(l={}),z(l,e);let c=r(l);I(c);let u=O(e,c);c.init&&G(e,c.init),n((()=>{c.destroy&&G(e,c.destroy),u()}))}))),Q("show",((e,{modifiers:t,expression:n},{effect:r})=>{let o=q(e,n);e._x_doHide||(e._x_doHide=()=>{_((()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)}))}),e._x_doShow||(e._x_doShow=()=>{_((()=>{1===e.style.length&&"none"===e.style.display?e.removeAttribute("style"):e.style.removeProperty("display")}))});let i,s=()=>{e._x_doHide(),e._x_isShown=!1},a=()=>{e._x_doShow(),e._x_isShown=!0},l=()=>setTimeout(a),c=Be((e=>e?a():s()),(t=>{"function"==typeof e._x_toggleAndCascadeWithTransitions?e._x_toggleAndCascadeWithTransitions(e,t,a,s):t?l():s()})),u=!0;r((()=>o((e=>{(u||e!==i)&&(t.includes("immediate")&&(e?l():s()),c(e),i=e,u=!1)}))))})),Q("for",((e,{expression:t},{effect:n,cleanup:o})=>{let i=function(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=e.match(/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/);if(!n)return;let r={};r.items=n[2].trim();let o=n[1].replace(/^\s*\(|\)\s*$/g,"").trim(),i=o.match(t);return i?(r.item=o.replace(t,"").trim(),r.index=i[1].trim(),i[2]&&(r.collection=i[2].trim())):r.item=o,r}(t),s=q(e,i.items),a=q(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},n((()=>function(e,t,n,o){let i=e;n((n=>{var s;s=n,!Array.isArray(s)&&!isNaN(s)&&n>=0&&(n=Array.from(Array(n).keys(),(e=>e+1))),void 0===n&&(n=[]);let a=e._x_lookup,l=e._x_prevKeys,c=[],u=[];if("object"!=typeof(h=n)||Array.isArray(h))for(let e=0;e<n.length;e++){let r=Mn(t,n[e],e,n);o((e=>u.push(e)),{scope:{index:e,...r}}),c.push(r)}else n=Object.entries(n).map((([e,r])=>{let i=Mn(t,r,e,n);o((e=>u.push(e)),{scope:{index:e,...i}}),c.push(i)}));var h;let p=[],f=[],m=[],g=[];for(let e=0;e<l.length;e++){let t=l[e];-1===u.indexOf(t)&&m.push(t)}l=l.filter((e=>!m.includes(e)));let v="template";for(let e=0;e<u.length;e++){let t=u[e],n=l.indexOf(t);if(-1===n)l.splice(e,0,t),p.push([v,e]);else if(n!==e){let t=l.splice(e,1)[0],r=l.splice(n-1,1)[0];l.splice(e,0,r),l.splice(n,0,t),f.push([t,r])}else g.push(t);v=t}for(let e=0;e<m.length;e++){let t=m[e];a[t]._x_effects&&a[t]._x_effects.forEach(d),a[t].remove(),a[t]=null,delete a[t]}for(let e=0;e<f.length;e++){let[t,n]=f[e],r=a[t],o=a[n],i=document.createElement("div");_((()=>{o.after(i),r.after(o),o._x_currentIfEl&&o.after(o._x_currentIfEl),i.before(r),r._x_currentIfEl&&r.after(r._x_currentIfEl),i.remove()})),R(o,c[u.indexOf(n)])}for(let e=0;e<p.length;e++){let[t,n]=p[e],o="template"===t?i:a[t];o._x_currentIfEl&&(o=o._x_currentIfEl);let s=c[n],l=u[n],d=document.importNode(i.content,!0).firstElementChild;O(d,r(s),i),_((()=>{o.after(d),ke(d)})),"object"==typeof l&&ve("x-for key cannot be an object, it must be a string or an integer",i),a[l]=d}for(let e=0;e<g.length;e++)R(a[g[e]],c[u.indexOf(g[e])]);i._x_prevKeys=u}))}(e,i,s,a))),o((()=>{Object.values(e._x_lookup).forEach((e=>e.remove())),delete e._x_prevKeys,delete e._x_lookup}))})),Pn.inline=(e,{expression:t},{cleanup:n})=>{let r=Ce(e);r._x_refs||(r._x_refs={}),r._x_refs[t]=e,n((()=>delete r._x_refs[t]))},Q("ref",Pn),Q("if",((e,{expression:t},{effect:n,cleanup:r})=>{let o=q(e,t);n((()=>o((t=>{t?(()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let t=e.content.cloneNode(!0).firstElementChild;O(t,{},e),_((()=>{e.after(t),ke(t)})),e._x_currentIfEl=t,e._x_undoIf=()=>{ge(t,(e=>{e._x_effects&&e._x_effects.forEach(d)})),t.remove(),delete e._x_currentIfEl}})():e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)})))),r((()=>e._x_undoIf&&e._x_undoIf()))})),Q("id",((e,{expression:t},{evaluate:n})=>{n(t).forEach((t=>function(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=wn(t))}(e,t)))})),ce(se("@",Y("on:"))),Q("on",je(((e,{value:t,modifiers:n,expression:r},{cleanup:o})=>{let i=r?q(e,r):()=>{};"template"===e.tagName.toLowerCase()&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let s=Cn(e,t,n,(e=>{i((()=>{}),{scope:{$event:e},params:[e]})}));o((()=>s()))}))),On("Collapse","collapse","collapse"),On("Intersect","intersect","intersect"),On("Focus","trap","focus"),On("Mask","mask","mask"),Qe.setEvaluator(Z),Qe.setReactivityEngine({reactive:fn,effect:function(e,t=nt){(function(e){return e&&!0===e._isEffect})(e)&&(e=e.raw);const n=function(e,t){const n=function(){if(!n.active)return e();if(!wt.includes(n)){Ct(n);try{return _t.push(At),At=!0,wt.push(n),tt=n,e()}finally{wt.pop(),kt(),tt=wt[wt.length-1]}}};return n.id=St++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}(e,t);return t.lazy||n(),n},release:function(e){e.active&&(Ct(e),e.options.onStop&&e.options.onStop(),e.active=!1)},raw:vn});var Rn=Qe},3666:(e,t,n)=>{"use strict";n.d(t,{Z:()=>re});var r={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},o={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},i=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],s={CSS:{},springs:{}};function a(e,t,n){return Math.min(Math.max(e,t),n)}function l(e,t){return e.indexOf(t)>-1}function c(e,t){return e.apply(null,t)}var u={arr:function(e){return Array.isArray(e)},obj:function(e){return l(Object.prototype.toString.call(e),"Object")},pth:function(e){return u.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||u.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return u.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return u.hex(e)||u.rgb(e)||u.hsl(e)},key:function(e){return!r.hasOwnProperty(e)&&!o.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function d(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function h(e,t){var n=d(e),r=a(u.und(n[0])?1:n[0],.1,100),o=a(u.und(n[1])?100:n[1],.1,100),i=a(u.und(n[2])?10:n[2],.1,100),l=a(u.und(n[3])?0:n[3],.1,100),c=Math.sqrt(o/r),h=i/(2*Math.sqrt(o*r)),p=h<1?c*Math.sqrt(1-h*h):0,f=1,m=h<1?(h*c-l)/p:-l+c;function g(e){var n=t?t*e/1e3:e;return n=h<1?Math.exp(-n*h*c)*(f*Math.cos(p*n)+m*Math.sin(p*n)):(f+m*n)*Math.exp(-n*c),0===e||1===e?e:1-n}return t?g:function(){var t=s.springs[e];if(t)return t;for(var n=1/6,r=0,o=0;;)if(1===g(r+=n)){if(++o>=16)break}else o=0;var i=r*n*1e3;return s.springs[e]=i,i}}function p(e){return void 0===e&&(e=10),function(t){return Math.ceil(a(t,1e-6,1)*e)*(1/e)}}var f,m,g=function(){var e=.1;function t(e,t){return 1-3*t+3*e}function n(e,t){return 3*t-6*e}function r(e){return 3*e}function o(e,o,i){return((t(o,i)*e+n(o,i))*e+r(o))*e}function i(e,o,i){return 3*t(o,i)*e*e+2*n(o,i)*e+r(o)}return function(t,n,r,s){if(0<=t&&t<=1&&0<=r&&r<=1){var a=new Float32Array(11);if(t!==n||r!==s)for(var l=0;l<11;++l)a[l]=o(l*e,t,r);return function(l){return t===n&&r===s||0===l||1===l?l:o(function(n){for(var s=0,l=1,c=10;l!==c&&a[l]<=n;++l)s+=e;--l;var u=s+(n-a[l])/(a[l+1]-a[l])*e,d=i(u,t,r);return d>=.001?function(e,t,n,r){for(var s=0;s<4;++s){var a=i(t,n,r);if(0===a)return t;t-=(o(t,n,r)-e)/a}return t}(n,u,t,r):0===d?u:function(e,t,n,r,i){var s,a,l=0;do{(s=o(a=t+(n-t)/2,r,i)-e)>0?n=a:t=a}while(Math.abs(s)>1e-7&&++l<10);return a}(n,s,s+e,t,r)}(l),n,s)}}}}(),v=(f={linear:function(){return function(e){return e}}},m={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=a(e,1,10),r=a(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-r/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/r)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){m[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(m).forEach((function(e){var t=m[e];f["easeIn"+e]=t,f["easeOut"+e]=function(e,n){return function(r){return 1-t(e,n)(1-r)}},f["easeInOut"+e]=function(e,n){return function(r){return r<.5?t(e,n)(2*r)/2:1-t(e,n)(-2*r+2)/2}},f["easeOutIn"+e]=function(e,n){return function(r){return r<.5?(1-t(e,n)(1-2*r))/2:(t(e,n)(2*r-1)+1)/2}}})),f);function y(e,t){if(u.fnc(e))return e;var n=e.split("(")[0],r=v[n],o=d(e);switch(n){case"spring":return h(e,t);case"cubicBezier":return c(g,o);case"steps":return c(p,o);default:return c(r,o)}}function b(e){try{return document.querySelectorAll(e)}catch(e){return}}function w(e,t){for(var n=e.length,r=arguments.length>=2?arguments[1]:void 0,o=[],i=0;i<n;i++)if(i in e){var s=e[i];t.call(r,s,i,e)&&o.push(s)}return o}function x(e){return e.reduce((function(e,t){return e.concat(u.arr(t)?x(t):t)}),[])}function E(e){return u.arr(e)?e:(u.str(e)&&(e=b(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function S(e,t){return e.some((function(e){return e===t}))}function C(e){var t={};for(var n in e)t[n]=e[n];return t}function A(e,t){var n=C(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function _(e,t){var n=C(e);for(var r in t)n[r]=u.und(e[r])?t[r]:e[r];return n}function k(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function T(e,t){return u.fnc(e)?e(t.target,t.id,t.total):e}function M(e,t){return e.getAttribute(t)}function P(e,t,n){if(S([n,"deg","rad","turn"],k(t)))return t;var r=s.CSS[t+n];if(!u.und(r))return r;var o=document.createElement(e.tagName),i=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;i.appendChild(o),o.style.position="absolute",o.style.width=100+n;var a=100/o.offsetWidth;i.removeChild(o);var l=a*parseFloat(t);return s.CSS[t+n]=l,l}function O(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?P(e,o,n):o}}function R(e,t){return u.dom(e)&&!u.inp(e)&&(!u.nil(M(e,t))||u.svg(e)&&e[t])?"attribute":u.dom(e)&&S(i,t)?"transform":u.dom(e)&&"transform"!==t&&O(e,t)?"css":null!=e[t]?"object":void 0}function N(e){if(u.dom(e)){for(var t,n=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,o=new Map;t=r.exec(n);)o.set(t[1],t[2]);return o}}function D(e,t,n,r){switch(R(e,t)){case"transform":return function(e,t,n,r){var o=l(t,"scale")?1:0+function(e){return l(e,"translate")||"perspective"===e?"px":l(e,"rotate")||l(e,"skew")?"deg":void 0}(t),i=N(e).get(t)||o;return n&&(n.transforms.list.set(t,i),n.transforms.last=t),r?P(e,i,r):i}(e,t,r,n);case"css":return O(e,t,n);case"attribute":return M(e,t);default:return e[t]||0}}function I(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var r=k(e)||0,o=parseFloat(t),i=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return o+i+r;case"-":return o-i+r;case"*":return o*i+r}}function B(e,t){if(u.col(e))return function(e){return u.rgb(e)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+n[1]+",1)":t:u.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(e):u.hsl(e)?function(e){var t,n,r,o=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),i=parseInt(o[1],10)/360,s=parseInt(o[2],10)/100,a=parseInt(o[3],10)/100,l=o[4]||1;function c(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==s)t=n=r=a;else{var u=a<.5?a*(1+s):a+s-a*s,d=2*a-u;t=c(d,u,i+1/3),n=c(d,u,i),r=c(d,u,i-1/3)}return"rgba("+255*t+","+255*n+","+255*r+","+l+")"}(e):void 0;var t,n}(e);if(/\s/g.test(e))return e;var n=k(e),r=n?e.substr(0,e.length-n.length):e;return t?r+t:r}function F(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function L(e){for(var t,n=e.points,r=0,o=0;o<n.numberOfItems;o++){var i=n.getItem(o);o>0&&(r+=F(t,i)),t=i}return r}function H(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*M(e,"r")}(e);case"rect":return function(e){return 2*M(e,"width")+2*M(e,"height")}(e);case"line":return function(e){return F({x:M(e,"x1"),y:M(e,"y1")},{x:M(e,"x2"),y:M(e,"y2")})}(e);case"polyline":return L(e);case"polygon":return function(e){var t=e.points;return L(e)+F(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function z(e,t){var n=t||{},r=n.el||function(e){for(var t=e.parentNode;u.svg(t)&&u.svg(t.parentNode);)t=t.parentNode;return t}(e),o=r.getBoundingClientRect(),i=M(r,"viewBox"),s=o.width,a=o.height,l=n.viewBox||(i?i.split(" "):[0,0,s,a]);return{el:r,viewBox:l,x:l[0]/1,y:l[1]/1,w:s,h:a,vW:l[2],vH:l[3]}}function V(e,t,n){function r(n){void 0===n&&(n=0);var r=t+n>=1?t+n:0;return e.el.getPointAtLength(r)}var o=z(e.el,e.svg),i=r(),s=r(-1),a=r(1),l=n?1:o.w/o.vW,c=n?1:o.h/o.vH;switch(e.property){case"x":return(i.x-o.x)*l;case"y":return(i.y-o.y)*c;case"angle":return 180*Math.atan2(a.y-s.y,a.x-s.x)/Math.PI}}function j(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=B(u.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:u.str(e)||t?r.split(n):[]}}function U(e){return w(e?x(u.arr(e)?e.map(E):E(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function G(e){var t=U(e);return t.map((function(e,n){return{target:e,id:n,total:t.length,transforms:{list:N(e)}}}))}function q(e,t){var n=C(t);if(/^spring/.test(n.easing)&&(n.duration=h(n.easing)),u.arr(e)){var r=e.length;2!==r||u.obj(e[0])?u.fnc(t.duration)||(n.duration=t.duration/r):e={value:e}}var o=u.arr(e)?e:[e];return o.map((function(e,n){var r=u.obj(e)&&!u.pth(e)?e:{value:e};return u.und(r.delay)&&(r.delay=n?0:t.delay),u.und(r.endDelay)&&(r.endDelay=n===o.length-1?t.endDelay:0),r})).map((function(e){return _(e,n)}))}var W={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,o){if(r.list.set(t,n),t===r.last||o){var i="";r.list.forEach((function(e,t){i+=t+"("+e+") "})),e.style.transform=i}}};function Z(e,t){G(e).forEach((function(e){for(var n in t){var r=T(t[n],e),o=e.target,i=k(r),s=D(o,n,i,e),a=I(B(r,i||k(s)),s),l=R(o,n);W[l](o,n,a,e.transforms,!0)}}))}function $(e,t){return w(x(e.map((function(e){return t.map((function(t){return function(e,t){var n=R(e.target,t.name);if(n){var r=function(e,t){var n;return e.tweens.map((function(r){var o=function(e,t){var n={};for(var r in e){var o=T(e[r],t);u.arr(o)&&1===(o=o.map((function(e){return T(e,t)}))).length&&(o=o[0]),n[r]=o}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(r,t),i=o.value,s=u.arr(i)?i[1]:i,a=k(s),l=D(t.target,e.name,a,t),c=n?n.to.original:l,d=u.arr(i)?i[0]:c,h=k(d)||k(l),p=a||h;return u.und(s)&&(s=c),o.from=j(d,p),o.to=j(I(s,d),p),o.start=n?n.end:0,o.end=o.start+o.delay+o.duration+o.endDelay,o.easing=y(o.easing,o.duration),o.isPath=u.pth(i),o.isPathTargetInsideSVG=o.isPath&&u.svg(t.target),o.isColor=u.col(o.from.original),o.isColor&&(o.round=1),n=o,o}))}(t,e),o=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:o.end,delay:r[0].delay,endDelay:o.endDelay}}}(e,t)}))}))),(function(e){return!u.und(e)}))}function K(e,t){var n=e.length,r=function(e){return e.timelineOffset?e.timelineOffset:0},o={};return o.duration=n?Math.max.apply(Math,e.map((function(e){return r(e)+e.duration}))):t.duration,o.delay=n?Math.min.apply(Math,e.map((function(e){return r(e)+e.delay}))):t.delay,o.endDelay=n?o.duration-Math.max.apply(Math,e.map((function(e){return r(e)+e.duration-e.endDelay}))):t.endDelay,o}var X=0,Y=[],J=function(){var e;function t(n){for(var r=Y.length,o=0;o<r;){var i=Y[o];i.paused?(Y.splice(o,1),r--):(i.tick(n),o++)}e=o>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){ee.suspendWhenDocumentHidden&&(Q()?e=cancelAnimationFrame(e):(Y.forEach((function(e){return e._onDocumentVisibility()})),J()))})),function(){e||Q()&&ee.suspendWhenDocumentHidden||!(Y.length>0)||(e=requestAnimationFrame(t))}}();function Q(){return!!document&&document.hidden}function ee(e){void 0===e&&(e={});var t,n=0,i=0,s=0,l=0,c=null;function d(e){var t=window.Promise&&new Promise((function(e){return c=e}));return e.finished=t,t}var h=function(e){var t=A(r,e),n=A(o,e),i=function(e,t){var n=[],r=t.keyframes;for(var o in r&&(t=_(function(e){for(var t=w(x(e.map((function(e){return Object.keys(e)}))),(function(e){return u.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),n={},r=function(r){var o=t[r];n[o]=e.map((function(e){var t={};for(var n in e)u.key(n)?n==o&&(t.value=e[n]):t[n]=e[n];return t}))},o=0;o<t.length;o++)r(o);return n}(r),t)),t)u.key(o)&&n.push({name:o,tweens:q(t[o],e)});return n}(n,e),s=G(e.targets),a=$(s,i),l=K(a,n),c=X;return X++,_(t,{id:c,children:[],animatables:s,animations:a,duration:l.duration,delay:l.delay,endDelay:l.endDelay})}(e);function p(){var e=h.direction;"alternate"!==e&&(h.direction="normal"!==e?"normal":"reverse"),h.reversed=!h.reversed,t.forEach((function(e){return e.reversed=h.reversed}))}function f(e){return h.reversed?h.duration-e:e}function m(){n=0,i=f(h.currentTime)*(1/ee.speed)}function g(e,t){t&&t.seek(e-t.timelineOffset)}function v(e){for(var t=0,n=h.animations,r=n.length;t<r;){var o=n[t],i=o.animatable,s=o.tweens,l=s.length-1,c=s[l];l&&(c=w(s,(function(t){return e<t.end}))[0]||c);for(var u=a(e-c.start-c.delay,0,c.duration)/c.duration,d=isNaN(u)?1:c.easing(u),p=c.to.strings,f=c.round,m=[],g=c.to.numbers.length,v=void 0,y=0;y<g;y++){var b=void 0,x=c.to.numbers[y],E=c.from.numbers[y]||0;b=c.isPath?V(c.value,d*x,c.isPathTargetInsideSVG):E+d*(x-E),f&&(c.isColor&&y>2||(b=Math.round(b*f)/f)),m.push(b)}var S=p.length;if(S){v=p[0];for(var C=0;C<S;C++){p[C];var A=p[C+1],_=m[C];isNaN(_)||(v+=A?_+A:_+" ")}}else v=m[0];W[o.type](i.target,o.property,v,i.transforms),o.currentValue=v,t++}}function y(e){h[e]&&!h.passThrough&&h[e](h)}function b(e){var r=h.duration,o=h.delay,u=r-h.endDelay,m=f(e);h.progress=a(m/r*100,0,100),h.reversePlayback=m<h.currentTime,t&&function(e){if(h.reversePlayback)for(var n=l;n--;)g(e,t[n]);else for(var r=0;r<l;r++)g(e,t[r])}(m),!h.began&&h.currentTime>0&&(h.began=!0,y("begin")),!h.loopBegan&&h.currentTime>0&&(h.loopBegan=!0,y("loopBegin")),m<=o&&0!==h.currentTime&&v(0),(m>=u&&h.currentTime!==r||!r)&&v(r),m>o&&m<u?(h.changeBegan||(h.changeBegan=!0,h.changeCompleted=!1,y("changeBegin")),y("change"),v(m)):h.changeBegan&&(h.changeCompleted=!0,h.changeBegan=!1,y("changeComplete")),h.currentTime=a(m,0,r),h.began&&y("update"),e>=r&&(i=0,h.remaining&&!0!==h.remaining&&h.remaining--,h.remaining?(n=s,y("loopComplete"),h.loopBegan=!1,"alternate"===h.direction&&p()):(h.paused=!0,h.completed||(h.completed=!0,y("loopComplete"),y("complete"),!h.passThrough&&"Promise"in window&&(c(),d(h)))))}return d(h),h.reset=function(){var e=h.direction;h.passThrough=!1,h.currentTime=0,h.progress=0,h.paused=!0,h.began=!1,h.loopBegan=!1,h.changeBegan=!1,h.completed=!1,h.changeCompleted=!1,h.reversePlayback=!1,h.reversed="reverse"===e,h.remaining=h.loop,t=h.children;for(var n=l=t.length;n--;)h.children[n].reset();(h.reversed&&!0!==h.loop||"alternate"===e&&1===h.loop)&&h.remaining++,v(h.reversed?h.duration:0)},h._onDocumentVisibility=m,h.set=function(e,t){return Z(e,t),h},h.tick=function(e){s=e,n||(n=s),b((s+(i-n))*ee.speed)},h.seek=function(e){b(f(e))},h.pause=function(){h.paused=!0,m()},h.play=function(){h.paused&&(h.completed&&h.reset(),h.paused=!1,Y.push(h),m(),J())},h.reverse=function(){p(),h.completed=!h.reversed,m()},h.restart=function(){h.reset(),h.play()},h.remove=function(e){ne(U(e),h)},h.reset(),h.autoplay&&h.play(),h}function te(e,t){for(var n=t.length;n--;)S(e,t[n].animatable.target)&&t.splice(n,1)}function ne(e,t){var n=t.animations,r=t.children;te(e,n);for(var o=r.length;o--;){var i=r[o],s=i.animations;te(e,s),s.length||i.children.length||r.splice(o,1)}n.length||r.length||t.pause()}ee.version="3.2.1",ee.speed=1,ee.suspendWhenDocumentHidden=!0,ee.running=Y,ee.remove=function(e){for(var t=U(e),n=Y.length;n--;)ne(t,Y[n])},ee.get=D,ee.set=Z,ee.convertPx=P,ee.path=function(e,t){var n=u.str(e)?b(e)[0]:e,r=t||100;return function(e){return{property:e,el:n,svg:z(n),totalLength:H(n)*(r/100)}}},ee.setDashoffset=function(e){var t=H(e);return e.setAttribute("stroke-dasharray",t),t},ee.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",r=t.easing?y(t.easing):null,o=t.grid,i=t.axis,s=t.from||0,a="first"===s,l="center"===s,c="last"===s,d=u.arr(e),h=d?parseFloat(e[0]):parseFloat(e),p=d?parseFloat(e[1]):0,f=k(d?e[1]:e)||0,m=t.start||0+(d?h:0),g=[],v=0;return function(e,t,u){if(a&&(s=0),l&&(s=(u-1)/2),c&&(s=u-1),!g.length){for(var y=0;y<u;y++){if(o){var b=l?(o[0]-1)/2:s%o[0],w=l?(o[1]-1)/2:Math.floor(s/o[0]),x=b-y%o[0],E=w-Math.floor(y/o[0]),S=Math.sqrt(x*x+E*E);"x"===i&&(S=-x),"y"===i&&(S=-E),g.push(S)}else g.push(Math.abs(s-y));v=Math.max.apply(Math,g)}r&&(g=g.map((function(e){return r(e/v)*v}))),"reverse"===n&&(g=g.map((function(e){return i?e<0?-1*e:-e:Math.abs(v-e)})))}return m+(d?(p-h)/v:h)*(Math.round(100*g[t])/100)+f}},ee.timeline=function(e){void 0===e&&(e={});var t=ee(e);return t.duration=0,t.add=function(n,r){var i=Y.indexOf(t),s=t.children;function a(e){e.passThrough=!0}i>-1&&Y.splice(i,1);for(var l=0;l<s.length;l++)a(s[l]);var c=_(n,A(o,e));c.targets=c.targets||e.targets;var d=t.duration;c.autoplay=!1,c.direction=t.direction,c.timelineOffset=u.und(r)?d:I(r,d),a(t),t.seek(c.timelineOffset);var h=ee(c);a(h),s.push(h);var p=K(s,e);return t.delay=p.delay,t.endDelay=p.endDelay,t.duration=p.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},ee.easing=y,ee.penner=v,ee.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};const re=ee},4559:(e,t,n)=>{e.exports=n(9335)},1786:(e,t,n)=>{"use strict";var r=n(8266),o=n(5608),i=n(159),s=n(9568),a=n(3943),l=n(8201),c=n(1745),u=n(4765),d=n(2477),h=n(4132),p=n(4392);e.exports=function(e){return new Promise((function(t,n){var f,m=e.data,g=e.headers,v=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}r.isFormData(m)&&r.isStandardBrowserEnv()&&delete g["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",x=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(w+":"+x)}var E=a(e.baseURL,e.url);function S(){if(b){var r="getAllResponseHeaders"in b?l(b.getAllResponseHeaders()):null,i={data:v&&"text"!==v&&"json"!==v?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:r,config:e,request:b};o((function(e){t(e),y()}),(function(e){n(e),y()}),i),b=null}}if(b.open(e.method.toUpperCase(),s(E,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=S:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(S)},b.onabort=function(){b&&(n(new d("Request aborted",d.ECONNABORTED,e,b)),b=null)},b.onerror=function(){n(new d("Network Error",d.ERR_NETWORK,e,b,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||u;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new d(t,r.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,e,b)),b=null},r.isStandardBrowserEnv()){var C=(e.withCredentials||c(E))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;C&&(g[e.xsrfHeaderName]=C)}"setRequestHeader"in b&&r.forEach(g,(function(e,t){void 0===m&&"content-type"===t.toLowerCase()?delete g[t]:b.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),v&&"json"!==v&&(b.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(e){b&&(n(!e||e&&e.type?new h:e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),m||(m=null);var A=p(E);A&&-1===["http","https","file"].indexOf(A)?n(new d("Unsupported protocol "+A+":",d.ERR_BAD_REQUEST,e)):b.send(m)}))}},9335:(e,t,n)=>{"use strict";var r=n(8266),o=n(4345),i=n(7929),s=n(650),a=function e(t){var n=new i(t),a=o(i.prototype.request,n);return r.extend(a,i.prototype,n),r.extend(a,n),a.create=function(n){return e(s(t,n))},a}(n(3101));a.Axios=i,a.CanceledError=n(4132),a.CancelToken=n(7510),a.isCancel=n(8825),a.VERSION=n(992).version,a.toFormData=n(2011),a.AxiosError=n(2477),a.Cancel=a.CanceledError,a.all=function(e){return Promise.all(e)},a.spread=n(4346),a.isAxiosError=n(3276),e.exports=a,e.exports.default=a},7510:(e,t,n)=>{"use strict";var r=n(4132);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},4132:(e,t,n)=>{"use strict";var r=n(2477);function o(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(8266).inherits(o,r,{__CANCEL__:!0}),e.exports=o},8825:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},7929:(e,t,n)=>{"use strict";var r=n(8266),o=n(9568),i=n(6252),s=n(6029),a=n(650),l=n(3943),c=n(123),u=c.validators;function d(e){this.defaults=e,this.interceptors={request:new i,response:new i}}d.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var i,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!o){var d=[s,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(l),i=Promise.resolve(t);d.length;)i=i.then(d.shift(),d.shift());return i}for(var h=t;r.length;){var p=r.shift(),f=r.shift();try{h=p(h)}catch(e){f(e);break}}try{i=s(h)}catch(e){return Promise.reject(e)}for(;l.length;)i=i.then(l.shift(),l.shift());return i},d.prototype.getUri=function(e){e=a(this.defaults,e);var t=l(e.baseURL,e.url);return o(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(a(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}d.prototype[e]=t(),d.prototype[e+"Form"]=t(!0)})),e.exports=d},2477:(e,t,n)=>{"use strict";var r=n(8266);function o(e,t,n,r,o){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}r.inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var i=o.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){s[e]={value:e}})),Object.defineProperties(o,s),Object.defineProperty(i,"isAxiosError",{value:!0}),o.from=function(e,t,n,s,a,l){var c=Object.create(i);return r.toFlatObject(e,c,(function(e){return e!==Error.prototype})),o.call(c,e.message,t,n,s,a),c.name=e.name,l&&Object.assign(c,l),c},e.exports=o},6252:(e,t,n)=>{"use strict";var r=n(8266);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},3943:(e,t,n)=>{"use strict";var r=n(406),o=n(5027);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},6029:(e,t,n)=>{"use strict";var r=n(8266),o=n(2661),i=n(8825),s=n(3101),a=n(4132);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return l(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(l(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},650:(e,t,n)=>{"use strict";var r=n(8266);e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function i(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function s(e){if(!r.isUndefined(t[e]))return o(void 0,t[e])}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function l(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||i,o=t(e);r.isUndefined(o)&&t!==l||(n[e]=o)})),n}},5608:(e,t,n)=>{"use strict";var r=n(2477);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},2661:(e,t,n)=>{"use strict";var r=n(8266),o=n(3101);e.exports=function(e,t,n){var i=this||o;return r.forEach(n,(function(n){e=n.call(i,e,t)})),e}},3101:(e,t,n)=>{"use strict";var r=n(8266),o=n(1490),i=n(2477),s=n(4765),a=n(2011),l={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,d={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(u=n(1786)),u),transformRequest:[function(e,t){if(o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,i=r.isObject(e),s=t&&t["Content-Type"];if((n=r.isFileList(e))||i&&"multipart/form-data"===s){var l=this.env&&this.env.FormData;return a(n?{"files[]":e}:e,l&&new l)}return i||"application/json"===s?(c(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw i.from(e,i.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(4689)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){d.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){d.headers[e]=r.merge(l)})),e.exports=d},4765:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},992:e=>{e.exports={version:"0.27.2"}},4345:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9568:(e,t,n)=>{"use strict";var r=n(8266);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))})))})),i=s.join("&")}if(i){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},5027:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},159:(e,t,n)=>{"use strict";var r=n(8266);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},406:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},3276:(e,t,n)=>{"use strict";var r=n(8266);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},1745:(e,t,n)=>{"use strict";var r=n(8266);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},1490:(e,t,n)=>{"use strict";var r=n(8266);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},4689:e=>{e.exports=null},8201:(e,t,n)=>{"use strict";var r=n(8266),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,s={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},4392:e=>{"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},4346:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},2011:(e,t,n)=>{"use strict";var r=n(8266);e.exports=function(e,t){t=t||new FormData;var n=[];function o(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(i,s){if(r.isPlainObject(i)||r.isArray(i)){if(-1!==n.indexOf(i))throw Error("Circular reference detected in "+s);n.push(i),r.forEach(i,(function(n,i){if(!r.isUndefined(n)){var a,l=s?s+"."+i:i;if(n&&!s&&"object"==typeof n)if(r.endsWith(i,"{}"))n=JSON.stringify(n);else if(r.endsWith(i,"[]")&&(a=r.toArray(n)))return void a.forEach((function(e){!r.isUndefined(e)&&t.append(l,o(e))}));e(n,l)}})),n.pop()}else t.append(s,o(i))}(e),t}},123:(e,t,n)=>{"use strict";var r=n(992).version,o=n(2477),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var s={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new o(i(r," has been removed"+(t?" in "+t:"")),o.ERR_DEPRECATED);return t&&!s[r]&&(s[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new o("options must be an object",o.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var s=r[i],a=t[s];if(a){var l=e[s],c=void 0===l||a(l,s,e);if(!0!==c)throw new o("option "+s+" must be "+c,o.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new o("Unknown option "+s,o.ERR_BAD_OPTION)}},validators:i}},8266:(e,t,n)=>{"use strict";var r,o=n(4345),i=Object.prototype.toString,s=(r=Object.create(null),function(e){var t=i.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function a(e){return e=e.toLowerCase(),function(t){return s(t)===e}}function l(e){return Array.isArray(e)}function c(e){return void 0===e}var u=a("ArrayBuffer");function d(e){return null!==e&&"object"==typeof e}function h(e){if("object"!==s(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var p=a("Date"),f=a("File"),m=a("Blob"),g=a("FileList");function v(e){return"[object Function]"===i.call(e)}var y=a("URLSearchParams");function b(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),l(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var w,x=(w="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return w&&e instanceof w});e.exports={isArray:l,isArrayBuffer:u,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||i.call(e)===t||v(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&u(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:d,isPlainObject:h,isUndefined:c,isDate:p,isFile:f,isBlob:m,isFunction:v,isStream:function(e){return d(e)&&v(e.pipe)},isURLSearchParams:y,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:b,merge:function e(){var t={};function n(n,r){h(t[r])&&h(n)?t[r]=e(t[r],n):h(n)?t[r]=e({},n):l(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)b(arguments[r],n);return t},extend:function(e,t,n){return b(t,(function(t,r){e[r]=n&&"function"==typeof t?o(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,o,i,s={};t=t||{};do{for(o=(r=Object.getOwnPropertyNames(e)).length;o-- >0;)s[i=r[o]]||(t[i]=e[i],s[i]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:a,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:x,isFileList:g}},3055:e=>{"use strict";for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n={},r=0;r<t.length;r++){var o=t.charAt(r);if(void 0!==n[o])throw new TypeError(o+" is ambiguous");n[o]=r}function i(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function s(e){for(var t=1,n=0;n<e.length;++n){var r=e.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+e+")";t=i(t)^r>>5}for(t=i(t),n=0;n<e.length;++n){var o=e.charCodeAt(n);t=i(t)^31&o}return t}function a(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var r=e.toLowerCase(),o=e.toUpperCase();if(e!==r&&e!==o)return"Mixed-case string "+e;var a=(e=r).lastIndexOf("1");if(-1===a)return"No separator character for "+e;if(0===a)return"Missing prefix for "+e;var l=e.slice(0,a),c=e.slice(a+1);if(c.length<6)return"Data too short";var u=s(l);if("string"==typeof u)return u;for(var d=[],h=0;h<c.length;++h){var p=c.charAt(h),f=n[p];if(void 0===f)return"Unknown character "+p;u=i(u)^f,h+6>=c.length||d.push(f)}return 1!==u?"Invalid checksum for "+e:{prefix:l,words:d}}function l(e,t,n,r){for(var o=0,i=0,s=(1<<n)-1,a=[],l=0;l<e.length;++l)for(o=o<<t|e[l],i+=t;i>=n;)i-=n,a.push(o>>i&s);if(r)i>0&&a.push(o<<n-i&s);else{if(i>=t)return"Excess padding";if(o<<n-i&s)return"Non-zero padding"}return a}e.exports={decodeUnsafe:function(){var e=a.apply(null,arguments);if("object"==typeof e)return e},decode:function(e){var t=a.apply(null,arguments);if("object"==typeof t)return t;throw new Error(t)},encode:function(e,n,r){if(r=r||90,e.length+7+n.length>r)throw new TypeError("Exceeds length limit");var o=s(e=e.toLowerCase());if("string"==typeof o)throw new Error(o);for(var a=e+"1",l=0;l<n.length;++l){var c=n[l];if(c>>5!=0)throw new Error("Non 5-bit word");o=i(o)^c,a+=t.charAt(c)}for(l=0;l<6;++l)o=i(o);for(o^=1,l=0;l<6;++l){a+=t.charAt(o>>5*(5-l)&31)}return a},toWordsUnsafe:function(e){var t=l(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=l(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},fromWordsUnsafe:function(e){var t=l(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=l(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}}},9919:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function o(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function i(e,t,n){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var s;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(6601).Buffer}catch(e){}function a(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function l(e,t,n){var r=a(e,n);return n-1>=t&&(r|=a(e,n-1)<<4),r}function c(e,t,n,o){for(var i=0,s=0,a=Math.min(e.length,n),l=t;l<a;l++){var c=e.charCodeAt(l)-48;i*=o,s=c>=49?c-49+10:c>=17?c-17+10:c,r(c>=0&&s<o,"Invalid character"),i+=s}return i}function u(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var o=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(o++,this.negative=1),o<e.length&&(16===t?this._parseHex(e,o,n):(this._parseBase(e,t,o),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var i,s,a=0;if("be"===n)for(o=e.length-1,i=0;o>=0;o-=3)s=e[o]|e[o-1]<<8|e[o-2]<<16,this.words[i]|=s<<a&67108863,this.words[i+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);else if("le"===n)for(o=0,i=0;o<e.length;o+=3)s=e[o]|e[o+1]<<8|e[o+2]<<16,this.words[i]|=s<<a&67108863,this.words[i+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);return this._strip()},i.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,i=0,s=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)o=l(e,t,r)<<i,this.words[s]|=67108863&o,i>=18?(i-=18,s+=1,this.words[s]|=o>>>26):i+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)o=l(e,t,r)<<i,this.words[s]|=67108863&o,i>=18?(i-=18,s+=1,this.words[s]|=o>>>26):i+=8;this._strip()},i.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,o=1;o<=67108863;o*=t)r++;r--,o=o/t|0;for(var i=e.length-n,s=i%r,a=Math.min(i,i-s)+n,l=0,u=n;u<a;u+=r)l=c(e,u,u+r,t),this.imuln(o),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==s){var d=1;for(l=c(e,u,e.length,t),u=0;u<s;u++)d*=t;this.imuln(d),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){u(e,this)},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(e){i.prototype.inspect=d}else i.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var o=0|e.words[0],i=0|t.words[0],s=o*i,a=67108863&s,l=s/67108864|0;n.words[0]=a;for(var c=1;c<r;c++){for(var u=l>>>26,d=67108863&l,h=Math.min(c,t.length-1),p=Math.max(0,c-e.length+1);p<=h;p++){var f=c-p|0;u+=(s=(o=0|e.words[f])*(i=0|t.words[p])+d)/67108864|0,d=67108863&s}n.words[c]=0|d,l=0|u}return 0!==l?n.words[c]=0|l:n.length--,n._strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var o=0,i=0,s=0;s<this.length;s++){var a=this.words[s],l=(16777215&(a<<o|i)).toString(16);i=a>>>24-o&16777215,(o+=2)>=26&&(o-=26,s--),n=0!==i||s!==this.length-1?h[6-l.length]+l+n:l+n}for(0!==i&&(n=i.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var c=p[e],u=f[e];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modrn(u).toString(e);n=(d=d.idivn(u)).isZero()?m+n:h[c-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){this._strip();var o=this.byteLength(),i=n||Math.max(1,o);r(o<=i,"byte array longer than desired length"),r(i>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,i);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,o),s},i.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,o=0,i=0;o<this.length;o++){var s=this.words[o]<<i|r;e[n++]=255&s,n<e.length&&(e[n++]=s>>8&255),n<e.length&&(e[n++]=s>>16&255),6===i?(n<e.length&&(e[n++]=s>>24&255),r=0,i=0):(r=s>>>24,i+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,o=0,i=0;o<this.length;o++){var s=this.words[o]<<i|r;e[n--]=255&s,n>=0&&(e[n--]=s>>8&255),n>=0&&(e[n--]=s>>16&255),6===i?(n>=0&&(e[n--]=s>>24&255),r=0,i=0):(r=s>>>24,i+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var o=0;o<t;o++)this.words[o]=67108863&~this.words[o];return n>0&&(this.words[o]=~this.words[o]&67108863>>26-n),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,o=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<o:this.words[n]&~(1<<o),this._strip()},i.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var o=0,i=0;i<r.length;i++)t=(0|n.words[i])+(0|r.words[i])+o,this.words[i]=67108863&t,o=t>>>26;for(;0!==o&&i<n.length;i++)t=(0|n.words[i])+o,this.words[i]=67108863&t,o=t>>>26;if(this.length=n.length,0!==o)this.words[this.length]=o,this.length++;else if(n!==this)for(;i<n.length;i++)this.words[i]=n.words[i];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,o=this.cmp(e);if(0===o)return this.negative=0,this.length=1,this.words[0]=0,this;o>0?(n=this,r=e):(n=e,r=this);for(var i=0,s=0;s<r.length;s++)i=(t=(0|n.words[s])-(0|r.words[s])+i)>>26,this.words[s]=67108863&t;for(;0!==i&&s<n.length;s++)i=(t=(0|n.words[s])+i)>>26,this.words[s]=67108863&t;if(0===i&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,n){var r,o,i,s=e.words,a=t.words,l=n.words,c=0,u=0|s[0],d=8191&u,h=u>>>13,p=0|s[1],f=8191&p,m=p>>>13,g=0|s[2],v=8191&g,y=g>>>13,b=0|s[3],w=8191&b,x=b>>>13,E=0|s[4],S=8191&E,C=E>>>13,A=0|s[5],_=8191&A,k=A>>>13,T=0|s[6],M=8191&T,P=T>>>13,O=0|s[7],R=8191&O,N=O>>>13,D=0|s[8],I=8191&D,B=D>>>13,F=0|s[9],L=8191&F,H=F>>>13,z=0|a[0],V=8191&z,j=z>>>13,U=0|a[1],G=8191&U,q=U>>>13,W=0|a[2],Z=8191&W,$=W>>>13,K=0|a[3],X=8191&K,Y=K>>>13,J=0|a[4],Q=8191&J,ee=J>>>13,te=0|a[5],ne=8191&te,re=te>>>13,oe=0|a[6],ie=8191&oe,se=oe>>>13,ae=0|a[7],le=8191&ae,ce=ae>>>13,ue=0|a[8],de=8191&ue,he=ue>>>13,pe=0|a[9],fe=8191&pe,me=pe>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(c+(r=Math.imul(d,V))|0)+((8191&(o=(o=Math.imul(d,j))+Math.imul(h,V)|0))<<13)|0;c=((i=Math.imul(h,j))+(o>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(f,V),o=(o=Math.imul(f,j))+Math.imul(m,V)|0,i=Math.imul(m,j);var ve=(c+(r=r+Math.imul(d,G)|0)|0)+((8191&(o=(o=o+Math.imul(d,q)|0)+Math.imul(h,G)|0))<<13)|0;c=((i=i+Math.imul(h,q)|0)+(o>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(v,V),o=(o=Math.imul(v,j))+Math.imul(y,V)|0,i=Math.imul(y,j),r=r+Math.imul(f,G)|0,o=(o=o+Math.imul(f,q)|0)+Math.imul(m,G)|0,i=i+Math.imul(m,q)|0;var ye=(c+(r=r+Math.imul(d,Z)|0)|0)+((8191&(o=(o=o+Math.imul(d,$)|0)+Math.imul(h,Z)|0))<<13)|0;c=((i=i+Math.imul(h,$)|0)+(o>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(w,V),o=(o=Math.imul(w,j))+Math.imul(x,V)|0,i=Math.imul(x,j),r=r+Math.imul(v,G)|0,o=(o=o+Math.imul(v,q)|0)+Math.imul(y,G)|0,i=i+Math.imul(y,q)|0,r=r+Math.imul(f,Z)|0,o=(o=o+Math.imul(f,$)|0)+Math.imul(m,Z)|0,i=i+Math.imul(m,$)|0;var be=(c+(r=r+Math.imul(d,X)|0)|0)+((8191&(o=(o=o+Math.imul(d,Y)|0)+Math.imul(h,X)|0))<<13)|0;c=((i=i+Math.imul(h,Y)|0)+(o>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(S,V),o=(o=Math.imul(S,j))+Math.imul(C,V)|0,i=Math.imul(C,j),r=r+Math.imul(w,G)|0,o=(o=o+Math.imul(w,q)|0)+Math.imul(x,G)|0,i=i+Math.imul(x,q)|0,r=r+Math.imul(v,Z)|0,o=(o=o+Math.imul(v,$)|0)+Math.imul(y,Z)|0,i=i+Math.imul(y,$)|0,r=r+Math.imul(f,X)|0,o=(o=o+Math.imul(f,Y)|0)+Math.imul(m,X)|0,i=i+Math.imul(m,Y)|0;var we=(c+(r=r+Math.imul(d,Q)|0)|0)+((8191&(o=(o=o+Math.imul(d,ee)|0)+Math.imul(h,Q)|0))<<13)|0;c=((i=i+Math.imul(h,ee)|0)+(o>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(_,V),o=(o=Math.imul(_,j))+Math.imul(k,V)|0,i=Math.imul(k,j),r=r+Math.imul(S,G)|0,o=(o=o+Math.imul(S,q)|0)+Math.imul(C,G)|0,i=i+Math.imul(C,q)|0,r=r+Math.imul(w,Z)|0,o=(o=o+Math.imul(w,$)|0)+Math.imul(x,Z)|0,i=i+Math.imul(x,$)|0,r=r+Math.imul(v,X)|0,o=(o=o+Math.imul(v,Y)|0)+Math.imul(y,X)|0,i=i+Math.imul(y,Y)|0,r=r+Math.imul(f,Q)|0,o=(o=o+Math.imul(f,ee)|0)+Math.imul(m,Q)|0,i=i+Math.imul(m,ee)|0;var xe=(c+(r=r+Math.imul(d,ne)|0)|0)+((8191&(o=(o=o+Math.imul(d,re)|0)+Math.imul(h,ne)|0))<<13)|0;c=((i=i+Math.imul(h,re)|0)+(o>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(M,V),o=(o=Math.imul(M,j))+Math.imul(P,V)|0,i=Math.imul(P,j),r=r+Math.imul(_,G)|0,o=(o=o+Math.imul(_,q)|0)+Math.imul(k,G)|0,i=i+Math.imul(k,q)|0,r=r+Math.imul(S,Z)|0,o=(o=o+Math.imul(S,$)|0)+Math.imul(C,Z)|0,i=i+Math.imul(C,$)|0,r=r+Math.imul(w,X)|0,o=(o=o+Math.imul(w,Y)|0)+Math.imul(x,X)|0,i=i+Math.imul(x,Y)|0,r=r+Math.imul(v,Q)|0,o=(o=o+Math.imul(v,ee)|0)+Math.imul(y,Q)|0,i=i+Math.imul(y,ee)|0,r=r+Math.imul(f,ne)|0,o=(o=o+Math.imul(f,re)|0)+Math.imul(m,ne)|0,i=i+Math.imul(m,re)|0;var Ee=(c+(r=r+Math.imul(d,ie)|0)|0)+((8191&(o=(o=o+Math.imul(d,se)|0)+Math.imul(h,ie)|0))<<13)|0;c=((i=i+Math.imul(h,se)|0)+(o>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(R,V),o=(o=Math.imul(R,j))+Math.imul(N,V)|0,i=Math.imul(N,j),r=r+Math.imul(M,G)|0,o=(o=o+Math.imul(M,q)|0)+Math.imul(P,G)|0,i=i+Math.imul(P,q)|0,r=r+Math.imul(_,Z)|0,o=(o=o+Math.imul(_,$)|0)+Math.imul(k,Z)|0,i=i+Math.imul(k,$)|0,r=r+Math.imul(S,X)|0,o=(o=o+Math.imul(S,Y)|0)+Math.imul(C,X)|0,i=i+Math.imul(C,Y)|0,r=r+Math.imul(w,Q)|0,o=(o=o+Math.imul(w,ee)|0)+Math.imul(x,Q)|0,i=i+Math.imul(x,ee)|0,r=r+Math.imul(v,ne)|0,o=(o=o+Math.imul(v,re)|0)+Math.imul(y,ne)|0,i=i+Math.imul(y,re)|0,r=r+Math.imul(f,ie)|0,o=(o=o+Math.imul(f,se)|0)+Math.imul(m,ie)|0,i=i+Math.imul(m,se)|0;var Se=(c+(r=r+Math.imul(d,le)|0)|0)+((8191&(o=(o=o+Math.imul(d,ce)|0)+Math.imul(h,le)|0))<<13)|0;c=((i=i+Math.imul(h,ce)|0)+(o>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(I,V),o=(o=Math.imul(I,j))+Math.imul(B,V)|0,i=Math.imul(B,j),r=r+Math.imul(R,G)|0,o=(o=o+Math.imul(R,q)|0)+Math.imul(N,G)|0,i=i+Math.imul(N,q)|0,r=r+Math.imul(M,Z)|0,o=(o=o+Math.imul(M,$)|0)+Math.imul(P,Z)|0,i=i+Math.imul(P,$)|0,r=r+Math.imul(_,X)|0,o=(o=o+Math.imul(_,Y)|0)+Math.imul(k,X)|0,i=i+Math.imul(k,Y)|0,r=r+Math.imul(S,Q)|0,o=(o=o+Math.imul(S,ee)|0)+Math.imul(C,Q)|0,i=i+Math.imul(C,ee)|0,r=r+Math.imul(w,ne)|0,o=(o=o+Math.imul(w,re)|0)+Math.imul(x,ne)|0,i=i+Math.imul(x,re)|0,r=r+Math.imul(v,ie)|0,o=(o=o+Math.imul(v,se)|0)+Math.imul(y,ie)|0,i=i+Math.imul(y,se)|0,r=r+Math.imul(f,le)|0,o=(o=o+Math.imul(f,ce)|0)+Math.imul(m,le)|0,i=i+Math.imul(m,ce)|0;var Ce=(c+(r=r+Math.imul(d,de)|0)|0)+((8191&(o=(o=o+Math.imul(d,he)|0)+Math.imul(h,de)|0))<<13)|0;c=((i=i+Math.imul(h,he)|0)+(o>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(L,V),o=(o=Math.imul(L,j))+Math.imul(H,V)|0,i=Math.imul(H,j),r=r+Math.imul(I,G)|0,o=(o=o+Math.imul(I,q)|0)+Math.imul(B,G)|0,i=i+Math.imul(B,q)|0,r=r+Math.imul(R,Z)|0,o=(o=o+Math.imul(R,$)|0)+Math.imul(N,Z)|0,i=i+Math.imul(N,$)|0,r=r+Math.imul(M,X)|0,o=(o=o+Math.imul(M,Y)|0)+Math.imul(P,X)|0,i=i+Math.imul(P,Y)|0,r=r+Math.imul(_,Q)|0,o=(o=o+Math.imul(_,ee)|0)+Math.imul(k,Q)|0,i=i+Math.imul(k,ee)|0,r=r+Math.imul(S,ne)|0,o=(o=o+Math.imul(S,re)|0)+Math.imul(C,ne)|0,i=i+Math.imul(C,re)|0,r=r+Math.imul(w,ie)|0,o=(o=o+Math.imul(w,se)|0)+Math.imul(x,ie)|0,i=i+Math.imul(x,se)|0,r=r+Math.imul(v,le)|0,o=(o=o+Math.imul(v,ce)|0)+Math.imul(y,le)|0,i=i+Math.imul(y,ce)|0,r=r+Math.imul(f,de)|0,o=(o=o+Math.imul(f,he)|0)+Math.imul(m,de)|0,i=i+Math.imul(m,he)|0;var Ae=(c+(r=r+Math.imul(d,fe)|0)|0)+((8191&(o=(o=o+Math.imul(d,me)|0)+Math.imul(h,fe)|0))<<13)|0;c=((i=i+Math.imul(h,me)|0)+(o>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(L,G),o=(o=Math.imul(L,q))+Math.imul(H,G)|0,i=Math.imul(H,q),r=r+Math.imul(I,Z)|0,o=(o=o+Math.imul(I,$)|0)+Math.imul(B,Z)|0,i=i+Math.imul(B,$)|0,r=r+Math.imul(R,X)|0,o=(o=o+Math.imul(R,Y)|0)+Math.imul(N,X)|0,i=i+Math.imul(N,Y)|0,r=r+Math.imul(M,Q)|0,o=(o=o+Math.imul(M,ee)|0)+Math.imul(P,Q)|0,i=i+Math.imul(P,ee)|0,r=r+Math.imul(_,ne)|0,o=(o=o+Math.imul(_,re)|0)+Math.imul(k,ne)|0,i=i+Math.imul(k,re)|0,r=r+Math.imul(S,ie)|0,o=(o=o+Math.imul(S,se)|0)+Math.imul(C,ie)|0,i=i+Math.imul(C,se)|0,r=r+Math.imul(w,le)|0,o=(o=o+Math.imul(w,ce)|0)+Math.imul(x,le)|0,i=i+Math.imul(x,ce)|0,r=r+Math.imul(v,de)|0,o=(o=o+Math.imul(v,he)|0)+Math.imul(y,de)|0,i=i+Math.imul(y,he)|0;var _e=(c+(r=r+Math.imul(f,fe)|0)|0)+((8191&(o=(o=o+Math.imul(f,me)|0)+Math.imul(m,fe)|0))<<13)|0;c=((i=i+Math.imul(m,me)|0)+(o>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(L,Z),o=(o=Math.imul(L,$))+Math.imul(H,Z)|0,i=Math.imul(H,$),r=r+Math.imul(I,X)|0,o=(o=o+Math.imul(I,Y)|0)+Math.imul(B,X)|0,i=i+Math.imul(B,Y)|0,r=r+Math.imul(R,Q)|0,o=(o=o+Math.imul(R,ee)|0)+Math.imul(N,Q)|0,i=i+Math.imul(N,ee)|0,r=r+Math.imul(M,ne)|0,o=(o=o+Math.imul(M,re)|0)+Math.imul(P,ne)|0,i=i+Math.imul(P,re)|0,r=r+Math.imul(_,ie)|0,o=(o=o+Math.imul(_,se)|0)+Math.imul(k,ie)|0,i=i+Math.imul(k,se)|0,r=r+Math.imul(S,le)|0,o=(o=o+Math.imul(S,ce)|0)+Math.imul(C,le)|0,i=i+Math.imul(C,ce)|0,r=r+Math.imul(w,de)|0,o=(o=o+Math.imul(w,he)|0)+Math.imul(x,de)|0,i=i+Math.imul(x,he)|0;var ke=(c+(r=r+Math.imul(v,fe)|0)|0)+((8191&(o=(o=o+Math.imul(v,me)|0)+Math.imul(y,fe)|0))<<13)|0;c=((i=i+Math.imul(y,me)|0)+(o>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(L,X),o=(o=Math.imul(L,Y))+Math.imul(H,X)|0,i=Math.imul(H,Y),r=r+Math.imul(I,Q)|0,o=(o=o+Math.imul(I,ee)|0)+Math.imul(B,Q)|0,i=i+Math.imul(B,ee)|0,r=r+Math.imul(R,ne)|0,o=(o=o+Math.imul(R,re)|0)+Math.imul(N,ne)|0,i=i+Math.imul(N,re)|0,r=r+Math.imul(M,ie)|0,o=(o=o+Math.imul(M,se)|0)+Math.imul(P,ie)|0,i=i+Math.imul(P,se)|0,r=r+Math.imul(_,le)|0,o=(o=o+Math.imul(_,ce)|0)+Math.imul(k,le)|0,i=i+Math.imul(k,ce)|0,r=r+Math.imul(S,de)|0,o=(o=o+Math.imul(S,he)|0)+Math.imul(C,de)|0,i=i+Math.imul(C,he)|0;var Te=(c+(r=r+Math.imul(w,fe)|0)|0)+((8191&(o=(o=o+Math.imul(w,me)|0)+Math.imul(x,fe)|0))<<13)|0;c=((i=i+Math.imul(x,me)|0)+(o>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(L,Q),o=(o=Math.imul(L,ee))+Math.imul(H,Q)|0,i=Math.imul(H,ee),r=r+Math.imul(I,ne)|0,o=(o=o+Math.imul(I,re)|0)+Math.imul(B,ne)|0,i=i+Math.imul(B,re)|0,r=r+Math.imul(R,ie)|0,o=(o=o+Math.imul(R,se)|0)+Math.imul(N,ie)|0,i=i+Math.imul(N,se)|0,r=r+Math.imul(M,le)|0,o=(o=o+Math.imul(M,ce)|0)+Math.imul(P,le)|0,i=i+Math.imul(P,ce)|0,r=r+Math.imul(_,de)|0,o=(o=o+Math.imul(_,he)|0)+Math.imul(k,de)|0,i=i+Math.imul(k,he)|0;var Me=(c+(r=r+Math.imul(S,fe)|0)|0)+((8191&(o=(o=o+Math.imul(S,me)|0)+Math.imul(C,fe)|0))<<13)|0;c=((i=i+Math.imul(C,me)|0)+(o>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(L,ne),o=(o=Math.imul(L,re))+Math.imul(H,ne)|0,i=Math.imul(H,re),r=r+Math.imul(I,ie)|0,o=(o=o+Math.imul(I,se)|0)+Math.imul(B,ie)|0,i=i+Math.imul(B,se)|0,r=r+Math.imul(R,le)|0,o=(o=o+Math.imul(R,ce)|0)+Math.imul(N,le)|0,i=i+Math.imul(N,ce)|0,r=r+Math.imul(M,de)|0,o=(o=o+Math.imul(M,he)|0)+Math.imul(P,de)|0,i=i+Math.imul(P,he)|0;var Pe=(c+(r=r+Math.imul(_,fe)|0)|0)+((8191&(o=(o=o+Math.imul(_,me)|0)+Math.imul(k,fe)|0))<<13)|0;c=((i=i+Math.imul(k,me)|0)+(o>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(L,ie),o=(o=Math.imul(L,se))+Math.imul(H,ie)|0,i=Math.imul(H,se),r=r+Math.imul(I,le)|0,o=(o=o+Math.imul(I,ce)|0)+Math.imul(B,le)|0,i=i+Math.imul(B,ce)|0,r=r+Math.imul(R,de)|0,o=(o=o+Math.imul(R,he)|0)+Math.imul(N,de)|0,i=i+Math.imul(N,he)|0;var Oe=(c+(r=r+Math.imul(M,fe)|0)|0)+((8191&(o=(o=o+Math.imul(M,me)|0)+Math.imul(P,fe)|0))<<13)|0;c=((i=i+Math.imul(P,me)|0)+(o>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(L,le),o=(o=Math.imul(L,ce))+Math.imul(H,le)|0,i=Math.imul(H,ce),r=r+Math.imul(I,de)|0,o=(o=o+Math.imul(I,he)|0)+Math.imul(B,de)|0,i=i+Math.imul(B,he)|0;var Re=(c+(r=r+Math.imul(R,fe)|0)|0)+((8191&(o=(o=o+Math.imul(R,me)|0)+Math.imul(N,fe)|0))<<13)|0;c=((i=i+Math.imul(N,me)|0)+(o>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(L,de),o=(o=Math.imul(L,he))+Math.imul(H,de)|0,i=Math.imul(H,he);var Ne=(c+(r=r+Math.imul(I,fe)|0)|0)+((8191&(o=(o=o+Math.imul(I,me)|0)+Math.imul(B,fe)|0))<<13)|0;c=((i=i+Math.imul(B,me)|0)+(o>>>13)|0)+(Ne>>>26)|0,Ne&=67108863;var De=(c+(r=Math.imul(L,fe))|0)+((8191&(o=(o=Math.imul(L,me))+Math.imul(H,fe)|0))<<13)|0;return c=((i=Math.imul(H,me))+(o>>>13)|0)+(De>>>26)|0,De&=67108863,l[0]=ge,l[1]=ve,l[2]=ye,l[3]=be,l[4]=we,l[5]=xe,l[6]=Ee,l[7]=Se,l[8]=Ce,l[9]=Ae,l[10]=_e,l[11]=ke,l[12]=Te,l[13]=Me,l[14]=Pe,l[15]=Oe,l[16]=Re,l[17]=Ne,l[18]=De,0!==c&&(l[19]=c,n.length++),n};function v(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,o=0,i=0;i<n.length-1;i++){var s=o;o=0;for(var a=67108863&r,l=Math.min(i,t.length-1),c=Math.max(0,i-e.length+1);c<=l;c++){var u=i-c,d=(0|e.words[u])*(0|t.words[c]),h=67108863&d;a=67108863&(h=h+a|0),o+=(s=(s=s+(d/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}n.words[i]=a,r=s,s=o}return 0!==r?n.words[i]=r:n.length--,n._strip()}function y(e,t,n){return v(e,t,n)}function b(e,t){this.x=e,this.y=t}Math.imul||(g=m),i.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):n<63?m(this,e,t):n<1024?v(this,e,t):y(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),n=i.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},b.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,o=0;o<t;o++)r|=(1&e)<<t-o-1,e>>=1;return r},b.prototype.permute=function(e,t,n,r,o,i){for(var s=0;s<i;s++)r[s]=t[e[s]],o[s]=n[e[s]]},b.prototype.transform=function(e,t,n,r,o,i){this.permute(i,e,t,n,r,o);for(var s=1;s<o;s<<=1)for(var a=s<<1,l=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),u=0;u<o;u+=a)for(var d=l,h=c,p=0;p<s;p++){var f=n[u+p],m=r[u+p],g=n[u+p+s],v=r[u+p+s],y=d*g-h*v;v=d*v+h*g,g=y,n[u+p]=f+g,r[u+p]=m+v,n[u+p+s]=f-g,r[u+p+s]=m-v,p!==a&&(y=l*d-c*h,h=l*h+c*d,d=y)}},b.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,o=0;for(n=n/2|0;n;n>>>=1)o++;return 1<<o+1+r},b.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var o=e[r];e[r]=e[n-r-1],e[n-r-1]=o,o=t[r],t[r]=-t[n-r-1],t[n-r-1]=-o}},b.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var o=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&o,n=o<67108864?0:o/67108864|0}return e},b.prototype.convert13b=function(e,t,n,o){for(var i=0,s=0;s<t;s++)i+=0|e[s],n[2*s]=8191&i,i>>>=13,n[2*s+1]=8191&i,i>>>=13;for(s=2*t;s<o;++s)n[s]=0;r(0===i),r(0==(-8192&i))},b.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},b.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),o=this.makeRBT(r),i=this.stub(r),s=new Array(r),a=new Array(r),l=new Array(r),c=new Array(r),u=new Array(r),d=new Array(r),h=n.words;h.length=r,this.convert13b(e.words,e.length,s,r),this.convert13b(t.words,t.length,c,r),this.transform(s,i,a,l,r,o),this.transform(c,i,u,d,r,o);for(var p=0;p<r;p++){var f=a[p]*u[p]-l[p]*d[p];l[p]=a[p]*d[p]+l[p]*u[p],a[p]=f}return this.conjugate(a,l,r),this.transform(a,l,h,i,r,o),this.conjugate(h,i,r),this.normalize13b(h,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),y(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var n=0,o=0;o<this.length;o++){var i=(0|this.words[o])*e,s=(67108863&i)+(67108863&n);n>>=26,n+=i/67108864|0,n+=s>>>26,this.words[o]=67108863&s}return 0!==n&&(this.words[o]=n,this.length++),t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,o=n%26;t[n]=e.words[r]>>>o&1}return t}(e);if(0===t.length)return new i(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var o=n.sqr();r<t.length;r++,o=o.sqr())0!==t[r]&&(n=n.mul(o));return n},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,o=(e-n)/26,i=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&i,l=(0|this.words[t])-a<<n;this.words[t]=l|s,s=a>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==o){for(t=this.length-1;t>=0;t--)this.words[t+o]=this.words[t];for(t=0;t<o;t++)this.words[t]=0;this.length+=o}return this._strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var o;r("number"==typeof e&&e>=0),o=t?(t-t%26)/26:0;var i=e%26,s=Math.min((e-i)/26,this.length),a=67108863^67108863>>>i<<i,l=n;if(o-=s,o=Math.max(0,o),l){for(var c=0;c<s;c++)l.words[c]=this.words[c];l.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var u=0;for(c=this.length-1;c>=0&&(0!==u||c>=o);c--){var d=0|this.words[c];this.words[c]=u<<26-i|d>>>i,u=d&a}return l&&0!==u&&(l.words[l.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,o=1<<t;return!(this.length<=n||!(this.words[n]&o))},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var o=67108863^67108863>>>t<<t;this.words[this.length-1]&=o}return this._strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var o,i,s=e.length+n;this._expand(s);var a=0;for(o=0;o<e.length;o++){i=(0|this.words[o+n])+a;var l=(0|e.words[o])*t;a=((i-=67108863&l)>>26)-(l/67108864|0),this.words[o+n]=67108863&i}for(;o<this.length-n;o++)a=(i=(0|this.words[o+n])+a)>>26,this.words[o+n]=67108863&i;if(0===a)return this._strip();for(r(-1===a),a=0,o=0;o<this.length;o++)a=(i=-(0|this.words[o])+a)>>26,this.words[o]=67108863&i;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),o=e,s=0|o.words[o.length-1];0!=(n=26-this._countBits(s))&&(o=o.ushln(n),r.iushln(n),s=0|o.words[o.length-1]);var a,l=r.length-o.length;if("mod"!==t){(a=new i(null)).length=l+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var u=r.clone()._ishlnsubmul(o,1,l);0===u.negative&&(r=u,a&&(a.words[l]=1));for(var d=l-1;d>=0;d--){var h=67108864*(0|r.words[o.length+d])+(0|r.words[o.length+d-1]);for(h=Math.min(h/s|0,67108863),r._ishlnsubmul(o,h,d);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(o,1,d),r.isZero()||(r.negative^=1);a&&(a.words[d]=h)}return a&&a._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(o=a.div.neg()),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:o,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t);var o,s,a},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),o=e.andln(1),i=n.cmp(r);return i<0||1===o&&0===i?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,o=0,i=this.length-1;i>=0;i--)o=(n*o+(0|this.words[i]))%e;return t?-o:o},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,o=this.length-1;o>=0;o--){var i=(0|this.words[o])+67108864*n;this.words[o]=i/e|0,n=i%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),s=new i(0),a=new i(0),l=new i(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var u=n.clone(),d=t.clone();!t.isZero();){for(var h=0,p=1;0==(t.words[0]&p)&&h<26;++h,p<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(u),s.isub(d)),o.iushrn(1),s.iushrn(1);for(var f=0,m=1;0==(n.words[0]&m)&&f<26;++f,m<<=1);if(f>0)for(n.iushrn(f);f-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(u),l.isub(d)),a.iushrn(1),l.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(a),s.isub(l)):(n.isub(t),a.isub(o),l.isub(s))}return{a,b:l,gcd:n.iushln(c)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,s=new i(1),a=new i(0),l=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,u=1;0==(t.words[0]&u)&&c<26;++c,u<<=1);if(c>0)for(t.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);for(var d=0,h=1;0==(n.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(n.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);t.cmp(n)>=0?(t.isub(n),s.isub(a)):(n.isub(t),a.isub(s))}return(o=0===t.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(e),o},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var o=t.cmp(n);if(o<0){var i=t;t=n,n=i}else if(0===o||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,o=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=o,this;for(var i=o,s=n;0!==i&&s<this.length;s++){var a=0|this.words[s];i=(a+=i)>>>26,a&=67108863,this.words[s]=a}return 0!==i&&(this.words[s]=i,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var o=0|this.words[0];t=o===e?0:o<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],o=0|e.words[n];if(r!==o){r<o?t=-1:r>o&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new _(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function x(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){x.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){x.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function C(){x.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){x.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},x.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},x.prototype.split=function(e,t){e.iushrn(this.n,0,t)},x.prototype.imulK=function(e){return e.imul(this.k)},o(E,x),E.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),o=0;o<r;o++)t.words[o]=e.words[o];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=i&n,o=10;o<e.length;o++){var s=0|e.words[o];e.words[o-10]=(s&n)<<4|i>>>22,i=s}i>>>=22,e.words[o-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},E.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},o(S,x),o(C,x),o(A,x),A.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,o=67108863&r;r>>>=26,e.words[n]=o,t=r}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new E;else if("p224"===e)t=new S;else if("p192"===e)t=new C;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new A}return w[e]=t,t},_.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(u(e,e.umod(this.m)._forceRed(this)),e)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},_.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new i(1).toRed(this),l=a.redNeg(),c=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);0!==this.pow(u,c).cmp(l);)u.redIAdd(l);for(var d=this.pow(u,o),h=this.pow(e,o.addn(1).iushrn(1)),p=this.pow(e,o),f=s;0!==p.cmp(a);){for(var m=p,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<f);var v=this.pow(d,new i(1).iushln(f-g-1));h=h.redMul(v),d=v.redSqr(),p=p.redMul(d),f=g}return h},_.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},_.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new i(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var o=n[0],s=0,a=0,l=t.bitLength()%26;for(0===l&&(l=26),r=t.length-1;r>=0;r--){for(var c=t.words[r],u=l-1;u>=0;u--){var d=c>>u&1;o!==n[0]&&(o=this.sqr(o)),0!==d||0!==s?(s<<=1,s|=d,(4==++a||0===r&&0===u)&&(o=this.mul(o,n[s]),a=0,s=0)):a=0}l=26}return o},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new k(e)},o(k,_),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=n.isub(r).iushrn(this.shift),i=o;return o.cmp(this.m)>=0?i=o.isub(this.m):o.cmpn(0)<0&&(i=o.iadd(this.m)),i._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=n.isub(r).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},9250:(e,t,n)=>{"use strict";n.d(t,{qY:()=>p});var r=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},o=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},i=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},s=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},a=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},l=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},c=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,u=3,d=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],h=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function p(e){return e?f(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new l:"undefined"!=typeof navigator?f(navigator.userAgent):"undefined"!=typeof process&&process.version?new i(process.version.slice(1)):null}function f(e){var t=function(e){return""!==e&&d.reduce((function(t,n){var r=n[0],o=n[1];if(t)return t;var i=o.exec(e);return!!i&&[r,i]}),!1)}(e);if(!t)return null;var n=t[0],i=t[1];if("searchbot"===n)return new a;var l=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);l?l.length<u&&(l=r(r([],l,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(u-l.length),!0)):l=[];var p=l.join("."),f=function(e){for(var t=0,n=h.length;t<n;t++){var r=h[t],o=r[0];if(r[1].exec(e))return o}return null}(e),m=c.exec(e);return m&&m[1]?new s(n,p,f,m[1]):new o(n,p,f)}},7809:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BaseContract:()=>Rr,BigNumber:()=>Z,Contract:()=>Nr,ContractFactory:()=>Dr,FixedNumber:()=>qr,Signer:()=>cn,VoidSigner:()=>un,Wallet:()=>xi,Wordlist:()=>So,constants:()=>o,errors:()=>m,getDefaultProvider:()=>pl,logger:()=>Gl,providers:()=>i,utils:()=>a,version:()=>Ul,wordlists:()=>To});var r={};n.r(r),n.d(r,{decode:()=>_e,encode:()=>Se});var o={};n.r(o),n.d(o,{AddressZero:()=>Ci,EtherSymbol:()=>_i,HashZero:()=>Ai,MaxInt256:()=>mt,MaxUint256:()=>pt,MinInt256:()=>ft,NegativeOne:()=>lt,One:()=>ut,Two:()=>dt,WeiPerEther:()=>ht,Zero:()=>ct});var i={};n.r(i),n.d(i,{AlchemyProvider:()=>xa,AlchemyWebSocketProvider:()=>wa,AnkrProvider:()=>Aa,BaseProvider:()=>Xs,CloudflareProvider:()=>ka,EtherscanProvider:()=>Ia,FallbackProvider:()=>Xa,Formatter:()=>Es,InfuraProvider:()=>tl,InfuraWebSocketProvider:()=>el,IpcProvider:()=>Ya,JsonRpcBatchProvider:()=>nl,JsonRpcProvider:()=>ca,JsonRpcSigner:()=>sa,NodesmithProvider:()=>ol,PocketProvider:()=>al,Provider:()=>rn,Resolver:()=>Zs,StaticJsonRpcProvider:()=>ga,UrlJsonRpcProvider:()=>va,Web3Provider:()=>dl,WebSocketProvider:()=>fa,getDefaultProvider:()=>pl,getNetwork:()=>Di,isCommunityResourcable:()=>Ss,isCommunityResource:()=>Cs,showThrottleMessage:()=>_s});var s={};n.r(s),n.d(s,{decode:()=>Ii,encode:()=>Bi});var a={};n.r(a),n.d(a,{AbiCoder:()=>qt,ConstructorFragment:()=>Dt,ErrorFragment:()=>Ft,EventFragment:()=>Pt,FormatTypes:()=>At,Fragment:()=>Mt,FunctionFragment:()=>It,HDNode:()=>Ho,Indexed:()=>Yt,Interface:()=>en,LogDescription:()=>$t,Logger:()=>v,ParamType:()=>kt,RLP:()=>r,SigningKey:()=>Jn,SupportedAlgorithm:()=>mo,TransactionDescription:()=>Kt,TransactionTypes:()=>nr,UnicodeNormalizationForm:()=>He,Utf8ErrorFuncs:()=>je,Utf8ErrorReason:()=>ze,_TypedDataEncoder:()=>ho,_fetchData:()=>ms,_toEscapedUtf8String:()=>We,accessListify:()=>dr,arrayify:()=>C,base58:()=>fo,base64:()=>s,checkProperties:()=>re,checkResultErrors:()=>he,commify:()=>Ll,computeAddress:()=>ar,computeHmac:()=>wo,computePublicKey:()=>er,concat:()=>A,deepCopy:()=>le,defaultAbiCoder:()=>Wt,defaultPath:()=>Lo,defineReadOnly:()=>ee,dnsEncode:()=>ls,entropyToMnemonic:()=>jo,fetchJson:()=>gs,formatBytes32String:()=>Dl,formatEther:()=>Vl,formatUnits:()=>Hl,getAccountPath:()=>Go,getAddress:()=>Ne,getContractAddress:()=>Be,getCreate2Address:()=>Fe,getIcapAddress:()=>Ie,getJsonWalletAddress:()=>yi,getStatic:()=>te,hashMessage:()=>Kr,hexConcat:()=>N,hexDataLength:()=>O,hexDataSlice:()=>R,hexStripZeros:()=>I,hexValue:()=>D,hexZeroPad:()=>B,hexlify:()=>P,id:()=>Xe,isAddress:()=>De,isBytes:()=>S,isBytesLike:()=>x,isHexString:()=>T,isValidMnemonic:()=>Uo,isValidName:()=>ss,joinSignature:()=>L,keccak256:()=>ye,mnemonicToEntropy:()=>Vo,mnemonicToSeed:()=>zo,namehash:()=>as,nameprep:()=>Nl,parseBytes32String:()=>Il,parseEther:()=>jl,parseTransaction:()=>vr,parseUnits:()=>zl,poll:()=>vs,randomBytes:()=>$o,recoverAddress:()=>lr,recoverPublicKey:()=>Qn,resolveProperties:()=>ne,ripemd160:()=>vo,serializeTransaction:()=>mr,sha256:()=>yo,sha512:()=>bo,shallowCopy:()=>oe,shuffled:()=>Ba,solidityKeccak256:()=>xl,solidityPack:()=>wl,soliditySha256:()=>El,splitSignature:()=>F,stripZeros:()=>_,toUtf8Bytes:()=>Ge,toUtf8CodePoints:()=>Ke,toUtf8String:()=>$e,verifyMessage:()=>Ei,verifyTypedData:()=>Si,zeroPad:()=>k});let l=!1,c=!1;const u={debug:1,default:2,info:2,warning:3,error:4,off:5};let d=u.default,h=null;const p=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(n){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var f,m;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(f||(f={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(m||(m={}));const g="0123456789abcdef";class v{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();null==u[n]&&this.throwArgumentError("invalid log level name","logLevel",e),d>u[n]||console.log.apply(console,t)}debug(...e){this._log(v.levels.DEBUG,e)}info(...e){this._log(v.levels.INFO,e)}warn(...e){this._log(v.levels.WARNING,e)}makeError(e,t,n){if(c)return this.makeError("censored error",t,{});t||(t=v.errors.UNKNOWN_ERROR),n||(n={});const r=[];Object.keys(n).forEach((e=>{const t=n[e];try{if(t instanceof Uint8Array){let n="";for(let e=0;e<t.length;e++)n+=g[t[e]>>4],n+=g[15&t[e]];r.push(e+"=Uint8Array(0x"+n+")")}else r.push(e+"="+JSON.stringify(t))}catch(t){r.push(e+"="+JSON.stringify(n[e].toString()))}})),r.push(`code=${t}`),r.push(`version=${this.version}`);const o=e;let i="";switch(t){case m.NUMERIC_FAULT:{i="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":i+="-"+t;break;case"negative-power":case"negative-width":i+="-unsupported";break;case"unbound-bitwise-result":i+="-unbound-result"}break}case m.CALL_EXCEPTION:case m.INSUFFICIENT_FUNDS:case m.MISSING_NEW:case m.NONCE_EXPIRED:case m.REPLACEMENT_UNDERPRICED:case m.TRANSACTION_REPLACED:case m.UNPREDICTABLE_GAS_LIMIT:i=t}i&&(e+=" [ See: https://links.ethers.org/v5-errors-"+i+" ]"),r.length&&(e+=" ("+r.join(", ")+")");const s=new Error(e);return s.reason=o,s.code=t,Object.keys(n).forEach((function(e){s[e]=n[e]})),s}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,v.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,r){e||this.throwError(t,n,r)}assertArgument(e,t,n,r){e||this.throwArgumentError(t,n,r)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),p&&this.throwError("platform missing String.prototype.normalize",v.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:p})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,v.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,v.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n=n?": "+n:"",e<t&&this.throwError("missing argument"+n,v.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,v.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",v.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",v.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",v.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return h||(h=new v("logger/5.7.0")),h}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",v.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),l){if(!e)return;this.globalLogger().throwError("error censorship permanent",v.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}c=!!e,l=!!t}static setLogLevel(e){const t=u[e.toLowerCase()];null!=t?d=t:v.globalLogger().warn("invalid log level - "+e)}static from(e){return new v(e)}}v.errors=m,v.levels=f;const y=new v("bytes/5.7.0");function b(e){return!!e.toHexString}function w(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return w(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function x(e){return T(e)&&!(e.length%2)||S(e)}function E(e){return"number"==typeof e&&e==e&&e%1==0}function S(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!E(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const n=e[t];if(!E(n)||n<0||n>=256)return!1}return!0}function C(e,t){if(t||(t={}),"number"==typeof e){y.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),w(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),b(e)&&(e=e.toHexString()),T(e)){let n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0"+n:"right"===t.hexPad?n+="0":y.throwArgumentError("hex data is odd-length","value",e));const r=[];for(let e=0;e<n.length;e+=2)r.push(parseInt(n.substring(e,e+2),16));return w(new Uint8Array(r))}return S(e)?w(new Uint8Array(e)):y.throwArgumentError("invalid arrayify value","value",e)}function A(e){const t=e.map((e=>C(e))),n=t.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(n);return t.reduce(((e,t)=>(r.set(t,e),e+t.length)),0),w(r)}function _(e){let t=C(e);if(0===t.length)return t;let n=0;for(;n<t.length&&0===t[n];)n++;return n&&(t=t.slice(n)),t}function k(e,t){(e=C(e)).length>t&&y.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(t);return n.set(e,t-e.length),w(n)}function T(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const M="0123456789abcdef";function P(e,t){if(t||(t={}),"number"==typeof e){y.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=M[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),b(e))return e.toHexString();if(T(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":y.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(S(e)){let t="0x";for(let n=0;n<e.length;n++){let r=e[n];t+=M[(240&r)>>4]+M[15&r]}return t}return y.throwArgumentError("invalid hexlify value","value",e)}function O(e){if("string"!=typeof e)e=P(e);else if(!T(e)||e.length%2)return null;return(e.length-2)/2}function R(e,t,n){return"string"!=typeof e?e=P(e):(!T(e)||e.length%2)&&y.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=n?"0x"+e.substring(t,2+2*n):"0x"+e.substring(t)}function N(e){let t="0x";return e.forEach((e=>{t+=P(e).substring(2)})),t}function D(e){const t=I(P(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function I(e){"string"!=typeof e&&(e=P(e)),T(e)||y.throwArgumentError("invalid hex string","value",e),e=e.substring(2);let t=0;for(;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}function B(e,t){for("string"!=typeof e?e=P(e):T(e)||y.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&y.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function F(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(x(e)){let n=C(e);64===n.length?(t.v=27+(n[32]>>7),n[32]&=127,t.r=P(n.slice(0,32)),t.s=P(n.slice(32,64))):65===n.length?(t.r=P(n.slice(0,32)),t.s=P(n.slice(32,64)),t.v=n[64]):y.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:y.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(n[32]|=128),t._vs=P(n.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){const n=k(C(t._vs),32);t._vs=P(n);const r=n[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=r:t.recoveryParam!==r&&y.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),n[0]&=127;const o=P(n);null==t.s?t.s=o:t.s!==o&&y.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?y.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{const n=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==n&&y.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&T(t.r)?t.r=B(t.r,32):y.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&T(t.s)?t.s=B(t.s,32):y.throwArgumentError("signature missing or invalid s","signature",e);const n=C(t.s);n[0]>=128&&y.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(n[0]|=128);const r=P(n);t._vs&&(T(t._vs)||y.throwArgumentError("signature invalid _vs","signature",e),t._vs=B(t._vs,32)),null==t._vs?t._vs=r:t._vs!==r&&y.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function L(e){return P(A([(e=F(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}var H=n(9919),z=n.n(H);const V="bignumber/5.7.0";var j=z().BN;const U=new v(V),G={},q=9007199254740991;let W=!1;class Z{constructor(e,t){e!==G&&U.throwError("cannot call constructor directly; use BigNumber.from",v.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return K(X(this).fromTwos(e))}toTwos(e){return K(X(this).toTwos(e))}abs(){return"-"===this._hex[0]?Z.from(this._hex.substring(1)):this}add(e){return K(X(this).add(X(e)))}sub(e){return K(X(this).sub(X(e)))}div(e){return Z.from(e).isZero()&&Y("division-by-zero","div"),K(X(this).div(X(e)))}mul(e){return K(X(this).mul(X(e)))}mod(e){const t=X(e);return t.isNeg()&&Y("division-by-zero","mod"),K(X(this).umod(t))}pow(e){const t=X(e);return t.isNeg()&&Y("negative-power","pow"),K(X(this).pow(t))}and(e){const t=X(e);return(this.isNegative()||t.isNeg())&&Y("unbound-bitwise-result","and"),K(X(this).and(t))}or(e){const t=X(e);return(this.isNegative()||t.isNeg())&&Y("unbound-bitwise-result","or"),K(X(this).or(t))}xor(e){const t=X(e);return(this.isNegative()||t.isNeg())&&Y("unbound-bitwise-result","xor"),K(X(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&Y("negative-width","mask"),K(X(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Y("negative-width","shl"),K(X(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Y("negative-width","shr"),K(X(this).shrn(e))}eq(e){return X(this).eq(X(e))}lt(e){return X(this).lt(X(e))}lte(e){return X(this).lte(X(e))}gt(e){return X(this).gt(X(e))}gte(e){return X(this).gte(X(e))}isNegative(){return"-"===this._hex[0]}isZero(){return X(this).isZero()}toNumber(){try{return X(this).toNumber()}catch(e){Y("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return U.throwError("this platform does not support BigInt",v.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?W||(W=!0,U.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?U.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",v.errors.UNEXPECTED_ARGUMENT,{}):U.throwError("BigNumber.toString does not accept parameters",v.errors.UNEXPECTED_ARGUMENT,{})),X(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Z)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new Z(G,$(e)):e.match(/^-?[0-9]+$/)?new Z(G,$(new j(e))):U.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&Y("underflow","BigNumber.from",e),(e>=q||e<=-q)&&Y("overflow","BigNumber.from",e),Z.from(String(e));const t=e;if("bigint"==typeof t)return Z.from(t.toString());if(S(t))return Z.from(P(t));if(t)if(t.toHexString){const e=t.toHexString();if("string"==typeof e)return Z.from(e)}else{let e=t._hex;if(null==e&&"BigNumber"===t.type&&(e=t.hex),"string"==typeof e&&(T(e)||"-"===e[0]&&T(e.substring(1))))return Z.from(e)}return U.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function $(e){if("string"!=typeof e)return $(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&U.throwArgumentError("invalid hex","value",e),"0x00"===(e=$(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function K(e){return Z.from($(e))}function X(e){const t=Z.from(e).toHexString();return"-"===t[0]?new j("-"+t.substring(3),16):new j(t.substring(2),16)}function Y(e,t,n){const r={fault:e,operation:t};return null!=n&&(r.value=n),U.throwError(e,v.errors.NUMERIC_FAULT,r)}var J=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const Q=new v("properties/5.7.0");function ee(e,t,n){Object.defineProperty(e,t,{enumerable:!0,value:n,writable:!1})}function te(e,t){for(let n=0;n<32;n++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function ne(e){return J(this,void 0,void 0,(function*(){const t=Object.keys(e).map((t=>{const n=e[t];return Promise.resolve(n).then((e=>({key:t,value:e})))}));return(yield Promise.all(t)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})}))}function re(e,t){e&&"object"==typeof e||Q.throwArgumentError("invalid object","object",e),Object.keys(e).forEach((n=>{t[n]||Q.throwArgumentError("invalid object key - "+n,"transaction:"+n,e)}))}function oe(e){const t={};for(const n in e)t[n]=e[n];return t}const ie={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function se(e){if(null==e||ie[typeof e])return!0;if(Array.isArray(e)||"object"==typeof e){if(!Object.isFrozen(e))return!1;const t=Object.keys(e);for(let n=0;n<t.length;n++){let r=null;try{r=e[t[n]]}catch(e){continue}if(!se(r))return!1}return!0}return Q.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function ae(e){if(se(e))return e;if(Array.isArray(e))return Object.freeze(e.map((e=>le(e))));if("object"==typeof e){const t={};for(const n in e){const r=e[n];void 0!==r&&ee(t,n,le(r))}return t}return Q.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function le(e){return ae(e)}class ce{constructor(e){for(const t in e)this[t]=le(e[t])}}const ue="abi/5.7.0",de=new v(ue);function he(e){const t=[],n=function(e,r){if(Array.isArray(r))for(let o in r){const i=e.slice();i.push(o);try{n(i,r[o])}catch(e){t.push({path:i,error:e})}}};return n([],e),t}class pe{constructor(e,t,n,r){this.name=e,this.type=t,this.localName=n,this.dynamic=r}_throwError(e,t){de.throwArgumentError(e,this.localName,t)}}class fe{constructor(e){ee(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return N(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(A(e._data))}writeBytes(e){let t=C(e);const n=t.length%this.wordSize;return n&&(t=A([t,this._padding.slice(n)])),this._writeData(t)}_getValue(e){let t=C(Z.from(e));return t.length>this.wordSize&&de.throwError("value out-of-bounds",v.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=A([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class me{constructor(e,t,n,r){ee(this,"_data",C(e)),ee(this,"wordSize",t||32),ee(this,"_coerceFunc",n),ee(this,"allowLoose",r),this._offset=0}get data(){return P(this._data)}get consumed(){return this._offset}static coerce(e,t){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):me.coerce(e,t)}_peekBytes(e,t,n){let r=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+r>this._data.length&&(this.allowLoose&&n&&this._offset+t<=this._data.length?r=t:de.throwError("data out-of-bounds",v.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+r})),this._data.slice(this._offset,this._offset+r)}subReader(e){return new me(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let n=this._peekBytes(0,e,!!t);return this._offset+=n.length,n.slice(0,e)}readValue(){return Z.from(this.readBytes(this.wordSize))}}var ge=n(8086),ve=n.n(ge);function ye(e){return"0x"+ve().keccak_256(C(e))}const be=new v("rlp/5.7.0");function we(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function xe(e,t,n){let r=0;for(let o=0;o<n;o++)r=256*r+e[t+o];return r}function Ee(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(Ee(e))})),t.length<=55)return t.unshift(192+t.length),t;const n=we(t.length);return n.unshift(247+n.length),n.concat(t)}x(e)||be.throwArgumentError("RLP object must be BytesLike","object",e);const t=Array.prototype.slice.call(C(e));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const n=we(t.length);return n.unshift(183+n.length),n.concat(t)}function Se(e){return P(Ee(e))}function Ce(e,t,n,r){const o=[];for(;n<t+1+r;){const i=Ae(e,n);o.push(i.result),(n+=i.consumed)>t+1+r&&be.throwError("child data too short",v.errors.BUFFER_OVERRUN,{})}return{consumed:1+r,result:o}}function Ae(e,t){if(0===e.length&&be.throwError("data too short",v.errors.BUFFER_OVERRUN,{}),e[t]>=248){const n=e[t]-247;t+1+n>e.length&&be.throwError("data short segment too short",v.errors.BUFFER_OVERRUN,{});const r=xe(e,t+1,n);return t+1+n+r>e.length&&be.throwError("data long segment too short",v.errors.BUFFER_OVERRUN,{}),Ce(e,t,t+1+n,n+r)}if(e[t]>=192){const n=e[t]-192;return t+1+n>e.length&&be.throwError("data array too short",v.errors.BUFFER_OVERRUN,{}),Ce(e,t,t+1,n)}if(e[t]>=184){const n=e[t]-183;t+1+n>e.length&&be.throwError("data array too short",v.errors.BUFFER_OVERRUN,{});const r=xe(e,t+1,n);return t+1+n+r>e.length&&be.throwError("data array too short",v.errors.BUFFER_OVERRUN,{}),{consumed:1+n+r,result:P(e.slice(t+1+n,t+1+n+r))}}if(e[t]>=128){const n=e[t]-128;return t+1+n>e.length&&be.throwError("data too short",v.errors.BUFFER_OVERRUN,{}),{consumed:1+n,result:P(e.slice(t+1,t+1+n))}}return{consumed:1,result:P(e[t])}}function _e(e){const t=C(e),n=Ae(t,0);return n.consumed!==t.length&&be.throwArgumentError("invalid rlp data","data",e),n.result}const ke=new v("address/5.7.0");function Te(e){T(e,20)||ke.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let e=0;e<40;e++)n[e]=t[e].charCodeAt(0);const r=C(ye(n));for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&r[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const Me={};for(let e=0;e<10;e++)Me[String(e)]=String(e);for(let e=0;e<26;e++)Me[String.fromCharCode(65+e)]=String(10+e);const Pe=Math.floor((Oe=9007199254740991,Math.log10?Math.log10(Oe):Math.log(Oe)/Math.LN10));var Oe;function Re(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>Me[e])).join("");for(;t.length>=Pe;){let e=t.substring(0,Pe);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}function Ne(e){let t=null;if("string"!=typeof e&&ke.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=Te(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&ke.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==Re(e)&&ke.throwArgumentError("bad icap checksum","address",e),n=e.substring(4),t=new j(n,36).toString(16);t.length<40;)t="0"+t;t=Te("0x"+t)}else ke.throwArgumentError("invalid address","address",e);var n;return t}function De(e){try{return Ne(e),!0}catch(e){}return!1}function Ie(e){let t=(n=Ne(e).substring(2),new j(n,16).toString(36)).toUpperCase();for(var n;t.length<30;)t="0"+t;return"XE"+Re("XE00"+t)+t}function Be(e){let t=null;try{t=Ne(e.from)}catch(t){ke.throwArgumentError("missing from address","transaction",e)}return Ne(R(ye(Se([t,_(C(Z.from(e.nonce).toHexString()))])),12))}function Fe(e,t,n){return 32!==O(t)&&ke.throwArgumentError("salt must be 32 bytes","salt",t),32!==O(n)&&ke.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",n),Ne(R(ye(A(["0xff",Ne(e),t,n])),12))}const Le=new v("strings/5.7.0");var He,ze;function Ve(e,t,n,r,o){if(e===ze.BAD_PREFIX||e===ze.UNEXPECTED_CONTINUE){let e=0;for(let r=t+1;r<n.length&&n[r]>>6==2;r++)e++;return e}return e===ze.OVERRUN?n.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(He||(He={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(ze||(ze={}));const je=Object.freeze({error:function(e,t,n,r,o){return Le.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",n)},ignore:Ve,replace:function(e,t,n,r,o){return e===ze.OVERLONG?(r.push(o),0):(r.push(65533),Ve(e,t,n))}});function Ue(e,t){null==t&&(t=je.error),e=C(e);const n=[];let r=0;for(;r<e.length;){const o=e[r++];if(o>>7==0){n.push(o);continue}let i=null,s=null;if(192==(224&o))i=1,s=127;else if(224==(240&o))i=2,s=2047;else{if(240!=(248&o)){r+=t(128==(192&o)?ze.UNEXPECTED_CONTINUE:ze.BAD_PREFIX,r-1,e,n);continue}i=3,s=65535}if(r-1+i>=e.length){r+=t(ze.OVERRUN,r-1,e,n);continue}let a=o&(1<<8-i-1)-1;for(let o=0;o<i;o++){let o=e[r];if(128!=(192&o)){r+=t(ze.MISSING_CONTINUE,r,e,n),a=null;break}a=a<<6|63&o,r++}null!==a&&(a>1114111?r+=t(ze.OUT_OF_RANGE,r-1-i,e,n,a):a>=55296&&a<=57343?r+=t(ze.UTF16_SURROGATE,r-1-i,e,n,a):a<=s?r+=t(ze.OVERLONG,r-1-i,e,n,a):n.push(a))}return n}function Ge(e,t=He.current){t!=He.current&&(Le.checkNormalize(),e=e.normalize(t));let n=[];for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r<128)n.push(r);else if(r<2048)n.push(r>>6|192),n.push(63&r|128);else if(55296==(64512&r)){t++;const o=e.charCodeAt(t);if(t>=e.length||56320!=(64512&o))throw new Error("invalid utf-8 string");const i=65536+((1023&r)<<10)+(1023&o);n.push(i>>18|240),n.push(i>>12&63|128),n.push(i>>6&63|128),n.push(63&i|128)}else n.push(r>>12|224),n.push(r>>6&63|128),n.push(63&r|128)}return C(n)}function qe(e){const t="0000"+e.toString(16);return"\\u"+t.substring(t.length-4)}function We(e,t){return'"'+Ue(e,t).map((e=>{if(e<256){switch(e){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(e>=32&&e<127)return String.fromCharCode(e)}return e<=65535?qe(e):qe(55296+((e-=65536)>>10&1023))+qe(56320+(1023&e))})).join("")+'"'}function Ze(e){return e.map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}function $e(e,t){return Ze(Ue(e,t))}function Ke(e,t=He.current){return Ue(Ge(e,t))}function Xe(e){return ye(Ge(e))}class Ye extends pe{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=Ne(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return Ne(B(e.readValue().toHexString(),20))}}class Je extends pe{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const Qe=new v(ue);function et(e,t,n){let r=null;if(Array.isArray(n))r=n;else if(n&&"object"==typeof n){let e={};r=t.map((t=>{const r=t.localName;return r||Qe.throwError("cannot encode object for signature with missing names",v.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:n}),e[r]&&Qe.throwError("cannot encode object for signature with duplicate names",v.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:n}),e[r]=!0,n[r]}))}else Qe.throwArgumentError("invalid tuple value","tuple",n);t.length!==r.length&&Qe.throwArgumentError("types/value length mismatch","tuple",n);let o=new fe(e.wordSize),i=new fe(e.wordSize),s=[];t.forEach(((e,t)=>{let n=r[t];if(e.dynamic){let t=i.length;e.encode(i,n);let r=o.writeUpdatableValue();s.push((e=>{r(e+t)}))}else e.encode(o,n)})),s.forEach((e=>{e(o.length)}));let a=e.appendWriter(o);return a+=e.appendWriter(i),a}function tt(e,t){let n=[],r=e.subReader(0);t.forEach((t=>{let o=null;if(t.dynamic){let n=e.readValue(),i=r.subReader(n.toNumber());try{o=t.decode(i)}catch(e){if(e.code===v.errors.BUFFER_OVERRUN)throw e;o=e,o.baseType=t.name,o.name=t.localName,o.type=t.type}}else try{o=t.decode(e)}catch(e){if(e.code===v.errors.BUFFER_OVERRUN)throw e;o=e,o.baseType=t.name,o.name=t.localName,o.type=t.type}null!=o&&n.push(o)}));const o=t.reduce(((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});t.forEach(((e,t)=>{let r=e.localName;if(!r||1!==o[r])return;if("length"===r&&(r="_length"),null!=n[r])return;const i=n[t];i instanceof Error?Object.defineProperty(n,r,{enumerable:!0,get:()=>{throw i}}):n[r]=i}));for(let e=0;e<n.length;e++){const t=n[e];t instanceof Error&&Object.defineProperty(n,e,{enumerable:!0,get:()=>{throw t}})}return Object.freeze(n)}class nt extends pe{constructor(e,t,n){super("array",e.type+"["+(t>=0?t:"")+"]",n,-1===t||e.dynamic),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let n=this.length;-1===n&&(n=t.length,e.writeValue(t.length)),Qe.checkArgumentCount(t.length,n,"coder array"+(this.localName?" "+this.localName:""));let r=[];for(let e=0;e<t.length;e++)r.push(this.coder);return et(e,r,t)}decode(e){let t=this.length;-1===t&&(t=e.readValue().toNumber(),32*t>e._data.length&&Qe.throwError("insufficient data length",v.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let n=[];for(let e=0;e<t;e++)n.push(new Je(this.coder));return e.coerce(this.name,tt(e,n))}}class rt extends pe{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class ot extends pe{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=C(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class it extends ot{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,P(super.decode(e)))}}class st extends pe{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let n=C(t);return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return e.coerce(this.name,P(e.readBytes(this.size)))}}class at extends pe{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const lt=Z.from(-1),ct=Z.from(0),ut=Z.from(1),dt=Z.from(2),ht=Z.from("1000000000000000000"),pt=Z.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),ft=Z.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),mt=Z.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class gt extends pe{constructor(e,t,n){const r=(t?"int":"uint")+8*e;super(r,r,n,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let n=Z.from(t),r=pt.mask(8*e.wordSize);if(this.signed){let e=r.mask(8*this.size-1);(n.gt(e)||n.lt(e.add(ut).mul(lt)))&&this._throwError("value out-of-bounds",t)}else(n.lt(ct)||n.gt(r.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(8*this.size).mask(8*this.size),this.signed&&(n=n.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}class vt extends ot{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Ge(t))}decode(e){return $e(super.decode(e))}}class yt extends pe{constructor(e,t){let n=!1;const r=[];e.forEach((e=>{e.dynamic&&(n=!0),r.push(e.type)})),super("tuple","tuple("+r.join(",")+")",t,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});return this.coders.forEach(((n,r)=>{let o=n.localName;o&&1===t[o]&&("length"===o&&(o="_length"),null==e[o]&&(e[o]=e[r]))})),Object.freeze(e)}encode(e,t){return et(e,this.coders,t)}decode(e){return e.coerce(this.name,tt(e,this.coders))}}const bt=new v(ue),wt={};let xt={calldata:!0,memory:!0,storage:!0},Et={calldata:!0,memory:!0};function St(e,t){if("bytes"===e||"string"===e){if(xt[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&Et[t])return!0;return(xt[t]||"payable"===t)&&bt.throwArgumentError("invalid modifier","name",t),!1}function Ct(e,t){for(let n in t)ee(e,n,t[n])}const At=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),_t=new RegExp(/^(.*)\[([0-9]*)\]$/);class kt{constructor(e,t){e!==wt&&bt.throwError("use fromString",v.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Ct(this,t);let n=this.type.match(_t);Ct(this,n?{arrayLength:parseInt(n[2]||"-1"),arrayChildren:kt.fromObject({type:n[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=At.sighash),At[e]||bt.throwArgumentError("invalid format type","format",e),e===At.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(t)}let t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==At.sighash&&(t+=this.type),t+="("+this.components.map((t=>t.format(e))).join(e===At.full?", ":",")+")"):t+=this.type,e!==At.sighash&&(!0===this.indexed&&(t+=" indexed"),e===At.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"==typeof e?kt.fromString(e,t):kt.fromObject(e)}static fromObject(e){return kt.isParamType(e)?e:new kt(wt,{name:e.name||null,type:Lt(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(kt.fromObject):null})}static fromString(e,t){return n=function(e,t){let n=e;function r(t){bt.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function o(e){let n={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(n.indexed=!1),n}e=e.replace(/\s/g," ");let i={type:"",name:"",state:{allowType:!0}},s=i;for(let n=0;n<e.length;n++){let i=e[n];switch(i){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||r(n),s.state.allowType=!1,s.type=Lt(s.type),s.components=[o(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(t||r(n),s.indexed=!0,s.name=""),St(s.type,s.name)&&(s.name=""),s.type=Lt(s.type);let e=s;s=s.parent,s||r(n),delete e.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(t||r(n),s.indexed=!0,s.name=""),St(s.type,s.name)&&(s.name=""),s.type=Lt(s.type);let a=o(s.parent);s.parent.components.push(a),delete s.parent,s=a;break;case" ":s.state.allowType&&""!==s.type&&(s.type=Lt(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(t||r(n),s.indexed&&r(n),s.indexed=!0,s.name=""):St(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||r(n),s.type+=i,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||r(n),s.type+=i,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=i,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=i,delete s.state.allowArray):s.state.readArray?s.type+=i:r(n)}}return s.parent&&bt.throwArgumentError("unexpected eof","param",e),delete i.state,"indexed"===s.name?(t||r(n.length-7),s.indexed&&r(n.length-7),s.indexed=!0,s.name=""):St(s.type,s.name)&&(s.name=""),i.type=Lt(i.type),i}(e,!!t),kt.fromObject({name:n.name,type:n.type,indexed:n.indexed,components:n.components});var n}static isParamType(e){return!(null==e||!e._isParamType)}}function Tt(e,t){return function(e){e=e.trim();let t=[],n="",r=0;for(let o=0;o<e.length;o++){let i=e[o];","===i&&0===r?(t.push(n),n=""):(n+=i,"("===i?r++:")"===i&&(r--,-1===r&&bt.throwArgumentError("unbalanced parenthesis","value",e)))}return n&&t.push(n),t}(e).map((e=>kt.fromString(e,t)))}class Mt{constructor(e,t){e!==wt&&bt.throwError("use a static from method",v.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Ct(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return Mt.isFragment(e)?e:"string"==typeof e?Mt.fromString(e):Mt.fromObject(e)}static fromObject(e){if(Mt.isFragment(e))return e;switch(e.type){case"function":return It.fromObject(e);case"event":return Pt.fromObject(e);case"constructor":return Dt.fromObject(e);case"error":return Ft.fromObject(e);case"fallback":case"receive":return null}return bt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?Pt.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?It.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?Dt.fromString(e.trim()):"error"===e.split(" ")[0]?Ft.fromString(e.substring(5).trim()):bt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!(!e||!e._isFragment)}}class Pt extends Mt{format(e){if(e||(e=At.sighash),At[e]||bt.throwArgumentError("invalid format type","format",e),e===At.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==At.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===At.full?", ":",")+") ",e!==At.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"==typeof e?Pt.fromString(e):Pt.fromObject(e)}static fromObject(e){if(Pt.isEventFragment(e))return e;"event"!==e.type&&bt.throwArgumentError("invalid event object","value",e);const t={name:zt(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(kt.fromObject):[],type:"event"};return new Pt(wt,t)}static fromString(e){let t=e.match(Vt);t||bt.throwArgumentError("invalid event string","value",e);let n=!1;return t[3].split(" ").forEach((e=>{switch(e.trim()){case"anonymous":n=!0;break;case"":break;default:bt.warn("unknown modifier: "+e)}})),Pt.fromObject({name:t[1].trim(),anonymous:n,inputs:Tt(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function Ot(e,t){t.gas=null;let n=e.split("@");return 1!==n.length?(n.length>2&&bt.throwArgumentError("invalid human-readable ABI signature","value",e),n[1].match(/^[0-9]+$/)||bt.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=Z.from(n[1]),n[0]):e}function Rt(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach((e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}}))}function Nt(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&bt.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&bt.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||bt.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&bt.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&bt.throwArgumentError("unable to determine stateMutability","value",e),t}class Dt extends Mt{format(e){if(e||(e=At.sighash),At[e]||bt.throwArgumentError("invalid format type","format",e),e===At.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});e===At.sighash&&bt.throwError("cannot format a constructor for sighash",v.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map((t=>t.format(e))).join(e===At.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"==typeof e?Dt.fromString(e):Dt.fromObject(e)}static fromObject(e){if(Dt.isConstructorFragment(e))return e;"constructor"!==e.type&&bt.throwArgumentError("invalid constructor object","value",e);let t=Nt(e);t.constant&&bt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(kt.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?Z.from(e.gas):null};return new Dt(wt,n)}static fromString(e){let t={type:"constructor"},n=(e=Ot(e,t)).match(Vt);return n&&"constructor"===n[1].trim()||bt.throwArgumentError("invalid constructor string","value",e),t.inputs=Tt(n[2].trim(),!1),Rt(n[3].trim(),t),Dt.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class It extends Dt{format(e){if(e||(e=At.sighash),At[e]||bt.throwArgumentError("invalid format type","format",e),e===At.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==At.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===At.full?", ":",")+") ",e!==At.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map((t=>t.format(e))).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"==typeof e?It.fromString(e):It.fromObject(e)}static fromObject(e){if(It.isFunctionFragment(e))return e;"function"!==e.type&&bt.throwArgumentError("invalid function object","value",e);let t=Nt(e);const n={type:e.type,name:zt(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(kt.fromObject):[],outputs:e.outputs?e.outputs.map(kt.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?Z.from(e.gas):null};return new It(wt,n)}static fromString(e){let t={type:"function"},n=(e=Ot(e,t)).split(" returns ");n.length>2&&bt.throwArgumentError("invalid function string","value",e);let r=n[0].match(Vt);if(r||bt.throwArgumentError("invalid function signature","value",e),t.name=r[1].trim(),t.name&&zt(t.name),t.inputs=Tt(r[2],!1),Rt(r[3].trim(),t),n.length>1){let r=n[1].match(Vt);""==r[1].trim()&&""==r[3].trim()||bt.throwArgumentError("unexpected tokens","value",e),t.outputs=Tt(r[2],!1)}else t.outputs=[];return It.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function Bt(e){const t=e.format();return"Error(string)"!==t&&"Panic(uint256)"!==t||bt.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class Ft extends Mt{format(e){if(e||(e=At.sighash),At[e]||bt.throwArgumentError("invalid format type","format",e),e===At.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==At.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===At.full?", ":",")+") ",t.trim()}static from(e){return"string"==typeof e?Ft.fromString(e):Ft.fromObject(e)}static fromObject(e){if(Ft.isErrorFragment(e))return e;"error"!==e.type&&bt.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:zt(e.name),inputs:e.inputs?e.inputs.map(kt.fromObject):[]};return Bt(new Ft(wt,t))}static fromString(e){let t={type:"error"},n=e.match(Vt);return n||bt.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&zt(t.name),t.inputs=Tt(n[2],!1),Bt(Ft.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function Lt(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}const Ht=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function zt(e){return e&&e.match(Ht)||bt.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}const Vt=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$"),jt=new v(ue),Ut=new RegExp(/^bytes([0-9]*)$/),Gt=new RegExp(/^(u?int)([0-9]*)$/);class qt{constructor(e){ee(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new Ye(e.name);case"bool":return new rt(e.name);case"string":return new vt(e.name);case"bytes":return new it(e.name);case"array":return new nt(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new yt((e.components||[]).map((e=>this._getCoder(e))),e.name);case"":return new at(e.name)}let t=e.type.match(Gt);if(t){let n=parseInt(t[2]||"256");return(0===n||n>256||n%8!=0)&&jt.throwArgumentError("invalid "+t[1]+" bit length","param",e),new gt(n/8,"int"===t[1],e.name)}if(t=e.type.match(Ut),t){let n=parseInt(t[1]);return(0===n||n>32)&&jt.throwArgumentError("invalid bytes length","param",e),new st(n,e.name)}return jt.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new me(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new fe(this._getWordSize())}getDefaultValue(e){const t=e.map((e=>this._getCoder(kt.from(e))));return new yt(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&jt.throwError("types/values length mismatch",v.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const n=e.map((e=>this._getCoder(kt.from(e)))),r=new yt(n,"_"),o=this._getWriter();return r.encode(o,t),o.data}decode(e,t,n){const r=e.map((e=>this._getCoder(kt.from(e))));return new yt(r,"_").decode(this._getReader(C(t),n))}}const Wt=new qt,Zt=new v(ue);class $t extends ce{}class Kt extends ce{}class Xt extends ce{}class Yt extends ce{static isIndexed(e){return!(!e||!e._isIndexed)}}const Jt={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Qt(e,t){const n=new Error(`deferred error during ABI decoding triggered accessing ${e}`);return n.error=t,n}class en{constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,ee(this,"fragments",t.map((e=>Mt.from(e))).filter((e=>null!=e))),ee(this,"_abiCoder",te(new.target,"getAbiCoder")()),ee(this,"functions",{}),ee(this,"errors",{}),ee(this,"events",{}),ee(this,"structs",{}),this.fragments.forEach((e=>{let t=null;switch(e.type){case"constructor":return this.deploy?void Zt.warn("duplicate definition - constructor"):void ee(this,"deploy",e);case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let n=e.format();t[n]?Zt.warn("duplicate definition - "+n):t[n]=e})),this.deploy||ee(this,"deploy",Dt.from({payable:!1,type:"constructor"})),ee(this,"_isInterface",!0)}format(e){e||(e=At.full),e===At.sighash&&Zt.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map((t=>t.format(e)));return e===At.json?JSON.stringify(t.map((e=>JSON.parse(e)))):t}static getAbiCoder(){return Wt}static getAddress(e){return Ne(e)}static getSighash(e){return R(Xe(e.format()),0,4)}static getEventTopic(e){return Xe(e.format())}getFunction(e){if(T(e)){for(const t in this.functions)if(e===this.getSighash(t))return this.functions[t];Zt.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),n=Object.keys(this.functions).filter((e=>e.split("(")[0]===t));return 0===n.length?Zt.throwArgumentError("no matching function","name",t):n.length>1&&Zt.throwArgumentError("multiple matching functions","name",t),this.functions[n[0]]}const t=this.functions[It.fromString(e).format()];return t||Zt.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(T(e)){const t=e.toLowerCase();for(const e in this.events)if(t===this.getEventTopic(e))return this.events[e];Zt.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){const t=e.trim(),n=Object.keys(this.events).filter((e=>e.split("(")[0]===t));return 0===n.length?Zt.throwArgumentError("no matching event","name",t):n.length>1&&Zt.throwArgumentError("multiple matching events","name",t),this.events[n[0]]}const t=this.events[Pt.fromString(e).format()];return t||Zt.throwArgumentError("no matching event","signature",e),t}getError(e){if(T(e)){const t=te(this.constructor,"getSighash");for(const n in this.errors)if(e===t(this.errors[n]))return this.errors[n];Zt.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),n=Object.keys(this.errors).filter((e=>e.split("(")[0]===t));return 0===n.length?Zt.throwArgumentError("no matching error","name",t):n.length>1&&Zt.throwArgumentError("multiple matching errors","name",t),this.errors[n[0]]}const t=this.errors[It.fromString(e).format()];return t||Zt.throwArgumentError("no matching error","signature",e),t}getSighash(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(e){throw t}}return te(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"==typeof e&&(e=this.getEvent(e)),te(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){"string"==typeof e&&(e=this.getError(e));const n=C(t);return P(n.slice(0,4))!==this.getSighash(e)&&Zt.throwArgumentError(`data signature does not match error ${e.name}.`,"data",P(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,t){return"string"==typeof e&&(e=this.getError(e)),P(A([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){"string"==typeof e&&(e=this.getFunction(e));const n=C(t);return P(n.slice(0,4))!==this.getSighash(e)&&Zt.throwArgumentError(`data signature does not match function ${e.name}.`,"data",P(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,t){return"string"==typeof e&&(e=this.getFunction(e)),P(A([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"==typeof e&&(e=this.getFunction(e));let n=C(t),r=null,o="",i=null,s=null,a=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch(e){}break;case 4:{const e=P(n.slice(0,4)),t=Jt[e];if(t)i=this._abiCoder.decode(t.inputs,n.slice(4)),s=t.name,a=t.signature,t.reason&&(r=i[0]),"Error"===s?o=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(i[0])}`:"Panic"===s&&(o=`; VM Exception while processing transaction: reverted with panic code ${i[0]}`);else try{const t=this.getError(e);i=this._abiCoder.decode(t.inputs,n.slice(4)),s=t.name,a=t.format()}catch(e){}break}}return Zt.throwError("call revert exception"+o,v.errors.CALL_EXCEPTION,{method:e.format(),data:P(t),errorArgs:i,errorName:s,errorSignature:a,reason:r})}encodeFunctionResult(e,t){return"string"==typeof e&&(e=this.getFunction(e)),P(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&Zt.throwError("too many arguments for "+e.format(),v.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let n=[];e.anonymous||n.push(this.getEventTopic(e));const r=(e,t)=>"string"===e.type?Xe(t):"bytes"===e.type?ye(P(t)):("bool"===e.type&&"boolean"==typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=Z.from(t).toHexString()),"address"===e.type&&this._abiCoder.encode(["address"],[t]),B(P(t),32));for(t.forEach(((t,o)=>{let i=e.inputs[o];i.indexed?null==t?n.push(null):"array"===i.baseType||"tuple"===i.baseType?Zt.throwArgumentError("filtering with tuples or arrays not supported","contract."+i.name,t):Array.isArray(t)?n.push(t.map((e=>r(i,e)))):n.push(r(i,t)):null!=t&&Zt.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+i.name,t)}));n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(e,t){"string"==typeof e&&(e=this.getEvent(e));const n=[],r=[],o=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&Zt.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach(((e,i)=>{const s=t[i];if(e.indexed)if("string"===e.type)n.push(Xe(s));else if("bytes"===e.type)n.push(ye(s));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(this._abiCoder.encode([e.type],[s]))}else r.push(e),o.push(s)})),{data:this._abiCoder.encode(r,o),topics:n}}decodeEventLog(e,t,n){if("string"==typeof e&&(e=this.getEvent(e)),null!=n&&!e.anonymous){let t=this.getEventTopic(e);T(n[0],32)&&n[0].toLowerCase()===t||Zt.throwError("fragment/topic mismatch",v.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:n[0]}),n=n.slice(1)}let r=[],o=[],i=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(r.push(kt.fromObject({type:"bytes32",name:e.name})),i.push(!0)):(r.push(e),i.push(!1)):(o.push(e),i.push(!1))}));let s=null!=n?this._abiCoder.decode(r,A(n)):null,a=this._abiCoder.decode(o,t,!0),l=[],c=0,u=0;e.inputs.forEach(((e,t)=>{if(e.indexed)if(null==s)l[t]=new Yt({_isIndexed:!0,hash:null});else if(i[t])l[t]=new Yt({_isIndexed:!0,hash:s[u++]});else try{l[t]=s[u++]}catch(e){l[t]=e}else try{l[t]=a[c++]}catch(e){l[t]=e}if(e.name&&null==l[e.name]){const n=l[t];n instanceof Error?Object.defineProperty(l,e.name,{enumerable:!0,get:()=>{throw Qt(`property ${JSON.stringify(e.name)}`,n)}}):l[e.name]=n}}));for(let e=0;e<l.length;e++){const t=l[e];t instanceof Error&&Object.defineProperty(l,e,{enumerable:!0,get:()=>{throw Qt(`index ${e}`,t)}})}return Object.freeze(l)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new Kt({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:Z.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new $t({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=P(e);let n=this.getError(t.substring(0,10).toLowerCase());return n?new Xt({args:this._abiCoder.decode(n.inputs,"0x"+t.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!(!e||!e._isInterface)}}const tn=new v("abstract-provider/5.7.0");class nn extends ce{static isForkEvent(e){return!(!e||!e._isForkEvent)}}class rn{constructor(){tn.checkAbstract(new.target,rn),ee(this,"_isProvider",!0)}getFeeData(){return e=this,t=void 0,r=function*(){const{block:e,gasPrice:t}=yield ne({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((e=>null))});let n=null,r=null,o=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,o=Z.from("1500000000"),r=e.baseFeePerGas.mul(2).add(o)),{lastBaseFeePerGas:n,maxFeePerGas:r,maxPriorityFeePerGas:o,gasPrice:t}},new((n=void 0)||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}));var e,t,n,r}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!(!e||!e._isProvider)}}var on=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const sn=new v("abstract-signer/5.7.0"),an=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],ln=[v.errors.INSUFFICIENT_FUNDS,v.errors.NONCE_EXPIRED,v.errors.REPLACEMENT_UNDERPRICED];class cn{constructor(){sn.checkAbstract(new.target,cn),ee(this,"_isSigner",!0)}getBalance(e){return on(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)}))}getTransactionCount(e){return on(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)}))}estimateGas(e){return on(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const t=yield ne(this.checkTransaction(e));return yield this.provider.estimateGas(t)}))}call(e,t){return on(this,void 0,void 0,(function*(){this._checkProvider("call");const n=yield ne(this.checkTransaction(e));return yield this.provider.call(n,t)}))}sendTransaction(e){return on(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),n=yield this.signTransaction(t);return yield this.provider.sendTransaction(n)}))}getChainId(){return on(this,void 0,void 0,(function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return on(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return on(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(e){return on(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)}))}checkTransaction(e){for(const t in e)-1===an.indexOf(t)&&sn.throwArgumentError("invalid transaction key: "+t,"transaction",e);const t=oe(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then((t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&sn.throwArgumentError("from address mismatch","transaction",e),t[0]))),t}populateTransaction(e){return on(this,void 0,void 0,(function*(){const t=yield ne(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then((e=>on(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.resolveName(e);return null==t&&sn.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})))),t.to.catch((e=>{})));const n=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null==t.gasPrice||2!==t.type&&!n?0!==t.type&&1!==t.type||!n||sn.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e):sn.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e),2!==t.type&&null!=t.type||null==t.maxFeePerGas||null==t.maxPriorityFeePerGas)if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{const e=yield this.getFeeData();if(null==t.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(t.type=2,null!=t.gasPrice){const e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(n&&sn.throwError("network does not support EIP-1559",v.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):sn.throwError("failed to get consistent fee data",v.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else t.type=2;return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch((e=>{if(ln.indexOf(e.code)>=0)throw e;return sn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",v.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})}))),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then((t=>(0!==t[1]&&t[0]!==t[1]&&sn.throwArgumentError("chainId address mismatch","transaction",e),t[0]))),yield ne(t)}))}_checkProvider(e){this.provider||sn.throwError("missing provider",v.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!(!e||!e._isSigner)}}class un extends cn{constructor(e,t){super(),ee(this,"address",e),ee(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then((()=>{sn.throwError(e,v.errors.UNSUPPORTED_OPERATION,{operation:t})}))}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new un(this.address,e)}}var dn=n(6204),hn=n.n(dn);function pn(e,t,n){return n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},e(n,n.exports),n.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self&&self;var fn=mn;function mn(e,t){if(!e)throw new Error(t||"Assertion failed")}mn.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var gn=pn((function(e,t){var n=t;function r(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!=typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16));else for(r=0;r<e.length;r++){var o=e.charCodeAt(r),i=o>>8,s=255&o;i?n.push(i,s):n.push(s)}return n},n.zero2=r,n.toHex=o,n.encode=function(e,t){return"hex"===t?o(e):e}})),vn=pn((function(e,t){var n=t;n.assert=fn,n.toArray=gn.toArray,n.zero2=gn.zero2,n.toHex=gn.toHex,n.encode=gn.encode,n.getNAF=function(e,t,n){var r=new Array(Math.max(e.bitLength(),n)+1);r.fill(0);for(var o=1<<t+1,i=e.clone(),s=0;s<r.length;s++){var a,l=i.andln(o-1);i.isOdd()?(a=l>(o>>1)-1?(o>>1)-l:l,i.isubn(a)):a=0,r[s]=a,i.iushrn(1)}return r},n.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r,o=0,i=0;e.cmpn(-o)>0||t.cmpn(-i)>0;){var s,a,l=e.andln(3)+o&3,c=t.andln(3)+i&3;3===l&&(l=-1),3===c&&(c=-1),s=0==(1&l)?0:3!=(r=e.andln(7)+o&7)&&5!==r||2!==c?l:-l,n[0].push(s),a=0==(1&c)?0:3!=(r=t.andln(7)+i&7)&&5!==r||2!==l?c:-c,n[1].push(a),2*o===s+1&&(o=1-o),2*i===a+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return n},n.cachedProperty=function(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new(z())(e,"hex","le")}})),yn=vn.getNAF,bn=vn.getJSF,wn=vn.assert;function xn(e,t){this.type=e,this.p=new(z())(t.p,16),this.red=t.prime?z().red(t.prime):z().mont(this.p),this.zero=new(z())(0).toRed(this.red),this.one=new(z())(1).toRed(this.red),this.two=new(z())(2).toRed(this.red),this.n=t.n&&new(z())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var En=xn;function Sn(e,t){this.curve=e,this.type=t,this.precomputed=null}xn.prototype.point=function(){throw new Error("Not implemented")},xn.prototype.validate=function(){throw new Error("Not implemented")},xn.prototype._fixedNafMul=function(e,t){wn(e.precomputed);var n=e._getDoubles(),r=yn(t,1,this._bitLength),o=(1<<n.step+1)-(n.step%2==0?2:1);o/=3;var i,s,a=[];for(i=0;i<r.length;i+=n.step){s=0;for(var l=i+n.step-1;l>=i;l--)s=(s<<1)+r[l];a.push(s)}for(var c=this.jpoint(null,null,null),u=this.jpoint(null,null,null),d=o;d>0;d--){for(i=0;i<a.length;i++)(s=a[i])===d?u=u.mixedAdd(n.points[i]):s===-d&&(u=u.mixedAdd(n.points[i].neg()));c=c.add(u)}return c.toP()},xn.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var o=r.points,i=yn(t,n,this._bitLength),s=this.jpoint(null,null,null),a=i.length-1;a>=0;a--){for(var l=0;a>=0&&0===i[a];a--)l++;if(a>=0&&l++,s=s.dblp(l),a<0)break;var c=i[a];wn(0!==c),s="affine"===e.type?c>0?s.mixedAdd(o[c-1>>1]):s.mixedAdd(o[-c-1>>1].neg()):c>0?s.add(o[c-1>>1]):s.add(o[-c-1>>1].neg())}return"affine"===e.type?s.toP():s},xn.prototype._wnafMulAdd=function(e,t,n,r,o){var i,s,a,l=this._wnafT1,c=this._wnafT2,u=this._wnafT3,d=0;for(i=0;i<r;i++){var h=(a=t[i])._getNAFPoints(e);l[i]=h.wnd,c[i]=h.points}for(i=r-1;i>=1;i-=2){var p=i-1,f=i;if(1===l[p]&&1===l[f]){var m=[t[p],null,null,t[f]];0===t[p].y.cmp(t[f].y)?(m[1]=t[p].add(t[f]),m[2]=t[p].toJ().mixedAdd(t[f].neg())):0===t[p].y.cmp(t[f].y.redNeg())?(m[1]=t[p].toJ().mixedAdd(t[f]),m[2]=t[p].add(t[f].neg())):(m[1]=t[p].toJ().mixedAdd(t[f]),m[2]=t[p].toJ().mixedAdd(t[f].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=bn(n[p],n[f]);for(d=Math.max(v[0].length,d),u[p]=new Array(d),u[f]=new Array(d),s=0;s<d;s++){var y=0|v[0][s],b=0|v[1][s];u[p][s]=g[3*(y+1)+(b+1)],u[f][s]=0,c[p]=m}}else u[p]=yn(n[p],l[p],this._bitLength),u[f]=yn(n[f],l[f],this._bitLength),d=Math.max(u[p].length,d),d=Math.max(u[f].length,d)}var w=this.jpoint(null,null,null),x=this._wnafT4;for(i=d;i>=0;i--){for(var E=0;i>=0;){var S=!0;for(s=0;s<r;s++)x[s]=0|u[s][i],0!==x[s]&&(S=!1);if(!S)break;E++,i--}if(i>=0&&E++,w=w.dblp(E),i<0)break;for(s=0;s<r;s++){var C=x[s];0!==C&&(C>0?a=c[s][C-1>>1]:C<0&&(a=c[s][-C-1>>1].neg()),w="affine"===a.type?w.mixedAdd(a):w.add(a))}}for(i=0;i<r;i++)c[i]=null;return o?w:w.toP()},xn.BasePoint=Sn,Sn.prototype.eq=function(){throw new Error("Not implemented")},Sn.prototype.validate=function(){return this.curve.validate(this)},xn.prototype.decodePoint=function(e,t){e=vn.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*n)return 6===e[0]?wn(e[e.length-1]%2==0):7===e[0]&&wn(e[e.length-1]%2==1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},Sn.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Sn.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},Sn.prototype.encode=function(e,t){return vn.encode(this._encode(t),e)},Sn.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Sn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},Sn.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,o=0;o<t;o+=e){for(var i=0;i<e;i++)r=r.dbl();n.push(r)}return{step:e,points:n}},Sn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),o=1;o<n;o++)t[o]=t[o-1].add(r);return{wnd:e,points:t}},Sn.prototype._getBeta=function(){return null},Sn.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var Cn=pn((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}})),An=vn.assert;function _n(e){En.call(this,"short",e),this.a=new(z())(e.a,16).toRed(this.red),this.b=new(z())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Cn(_n,En);var kn=_n;function Tn(e,t,n,r){En.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new(z())(t,16),this.y=new(z())(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Mn(e,t,n,r){En.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(z())(0)):(this.x=new(z())(t,16),this.y=new(z())(n,16),this.z=new(z())(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}_n.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new(z())(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)n=new(z())(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?n=o[0]:(n=o[1],An(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map((function(e){return{a:new(z())(e.a,16),b:new(z())(e.b,16)}})):this._getEndoBasis(n)}}},_n.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:z().mont(e),n=new(z())(2).toRed(t).redInvm(),r=n.redNeg(),o=new(z())(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(o).fromRed(),r.redSub(o).fromRed()]},_n.prototype._getEndoBasis=function(e){for(var t,n,r,o,i,s,a,l,c,u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,h=this.n.clone(),p=new(z())(1),f=new(z())(0),m=new(z())(0),g=new(z())(1),v=0;0!==d.cmpn(0);){var y=h.div(d);l=h.sub(y.mul(d)),c=m.sub(y.mul(p));var b=g.sub(y.mul(f));if(!r&&l.cmp(u)<0)t=a.neg(),n=p,r=l.neg(),o=c;else if(r&&2==++v)break;a=l,h=d,d=l,m=p,p=c,g=f,f=b}i=l.neg(),s=c;var w=r.sqr().add(o.sqr());return i.sqr().add(s.sqr()).cmp(w)>=0&&(i=t,s=n),r.negative&&(r=r.neg(),o=o.neg()),i.negative&&(i=i.neg(),s=s.neg()),[{a:r,b:o},{a:i,b:s}]},_n.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],o=r.b.mul(e).divRound(this.n),i=n.b.neg().mul(e).divRound(this.n),s=o.mul(n.a),a=i.mul(r.a),l=o.mul(n.b),c=i.mul(r.b);return{k1:e.sub(s).sub(a),k2:l.add(c).neg()}},_n.prototype.pointFromX=function(e,t){(e=new(z())(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=r.fromRed().isOdd();return(t&&!o||!t&&o)&&(r=r.redNeg()),this.point(e,r)},_n.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),o=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(o).cmpn(0)},_n.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,o=this._endoWnafT2,i=0;i<e.length;i++){var s=this._endoSplit(t[i]),a=e[i],l=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),l=l.neg(!0)),r[2*i]=a,r[2*i+1]=l,o[2*i]=s.k1,o[2*i+1]=s.k2}for(var c=this._wnafMulAdd(1,r,o,2*i,n),u=0;u<2*i;u++)r[u]=null,o[u]=null;return c},Cn(Tn,En.BasePoint),_n.prototype.point=function(e,t,n){return new Tn(this,e,t,n)},_n.prototype.pointFromJSON=function(e,t){return Tn.fromJSON(this,e,t)},Tn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},Tn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Tn.fromJSON=function(e,t,n){"string"==typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],n);if(!t[2])return r;function o(t){return e.point(t[0],t[1],n)}var i=t[2];return r.precomputed={beta:null,doubles:i.doubles&&{step:i.doubles.step,points:[r].concat(i.doubles.points.map(o))},naf:i.naf&&{wnd:i.naf.wnd,points:[r].concat(i.naf.points.map(o))}},r},Tn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Tn.prototype.isInfinity=function(){return this.inf},Tn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},Tn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),i=o.redSqr().redISub(this.x.redAdd(this.x)),s=o.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,s)},Tn.prototype.getX=function(){return this.x.fromRed()},Tn.prototype.getY=function(){return this.y.fromRed()},Tn.prototype.mul=function(e){return e=new(z())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Tn.prototype.mulAdd=function(e,t,n){var r=[this,t],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,o):this.curve._wnafMulAdd(1,r,o,2)},Tn.prototype.jmulAdd=function(e,t,n){var r=[this,t],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,o,!0):this.curve._wnafMulAdd(1,r,o,2,!0)},Tn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Tn.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},Tn.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Cn(Mn,En.BasePoint),_n.prototype.jpoint=function(e,t,n){return new Mn(this,e,t,n)},Mn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},Mn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Mn.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),o=e.x.redMul(n),i=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(n.redMul(this.z)),a=r.redSub(o),l=i.redSub(s);if(0===a.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),d=r.redMul(c),h=l.redSqr().redIAdd(u).redISub(d).redISub(d),p=l.redMul(d.redISub(h)).redISub(i.redMul(u)),f=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(h,p,f)},Mn.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),o=this.y,i=e.y.redMul(t).redMul(this.z),s=n.redSub(r),a=o.redSub(i);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),c=l.redMul(s),u=n.redMul(l),d=a.redSqr().redIAdd(c).redISub(u).redISub(u),h=a.redMul(u.redISub(d)).redISub(o.redMul(c)),p=this.z.redMul(s);return this.curve.jpoint(d,h,p)},Mn.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var r=this.curve.a,o=this.curve.tinv,i=this.x,s=this.y,a=this.z,l=a.redSqr().redSqr(),c=s.redAdd(s);for(t=0;t<e;t++){var u=i.redSqr(),d=c.redSqr(),h=d.redSqr(),p=u.redAdd(u).redIAdd(u).redIAdd(r.redMul(l)),f=i.redMul(d),m=p.redSqr().redISub(f.redAdd(f)),g=f.redISub(m),v=p.redMul(g);v=v.redIAdd(v).redISub(h);var y=c.redMul(a);t+1<e&&(l=l.redMul(h)),i=m,a=y,c=v}return this.curve.jpoint(i,c.redMul(o),a)},Mn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Mn.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),o=this.y.redSqr(),i=o.redSqr(),s=this.x.redAdd(o).redSqr().redISub(r).redISub(i);s=s.redIAdd(s);var a=r.redAdd(r).redIAdd(r),l=a.redSqr().redISub(s).redISub(s),c=i.redIAdd(i);c=(c=c.redIAdd(c)).redIAdd(c),e=l,t=a.redMul(s.redISub(l)).redISub(c),n=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),p=this.x.redAdd(d).redSqr().redISub(u).redISub(h);p=p.redIAdd(p);var f=u.redAdd(u).redIAdd(u),m=f.redSqr(),g=h.redIAdd(h);g=(g=g.redIAdd(g)).redIAdd(g),e=m.redISub(p).redISub(p),t=f.redMul(p.redISub(e)).redISub(g),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},Mn.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),o=this.y.redSqr(),i=o.redSqr(),s=this.x.redAdd(o).redSqr().redISub(r).redISub(i);s=s.redIAdd(s);var a=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),l=a.redSqr().redISub(s).redISub(s);e=l;var c=i.redIAdd(i);c=(c=c.redIAdd(c)).redIAdd(c),t=a.redMul(s.redISub(l)).redISub(c),n=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),p=this.x.redSub(u).redMul(this.x.redAdd(u));p=p.redAdd(p).redIAdd(p);var f=h.redIAdd(h),m=(f=f.redIAdd(f)).redAdd(f);e=p.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(u);var g=d.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=p.redMul(f.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,n)},Mn.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,o=r.redSqr().redSqr(),i=t.redSqr(),s=n.redSqr(),a=i.redAdd(i).redIAdd(i).redIAdd(e.redMul(o)),l=t.redAdd(t),c=(l=l.redIAdd(l)).redMul(s),u=a.redSqr().redISub(c.redAdd(c)),d=c.redISub(u),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var p=a.redMul(d).redISub(h),f=n.redAdd(n).redMul(r);return this.curve.jpoint(u,p,f)},Mn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),o=e.redAdd(e).redIAdd(e),i=o.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(r),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(i)).redSqr(),l=r.redIAdd(r);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var c=o.redIAdd(s).redSqr().redISub(i).redISub(a).redISub(l),u=t.redMul(c);u=(u=u.redIAdd(u)).redIAdd(u);var d=this.x.redMul(a).redISub(u);d=(d=d.redIAdd(d)).redIAdd(d);var h=this.y.redMul(c.redMul(l.redISub(c)).redISub(s.redMul(a)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var p=this.z.redAdd(s).redSqr().redISub(n).redISub(a);return this.curve.jpoint(d,h,p)},Mn.prototype.mul=function(e,t){return e=new(z())(e,t),this.curve._wnafMul(this,e)},Mn.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),o=n.redMul(e.z);return 0===this.y.redMul(o).redISub(e.y.redMul(r)).cmpn(0)},Mn.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),o=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),0===this.x.cmp(n))return!0}},Mn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Mn.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Pn=pn((function(e,t){var n=t;n.base=En,n.short=kn,n.mont=null,n.edwards=null})),On=pn((function(e,t){var n,r=t,o=vn.assert;function i(e){"short"===e.type?this.curve=new Pn.short(e):"edwards"===e.type?this.curve=new Pn.edwards(e):this.curve=new Pn.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var n=new i(t);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=i,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hn().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hn().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hn().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hn().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hn().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hn().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hn().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=null.crash()}catch(e){n=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hn().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})}));function Rn(e){if(!(this instanceof Rn))return new Rn(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=gn.toArray(e.entropy,e.entropyEnc||"hex"),n=gn.toArray(e.nonce,e.nonceEnc||"hex"),r=gn.toArray(e.pers,e.persEnc||"hex");fn(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,r)}var Nn=Rn;Rn.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},Rn.prototype._hmac=function(){return new(hn().hmac)(this.hash,this.K)},Rn.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Rn.prototype.reseed=function(e,t,n,r){"string"!=typeof t&&(r=n,n=t,t=null),e=gn.toArray(e,t),n=gn.toArray(n,r),fn(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},Rn.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(r=n,n=t,t=null),n&&(n=gn.toArray(n,r||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var i=o.slice(0,e);return this._update(n),this._reseed++,gn.encode(i,t)};var Dn=vn.assert;function In(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Bn=In;In.fromPublic=function(e,t,n){return t instanceof In?t:new In(e,{pub:t,pubEnc:n})},In.fromPrivate=function(e,t,n){return t instanceof In?t:new In(e,{priv:t,privEnc:n})},In.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},In.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},In.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},In.prototype._importPrivate=function(e,t){this.priv=new(z())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},In.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?Dn(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Dn(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},In.prototype.derive=function(e){return e.validate()||Dn(e.validate(),"public point not validated"),e.mul(this.priv).getX()},In.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},In.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},In.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Fn=vn.assert;function Ln(e,t){if(e instanceof Ln)return e;this._importDER(e,t)||(Fn(e.r&&e.s,"Signature without r or s"),this.r=new(z())(e.r,16),this.s=new(z())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var Hn=Ln;function zn(){this.place=0}function Vn(e,t){var n=e[t.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;for(var o=0,i=0,s=t.place;i<r;i++,s++)o<<=8,o|=e[s],o>>>=0;return!(o<=127)&&(t.place=s,o)}function jn(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function Un(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}Ln.prototype._importDER=function(e,t){e=vn.toArray(e,t);var n=new zn;if(48!==e[n.place++])return!1;var r=Vn(e,n);if(!1===r)return!1;if(r+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var o=Vn(e,n);if(!1===o)return!1;var i=e.slice(n.place,o+n.place);if(n.place+=o,2!==e[n.place++])return!1;var s=Vn(e,n);if(!1===s)return!1;if(e.length!==s+n.place)return!1;var a=e.slice(n.place,s+n.place);if(0===i[0]){if(!(128&i[1]))return!1;i=i.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(z())(i),this.s=new(z())(a),this.recoveryParam=null,!0},Ln.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=jn(t),n=jn(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];Un(r,t.length),(r=r.concat(t)).push(2),Un(r,n.length);var o=r.concat(n),i=[48];return Un(i,o.length),i=i.concat(o),vn.encode(i,e)};var Gn=function(){throw new Error("unsupported")},qn=vn.assert;function Wn(e){if(!(this instanceof Wn))return new Wn(e);"string"==typeof e&&(qn(Object.prototype.hasOwnProperty.call(On,e),"Unknown curve "+e),e=On[e]),e instanceof On.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var Zn=Wn;Wn.prototype.keyPair=function(e){return new Bn(this,e)},Wn.prototype.keyFromPrivate=function(e,t){return Bn.fromPrivate(this,e,t)},Wn.prototype.keyFromPublic=function(e,t){return Bn.fromPublic(this,e,t)},Wn.prototype.genKeyPair=function(e){e||(e={});for(var t=new Nn({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Gn(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),r=this.n.sub(new(z())(2));;){var o=new(z())(t.generate(n));if(!(o.cmp(r)>0))return o.iaddn(1),this.keyFromPrivate(o)}},Wn.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Wn.prototype.sign=function(e,t,n,r){"object"==typeof n&&(r=n,n=null),r||(r={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new(z())(e,16));for(var o=this.n.byteLength(),i=t.getPrivate().toArray("be",o),s=e.toArray("be",o),a=new Nn({hash:this.hash,entropy:i,nonce:s,pers:r.pers,persEnc:r.persEnc||"utf8"}),l=this.n.sub(new(z())(1)),c=0;;c++){var u=r.k?r.k(c):new(z())(a.generate(this.n.byteLength()));if(!((u=this._truncateToN(u,!0)).cmpn(1)<=0||u.cmp(l)>=0)){var d=this.g.mul(u);if(!d.isInfinity()){var h=d.getX(),p=h.umod(this.n);if(0!==p.cmpn(0)){var f=u.invm(this.n).mul(p.mul(t.getPrivate()).iadd(e));if(0!==(f=f.umod(this.n)).cmpn(0)){var m=(d.getY().isOdd()?1:0)|(0!==h.cmp(p)?2:0);return r.canonical&&f.cmp(this.nh)>0&&(f=this.n.sub(f),m^=1),new Hn({r:p,s:f,recoveryParam:m})}}}}}},Wn.prototype.verify=function(e,t,n,r){e=this._truncateToN(new(z())(e,16)),n=this.keyFromPublic(n,r);var o=(t=new Hn(t,"hex")).r,i=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;var s,a=i.invm(this.n),l=a.mul(e).umod(this.n),c=a.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(l,n.getPublic(),c)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(l,n.getPublic(),c)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},Wn.prototype.recoverPubKey=function(e,t,n,r){qn((3&n)===n,"The recovery param is more than two bits"),t=new Hn(t,r);var o=this.n,i=new(z())(e),s=t.r,a=t.s,l=1&n,c=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");s=c?this.curve.pointFromX(s.add(this.curve.n),l):this.curve.pointFromX(s,l);var u=t.r.invm(o),d=o.sub(i).mul(u).umod(o),h=a.mul(u).umod(o);return this.g.mulAdd(d,s,h)},Wn.prototype.getKeyRecoveryParam=function(e,t,n,r){if(null!==(t=new Hn(t,r)).recoveryParam)return t.recoveryParam;for(var o=0;o<4;o++){var i;try{i=this.recoverPubKey(e,t,o)}catch(e){continue}if(i.eq(n))return o}throw new Error("Unable to find valid recovery factor")};var $n=pn((function(e,t){var n=t;n.version="6.5.4",n.utils=vn,n.rand=function(){throw new Error("unsupported")},n.curve=Pn,n.curves=On,n.ec=Zn,n.eddsa=null})).ec;const Kn=new v("signing-key/5.7.0");let Xn=null;function Yn(){return Xn||(Xn=new $n("secp256k1")),Xn}class Jn{constructor(e){ee(this,"curve","secp256k1"),ee(this,"privateKey",P(e)),32!==O(this.privateKey)&&Kn.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=Yn().keyFromPrivate(C(this.privateKey));ee(this,"publicKey","0x"+t.getPublic(!1,"hex")),ee(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),ee(this,"_isSigningKey",!0)}_addPoint(e){const t=Yn().keyFromPublic(C(this.publicKey)),n=Yn().keyFromPublic(C(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const t=Yn().keyFromPrivate(C(this.privateKey)),n=C(e);32!==n.length&&Kn.throwArgumentError("bad digest length","digest",e);const r=t.sign(n,{canonical:!0});return F({recoveryParam:r.recoveryParam,r:B("0x"+r.r.toString(16),32),s:B("0x"+r.s.toString(16),32)})}computeSharedSecret(e){const t=Yn().keyFromPrivate(C(this.privateKey)),n=Yn().keyFromPublic(C(er(e)));return B("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function Qn(e,t){const n=F(t),r={r:C(n.r),s:C(n.s)};return"0x"+Yn().recoverPubKey(C(e),r,n.recoveryParam).encode("hex",!1)}function er(e,t){const n=C(e);if(32===n.length){const e=new Jn(n);return t?"0x"+Yn().keyFromPrivate(n).getPublic(!0,"hex"):e.publicKey}return 33===n.length?t?P(n):"0x"+Yn().keyFromPublic(n).getPublic(!1,"hex"):65===n.length?t?"0x"+Yn().keyFromPublic(n).getPublic(!0,"hex"):P(n):Kn.throwArgumentError("invalid public or private key","key","[REDACTED]")}const tr=new v("transactions/5.7.0");var nr;function rr(e){return"0x"===e?null:Ne(e)}function or(e){return"0x"===e?ct:Z.from(e)}!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(nr||(nr={}));const ir=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],sr={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function ar(e){return Ne(R(ye(R(er(e),1)),12))}function lr(e,t){return ar(Qn(C(e),t))}function cr(e,t){const n=_(Z.from(e).toHexString());return n.length>32&&tr.throwArgumentError("invalid length for "+t,"transaction:"+t,e),n}function ur(e,t){return{address:Ne(e),storageKeys:(t||[]).map(((t,n)=>(32!==O(t)&&tr.throwArgumentError("invalid access list storageKey",`accessList[${e}:${n}]`,t),t.toLowerCase())))}}function dr(e){if(Array.isArray(e))return e.map(((e,t)=>Array.isArray(e)?(e.length>2&&tr.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),ur(e[0],e[1])):ur(e.address,e.storageKeys)));const t=Object.keys(e).map((t=>{const n=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return ur(t,Object.keys(n).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}function hr(e){return dr(e).map((e=>[e.address,e.storageKeys]))}function pr(e,t){if(null!=e.gasPrice){const t=Z.from(e.gasPrice),n=Z.from(e.maxFeePerGas||0);t.eq(n)||tr.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:n})}const n=[cr(e.chainId||0,"chainId"),cr(e.nonce||0,"nonce"),cr(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),cr(e.maxFeePerGas||0,"maxFeePerGas"),cr(e.gasLimit||0,"gasLimit"),null!=e.to?Ne(e.to):"0x",cr(e.value||0,"value"),e.data||"0x",hr(e.accessList||[])];if(t){const e=F(t);n.push(cr(e.recoveryParam,"recoveryParam")),n.push(_(e.r)),n.push(_(e.s))}return N(["0x02",Se(n)])}function fr(e,t){const n=[cr(e.chainId||0,"chainId"),cr(e.nonce||0,"nonce"),cr(e.gasPrice||0,"gasPrice"),cr(e.gasLimit||0,"gasLimit"),null!=e.to?Ne(e.to):"0x",cr(e.value||0,"value"),e.data||"0x",hr(e.accessList||[])];if(t){const e=F(t);n.push(cr(e.recoveryParam,"recoveryParam")),n.push(_(e.r)),n.push(_(e.s))}return N(["0x01",Se(n)])}function mr(e,t){if(null==e.type||0===e.type)return null!=e.accessList&&tr.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),function(e,t){re(e,sr);const n=[];ir.forEach((function(t){let r=e[t.name]||[];const o={};t.numeric&&(o.hexPad="left"),r=C(P(r,o)),t.length&&r.length!==t.length&&r.length>0&&tr.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,r),t.maxLength&&(r=_(r),r.length>t.maxLength&&tr.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,r)),n.push(P(r))}));let r=0;if(null!=e.chainId?(r=e.chainId,"number"!=typeof r&&tr.throwArgumentError("invalid transaction.chainId","transaction",e)):t&&!x(t)&&t.v>28&&(r=Math.floor((t.v-35)/2)),0!==r&&(n.push(P(r)),n.push("0x"),n.push("0x")),!t)return Se(n);const o=F(t);let i=27+o.recoveryParam;return 0!==r?(n.pop(),n.pop(),n.pop(),i+=2*r+8,o.v>28&&o.v!==i&&tr.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):o.v!==i&&tr.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),n.push(P(i)),n.push(_(C(o.r))),n.push(_(C(o.s))),Se(n)}(e,t);switch(e.type){case 1:return fr(e,t);case 2:return pr(e,t)}return tr.throwError(`unsupported transaction type: ${e.type}`,v.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function gr(e,t,n){try{const n=or(t[0]).toNumber();if(0!==n&&1!==n)throw new Error("bad recid");e.v=n}catch(e){tr.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=B(t[1],32),e.s=B(t[2],32);try{const t=ye(n(e));e.from=lr(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){}}function vr(e){const t=C(e);if(t[0]>127)return function(e){const t=_e(e);9!==t.length&&6!==t.length&&tr.throwArgumentError("invalid raw transaction","rawTransaction",e);const n={nonce:or(t[0]).toNumber(),gasPrice:or(t[1]),gasLimit:or(t[2]),to:rr(t[3]),value:or(t[4]),data:t[5],chainId:0};if(6===t.length)return n;try{n.v=Z.from(t[6]).toNumber()}catch(e){return n}if(n.r=B(t[7],32),n.s=B(t[8],32),Z.from(n.r).isZero()&&Z.from(n.s).isZero())n.chainId=n.v,n.v=0;else{n.chainId=Math.floor((n.v-35)/2),n.chainId<0&&(n.chainId=0);let r=n.v-27;const o=t.slice(0,6);0!==n.chainId&&(o.push(P(n.chainId)),o.push("0x"),o.push("0x"),r-=2*n.chainId+8);const i=ye(Se(o));try{n.from=lr(i,{r:P(n.r),s:P(n.s),recoveryParam:r})}catch(e){}n.hash=ye(e)}return n.type=null,n}(t);switch(t[0]){case 1:return function(e){const t=_e(e.slice(1));8!==t.length&&11!==t.length&&tr.throwArgumentError("invalid component count for transaction type: 1","payload",P(e));const n={type:1,chainId:or(t[0]).toNumber(),nonce:or(t[1]).toNumber(),gasPrice:or(t[2]),gasLimit:or(t[3]),to:rr(t[4]),value:or(t[5]),data:t[6],accessList:dr(t[7])};return 8===t.length||(n.hash=ye(e),gr(n,t.slice(8),fr)),n}(t);case 2:return function(e){const t=_e(e.slice(1));9!==t.length&&12!==t.length&&tr.throwArgumentError("invalid component count for transaction type: 2","payload",P(e));const n=or(t[2]),r=or(t[3]),o={type:2,chainId:or(t[0]).toNumber(),nonce:or(t[1]).toNumber(),maxPriorityFeePerGas:n,maxFeePerGas:r,gasPrice:null,gasLimit:or(t[4]),to:rr(t[5]),value:or(t[6]),data:t[7],accessList:dr(t[8])};return 9===t.length||(o.hash=ye(e),gr(o,t.slice(9),pr)),o}(t)}return tr.throwError(`unsupported transaction type: ${t[0]}`,v.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}var yr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const br=new v("contracts/5.7.0"),wr={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function xr(e,t){return yr(this,void 0,void 0,(function*(){const n=yield t;"string"!=typeof n&&br.throwArgumentError("invalid address or ENS name","name",n);try{return Ne(n)}catch(e){}e||br.throwError("a provider or signer is needed to resolve ENS names",v.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const r=yield e.resolveName(n);return null==r&&br.throwArgumentError("resolver or addr is not configured for ENS name","name",n),r}))}function Er(e,t,n){return yr(this,void 0,void 0,(function*(){return Array.isArray(n)?yield Promise.all(n.map(((n,r)=>Er(e,Array.isArray(t)?t[r]:t[n.name],n)))):"address"===n.type?yield xr(e,t):"tuple"===n.type?yield Er(e,t,n.components):"array"===n.baseType?Array.isArray(t)?yield Promise.all(t.map((t=>Er(e,t,n.arrayChildren)))):Promise.reject(br.makeError("invalid value for array",v.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t}))}function Sr(e,t,n){return yr(this,void 0,void 0,(function*(){let r={};n.length===t.inputs.length+1&&"object"==typeof n[n.length-1]&&(r=oe(n.pop())),br.checkArgumentCount(n.length,t.inputs.length,"passed to contract"),e.signer?r.from?r.from=ne({override:xr(e.signer,r.from),signer:e.signer.getAddress()}).then((e=>yr(this,void 0,void 0,(function*(){return Ne(e.signer)!==e.override&&br.throwError("Contract with a Signer cannot override from",v.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.override})))):r.from=e.signer.getAddress():r.from&&(r.from=xr(e.provider,r.from));const o=yield ne({args:Er(e.signer||e.provider,n,t.inputs),address:e.resolvedAddress,overrides:ne(r)||{}}),i=e.interface.encodeFunctionData(t,o.args),s={data:i,to:o.address},a=o.overrides;if(null!=a.nonce&&(s.nonce=Z.from(a.nonce).toNumber()),null!=a.gasLimit&&(s.gasLimit=Z.from(a.gasLimit)),null!=a.gasPrice&&(s.gasPrice=Z.from(a.gasPrice)),null!=a.maxFeePerGas&&(s.maxFeePerGas=Z.from(a.maxFeePerGas)),null!=a.maxPriorityFeePerGas&&(s.maxPriorityFeePerGas=Z.from(a.maxPriorityFeePerGas)),null!=a.from&&(s.from=a.from),null!=a.type&&(s.type=a.type),null!=a.accessList&&(s.accessList=dr(a.accessList)),null==s.gasLimit&&null!=t.gas){let e=21e3;const n=C(i);for(let t=0;t<n.length;t++)e+=4,n[t]&&(e+=64);s.gasLimit=Z.from(t.gas).add(e)}if(a.value){const e=Z.from(a.value);e.isZero()||t.payable||br.throwError("non-payable method cannot override value",v.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),s.value=e}a.customData&&(s.customData=oe(a.customData)),a.ccipReadEnabled&&(s.ccipReadEnabled=!!a.ccipReadEnabled),delete r.nonce,delete r.gasLimit,delete r.gasPrice,delete r.from,delete r.value,delete r.type,delete r.accessList,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.customData,delete r.ccipReadEnabled;const l=Object.keys(r).filter((e=>null!=r[e]));return l.length&&br.throwError(`cannot override ${l.map((e=>JSON.stringify(e))).join(",")}`,v.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),s}))}function Cr(e,t){const n=t.wait.bind(t);t.wait=t=>n(t).then((t=>(t.events=t.logs.map((n=>{let r=le(n),o=null;try{o=e.interface.parseLog(n)}catch(e){}return o&&(r.args=o.args,r.decode=(t,n)=>e.interface.decodeEventLog(o.eventFragment,t,n),r.event=o.name,r.eventSignature=o.signature),r.removeListener=()=>e.provider,r.getBlock=()=>e.provider.getBlock(t.blockHash),r.getTransaction=()=>e.provider.getTransaction(t.transactionHash),r.getTransactionReceipt=()=>Promise.resolve(t),r})),t)))}function Ar(e,t,n){const r=e.signer||e.provider;return function(...o){return yr(this,void 0,void 0,(function*(){let i;if(o.length===t.inputs.length+1&&"object"==typeof o[o.length-1]){const e=oe(o.pop());null!=e.blockTag&&(i=yield e.blockTag),delete e.blockTag,o.push(e)}null!=e.deployTransaction&&(yield e._deployed(i));const s=yield Sr(e,t,o),a=yield r.call(s,i);try{let r=e.interface.decodeFunctionResult(t,a);return n&&1===t.outputs.length&&(r=r[0]),r}catch(t){throw t.code===v.errors.CALL_EXCEPTION&&(t.address=e.address,t.args=o,t.transaction=s),t}}))}}function _r(e,t,n){return t.constant?Ar(e,t,n):function(e,t){return function(...n){return yr(this,void 0,void 0,(function*(){e.signer||br.throwError("sending a transaction requires a signer",v.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=e.deployTransaction&&(yield e._deployed());const r=yield Sr(e,t,n),o=yield e.signer.sendTransaction(r);return Cr(e,o),o}))}}(e,t)}function kr(e){return!e.address||null!=e.topics&&0!==e.topics.length?(e.address||"*")+"@"+(e.topics?e.topics.map((e=>Array.isArray(e)?e.join("|"):e)).join(":"):""):"*"}class Tr{constructor(e,t){ee(this,"tag",e),ee(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter((n=>!(!t&&n.listener===e&&(t=!0,1))))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map((e=>e.listener))}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter((t=>{const n=e.slice();return setTimeout((()=>{t.listener.apply(this,n)}),0),!t.once})),t}prepareEvent(e){}getEmit(e){return[e]}}class Mr extends Tr{constructor(){super("error",null)}}class Pr extends Tr{constructor(e,t,n,r){const o={address:e};let i=t.getEventTopic(n);r?(i!==r[0]&&br.throwArgumentError("topic mismatch","topics",r),o.topics=r.slice()):o.topics=[i],super(kr(o),o),ee(this,"address",e),ee(this,"interface",t),ee(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=he(e.args);if(t.length)throw t[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class Or extends Tr{constructor(e,t){super("*",{address:e}),ee(this,"address",e),ee(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,n)=>this.interface.decodeEventLog(t.eventFragment,e,n),e.args=t.args}catch(e){}}}class Rr{constructor(e,t,n){ee(this,"interface",te(new.target,"getInterface")(t)),null==n?(ee(this,"provider",null),ee(this,"signer",null)):cn.isSigner(n)?(ee(this,"provider",n.provider||null),ee(this,"signer",n)):rn.isProvider(n)?(ee(this,"provider",n),ee(this,"signer",null)):br.throwArgumentError("invalid signer or provider","signerOrProvider",n),ee(this,"callStatic",{}),ee(this,"estimateGas",{}),ee(this,"functions",{}),ee(this,"populateTransaction",{}),ee(this,"filters",{});{const e={};Object.keys(this.interface.events).forEach((t=>{const n=this.interface.events[t];ee(this.filters,t,((...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(n,e)}))),e[n.name]||(e[n.name]=[]),e[n.name].push(t)})),Object.keys(e).forEach((t=>{const n=e[t];1===n.length?ee(this.filters,t,this.filters[n[0]]):br.warn(`Duplicate definition of ${t} (${n.join(", ")})`)}))}if(ee(this,"_runningEvents",{}),ee(this,"_wrappedEmits",{}),null==e&&br.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ee(this,"address",e),this.provider)ee(this,"resolvedAddress",xr(this.provider,e));else try{ee(this,"resolvedAddress",Promise.resolve(Ne(e)))}catch(e){br.throwError("provider is required to use ENS name as contract address",v.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((e=>{}));const r={},o={};Object.keys(this.interface.functions).forEach((e=>{const t=this.interface.functions[e];if(o[e])br.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);else{o[e]=!0;{const n=t.name;r[`%${n}`]||(r[`%${n}`]=[]),r[`%${n}`].push(e)}null==this[e]&&ee(this,e,_r(this,t,!0)),null==this.functions[e]&&ee(this.functions,e,_r(this,t,!1)),null==this.callStatic[e]&&ee(this.callStatic,e,Ar(this,t,!0)),null==this.populateTransaction[e]&&ee(this.populateTransaction,e,function(e,t){return function(...n){return Sr(e,t,n)}}(this,t)),null==this.estimateGas[e]&&ee(this.estimateGas,e,function(e,t){const n=e.signer||e.provider;return function(...r){return yr(this,void 0,void 0,(function*(){n||br.throwError("estimate require a provider or signer",v.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const o=yield Sr(e,t,r);return yield n.estimateGas(o)}))}}(this,t))}})),Object.keys(r).forEach((e=>{const t=r[e];if(t.length>1)return;e=e.substring(1);const n=t[0];try{null==this[e]&&ee(this,e,this[n])}catch(e){}null==this.functions[e]&&ee(this.functions,e,this.functions[n]),null==this.callStatic[e]&&ee(this.callStatic,e,this.callStatic[n]),null==this.populateTransaction[e]&&ee(this.populateTransaction,e,this.populateTransaction[n]),null==this.estimateGas[e]&&ee(this.estimateGas,e,this.estimateGas[n])}))}static getContractAddress(e){return Be(e)}static getInterface(e){return en.isInterface(e)?e:new en(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((()=>this)):this._deployedPromise=this.provider.getCode(this.address,e).then((e=>("0x"===e&&br.throwError("contract not deployed",v.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this)))),this._deployedPromise}fallback(e){this.signer||br.throwError("sending a transactions require a signer",v.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=oe(e||{});return["from","to"].forEach((function(e){null!=t[e]&&br.throwError("cannot override "+e,v.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.to=this.resolvedAddress,this.deployed().then((()=>this.signer.sendTransaction(t)))}connect(e){"string"==typeof e&&(e=new un(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ee(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Yt.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"==typeof e){if("error"===e)return this._normalizeRunningEvent(new Mr);if("event"===e)return this._normalizeRunningEvent(new Tr("event",null));if("*"===e)return this._normalizeRunningEvent(new Or(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new Pr(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const t=e.topics[0];if("string"!=typeof t)throw new Error("invalid topic");const n=this.interface.getEvent(t);return this._normalizeRunningEvent(new Pr(this.address,this.interface,n,e.topics))}catch(e){}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Tr(kr(t),t))}return this._normalizeRunningEvent(new Or(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,n){const r=le(t);return r.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},r.getBlock=()=>this.provider.getBlock(t.blockHash),r.getTransaction=()=>this.provider.getTransaction(t.transactionHash),r.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(r),r}_addEventListener(e,t,n){if(this.provider||br.throwError("events require a provider or a signer with a provider",v.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const n=n=>{let r=this._wrapEvent(e,n,t);if(null==r.decodeError)try{const t=e.getEmit(r);this.emit(e.filter,...t)}catch(e){r.decodeError=e.error}null!=e.filter&&this.emit("event",r),null!=r.decodeError&&this.emit("error",r.decodeError,r)};this._wrappedEmits[e.tag]=n,null!=e.filter&&this.provider.on(e.filter,n)}}queryFilter(e,t,n){const r=this._getRunningEvent(e),o=oe(r.filter);return"string"==typeof t&&T(t,32)?(null!=n&&br.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),o.blockHash=t):(o.fromBlock=null!=t?t:0,o.toBlock=null!=n?n:"latest"),this.provider.getLogs(o).then((e=>e.map((e=>this._wrapEvent(r,e,null)))))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const n=this._getRunningEvent(e),r=n.run(t)>0;return this._checkRunningEvents(n),r}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce(((e,t)=>e+this._runningEvents[t].listenerCount()),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(null==e){const e=[];for(let t in this._runningEvents)this._runningEvents[t].listeners().forEach((t=>{e.push(t)}));return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(const e in this._runningEvents){const t=this._runningEvents[e];t.removeAllListeners(),this._checkRunningEvents(t)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(t),this._checkRunningEvents(n),this}removeListener(e,t){return this.off(e,t)}}class Nr extends Rr{}class Dr{constructor(e,t,n){let r=null;r="string"==typeof t?t:S(t)?P(t):t&&"string"==typeof t.object?t.object:"!","0x"!==r.substring(0,2)&&(r="0x"+r),(!T(r)||r.length%2)&&br.throwArgumentError("invalid bytecode","bytecode",t),n&&!cn.isSigner(n)&&br.throwArgumentError("invalid signer","signer",n),ee(this,"bytecode",r),ee(this,"interface",te(new.target,"getInterface")(e)),ee(this,"signer",n||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&"object"==typeof e[e.length-1]){t=oe(e.pop());for(const e in t)if(!wr[e])throw new Error("unknown transaction override "+e)}return["data","from","to"].forEach((e=>{null!=t[e]&&br.throwError("cannot override "+e,v.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.value&&(Z.from(t.value).isZero()||this.interface.deploy.payable||br.throwError("non-payable constructor cannot override value",v.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value})),br.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=P(A([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return yr(this,void 0,void 0,(function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),br.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const n=yield Er(this.signer,e,this.interface.deploy.inputs);n.push(t);const r=this.getDeployTransaction(...n),o=yield this.signer.sendTransaction(r),i=te(this.constructor,"getContractAddress")(o),s=te(this.constructor,"getContract")(i,this.interface,this.signer);return Cr(s,o),ee(s,"deployTransaction",o),s}))}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){null==e&&br.throwError("missing compiler output",v.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"==typeof e&&(e=JSON.parse(e));const n=e.abi;let r=null;return e.bytecode?r=e.bytecode:e.evm&&e.evm.bytecode&&(r=e.evm.bytecode),new this(n,r,t)}static getInterface(e){return Nr.getInterface(e)}static getContractAddress(e){return Be(e)}static getContract(e,t,n){return new Nr(e,t,n)}}const Ir=new v(V),Br={},Fr=Z.from(0),Lr=Z.from(-1);function Hr(e,t,n,r){const o={fault:t,operation:n};return void 0!==r&&(o.value=r),Ir.throwError(e,v.errors.NUMERIC_FAULT,o)}let zr="0";for(;zr.length<256;)zr+=zr;function Vr(e){if("number"!=typeof e)try{e=Z.from(e).toNumber()}catch(e){}return"number"==typeof e&&e>=0&&e<=256&&!(e%1)?"1"+zr.substring(0,e):Ir.throwArgumentError("invalid decimal size","decimals",e)}function jr(e,t){null==t&&(t=0);const n=Vr(t),r=(e=Z.from(e)).lt(Fr);r&&(e=e.mul(Lr));let o=e.mod(n).toString();for(;o.length<n.length-1;)o="0"+o;o=o.match(/^([0-9]*[1-9]|0)(0*)/)[1];const i=e.div(n).toString();return e=1===n.length?i:i+"."+o,r&&(e="-"+e),e}function Ur(e,t){null==t&&(t=0);const n=Vr(t);"string"==typeof e&&e.match(/^-?[0-9.]+$/)||Ir.throwArgumentError("invalid decimal value","value",e);const r="-"===e.substring(0,1);r&&(e=e.substring(1)),"."===e&&Ir.throwArgumentError("missing value","value",e);const o=e.split(".");o.length>2&&Ir.throwArgumentError("too many decimal points","value",e);let i=o[0],s=o[1];for(i||(i="0"),s||(s="0");"0"===s[s.length-1];)s=s.substring(0,s.length-1);for(s.length>n.length-1&&Hr("fractional component exceeds decimals","underflow","parseFixed"),""===s&&(s="0");s.length<n.length-1;)s+="0";const a=Z.from(i),l=Z.from(s);let c=a.mul(n).add(l);return r&&(c=c.mul(Lr)),c}class Gr{constructor(e,t,n,r){e!==Br&&Ir.throwError("cannot use FixedFormat constructor; use FixedFormat.from",v.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=r,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(r),this._multiplier=Vr(r),Object.freeze(this)}static from(e){if(e instanceof Gr)return e;"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,n=128,r=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const o=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||Ir.throwArgumentError("invalid fixed format","format",e),t="u"!==o[1],n=parseInt(o[2]),r=parseInt(o[3])}else if(e){const o=(t,n,r)=>null==e[t]?r:(typeof e[t]!==n&&Ir.throwArgumentError("invalid fixed format ("+t+" not "+n+")","format."+t,e[t]),e[t]);t=o("signed","boolean",t),n=o("width","number",n),r=o("decimals","number",r)}return n%8&&Ir.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),r>80&&Ir.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",r),new Gr(Br,t,n,r)}}class qr{constructor(e,t,n,r){e!==Br&&Ir.throwError("cannot use FixedNumber constructor; use FixedNumber.from",v.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=r,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Ir.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=Ur(this._value,this.format.decimals),n=Ur(e._value,e.format.decimals);return qr.fromValue(t.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=Ur(this._value,this.format.decimals),n=Ur(e._value,e.format.decimals);return qr.fromValue(t.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=Ur(this._value,this.format.decimals),n=Ur(e._value,e.format.decimals);return qr.fromValue(t.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=Ur(this._value,this.format.decimals),n=Ur(e._value,e.format.decimals);return qr.fromValue(t.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=qr.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(t=t.subUnsafe(Wr.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=qr.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(t=t.addUnsafe(Wr.toFormat(t.format))),t}round(e){null==e&&(e=0);const t=this.toString().split(".");if(1===t.length&&t.push("0"),(e<0||e>80||e%1)&&Ir.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const n=qr.from("1"+zr.substring(0,e),this.format),r=Zr.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(r).floor().divUnsafe(n)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){return null==e?this._hex:(e%8&&Ir.throwArgumentError("invalid byte width","width",e),B(Z.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString(),e/8))}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return qr.fromString(this._value,e)}static fromValue(e,t,n){return null!=n||null==t||function(e){return null!=e&&(Z.isBigNumber(e)||"number"==typeof e&&e%1==0||"string"==typeof e&&!!e.match(/^-?[0-9]+$/)||T(e)||"bigint"==typeof e||S(e))}(t)||(n=t,t=null),null==t&&(t=0),null==n&&(n="fixed"),qr.fromString(jr(e,t),Gr.from(n))}static fromString(e,t){null==t&&(t="fixed");const n=Gr.from(t),r=Ur(e,n.decimals);!n.signed&&r.lt(Fr)&&Hr("unsigned value cannot be negative","overflow","value",e);let o=null;n.signed?o=r.toTwos(n.width).toHexString():(o=r.toHexString(),o=B(o,n.width/8));const i=jr(r,n.decimals);return new qr(Br,o,i,n)}static fromBytes(e,t){null==t&&(t="fixed");const n=Gr.from(t);if(C(e).length>n.width/8)throw new Error("overflow");let r=Z.from(e);n.signed&&(r=r.fromTwos(n.width));const o=r.toTwos((n.signed?0:1)+n.width).toHexString(),i=jr(r,n.decimals);return new qr(Br,o,i,n)}static from(e,t){if("string"==typeof e)return qr.fromString(e,t);if(S(e))return qr.fromBytes(e,t);try{return qr.fromValue(e,0,t)}catch(e){if(e.code!==v.errors.INVALID_ARGUMENT)throw e}return Ir.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!(!e||!e._isFixedNumber)}}const Wr=qr.from(1),Zr=qr.from("0.5"),$r="Ethereum Signed Message:\n";function Kr(e){return"string"==typeof e&&(e=Ge(e)),ye(A([Ge($r),Ge(String(e.length)),e]))}const Xr="hash/5.7.0";const Yr=new v(Xr),Jr=new Uint8Array(32);Jr.fill(0);const Qr=Z.from(-1),eo=Z.from(0),to=Z.from(1),no=Z.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),ro=B(to.toHexString(),32),oo=B(eo.toHexString(),32),io={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},so=["name","version","chainId","verifyingContract","salt"];function ao(e){return function(t){return"string"!=typeof t&&Yr.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const lo={name:ao("name"),version:ao("version"),chainId:function(e){try{return Z.from(e).toString()}catch(e){}return Yr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return Ne(e).toLowerCase()}catch(e){}return Yr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{const t=C(e);if(32!==t.length)throw new Error("bad length");return P(t)}catch(e){}return Yr.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function co(e){{const t=e.match(/^(u?)int(\d*)$/);if(t){const n=""===t[1],r=parseInt(t[2]||"256");(r%8!=0||r>256||t[2]&&t[2]!==String(r))&&Yr.throwArgumentError("invalid numeric width","type",e);const o=no.mask(n?r-1:r),i=n?o.add(to).mul(Qr):eo;return function(t){const n=Z.from(t);return(n.lt(i)||n.gt(o))&&Yr.throwArgumentError(`value out-of-bounds for ${e}`,"value",t),B(n.toTwos(256).toHexString(),32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const n=parseInt(t[1]);return(0===n||n>32||t[1]!==String(n))&&Yr.throwArgumentError("invalid bytes width","type",e),function(t){return C(t).length!==n&&Yr.throwArgumentError(`invalid length for ${e}`,"value",t),function(e){const t=C(e),n=t.length%32;return n?N([t,Jr.slice(n)]):P(t)}(t)}}}switch(e){case"address":return function(e){return B(Ne(e),32)};case"bool":return function(e){return e?ro:oo};case"bytes":return function(e){return ye(e)};case"string":return function(e){return Xe(e)}}return null}function uo(e,t){return`${e}(${t.map((({name:e,type:t})=>t+" "+e)).join(",")})`}class ho{constructor(e){ee(this,"types",Object.freeze(le(e))),ee(this,"_encoderCache",{}),ee(this,"_types",{});const t={},n={},r={};Object.keys(e).forEach((e=>{t[e]={},n[e]=[],r[e]={}}));for(const r in e){const o={};e[r].forEach((i=>{o[i.name]&&Yr.throwArgumentError(`duplicate variable name ${JSON.stringify(i.name)} in ${JSON.stringify(r)}`,"types",e),o[i.name]=!0;const s=i.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===r&&Yr.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e),co(s)||(n[s]||Yr.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",e),n[s].push(r),t[r][s]=!0)}))}const o=Object.keys(n).filter((e=>0===n[e].length));0===o.length?Yr.throwArgumentError("missing primary type","types",e):o.length>1&&Yr.throwArgumentError(`ambiguous primary types or unused types: ${o.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),ee(this,"primaryType",o[0]),function o(i,s){s[i]&&Yr.throwArgumentError(`circular type reference to ${JSON.stringify(i)}`,"types",e),s[i]=!0,Object.keys(t[i]).forEach((e=>{n[e]&&(o(e,s),Object.keys(s).forEach((t=>{r[t][e]=!0})))})),delete s[i]}(this.primaryType,{});for(const t in r){const n=Object.keys(r[t]);n.sort(),this._types[t]=uo(t,e[t])+n.map((t=>uo(t,e[t]))).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const t=co(e);if(t)return t}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const e=t[1],n=this.getEncoder(e),r=parseInt(t[3]);return t=>{r>=0&&t.length!==r&&Yr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);let o=t.map(n);return this._types[e]&&(o=o.map(ye)),ye(N(o))}}const n=this.types[e];if(n){const t=Xe(this._types[e]);return e=>{const r=n.map((({name:t,type:n})=>{const r=this.getEncoder(n)(e[t]);return this._types[n]?ye(r):r}));return r.unshift(t),N(r)}}return Yr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||Yr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return ye(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(co(e))return n(e,t);const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const e=r[1],o=parseInt(r[3]);return o>=0&&t.length!==o&&Yr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map((t=>this._visit(e,t,n)))}const o=this.types[e];return o?o.reduce(((e,{name:r,type:o})=>(e[r]=this._visit(o,t[r],n),e)),{}):Yr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new ho(e)}static getPrimaryType(e){return ho.from(e).primaryType}static hashStruct(e,t,n){return ho.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){const r=io[n];r||Yr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:r})}return t.sort(((e,t)=>so.indexOf(e.name)-so.indexOf(t.name))),ho.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return N(["0x1901",ho.hashDomain(e),ho.from(t).hash(n)])}static hash(e,t,n){return ye(ho.encode(e,t,n))}static resolveNames(e,t,n,r){return o=this,i=void 0,a=function*(){e=oe(e);const o={};e.verifyingContract&&!T(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const i=ho.from(t);i.visit(n,((e,t)=>("address"!==e||T(t,20)||(o[t]="0x"),t)));for(const e in o)o[e]=yield r(e);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),n=i.visit(n,((e,t)=>"address"===e&&o[t]?o[t]:t)),{domain:e,value:n}},new((s=void 0)||(s=Promise))((function(e,t){function n(e){try{l(a.next(e))}catch(e){t(e)}}function r(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof s?o:new s((function(e){e(o)}))).then(n,r)}l((a=a.apply(o,i||[])).next())}));var o,i,s,a}static getPayload(e,t,n){ho.hashDomain(e);const r={},o=[];so.forEach((t=>{const n=e[t];null!=n&&(r[t]=lo[t](n),o.push({name:t,type:io[t]}))}));const i=ho.from(t),s=oe(t);return s.EIP712Domain?Yr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):s.EIP712Domain=o,i.encode(n),{types:s,domain:r,primaryType:i.primaryType,message:i.visit(n,((e,t)=>{if(e.match(/^bytes(\d*)/))return P(C(t));if(e.match(/^u?int/))return Z.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&Yr.throwArgumentError("invalid string","value",t),t}return Yr.throwArgumentError("unsupported type","type",e)}))}}}class po{constructor(e){ee(this,"alphabet",e),ee(this,"base",e.length),ee(this,"_alphabetMap",{}),ee(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=C(e);if(0===t.length)return"";let n=[0];for(let e=0;e<t.length;++e){let r=t[e];for(let e=0;e<n.length;++e)r+=n[e]<<8,n[e]=r%this.base,r=r/this.base|0;for(;r>0;)n.push(r%this.base),r=r/this.base|0}let r="";for(let e=0;0===t[e]&&e<t.length-1;++e)r+=this._leader;for(let e=n.length-1;e>=0;--e)r+=this.alphabet[n[e]];return r}decode(e){if("string"!=typeof e)throw new TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let n=0;n<e.length;n++){let r=this._alphabetMap[e[n]];if(void 0===r)throw new Error("Non-base"+this.base+" character");let o=r;for(let e=0;e<t.length;++e)o+=t[e]*this.base,t[e]=255&o,o>>=8;for(;o>0;)t.push(255&o),o>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)t.push(0);return C(new Uint8Array(t.reverse()))}}new po("abcdefghijklmnopqrstuvwxyz234567");const fo=new po("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var mo;!function(e){e.sha256="sha256",e.sha512="sha512"}(mo||(mo={}));const go=new v("sha2/5.7.0");function vo(e){return"0x"+hn().ripemd160().update(C(e)).digest("hex")}function yo(e){return"0x"+hn().sha256().update(C(e)).digest("hex")}function bo(e){return"0x"+hn().sha512().update(C(e)).digest("hex")}function wo(e,t,n){return mo[e]||go.throwError("unsupported algorithm "+e,v.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+hn().hmac(hn()[e],C(t)).update(C(n)).digest("hex")}function xo(e,t,n,r,o){let i;e=C(e),t=C(t);let s=1;const a=new Uint8Array(r),l=new Uint8Array(t.length+4);let c,u;l.set(t);for(let d=1;d<=s;d++){l[t.length]=d>>24&255,l[t.length+1]=d>>16&255,l[t.length+2]=d>>8&255,l[t.length+3]=255&d;let h=C(wo(o,e,l));i||(i=h.length,u=new Uint8Array(i),s=Math.ceil(r/i),c=r-(s-1)*i),u.set(h);for(let t=1;t<n;t++){h=C(wo(o,e,h));for(let e=0;e<i;e++)u[e]^=h[e]}const p=(d-1)*i,f=d===s?c:i;a.set(C(u).slice(0,f),p)}return P(a)}const Eo=new v("wordlists/5.7.0");class So{constructor(e){Eo.checkAbstract(new.target,So),ee(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let n=0;n<2048;n++){const r=e.getWord(n);if(n!==e.getWordIndex(r))return"0x";t.push(r)}return Xe(t.join("\n")+"\n")}static register(e,t){t||(t=e.locale)}}const Co="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Ao=null;function _o(e){if(null==Ao&&(Ao=Co.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==So.check(e)))throw Ao=null,new Error("BIP39 Wordlist for en (English) FAILED")}const ko=new class extends So{constructor(){super("en")}getWord(e){return _o(this),Ao[e]}getWordIndex(e){return _o(this),Ao.indexOf(e)}};So.register(ko);const To={en:ko},Mo=new v("hdnode/5.7.0"),Po=Z.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Oo=Ge("Bitcoin seed"),Ro=2147483648;function No(e){return(1<<e)-1<<8-e}function Do(e){return B(P(e),32)}function Io(e){return fo.encode(A([e,R(yo(yo(e)),0,4)]))}function Bo(e){if(null==e)return To.en;if("string"==typeof e){const t=To[e];return null==t&&Mo.throwArgumentError("unknown locale","wordlist",e),t}return e}const Fo={},Lo="m/44'/60'/0'/0/0";class Ho{constructor(e,t,n,r,o,i,s,a){if(e!==Fo)throw new Error("HDNode constructor cannot be called directly");if(t){const e=new Jn(t);ee(this,"privateKey",e.privateKey),ee(this,"publicKey",e.compressedPublicKey)}else ee(this,"privateKey",null),ee(this,"publicKey",P(n));ee(this,"parentFingerprint",r),ee(this,"fingerprint",R(vo(yo(this.publicKey)),0,4)),ee(this,"address",ar(this.publicKey)),ee(this,"chainCode",o),ee(this,"index",i),ee(this,"depth",s),null==a?(ee(this,"mnemonic",null),ee(this,"path",null)):"string"==typeof a?(ee(this,"mnemonic",null),ee(this,"path",a)):(ee(this,"mnemonic",a),ee(this,"path",a.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Io(A([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",P(this.depth),this.parentFingerprint,B(P(this.index),4),this.chainCode,null!=this.privateKey?A(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Ho(Fo,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~Ro));const n=new Uint8Array(37);if(e&Ro){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(C(this.privateKey),1),t&&(t+="'")}else n.set(C(this.publicKey));for(let t=24;t>=0;t-=8)n[33+(t>>3)]=e>>24-t&255;const r=C(wo(mo.sha512,this.chainCode,n)),o=r.slice(0,32),i=r.slice(32);let s=null,a=null;this.privateKey?s=Do(Z.from(o).add(this.privateKey).mod(Po)):a=new Jn(P(o))._addPoint(this.publicKey);let l=t;const c=this.mnemonic;return c&&(l=Object.freeze({phrase:c.phrase,path:t,locale:c.locale||"en"})),new Ho(Fo,s,a,this.fingerprint,Do(i),e,this.depth+1,l)}derivePath(e){const t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw new Error("invalid path - "+e);"m"===t[0]&&t.shift();let n=this;for(let e=0;e<t.length;e++){const r=t[e];if(r.match(/^[0-9]+'$/)){const e=parseInt(r.substring(0,r.length-1));if(e>=Ro)throw new Error("invalid path index - "+r);n=n._derive(Ro+e)}else{if(!r.match(/^[0-9]+$/))throw new Error("invalid path component - "+r);{const e=parseInt(r);if(e>=Ro)throw new Error("invalid path index - "+r);n=n._derive(e)}}}return n}static _fromSeed(e,t){const n=C(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const r=C(wo(mo.sha512,Oo,n));return new Ho(Fo,Do(r.slice(0,32)),null,"0x00000000",Do(r.slice(32)),0,0,t)}static fromMnemonic(e,t,n){return e=jo(Vo(e,n=Bo(n)),n),Ho._fromSeed(zo(e,t),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return Ho._fromSeed(e,null)}static fromExtendedKey(e){const t=fo.decode(e);82===t.length&&Io(t.slice(0,78))===e||Mo.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=t[4],r=P(t.slice(5,9)),o=parseInt(P(t.slice(9,13)).substring(2),16),i=P(t.slice(13,45)),s=t.slice(45,78);switch(P(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Ho(Fo,null,P(s),r,i,o,n,null);case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new Ho(Fo,P(s.slice(1)),null,r,i,o,n,null)}return Mo.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function zo(e,t){t||(t="");const n=Ge("mnemonic"+t,He.NFKD);return xo(Ge(e,He.NFKD),n,2048,64,"sha512")}function Vo(e,t){t=Bo(t),Mo.checkNormalize();const n=t.split(e);if(n.length%3!=0)throw new Error("invalid mnemonic");const r=C(new Uint8Array(Math.ceil(11*n.length/8)));let o=0;for(let e=0;e<n.length;e++){let i=t.getWordIndex(n[e].normalize("NFKD"));if(-1===i)throw new Error("invalid mnemonic");for(let e=0;e<11;e++)i&1<<10-e&&(r[o>>3]|=1<<7-o%8),o++}const i=32*n.length/3,s=No(n.length/3);if((C(yo(r.slice(0,i/8)))[0]&s)!=(r[r.length-1]&s))throw new Error("invalid checksum");return P(r.slice(0,i/8))}function jo(e,t){if(t=Bo(t),(e=C(e)).length%4!=0||e.length<16||e.length>32)throw new Error("invalid entropy");const n=[0];let r=11;for(let t=0;t<e.length;t++)r>8?(n[n.length-1]<<=8,n[n.length-1]|=e[t],r-=8):(n[n.length-1]<<=r,n[n.length-1]|=e[t]>>8-r,n.push(e[t]&(1<<8-r)-1),r+=3);const o=e.length/4,i=C(yo(e))[0]&No(o);return n[n.length-1]<<=o,n[n.length-1]|=i>>8-o,t.join(n.map((e=>t.getWord(e))))}function Uo(e,t){try{return Vo(e,t),!0}catch(e){}return!1}function Go(e){return("number"!=typeof e||e<0||e>=Ro||e%1)&&Mo.throwArgumentError("invalid account index","index",e),`m/44'/60'/${e}'/0/0`}const qo=new v("random/5.7.0"),Wo=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("unable to locate global object")}();let Zo=Wo.crypto||Wo.msCrypto;function $o(e){(e<=0||e>1024||e%1||e!=e)&&qo.throwArgumentError("invalid length","length",e);const t=new Uint8Array(e);return Zo.getRandomValues(t),C(t)}Zo&&Zo.getRandomValues||(qo.warn("WARNING: Missing strong random number source"),Zo={getRandomValues:function(e){return qo.throwError("no secure random source avaialble",v.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});var Ko=n(9085),Xo=n.n(Ko),Yo=n(9585),Jo=n.n(Yo);function Qo(e){return"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),C(e)}function ei(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function ti(e){return"string"==typeof e?Ge(e,He.NFKC):C(e)}function ni(e,t){let n=e;const r=t.toLowerCase().split("/");for(let e=0;e<r.length;e++){let t=null;for(const o in n)if(o.toLowerCase()===r[e]){t=n[o];break}if(null===t)return null;n=t}return n}function ri(e){const t=C(e);t[6]=15&t[6]|64,t[8]=63&t[8]|128;const n=P(t);return[n.substring(2,10),n.substring(10,14),n.substring(14,18),n.substring(18,22),n.substring(22,34)].join("-")}const oi="json-wallets/5.7.0";var ii=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const si=new v(oi);function ai(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}class li extends ce{isKeystoreAccount(e){return!(!e||!e._isKeystoreAccount)}}function ci(e,t){const n=Qo(ni(e,"crypto/ciphertext"));if(P(ye(A([t.slice(16,32),n]))).substring(2)!==ni(e,"crypto/mac").toLowerCase())throw new Error("invalid password");const r=function(e,t,n){if("aes-128-ctr"===ni(e,"crypto/cipher")){const r=Qo(ni(e,"crypto/cipherparams/iv")),o=new(Xo().Counter)(r);return C(new(Xo().ModeOfOperation.ctr)(t,o).decrypt(n))}return null}(e,t.slice(0,16),n);r||si.throwError("unsupported cipher",v.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const o=t.slice(32,64),i=ar(r);if(e.address){let t=e.address.toLowerCase();if("0x"!==t.substring(0,2)&&(t="0x"+t),Ne(t)!==i)throw new Error("address mismatch")}const s={_isKeystoreAccount:!0,address:i,privateKey:P(r)};if("0.1"===ni(e,"x-ethers/version")){const t=Qo(ni(e,"x-ethers/mnemonicCiphertext")),n=Qo(ni(e,"x-ethers/mnemonicCounter")),r=new(Xo().Counter)(n),i=new(Xo().ModeOfOperation.ctr)(o,r),a=ni(e,"x-ethers/path")||Lo,l=ni(e,"x-ethers/locale")||"en",c=C(i.decrypt(t));try{const e=jo(c,l),t=Ho.fromMnemonic(e,null,l).derivePath(a);if(t.privateKey!=s.privateKey)throw new Error("mnemonic mismatch");s.mnemonic=t.mnemonic}catch(e){if(e.code!==v.errors.INVALID_ARGUMENT||"wordlist"!==e.argument)throw e}}return new li(s)}function ui(e,t,n,r,o){return C(xo(e,t,n,r,o))}function di(e,t,n,r,o){return Promise.resolve(ui(e,t,n,r,o))}function hi(e,t,n,r,o){const i=ti(t),s=ni(e,"crypto/kdf");if(s&&"string"==typeof s){const t=function(e,t){return si.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===s.toLowerCase()){const n=Qo(ni(e,"crypto/kdfparams/salt")),a=parseInt(ni(e,"crypto/kdfparams/n")),l=parseInt(ni(e,"crypto/kdfparams/r")),c=parseInt(ni(e,"crypto/kdfparams/p"));a&&l&&c||t("kdf",s),0!=(a&a-1)&&t("N",a);const u=parseInt(ni(e,"crypto/kdfparams/dklen"));return 32!==u&&t("dklen",u),r(i,n,a,l,c,64,o)}if("pbkdf2"===s.toLowerCase()){const r=Qo(ni(e,"crypto/kdfparams/salt"));let o=null;const s=ni(e,"crypto/kdfparams/prf");"hmac-sha256"===s?o="sha256":"hmac-sha512"===s?o="sha512":t("prf",s);const a=parseInt(ni(e,"crypto/kdfparams/c")),l=parseInt(ni(e,"crypto/kdfparams/dklen"));return 32!==l&&t("dklen",l),n(i,r,a,l,o)}}return si.throwArgumentError("unsupported key-derivation function","kdf",s)}const pi=new v(oi);class fi extends ce{isCrowdsaleAccount(e){return!(!e||!e._isCrowdsaleAccount)}}function mi(e,t){const n=JSON.parse(e);t=ti(t);const r=Ne(ni(n,"ethaddr")),o=Qo(ni(n,"encseed"));o&&o.length%16==0||pi.throwArgumentError("invalid encseed","json",e);const i=C(xo(t,t,2e3,32,"sha256")).slice(0,16),s=o.slice(0,16),a=o.slice(16),l=new(Xo().ModeOfOperation.cbc)(i,s),c=Xo().padding.pkcs7.strip(C(l.decrypt(a)));let u="";for(let e=0;e<c.length;e++)u+=String.fromCharCode(c[e]);const d=ye(Ge(u));return new fi({_isCrowdsaleAccount:!0,address:r,privateKey:d})}function gi(e){let t=null;try{t=JSON.parse(e)}catch(e){return!1}return t.encseed&&t.ethaddr}function vi(e){let t=null;try{t=JSON.parse(e)}catch(e){return!1}return!(!t.version||parseInt(t.version)!==t.version||3!==parseInt(t.version))}function yi(e){if(gi(e))try{return Ne(JSON.parse(e).ethaddr)}catch(e){return null}if(vi(e))try{return Ne(JSON.parse(e).address)}catch(e){return null}return null}var bi=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const wi=new v("wallet/5.7.0");class xi extends cn{constructor(e,t){if(super(),null!=(n=e)&&T(n.privateKey,32)&&null!=n.address){const t=new Jn(e.privateKey);if(ee(this,"_signingKey",(()=>t)),ee(this,"address",ar(this.publicKey)),this.address!==Ne(e.address)&&wi.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(e){const t=e.mnemonic;return t&&t.phrase}(e)){const t=e.mnemonic;ee(this,"_mnemonic",(()=>({phrase:t.phrase,path:t.path||Lo,locale:t.locale||"en"})));const n=this.mnemonic;ar(Ho.fromMnemonic(n.phrase,null,n.locale).derivePath(n.path).privateKey)!==this.address&&wi.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ee(this,"_mnemonic",(()=>null))}else{if(Jn.isSigningKey(e))"secp256k1"!==e.curve&&wi.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ee(this,"_signingKey",(()=>e));else{"string"==typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e);const t=new Jn(e);ee(this,"_signingKey",(()=>t))}ee(this,"_mnemonic",(()=>null)),ee(this,"address",ar(this.publicKey))}var n;t&&!rn.isProvider(t)&&wi.throwArgumentError("invalid provider","provider",t),ee(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new xi(this,e)}signTransaction(e){return ne(e).then((t=>{null!=t.from&&(Ne(t.from)!==this.address&&wi.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const n=this._signingKey().signDigest(ye(mr(t)));return mr(t,n)}))}signMessage(e){return bi(this,void 0,void 0,(function*(){return L(this._signingKey().signDigest(Kr(e)))}))}_signTypedData(e,t,n){return bi(this,void 0,void 0,(function*(){const r=yield ho.resolveNames(e,t,n,(e=>(null==this.provider&&wi.throwError("cannot resolve ENS names without a provider",v.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),this.provider.resolveName(e))));return L(this._signingKey().signDigest(ho.hash(r.domain,t,r.value)))}))}encrypt(e,t,n){if("function"!=typeof t||n||(n=t,t={}),n&&"function"!=typeof n)throw new Error("invalid callback");return t||(t={}),function(e,t,n,r){try{if(Ne(e.address)!==ar(e.privateKey))throw new Error("address/privateKey mismatch");if(ai(e)){const t=e.mnemonic;if(Ho.fromMnemonic(t.phrase,null,t.locale).derivePath(t.path||Lo).privateKey!=e.privateKey)throw new Error("mnemonic mismatch")}}catch(e){return Promise.reject(e)}"function"!=typeof n||r||(r=n,n={}),n||(n={});const o=C(e.privateKey),i=ti(t);let s=null,a=null,l=null;if(ai(e)){const t=e.mnemonic;s=C(Vo(t.phrase,t.locale||"en")),a=t.path||Lo,l=t.locale||"en"}let c=n.client;c||(c="ethers.js");let u=null;u=n.salt?C(n.salt):$o(32);let d=null;if(n.iv){if(d=C(n.iv),16!==d.length)throw new Error("invalid iv")}else d=$o(16);let h=null;if(n.uuid){if(h=C(n.uuid),16!==h.length)throw new Error("invalid uuid")}else h=$o(16);let p=1<<17,f=8,m=1;return n.scrypt&&(n.scrypt.N&&(p=n.scrypt.N),n.scrypt.r&&(f=n.scrypt.r),n.scrypt.p&&(m=n.scrypt.p)),Jo().scrypt(i,u,p,f,m,64,r).then((t=>{const n=(t=C(t)).slice(0,16),r=t.slice(16,32),i=t.slice(32,64),g=new(Xo().Counter)(d),v=C(new(Xo().ModeOfOperation.ctr)(n,g).encrypt(o)),y=ye(A([r,v])),b={address:e.address.substring(2).toLowerCase(),id:ri(h),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:P(d).substring(2)},ciphertext:P(v).substring(2),kdf:"scrypt",kdfparams:{salt:P(u).substring(2),n:p,dklen:32,p:m,r:f},mac:y.substring(2)}};if(s){const e=$o(16),t=new(Xo().Counter)(e),n=C(new(Xo().ModeOfOperation.ctr)(i,t).encrypt(s)),r=new Date,o=r.getUTCFullYear()+"-"+ei(r.getUTCMonth()+1,2)+"-"+ei(r.getUTCDate(),2)+"T"+ei(r.getUTCHours(),2)+"-"+ei(r.getUTCMinutes(),2)+"-"+ei(r.getUTCSeconds(),2)+".0Z";b["x-ethers"]={client:c,gethFilename:"UTC--"+o+"--"+b.address,mnemonicCounter:P(e).substring(2),mnemonicCiphertext:P(n).substring(2),path:a,locale:l,version:"0.1"}}return JSON.stringify(b)}))}(this,e,t,n)}static createRandom(e){let t=$o(16);e||(e={}),e.extraEntropy&&(t=C(R(ye(A([t,e.extraEntropy])),0,16)));const n=jo(t,e.locale);return xi.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,t,n){return function(e,t,n){if(gi(e)){n&&n(0);const r=mi(e,t);return n&&n(1),Promise.resolve(r)}return vi(e)?function(e,t,n){return ii(this,void 0,void 0,(function*(){const r=JSON.parse(e);return ci(r,yield hi(r,t,di,Jo().scrypt,n))}))}(e,t,n):Promise.reject(new Error("invalid JSON wallet"))}(e,t,n).then((e=>new xi(e)))}static fromEncryptedJsonSync(e,t){return new xi(function(e,t){if(gi(e))return mi(e,t);if(vi(e))return function(e,t){const n=JSON.parse(e);return ci(n,hi(n,t,ui,Jo().syncScrypt))}(e,t);throw new Error("invalid JSON wallet")}(e,t))}static fromMnemonic(e,t,n){return t||(t=Lo),new xi(Ho.fromMnemonic(e,null,n).derivePath(t))}}function Ei(e,t){return lr(Kr(e),t)}function Si(e,t,n,r){return lr(ho.hash(e,t,n),r)}const Ci="0x0000000000000000000000000000000000000000",Ai="0x0000000000000000000000000000000000000000000000000000000000000000",_i="Ξ",ki=new v("networks/5.7.1");function Ti(e){const t=function(t,n){null==n&&(n={});const r=[];if(t.InfuraProvider&&"-"!==n.infura)try{r.push(new t.InfuraProvider(e,n.infura))}catch(e){}if(t.EtherscanProvider&&"-"!==n.etherscan)try{r.push(new t.EtherscanProvider(e,n.etherscan))}catch(e){}if(t.AlchemyProvider&&"-"!==n.alchemy)try{r.push(new t.AlchemyProvider(e,n.alchemy))}catch(e){}if(t.PocketProvider&&"-"!==n.pocket){const o=["goerli","ropsten","rinkeby","sepolia"];try{const i=new t.PocketProvider(e,n.pocket);i.network&&-1===o.indexOf(i.network.name)&&r.push(i)}catch(e){}}if(t.CloudflareProvider&&"-"!==n.cloudflare)try{r.push(new t.CloudflareProvider(e))}catch(e){}if(t.AnkrProvider&&"-"!==n.ankr)try{const o=["ropsten"],i=new t.AnkrProvider(e,n.ankr);i.network&&-1===o.indexOf(i.network.name)&&r.push(i)}catch(e){}if(0===r.length)return null;if(t.FallbackProvider){let o=1;return null!=n.quorum?o=n.quorum:"homestead"===e&&(o=2),new t.FallbackProvider(r,o)}return r[0]};return t.renetwork=function(e){return Ti(e)},t}function Mi(e,t){const n=function(n,r){return n.JsonRpcProvider?new n.JsonRpcProvider(e,t):null};return n.renetwork=function(t){return Mi(e,t)},n}const Pi={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Ti("homestead")},Oi={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Ti("ropsten")},Ri={chainId:63,name:"classicMordor",_defaultProvider:Mi("https://www.ethercluster.com/mordor","classicMordor")},Ni={unspecified:{chainId:0,name:"unspecified"},homestead:Pi,mainnet:Pi,morden:{chainId:2,name:"morden"},ropsten:Oi,testnet:Oi,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Ti("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Ti("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Ti("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:Ti("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:Mi("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Ri,classicTestnet:Ri,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Mi("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Ti("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Ti("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Di(e){if(null==e)return null;if("number"==typeof e){for(const t in Ni){const n=Ni[t];if(n.chainId===e)return{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress||null,_defaultProvider:n._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){const t=Ni[e];return null==t?null:{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}const t=Ni[e.name];if(!t)return"number"!=typeof e.chainId&&ki.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==t.chainId&&ki.throwArgumentError("network chainId mismatch","network",e);let n=e._defaultProvider||null;var r;return null==n&&t._defaultProvider&&(n=(r=t._defaultProvider)&&"function"==typeof r.renetwork?t._defaultProvider.renetwork(e):t._defaultProvider),{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:n}}function Ii(e){e=atob(e);const t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n));return C(t)}function Bi(e){e=C(e);let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}function Fi(e,t){null==t&&(t=1);const n=[],r=n.forEach,o=function(e,t){r.call(e,(function(e){t>0&&Array.isArray(e)?o(e,t-1):n.push(e)}))};return o(e,t),n}function Li(e){return 1&e?~e>>1:e>>1}function Hi(e,t){let n=Array(e);for(let r=0,o=-1;r<e;r++)n[r]=o+=1+t();return n}function zi(e,t){let n=Array(e);for(let r=0,o=0;r<e;r++)n[r]=o+=Li(t());return n}function Vi(e,t){let n=Hi(e(),e),r=e(),o=Hi(r,e),i=function(e,t){let n=Array(e);for(let r=0;r<e;r++)n[r]=1+t();return n}(r,e);for(let e=0;e<r;e++)for(let t=0;t<i[e];t++)n.push(o[e]+t);return t?n.map((e=>t[e])):n}function ji(e,t,n){let r=Array(e).fill(void 0).map((()=>[]));for(let o=0;o<t;o++)zi(e,n).forEach(((e,t)=>r[t].push(e)));return r}function Ui(e,t){let n=1+t(),r=t(),o=function(e){let t=[];for(;;){let n=e();if(0==n)break;t.push(n)}return t}(t);return Fi(ji(o.length,1+e,t).map(((e,t)=>{const i=e[0],s=e.slice(1);return Array(o[t]).fill(void 0).map(((e,t)=>{let o=t*r;return[i+t*n,s.map((e=>e+o))]}))})))}function Gi(e,t){return ji(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}const qi=function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function n(){return e[t++]<<8|e[t++]}let r=n(),o=1,i=[0,1];for(let e=1;e<r;e++)i.push(o+=n());let s=n(),a=t;t+=s;let l=0,c=0;function u(){return 0==l&&(c=c<<8|e[t++],l=8),c>>--l&1}const d=Math.pow(2,31),h=d>>>1,p=h>>1,f=d-1;let m=0;for(let e=0;e<31;e++)m=m<<1|u();let g=[],v=0,y=d;for(;;){let e=Math.floor(((m-v+1)*o-1)/y),t=0,n=r;for(;n-t>1;){let r=t+n>>>1;e<i[r]?n=r:t=r}if(0==t)break;g.push(t);let s=v+Math.floor(y*i[t]/o),a=v+Math.floor(y*i[t+1]/o)-1;for(;0==((s^a)&h);)m=m<<1&f|u(),s=s<<1&f,a=a<<1&f|1;for(;s&~a&p;)m=m&h|m<<1&f>>>1|u(),s=s<<1^h,a=(a^h)<<1|h|1;v=s,y=1+a-s}let b=r-4;return g.map((t=>{switch(t-b){case 3:return b+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return b+256+(e[a++]<<8|e[a++]);case 1:return b+e[a++];default:return t-1}}))}(Ii("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))),Wi=new Set(Vi(qi)),Zi=new Set(Vi(qi)),$i=function(e){let t=[];for(;;){let n=e();if(0==n)break;t.push(Ui(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(Gi(n,e))}return function(e){const t={};for(let n=0;n<e.length;n++){const r=e[n];t[r[0]]=r[1]}return t}(Fi(t))}(qi),Ki=function(e){let t=Vi(e).sort(((e,t)=>e-t));return function n(){let r=[];for(;;){let o=Vi(e,t);if(0==o.length)break;r.push({set:new Set(o),node:n()})}r.sort(((e,t)=>t.set.size-e.set.size));let o=e(),i=o%3;o=o/3|0;let s=!!(1&o);return o>>=1,{branches:r,valid:i,fe0f:s,save:1==o,check:2==o}}()}(qi),Xi=45,Yi=95;function Ji(e){return Ke(e)}function Qi(e){return e.filter((e=>65039!=e))}function es(e){for(let t of e.split(".")){let e=Ji(t);try{for(let t=e.lastIndexOf(Yi)-1;t>=0;t--)if(e[t]!==Yi)throw new Error("underscore only allowed at start");if(e.length>=4&&e.every((e=>e<128))&&e[2]===Xi&&e[3]===Xi)throw new Error("invalid label extension")}catch(e){throw new Error(`Invalid label "${t}": ${e.message}`)}}return e}function ts(e,t){var n;let r,o,i=Ki,s=[],a=e.length;for(t&&(t.length=0);a;){let l=e[--a];if(i=null===(n=i.branches.find((e=>e.set.has(l))))||void 0===n?void 0:n.node,!i)break;if(i.save)o=l;else if(i.check&&l===o)break;s.push(l),i.fe0f&&(s.push(65039),a>0&&65039==e[a-1]&&a--),i.valid&&(r=s.slice(),2==i.valid&&r.splice(1,1),t&&t.push(...e.slice(a).reverse()),e.length=a)}return r}const ns=new v(Xr),rs=new Uint8Array(32);function os(e){if(0===e.length)throw new Error("invalid ENS name; empty component");return e}function is(e){const t=Ge(function(e){return es(function(e,t){let n=Ji(e).reverse(),r=[];for(;n.length;){let e=ts(n);if(e){r.push(...t(e));continue}let o=n.pop();if(Wi.has(o)){r.push(o);continue}if(Zi.has(o))continue;let i=$i[o];if(!i)throw new Error(`Disallowed codepoint: 0x${o.toString(16).toUpperCase()}`);r.push(...i)}return es(String.fromCodePoint(...r).normalize("NFC"))}(e,Qi))}(e)),n=[];if(0===e.length)return n;let r=0;for(let e=0;e<t.length;e++)46===t[e]&&(n.push(os(t.slice(r,e))),r=e+1);if(r>=t.length)throw new Error("invalid ENS name; empty component");return n.push(os(t.slice(r))),n}function ss(e){try{return 0!==is(e).length}catch(e){}return!1}function as(e){"string"!=typeof e&&ns.throwArgumentError("invalid ENS name; not a string","name",e);let t=rs;const n=is(e);for(;n.length;)t=ye(A([t,ye(n.pop())]));return P(t)}function ls(e){return P(A(is(e).map((e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t}))))+"00"}rs.fill(0);var cs=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};function us(e,t){return cs(this,void 0,void 0,(function*(){null==t&&(t={});const n={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};if(!0!==t.skipFetchSetup&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),null!=t.fetchOptions){const e=t.fetchOptions;e.mode&&(n.mode=e.mode),e.cache&&(n.cache=e.cache),e.credentials&&(n.credentials=e.credentials),e.redirect&&(n.redirect=e.redirect),e.referrer&&(n.referrer=e.referrer)}const r=yield fetch(e,n),o=yield r.arrayBuffer(),i={};return r.headers.forEach?r.headers.forEach(((e,t)=>{i[t.toLowerCase()]=e})):r.headers.keys().forEach((e=>{i[e.toLowerCase()]=r.headers.get(e)})),{headers:i,statusCode:r.status,statusMessage:r.statusText,body:C(new Uint8Array(o))}}))}var ds=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const hs=new v("web/5.7.1");function ps(e){return new Promise((t=>{setTimeout(t,e)}))}function fs(e,t){if(null==e)return null;if("string"==typeof e)return e;if(x(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return $e(e)}catch(e){}return P(e)}return e}function ms(e,t,n){const r="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;hs.assertArgument(r>0&&r%1==0,"invalid connection throttle limit","connection.throttleLimit",r);const o="object"==typeof e?e.throttleCallback:null,i="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;hs.assertArgument(i>0&&i%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",i);const s="object"==typeof e&&!!e.errorPassThrough,a={};let l=null;const c={method:"GET"};let u=!1,d=12e4;if("string"==typeof e)l=e;else if("object"==typeof e){if(null!=e&&null!=e.url||hs.throwArgumentError("missing URL","connection.url",e),l=e.url,"number"==typeof e.timeout&&e.timeout>0&&(d=e.timeout),e.headers)for(const t in e.headers)a[t.toLowerCase()]={key:t,value:String(e.headers[t])},["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0&&(u=!0);if(c.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==l.substring(0,6)&&!0!==e.allowInsecureAuthentication&&hs.throwError("basic authentication requires a secure https url",v.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:e.user,password:"[REDACTED]"});const t=e.user+":"+e.password;a.authorization={key:"Authorization",value:"Basic "+Bi(Ge(t))}}null!=e.skipFetchSetup&&(c.skipFetchSetup=!!e.skipFetchSetup),null!=e.fetchOptions&&(c.fetchOptions=oe(e.fetchOptions))}const h=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),p=l?l.match(h):null;if(p)try{const e={statusCode:200,statusMessage:"OK",headers:{"content-type":p[1]||"text/plain"},body:p[2]?Ii(p[3]):(f=p[3],Ge(f.replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16))))))};let t=e.body;return n&&(t=n(e.body,e)),Promise.resolve(t)}catch(e){hs.throwError("processing response error",v.errors.SERVER_ERROR,{body:fs(p[1],p[2]),error:e,requestBody:null,requestMethod:"GET",url:l})}var f;t&&(c.method="POST",c.body=t,null==a["content-type"]&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==a["content-length"]&&(a["content-length"]={key:"Content-Length",value:String(t.length)}));const m={};Object.keys(a).forEach((e=>{const t=a[e];m[t.key]=t.value})),c.headers=m;const g=function(){let e=null;return{promise:new Promise((function(t,n){d&&(e=setTimeout((()=>{null!=e&&(e=null,n(hs.makeError("timeout",v.errors.TIMEOUT,{requestBody:fs(c.body,m["content-type"]),requestMethod:c.method,timeout:d,url:l})))}),d))})),cancel:function(){null!=e&&(clearTimeout(e),e=null)}}}(),y=function(){return ds(this,void 0,void 0,(function*(){for(let e=0;e<r;e++){let t=null;try{if(t=yield us(l,c),e<r)if(301===t.statusCode||302===t.statusCode){const e=t.headers.location||"";if("GET"===c.method&&e.match(/^https:/)){l=t.headers.location;continue}}else if(429===t.statusCode){let n=!0;if(o&&(n=yield o(e,l)),n){let n=0;const r=t.headers["retry-after"];n="string"==typeof r&&r.match(/^[1-9][0-9]*$/)?1e3*parseInt(r):i*parseInt(String(Math.random()*Math.pow(2,e))),yield ps(n);continue}}}catch(e){t=e.response,null==t&&(g.cancel(),hs.throwError("missing response",v.errors.SERVER_ERROR,{requestBody:fs(c.body,m["content-type"]),requestMethod:c.method,serverError:e,url:l}))}let a=t.body;if(u&&304===t.statusCode?a=null:!s&&(t.statusCode<200||t.statusCode>=300)&&(g.cancel(),hs.throwError("bad response",v.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:fs(a,t.headers?t.headers["content-type"]:null),requestBody:fs(c.body,m["content-type"]),requestMethod:c.method,url:l})),n)try{const e=yield n(a,t);return g.cancel(),e}catch(n){if(n.throttleRetry&&e<r){let t=!0;if(o&&(t=yield o(e,l)),t){const t=i*parseInt(String(Math.random()*Math.pow(2,e)));yield ps(t);continue}}g.cancel(),hs.throwError("processing response error",v.errors.SERVER_ERROR,{body:fs(a,t.headers?t.headers["content-type"]:null),error:n,requestBody:fs(c.body,m["content-type"]),requestMethod:c.method,url:l})}return g.cancel(),a}return hs.throwError("failed response",v.errors.SERVER_ERROR,{requestBody:fs(c.body,m["content-type"]),requestMethod:c.method,url:l})}))}();return Promise.race([g.promise,y])}function gs(e,t,n){let r=null;if(null!=t){r=Ge(t);const n="string"==typeof e?{url:e}:oe(e);n.headers?0!==Object.keys(n.headers).filter((e=>"content-type"===e.toLowerCase())).length||(n.headers=oe(n.headers),n.headers["content-type"]="application/json"):n.headers={"content-type":"application/json"},e=n}return ms(e,r,((e,t)=>{let r=null;if(null!=e)try{r=JSON.parse($e(e))}catch(t){hs.throwError("invalid JSON",v.errors.SERVER_ERROR,{body:e,error:t})}return n&&(r=n(r,t)),r}))}function vs(e,t){return t||(t={}),null==(t=oe(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise((function(n,r){let o=null,i=!1;const s=()=>!i&&(i=!0,o&&clearTimeout(o),!0);t.timeout&&(o=setTimeout((()=>{s()&&r(new Error("timeout"))}),t.timeout));const a=t.retryLimit;let l=0;!function o(){return e().then((function(e){if(void 0!==e)s()&&n(e);else if(t.oncePoll)t.oncePoll.once("poll",o);else if(t.onceBlock)t.onceBlock.once("block",o);else if(!i){if(l++,l>a)return void(s()&&r(new Error("retry limit reached")));let e=t.interval*parseInt(String(Math.random()*Math.pow(2,l)));e<t.floor&&(e=t.floor),e>t.ceiling&&(e=t.ceiling),setTimeout(o,e)}return null}),(function(e){s()&&r(e)}))}()}))}var ys=n(3055),bs=n.n(ys);const ws="providers/5.7.2",xs=new v(ws);class Es{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),n=this.bigNumber.bind(this),r=this.blockTag.bind(this),o=this.data.bind(this),i=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),l=this.type.bind(this);return e.transaction={hash:i,type:l,accessList:Es.allowNull(this.accessList.bind(this),null),blockHash:Es.allowNull(i,null),blockNumber:Es.allowNull(a,null),transactionIndex:Es.allowNull(a,null),confirmations:Es.allowNull(a,null),from:t,gasPrice:Es.allowNull(n),maxPriorityFeePerGas:Es.allowNull(n),maxFeePerGas:Es.allowNull(n),gasLimit:n,to:Es.allowNull(t,null),value:n,nonce:a,data:o,r:Es.allowNull(this.uint256),s:Es.allowNull(this.uint256),v:Es.allowNull(a),creates:Es.allowNull(t,null),raw:Es.allowNull(o)},e.transactionRequest={from:Es.allowNull(t),nonce:Es.allowNull(a),gasLimit:Es.allowNull(n),gasPrice:Es.allowNull(n),maxPriorityFeePerGas:Es.allowNull(n),maxFeePerGas:Es.allowNull(n),to:Es.allowNull(t),value:Es.allowNull(n),data:Es.allowNull((e=>this.data(e,!0))),type:Es.allowNull(a),accessList:Es.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:i,address:t,topics:Es.arrayOf(i),data:o,logIndex:a,blockHash:i},e.receipt={to:Es.allowNull(this.address,null),from:Es.allowNull(this.address,null),contractAddress:Es.allowNull(t,null),transactionIndex:a,root:Es.allowNull(s),gasUsed:n,logsBloom:Es.allowNull(o),blockHash:i,transactionHash:i,logs:Es.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:Es.allowNull(a,null),cumulativeGasUsed:n,effectiveGasPrice:Es.allowNull(n),status:Es.allowNull(a),type:l},e.block={hash:Es.allowNull(i),parentHash:i,number:a,timestamp:a,nonce:Es.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Es.allowNull(t),extraData:o,transactions:Es.allowNull(Es.arrayOf(i)),baseFeePerGas:Es.allowNull(n)},e.blockWithTransactions=oe(e.block),e.blockWithTransactions.transactions=Es.allowNull(Es.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Es.allowNull(r,void 0),toBlock:Es.allowNull(r,void 0),blockHash:Es.allowNull(i,void 0),address:Es.allowNull(t,void 0),topics:Es.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Es.allowNull(a),blockHash:Es.allowNull(i),transactionIndex:a,removed:Es.allowNull(this.boolean.bind(this)),address:t,data:Es.allowFalsish(o,"0x"),topics:Es.arrayOf(i),transactionHash:i,logIndex:a},e}accessList(e){return dr(e||[])}number(e){return"0x"===e?0:Z.from(e).toNumber()}type(e){return"0x"===e||null==e?0:Z.from(e).toNumber()}bigNumber(e){return Z.from(e)}boolean(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),T(e))?e.toLowerCase():xs.throwArgumentError("invalid hash","value",e)}data(e,t){const n=this.hex(e,t);if(n.length%2!=0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Ne(e)}callAddress(e){if(!T(e,32))return null;const t=Ne(R(e,12));return t===Ci?null:t}contractAddress(e){return Be(e)}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if("number"==typeof e||T(e))return D(e);throw new Error("invalid blockTag")}hash(e,t){const n=this.hex(e,t);return 32!==O(n)?xs.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(null==e)return null;const t=Z.from(e);try{return t.toNumber()}catch(e){}return null}uint256(e){if(!T(e))throw new Error("invalid uint256");return B(e,32)}_block(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);const n=null!=e._difficulty?e._difficulty:e.difficulty,r=Es.check(t,e);return r._difficulty=null==n?null:Z.from(n),r}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Es.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&Z.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),1!==e.type&&2!==e.type||null!=e.accessList||(e.accessList=[]);const t=Es.check(this.formats.transaction,e);if(null!=e.chainId){let n=e.chainId;T(n)&&(n=Z.from(n).toNumber()),t.chainId=n}else{let n=e.networkId;null==n&&null==t.v&&(n=e.chainId),T(n)&&(n=Z.from(n).toNumber()),"number"!=typeof n&&null!=t.v&&(n=(t.v-35)/2,n<0&&(n=0),n=parseInt(n)),"number"!=typeof n&&(n=0),t.chainId=n}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return vr(e)}receiptLog(e){return Es.check(this.formats.receiptLog,e)}receipt(e){const t=Es.check(this.formats.receipt,e);if(null!=t.root)if(t.root.length<=4){const e=Z.from(t.root).toNumber();0===e||1===e?(null!=t.status&&t.status!==e&&xs.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=e,delete t.root):xs.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&xs.throwArgumentError("invalid root hash","value.root",t.root);return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map((e=>this.topics(e))):null!=e?this.hash(e,!0):null}filter(e){return Es.check(this.formats.filter,e)}filterLog(e){return Es.check(this.formats.filterLog,e)}static check(e,t){const n={};for(const r in e)try{const o=e[r](t[r]);void 0!==o&&(n[r]=o)}catch(e){throw e.checkKey=r,e.checkValue=t[r],e}return n}static allowNull(e,t){return function(n){return null==n?t:e(n)}}static allowFalsish(e,t){return function(n){return n?e(n):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const n=[];return t.forEach((function(t){n.push(e(t))})),n}}}function Ss(e){return e&&"function"==typeof e.isCommunityResource}function Cs(e){return Ss(e)&&e.isCommunityResource()}let As=!1;function _s(){As||(As=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var ks=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const Ts=new v(ws);function Ms(e){return null==e?"null":(32!==O(e)&&Ts.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function Ps(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map((e=>{if(Array.isArray(e)){const t={};e.forEach((e=>{t[Ms(e)]=!0}));const n=Object.keys(t);return n.sort(),n.join("|")}return Ms(e)})).join("&")}function Os(e){if("string"==typeof e){if(32===O(e=e.toLowerCase()))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:*:"+Ps(e);if(nn.isForkEvent(e))throw Ts.warn("not implemented"),new Error("not implemented");if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+Ps(e.topics||[])}throw new Error("invalid event - "+e)}function Rs(){return(new Date).getTime()}function Ns(e){return new Promise((t=>{setTimeout(t,e)}))}const Ds=["block","network","pending","poll"];class Is{constructor(e,t,n){ee(this,"tag",e),ee(this,"listener",t),ee(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){const e=this.tag.split(":");if("filter"!==e[0])return null;const t=e[1],n=""===(r=e[2])?[]:r.split(/&/g).map((e=>{if(""===e)return[];const t=e.split("|").map((e=>"null"===e?null:e));return 1===t.length?t[0]:t}));var r;const o={};return n.length>0&&(o.topics=n),t&&"*"!==t&&(o.address=t),o}pollable(){return this.tag.indexOf(":")>=0||Ds.indexOf(this.tag)>=0}}const Bs={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Fs(e){return B(Z.from(e).toHexString(),32)}function Ls(e){return fo.encode(A([e,R(yo(yo(e)),0,4)]))}const Hs=new RegExp("^(ipfs)://(.*)$","i"),zs=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Hs,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Vs(e,t){try{return $e(js(e,t))}catch(e){}return null}function js(e,t){if("0x"===e)return null;const n=Z.from(R(e,t,t+32)).toNumber(),r=Z.from(R(e,n,n+32)).toNumber();return R(e,n+32,n+32+r)}function Us(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):Ts.throwArgumentError("unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}function Gs(e){const t=C(e);if(t.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(t,32-t.length),n}function qs(e){if(e.length%32==0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}function Ws(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(null),n+=32;for(let r=0;r<e.length;r++){const o=C(e[r]);t[r]=Gs(n),t.push(Gs(o.length)),t.push(qs(o)),n+=32+32*Math.ceil(o.length/32)}return N(t)}class Zs{constructor(e,t,n,r){ee(this,"provider",e),ee(this,"name",n),ee(this,"address",e.formatter.address(t)),ee(this,"_resolvedAddress",r)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then((e=>Z.from(e).eq(1))).catch((e=>{if(e.code===v.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e}))),this._supportsEip2544}_fetch(e,t){return ks(this,void 0,void 0,(function*(){const n={to:this.address,ccipReadEnabled:!0,data:N([e,as(this.name),t||"0x"])};let r=!1;(yield this.supportsWildcard())&&(r=!0,n.data=N(["0x9061b923",Ws([ls(this.name),n.data])]));try{let e=yield this.provider.call(n);return C(e).length%32==4&&Ts.throwError("resolver threw error",v.errors.CALL_EXCEPTION,{transaction:n,data:e}),r&&(e=js(e,0)),e}catch(e){if(e.code===v.errors.CALL_EXCEPTION)return null;throw e}}))}_fetchBytes(e,t){return ks(this,void 0,void 0,(function*(){const n=yield this._fetch(e,t);return null!=n?js(n,0):null}))}_getAddress(e,t){const n=Bs[String(e)];if(null==n&&Ts.throwError(`unsupported coin type: ${e}`,v.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),"eth"===n.ilk)return this.provider.formatter.address(t);const r=C(t);if(null!=n.p2pkh){const e=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return Ls(A([[n.p2pkh],"0x"+e[2]]))}}if(null!=n.p2sh){const e=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return Ls(A([[n.p2sh],"0x"+e[2]]))}}if(null!=n.prefix){const e=r[1];let t=r[0];if(0===t?20!==e&&32!==e&&(t=-1):t=-1,t>=0&&r.length===2+e&&e>=1&&e<=75){const e=bs().toWords(r.slice(2));return e.unshift(t),bs().encode(n.prefix,e)}}return null}getAddress(e){return ks(this,void 0,void 0,(function*(){if(null==e&&(e=60),60===e)try{const e=yield this._fetch("0x3b3b57de");return"0x"===e||e===Ai?null:this.provider.formatter.callAddress(e)}catch(e){if(e.code===v.errors.CALL_EXCEPTION)return null;throw e}const t=yield this._fetchBytes("0xf1cb7e06",Fs(e));if(null==t||"0x"===t)return null;const n=this._getAddress(e,t);return null==n&&Ts.throwError("invalid or unsupported coin data",v.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),n}))}getAvatar(){return ks(this,void 0,void 0,(function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(null==t)return null;for(let n=0;n<zs.length;n++){const r=t.match(zs[n]);if(null==r)continue;const o=r[1].toLowerCase();switch(o){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:Us(t)};case"erc721":case"erc1155":{const n="erc721"===o?"0xc87b56dd":"0x0e89341c";e.push({type:o,content:t});const i=this._resolvedAddress||(yield this.getAddress()),s=(r[2]||"").split("/");if(2!==s.length)return null;const a=yield this.provider.formatter.address(s[0]),l=B(Z.from(s[1]).toHexString(),32);if("erc721"===o){const t=this.provider.formatter.callAddress(yield this.provider.call({to:a,data:N(["0x6352211e",l])}));if(i!==t)return null;e.push({type:"owner",content:t})}else if("erc1155"===o){const t=Z.from(yield this.provider.call({to:a,data:N(["0x00fdd58e",B(i,32),l])}));if(t.isZero())return null;e.push({type:"balance",content:t.toString()})}const c={to:this.provider.formatter.address(s[0]),data:N([n,l])};let u=Vs(yield this.provider.call(c),0);if(null==u)return null;e.push({type:"metadata-url-base",content:u}),"erc1155"===o&&(u=u.replace("{id}",l.substring(2)),e.push({type:"metadata-url-expanded",content:u})),u.match(/^ipfs:/i)&&(u=Us(u)),e.push({type:"metadata-url",content:u});const d=yield gs(u);if(!d)return null;e.push({type:"metadata",content:JSON.stringify(d)});let h=d.image;if("string"!=typeof h)return null;if(h.match(/^(https:\/\/|data:)/i));else{if(null==h.match(Hs))return null;e.push({type:"url-ipfs",content:h}),h=Us(h)}return e.push({type:"url",content:h}),{linkage:e,url:h}}}}}catch(e){}return null}))}getContentHash(){return ks(this,void 0,void 0,(function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(null==e||"0x"===e)return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e=parseInt(t[3],16);if(t[4].length===2*e)return"ipfs://"+fo.encode("0x"+t[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const e=parseInt(n[3],16);if(n[4].length===2*e)return"ipns://"+fo.encode("0x"+n[1])}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&64===r[1].length)return"bzz://"+r[1];const o=e.match(/^0x90b2c605([0-9a-f]*)$/);if(o&&68===o[1].length){const e={"=":"","+":"-","/":"_"};return"sia://"+Bi("0x"+o[1]).replace(/[=+\/]/g,(t=>e[t]))}return Ts.throwError("invalid or unsupported content hash data",v.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})}))}getText(e){return ks(this,void 0,void 0,(function*(){let t=Ge(e);t=A([Fs(64),Fs(t.length),t]),t.length%32!=0&&(t=A([t,B("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",P(t));return null==n||"0x"===n?null:$e(n)}))}}let $s=null,Ks=1;class Xs extends rn{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),ee(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch((e=>{})),this._ready().catch((e=>{}));else{const t=te(new.target,"getNetwork")(e);t?(ee(this,"_network",t),this.emit("network",t,null)):Ts.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return ks(this,void 0,void 0,(function*(){if(null==this._network){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(e){}null==e&&(e=yield this.detectNetwork()),e||Ts.throwError("no network detected",v.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:ee(this,"_network",e),this.emit("network",e,null))}return this._network}))}get ready(){return vs((()=>this._ready().then((e=>e),(e=>{if(e.code!==v.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))))}static getFormatter(){return null==$s&&($s=new Es),$s}static getNetwork(e){return Di(null==e?"homestead":e)}ccipReadFetch(e,t,n){return ks(this,void 0,void 0,(function*(){if(this.disableCcipRead||0===n.length)return null;const r=e.to.toLowerCase(),o=t.toLowerCase(),i=[];for(let e=0;e<n.length;e++){const t=n[e],s=t.replace("{sender}",r).replace("{data}",o),a=t.indexOf("{data}")>=0?null:JSON.stringify({data:o,sender:r}),l=yield gs({url:s,errorPassThrough:!0},a,((e,t)=>(e.status=t.statusCode,e)));if(l.data)return l.data;const c=l.message||"unknown error";if(l.status>=400&&l.status<500)return Ts.throwError(`response not found during CCIP fetch: ${c}`,v.errors.SERVER_ERROR,{url:t,errorMessage:c});i.push(c)}return Ts.throwError(`error encountered during CCIP fetch: ${i.map((e=>JSON.stringify(e))).join(", ")}`,v.errors.SERVER_ERROR,{urls:n,errorMessages:i})}))}_getInternalBlockNumber(e){return ks(this,void 0,void 0,(function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const t=this._internalBlockNumber;try{const n=yield t;if(Rs()-n.respTime<=e)return n.blockNumber;break}catch(e){if(this._internalBlockNumber===t)break}}const t=Rs(),n=ne({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((e=>null),(e=>e))}).then((({blockNumber:e,networkError:r})=>{if(r)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),r;const o=Rs();return(e=Z.from(e).toNumber())<this._maxInternalBlockNumber&&(e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=e,this._setFastBlockNumber(e),{blockNumber:e,reqTime:t,respTime:o}}));return this._internalBlockNumber=n,n.catch((e=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)})),(yield n).blockNumber}))}poll(){return ks(this,void 0,void 0,(function*(){const e=Ks++,t=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(e){return void this.emit("error",e)}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)Ts.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",Ts.makeError("network block skew detected",v.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let e=this._emitted.block+1;e<=n;e++)this.emit("block",e);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach((e=>{if("block"===e)return;const t=this._emitted[e];"pending"!==t&&n-t>12&&delete this._emitted[e]}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=n-1),this._events.forEach((e=>{switch(e.type){case"tx":{const n=e.hash;let r=this.getTransactionReceipt(n).then((e=>e&&null!=e.blockNumber?(this._emitted["t:"+n]=e.blockNumber,this.emit(n,e),null):null)).catch((e=>{this.emit("error",e)}));t.push(r);break}case"filter":if(!e._inflight){e._inflight=!0,-2===e._lastBlockNumber&&(e._lastBlockNumber=n-1);const r=e.filter;r.fromBlock=e._lastBlockNumber+1,r.toBlock=n;const o=r.toBlock-this._maxFilterBlockRange;o>r.fromBlock&&(r.fromBlock=o),r.fromBlock<0&&(r.fromBlock=0);const i=this.getLogs(r).then((t=>{e._inflight=!1,0!==t.length&&t.forEach((t=>{t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(r,t)}))})).catch((t=>{this.emit("error",t),e._inflight=!1}));t.push(i)}}})),this._lastBlockNumber=n,Promise.all(t).then((()=>{this.emit("didPoll",e)})).catch((e=>{this.emit("error",e)}))}else this.emit("didPoll",e)}))}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return ks(this,void 0,void 0,(function*(){return Ts.throwError("provider does not support network detection",v.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return ks(this,void 0,void 0,(function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield Ns(0),this._network;const n=Ts.makeError("underlying network changed",v.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",n),n}return e}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then((e=>{this._setFastBlockNumber(e)}),(e=>{})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval((()=>{this.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((()=>{this.poll(),this._bootstrapPoll=setTimeout((()=>{this._poller||this.poll(),this._bootstrapPoll=null}),this.pollingInterval)}),0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval((()=>{this.poll()}),this._pollingInterval))}_getFastBlockNumber(){const e=Rs();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then((e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber)))),this._fastBlockNumberPromise}_setFastBlockNumber(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=Rs(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,n){return ks(this,void 0,void 0,(function*(){return this._waitForTransaction(e,null==t?1:t,n||0,null)}))}_waitForTransaction(e,t,n,r){return ks(this,void 0,void 0,(function*(){const o=yield this.getTransactionReceipt(e);return(o?o.confirmations:0)>=t?o:new Promise(((o,i)=>{const s=[];let a=!1;const l=function(){return!!a||(a=!0,s.forEach((e=>{e()})),!1)},c=e=>{e.confirmations<t||l()||o(e)};if(this.on(e,c),s.push((()=>{this.removeListener(e,c)})),r){let n=r.startBlock,o=null;const c=s=>ks(this,void 0,void 0,(function*(){a||(yield Ns(1e3),this.getTransactionCount(r.from).then((u=>ks(this,void 0,void 0,(function*(){if(!a){if(u<=r.nonce)n=s;else{{const t=yield this.getTransaction(e);if(t&&null!=t.blockNumber)return}for(null==o&&(o=n-3,o<r.startBlock&&(o=r.startBlock));o<=s;){if(a)return;const n=yield this.getBlockWithTransactions(o);for(let o=0;o<n.transactions.length;o++){const s=n.transactions[o];if(s.hash===e)return;if(s.from===r.from&&s.nonce===r.nonce){if(a)return;const n=yield this.waitForTransaction(s.hash,t);if(l())return;let o="replaced";return s.data===r.data&&s.to===r.to&&s.value.eq(r.value)?o="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(o="cancelled"),void i(Ts.makeError("transaction was replaced",v.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===o||"cancelled"===o,reason:o,replacement:this._wrapTransaction(s),hash:e,receipt:n}))}}o++}}a||this.once("block",c)}}))),(e=>{a||this.once("block",c)})))}));if(a)return;this.once("block",c),s.push((()=>{this.removeListener("block",c)}))}if("number"==typeof n&&n>0){const e=setTimeout((()=>{l()||i(Ts.makeError("timeout exceeded",v.errors.TIMEOUT,{timeout:n}))}),n);e.unref&&e.unref(),s.push((()=>{clearTimeout(e)}))}}))}))}getBlockNumber(){return ks(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return ks(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return Z.from(e)}catch(t){return Ts.throwError("bad result from backend",v.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}}))}getBalance(e,t){return ks(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield ne({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),r=yield this.perform("getBalance",n);try{return Z.from(r)}catch(e){return Ts.throwError("bad result from backend",v.errors.SERVER_ERROR,{method:"getBalance",params:n,result:r,error:e})}}))}getTransactionCount(e,t){return ks(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield ne({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),r=yield this.perform("getTransactionCount",n);try{return Z.from(r).toNumber()}catch(e){return Ts.throwError("bad result from backend",v.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:r,error:e})}}))}getCode(e,t){return ks(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield ne({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),r=yield this.perform("getCode",n);try{return P(r)}catch(e){return Ts.throwError("bad result from backend",v.errors.SERVER_ERROR,{method:"getCode",params:n,result:r,error:e})}}))}getStorageAt(e,t,n){return ks(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield ne({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(t).then((e=>D(e)))}),o=yield this.perform("getStorageAt",r);try{return P(o)}catch(e){return Ts.throwError("bad result from backend",v.errors.SERVER_ERROR,{method:"getStorageAt",params:r,result:o,error:e})}}))}_wrapTransaction(e,t,n){if(null!=t&&32!==O(t))throw new Error("invalid response - sendTransaction");const r=e;return null!=t&&e.hash!==t&&Ts.throwError("Transaction hash mismatch from Provider.sendTransaction.",v.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),r.wait=(t,r)=>ks(this,void 0,void 0,(function*(){let o;null==t&&(t=1),null==r&&(r=0),0!==t&&null!=n&&(o={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const i=yield this._waitForTransaction(e.hash,t,r,o);return null==i&&0===t?null:(this._emitted["t:"+e.hash]=i.blockNumber,0===i.status&&Ts.throwError("transaction failed",v.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:i}),i)})),r}sendTransaction(e){return ks(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then((e=>P(e))),n=this.formatter.transaction(e);null==n.confirmations&&(n.confirmations=0);const r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const e=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(n,e,r)}catch(e){throw e.transaction=n,e.transactionHash=n.hash,e}}))}_getTransactionRequest(e){return ks(this,void 0,void 0,(function*(){const t=yield e,n={};return["from","to"].forEach((e=>{null!=t[e]&&(n[e]=Promise.resolve(t[e]).then((e=>e?this._getAddress(e):null)))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((e=>{null!=t[e]&&(n[e]=Promise.resolve(t[e]).then((e=>e?Z.from(e):null)))})),["type"].forEach((e=>{null!=t[e]&&(n[e]=Promise.resolve(t[e]).then((e=>null!=e?e:null)))})),t.accessList&&(n.accessList=this.formatter.accessList(t.accessList)),["data"].forEach((e=>{null!=t[e]&&(n[e]=Promise.resolve(t[e]).then((e=>e?P(e):null)))})),this.formatter.transactionRequest(yield ne(n))}))}_getFilter(e){return ks(this,void 0,void 0,(function*(){e=yield e;const t={};return null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach((n=>{null!=e[n]&&(t[n]=e[n])})),["fromBlock","toBlock"].forEach((n=>{null!=e[n]&&(t[n]=this._getBlockTag(e[n]))})),this.formatter.filter(yield ne(t))}))}_call(e,t,n){return ks(this,void 0,void 0,(function*(){n>=10&&Ts.throwError("CCIP read exceeded maximum redirections",v.errors.SERVER_ERROR,{redirects:n,transaction:e});const r=e.to,o=yield this.perform("call",{transaction:e,blockTag:t});if(n>=0&&"latest"===t&&null!=r&&"0x556f1830"===o.substring(0,10)&&O(o)%32==4)try{const i=R(o,4),s=R(i,0,32);Z.from(s).eq(r)||Ts.throwError("CCIP Read sender did not match",v.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const a=[],l=Z.from(R(i,32,64)).toNumber(),c=Z.from(R(i,l,l+32)).toNumber(),u=R(i,l+32);for(let t=0;t<c;t++){const n=Vs(u,32*t);null==n&&Ts.throwError("CCIP Read contained corrupt URL string",v.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o}),a.push(n)}const d=js(i,64);Z.from(R(i,100,128)).isZero()||Ts.throwError("CCIP Read callback selector included junk",v.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const h=R(i,96,100),p=js(i,128),f=yield this.ccipReadFetch(e,d,a);null==f&&Ts.throwError("CCIP Read disabled or provided no URLs",v.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const m={to:r,data:N([h,Ws([f,p])])};return this._call(m,t,n+1)}catch(e){if(e.code===v.errors.SERVER_ERROR)throw e}try{return P(o)}catch(n){return Ts.throwError("bad result from backend",v.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:o,error:n})}}))}call(e,t){return ks(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield ne({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)}))}estimateGas(e){return ks(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield ne({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",t);try{return Z.from(n)}catch(e){return Ts.throwError("bad result from backend",v.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:n,error:e})}}))}_getAddress(e){return ks(this,void 0,void 0,(function*(){"string"!=typeof(e=yield e)&&Ts.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return null==t&&Ts.throwError("ENS name not configured",v.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t}))}_getBlock(e,t){return ks(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;let n=-128;const r={includeTransactions:!!t};if(T(e,32))r.blockHash=e;else try{r.blockTag=yield this._getBlockTag(e),T(r.blockTag)&&(n=parseInt(r.blockTag.substring(2),16))}catch(t){Ts.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return vs((()=>ks(this,void 0,void 0,(function*(){const e=yield this.perform("getBlock",r);if(null==e)return null!=r.blockHash&&null==this._emitted["b:"+r.blockHash]||null!=r.blockTag&&n>this._emitted.block?null:void 0;if(t){let t=null;for(let n=0;n<e.transactions.length;n++){const r=e.transactions[n];if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations){null==t&&(t=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let e=t-r.blockNumber+1;e<=0&&(e=1),r.confirmations=e}}const n=this.formatter.blockWithTransactions(e);return n.transactions=n.transactions.map((e=>this._wrapTransaction(e))),n}return this.formatter.block(e)}))),{oncePoll:this})}))}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return ks(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return vs((()=>ks(this,void 0,void 0,(function*(){const n=yield this.perform("getTransaction",t);if(null==n)return null==this._emitted["t:"+e]?null:void 0;const r=this.formatter.transactionResponse(n);if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-r.blockNumber+1;e<=0&&(e=1),r.confirmations=e}return this._wrapTransaction(r)}))),{oncePoll:this})}))}getTransactionReceipt(e){return ks(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return vs((()=>ks(this,void 0,void 0,(function*(){const n=yield this.perform("getTransactionReceipt",t);if(null==n)return null==this._emitted["t:"+e]?null:void 0;if(null==n.blockHash)return;const r=this.formatter.receipt(n);if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-r.blockNumber+1;e<=0&&(e=1),r.confirmations=e}return r}))),{oncePoll:this})}))}getLogs(e){return ks(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield ne({filter:this._getFilter(e)}),n=yield this.perform("getLogs",t);return n.forEach((e=>{null==e.removed&&(e.removed=!1)})),Es.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)}))}getEtherPrice(){return ks(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(e){return ks(this,void 0,void 0,(function*(){if("number"==typeof(e=yield e)&&e<0){e%1&&Ts.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)}))}getResolver(e){return ks(this,void 0,void 0,(function*(){let t=e;for(;;){if(""===t||"."===t)return null;if("eth"!==e&&"eth"===t)return null;const n=yield this._getResolver(t,"getResolver");if(null!=n){const r=new Zs(this,n,e);return t===e||(yield r.supportsWildcard())?r:null}t=t.split(".").slice(1).join(".")}}))}_getResolver(e,t){return ks(this,void 0,void 0,(function*(){null==t&&(t="ENS");const n=yield this.getNetwork();n.ensAddress||Ts.throwError("network does not support ENS",v.errors.UNSUPPORTED_OPERATION,{operation:t,network:n.name});try{const t=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+as(e).substring(2)});return this.formatter.callAddress(t)}catch(e){}return null}))}resolveName(e){return ks(this,void 0,void 0,(function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(t){if(T(e))throw t}"string"!=typeof e&&Ts.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null}))}lookupAddress(e){return ks(this,void 0,void 0,(function*(){e=yield e;const t=(e=this.formatter.address(e)).substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(t,"lookupAddress");if(null==n)return null;const r=Vs(yield this.call({to:n,data:"0x691f3431"+as(t).substring(2)}),0);return(yield this.resolveName(r))!=e?null:r}))}getAvatar(e){return ks(this,void 0,void 0,(function*(){let t=null;if(T(e)){const n=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(n,"getAvatar");if(!r)return null;t=new Zs(this,r,n);try{const e=yield t.getAvatar();if(e)return e.url}catch(e){if(e.code!==v.errors.CALL_EXCEPTION)throw e}try{const e=Vs(yield this.call({to:r,data:"0x691f3431"+as(n).substring(2)}),0);t=yield this.getResolver(e)}catch(e){if(e.code!==v.errors.CALL_EXCEPTION)throw e;return null}}else if(t=yield this.getResolver(e),!t)return null;const n=yield t.getAvatar();return null==n?null:n.url}))}perform(e,t){return Ts.throwError(e+" not implemented",v.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter((e=>e.pollable())).length>0}_stopEvent(e){this.polling=this._events.filter((e=>e.pollable())).length>0}_addEventListener(e,t,n){const r=new Is(Os(e),t,n);return this._events.push(r),this._startEvent(r),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let n=!1,r=[],o=Os(e);return this._events=this._events.filter((e=>e.tag!==o||(setTimeout((()=>{e.listener.apply(this,t)}),0),n=!0,!e.once||(r.push(e),!1)))),r.forEach((e=>{this._stopEvent(e)})),n}listenerCount(e){if(!e)return this._events.length;let t=Os(e);return this._events.filter((e=>e.tag===t)).length}listeners(e){if(null==e)return this._events.map((e=>e.listener));let t=Os(e);return this._events.filter((e=>e.tag===t)).map((e=>e.listener))}off(e,t){if(null==t)return this.removeAllListeners(e);const n=[];let r=!1,o=Os(e);return this._events=this._events.filter((e=>e.tag!==o||e.listener!=t||!!r||(r=!0,n.push(e),!1))),n.forEach((e=>{this._stopEvent(e)})),this}removeAllListeners(e){let t=[];if(null==e)t=this._events,this._events=[];else{const n=Os(e);this._events=this._events.filter((e=>e.tag!==n||(t.push(e),!1)))}return t.forEach((e=>{this._stopEvent(e)})),this}}var Ys=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const Js=new v(ws),Qs=["call","estimateGas"];function ea(e,t){if(null==e)return null;if("string"==typeof e.message&&e.message.match("reverted")){const n=T(e.data)?e.data:null;if(!t||n)return{message:e.message,data:n}}if("object"==typeof e){for(const n in e){const r=ea(e[n],t);if(r)return r}return null}if("string"==typeof e)try{return ea(JSON.parse(e),t)}catch(e){}return null}function ta(e,t,n){const r=n.transaction||n.signedTransaction;if("call"===e){const e=ea(t,!0);if(e)return e.data;Js.throwError("missing revert data in call exception; Transaction reverted without a reason string",v.errors.CALL_EXCEPTION,{data:"0x",transaction:r,error:t})}if("estimateGas"===e){let n=ea(t.body,!1);null==n&&(n=ea(t,!1)),n&&Js.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",v.errors.UNPREDICTABLE_GAS_LIMIT,{reason:n.message,method:e,transaction:r,error:t})}let o=t.message;throw t.code===v.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?o=t.error.message:"string"==typeof t.body?o=t.body:"string"==typeof t.responseText&&(o=t.responseText),o=(o||"").toLowerCase(),o.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Js.throwError("insufficient funds for intrinsic transaction cost",v.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),o.match(/nonce (is )?too low/i)&&Js.throwError("nonce has already been used",v.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),o.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Js.throwError("replacement fee too low",v.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),o.match(/only replay-protected/i)&&Js.throwError("legacy pre-eip-155 transactions not supported",v.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:r}),Qs.indexOf(e)>=0&&o.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Js.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",v.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}function na(e){return new Promise((function(t){setTimeout(t,e)}))}function ra(e){if(e.error){const t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function oa(e){return e?e.toLowerCase():e}const ia={};class sa extends cn{constructor(e,t,n){if(super(),e!==ia)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ee(this,"provider",t),null==n&&(n=0),"string"==typeof n?(ee(this,"_address",this.provider.formatter.address(n)),ee(this,"_index",null)):"number"==typeof n?(ee(this,"_index",n),ee(this,"_address",null)):Js.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return Js.throwError("cannot alter JSON-RPC Signer connection",v.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new aa(ia,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((e=>(e.length<=this._index&&Js.throwError("unknown account #"+this._index,v.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index]))))}sendUncheckedTransaction(e){e=oe(e);const t=this.getAddress().then((e=>(e&&(e=e.toLowerCase()),e)));if(null==e.gasLimit){const n=oe(e);n.from=t,e.gasLimit=this.provider.estimateGas(n)}return null!=e.to&&(e.to=Promise.resolve(e.to).then((e=>Ys(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.provider.resolveName(e);return null==t&&Js.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))))),ne({tx:ne(e),sender:t}).then((({tx:t,sender:n})=>{null!=t.from?t.from.toLowerCase()!==n&&Js.throwArgumentError("from address mismatch","transaction",e):t.from=n;const r=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[r]).then((e=>e),(e=>("string"==typeof e.message&&e.message.match(/user denied/i)&&Js.throwError("user rejected transaction",v.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:t}),ta("sendTransaction",e,r))))}))}signTransaction(e){return Js.throwError("signing transactions is unsupported",v.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Ys(this,void 0,void 0,(function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield vs((()=>Ys(this,void 0,void 0,(function*(){const e=yield this.provider.getTransaction(n);if(null!==e)return this.provider._wrapTransaction(e,n,t)}))),{oncePoll:this.provider})}catch(e){throw e.transactionHash=n,e}}))}signMessage(e){return Ys(this,void 0,void 0,(function*(){const t="string"==typeof e?Ge(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[P(t),n.toLowerCase()])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&Js.throwError("user rejected signing",v.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),t}}))}_legacySignMessage(e){return Ys(this,void 0,void 0,(function*(){const t="string"==typeof e?Ge(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),P(t)])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&Js.throwError("user rejected signing",v.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),t}}))}_signTypedData(e,t,n){return Ys(this,void 0,void 0,(function*(){const r=yield ho.resolveNames(e,t,n,(e=>this.provider.resolveName(e))),o=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[o.toLowerCase(),JSON.stringify(ho.getPayload(r.domain,t,r.value))])}catch(e){throw"string"==typeof e.message&&e.message.match(/user denied/i)&&Js.throwError("user rejected signing",v.errors.ACTION_REJECTED,{action:"_signTypedData",from:o,messageData:{domain:r.domain,types:t,value:r.value}}),e}}))}unlock(e){return Ys(this,void 0,void 0,(function*(){const t=this.provider,n=yield this.getAddress();return t.send("personal_unlockAccount",[n.toLowerCase(),e,null])}))}}class aa extends sa{sendTransaction(e){return this.sendUncheckedTransaction(e).then((e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)})))}}const la={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class ca extends Xs{constructor(e,t){let n=t;null==n&&(n=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then((t=>{e(t)}),(e=>{t(e)}))}),0)}))),super(n),e||(e=te(this.constructor,"defaultUrl")()),ee(this,"connection","string"==typeof e?Object.freeze({url:e}):Object.freeze(oe(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((()=>{this._cache.detectNetwork=null}),0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Ys(this,void 0,void 0,(function*(){yield na(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(e){}}if(null!=e){const t=te(this.constructor,"getNetwork");try{return t(Z.from(e).toNumber())}catch(t){return Js.throwError("could not detect network",v.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return Js.throwError("could not detect network",v.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(e){return new sa(ia,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((e=>e.map((e=>this.formatter.address(e)))))}send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:le(n),provider:this});const r=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(r&&this._cache[e])return this._cache[e];const o=gs(this.connection,JSON.stringify(n),ra).then((e=>(this.emit("debug",{action:"response",request:n,response:e,provider:this}),e)),(e=>{throw this.emit("debug",{action:"response",error:e,request:n,provider:this}),e}));return r&&(this._cache[e]=o,setTimeout((()=>{this._cache[e]=null}),0)),o}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[oa(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[oa(t.address),t.blockTag]];case"getCode":return["eth_getCode",[oa(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[oa(t.address),B(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[te(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[te(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=oa(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return Ys(this,void 0,void 0,(function*(){if("call"===e||"estimateGas"===e){const e=t.transaction;if(e&&null!=e.type&&Z.from(e.type).isZero()&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){const n=yield this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&((t=oe(t)).transaction=oe(e),delete t.transaction.type)}}const n=this.prepareRequest(e,t);null==n&&Js.throwError(e+" not implemented",v.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(n){return ta(e,n,t)}}))}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then((function(n){return function r(){e.send("eth_getFilterChanges",[n]).then((function(n){if(e._pendingFilter!=t)return null;let r=Promise.resolve();return n.forEach((function(t){e._emitted["t:"+t.toLowerCase()]="pending",r=r.then((function(){return e.getTransaction(t).then((function(t){return e.emit("pending",t),null}))}))})),r.then((function(){return na(1e3)}))})).then((function(){if(e._pendingFilter==t)return setTimeout((function(){r()}),0),null;e.send("eth_uninstallFilter",[n])})).catch((e=>{}))}(),n})).catch((e=>{}))}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const n=oe(la);if(t)for(const e in t)t[e]&&(n[e]=!0);re(e,n);const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(t){if(null==e[t])return;const n=D(Z.from(e[t]));"gasLimit"===t&&(t="gas"),r[t]=n})),["from","to","data"].forEach((function(t){null!=e[t]&&(r[t]=P(e[t]))})),e.accessList&&(r.accessList=dr(e.accessList)),r}}let ua=null;try{if(ua=WebSocket,null==ua)throw new Error("inject please")}catch(e){const t=new v(ws);ua=function(){t.throwError("WebSockets not supported in this environment",v.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var da=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const ha=new v(ws);let pa=1;class fa extends ca{constructor(e,t){"any"===t&&ha.throwError("WebSocketProvider does not support 'any' network yet",v.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),super("string"==typeof e?e:"_websocket",t),this._pollingInterval=-1,this._wsReady=!1,ee(this,"_websocket","string"==typeof e?new ua(this.connection.url):e),ee(this,"_requests",{}),ee(this,"_subs",{}),ee(this,"_subIds",{}),ee(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach((e=>{this.websocket.send(this._requests[e].payload)}))},this.websocket.onmessage=e=>{const t=e.data,n=JSON.parse(t);if(null!=n.id){const e=String(n.id),r=this._requests[e];if(delete this._requests[e],void 0!==n.result)r.callback(null,n.result),this.emit("debug",{action:"response",request:JSON.parse(r.payload),response:n.result,provider:this});else{let e=null;n.error?(e=new Error(n.error.message||"unknown error"),ee(e,"code",n.error.code||null),ee(e,"response",t)):e=new Error("unknown error"),r.callback(e,void 0),this.emit("debug",{action:"response",error:e,request:JSON.parse(r.payload),provider:this})}}else if("eth_subscription"===n.method){const e=this._subs[n.params.subscription];e&&e.processFunc(n.params.result)}else console.warn("this should not happen")};const n=setInterval((()=>{this.emit("poll")}),1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){ha.throwError("cannot reset events block on WebSocketProvider",v.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){ha.throwError("cannot set polling interval on WebSocketProvider",v.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return da(this,void 0,void 0,(function*(){return null}))}set polling(e){e&&ha.throwError("cannot set polling on WebSocketProvider",v.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const n=pa++;return new Promise(((r,o)=>{const i=JSON.stringify({method:e,params:t,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(i),provider:this}),this._requests[String(n)]={callback:function(e,t){return e?o(e):r(t)},payload:i},this._wsReady&&this.websocket.send(i)}))}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,n){return da(this,void 0,void 0,(function*(){let r=this._subIds[e];null==r&&(r=Promise.all(t).then((e=>this.send("eth_subscribe",e))),this._subIds[e]=r);const o=yield r;this._subs[o]={tag:e,processFunc:n}}))}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],(e=>{const t=Z.from(e.number).toNumber();this._emitted.block=t,this.emit("block",t)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(e=>{this.emit("pending",e)}));break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],(t=>{null==t.removed&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))}));break;case"tx":{const t=e=>{const t=e.hash;this.getTransactionReceipt(t).then((e=>{e&&this.emit(t,e)}))};t(e),this._subscribe("tx",["newHeads"],(e=>{this._events.filter((e=>"tx"===e.type)).forEach(t)}));break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}_stopEvent(e){let t=e.tag;if("tx"===e.type){if(this._events.filter((e=>"tx"===e.type)).length)return;t="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[t];n&&(delete this._subIds[t],n.then((e=>{this._subs[e]&&(delete this._subs[e],this.send("eth_unsubscribe",[e]))})))}destroy(){return da(this,void 0,void 0,(function*(){this.websocket.readyState===ua.CONNECTING&&(yield new Promise((e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}}))),this.websocket.close(1e3)}))}}const ma=new v(ws);class ga extends ca{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return t=this,n=void 0,o=function*(){let t=this.network;return null==t&&(t=yield e.detectNetwork.call(this),t||ma.throwError("no network detected",v.errors.UNKNOWN_ERROR,{}),null==this._network&&(ee(this,"_network",t),this.emit("network",t,null))),t},new((r=void 0)||(r=Promise))((function(e,i){function s(e){try{l(o.next(e))}catch(e){i(e)}}function a(e){try{l(o.throw(e))}catch(e){i(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,a)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o}}class va extends ga{constructor(e,t){ma.checkAbstract(new.target,va),e=te(new.target,"getNetwork")(e),t=te(new.target,"getApiKey")(t),super(te(new.target,"getUrl")(e,t),e),"string"==typeof t?ee(this,"apiKey",t):null!=t&&Object.keys(t).forEach((e=>{ee(this,e,t[e])}))}_startPending(){ma.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return ma.throwError("API provider does not support signing",v.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return ma.throwError("not implemented; sub-classes must override getUrl",v.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const ya=new v(ws),ba="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class wa extends fa{constructor(e,t){const n=new xa(e,t);super(n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi."),n.network),ee(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===ba}}class xa extends va{static getWebSocketProvider(e,t){return new wa(e,t)}static getApiKey(e){return null==e?ba:(e&&"string"!=typeof e&&ya.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.g.alchemy.com/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":n="arb-goerli.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":n="opt-goerli.g.alchemy.com/v2/";break;default:ya.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+t,throttleCallback:(e,n)=>(t===ba&&_s(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===ba}}const Ea=new v(ws),Sa="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function Ca(e){switch(e){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return Ea.throwArgumentError("unsupported network","name",e)}class Aa extends va{isCommunityResource(){return this.apiKey===Sa}static getApiKey(e){return null==e?Sa:e}static getUrl(e,t){null==t&&(t=Sa);const n={allowGzip:!0,url:"https://"+Ca(e.name)+t,throttleCallback:(e,n)=>(t.apiKey===Sa&&_s(),Promise.resolve(!0))};return null!=t.projectSecret&&(n.user="",n.password=t.projectSecret),n}}const _a=new v(ws);class ka extends va{static getApiKey(e){return null!=e&&_a.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let n=null;return"homestead"===e.name?n="https://cloudflare-eth.com/":_a.throwArgumentError("unsupported network","network",arguments[0]),n}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return r=this,o=void 0,s=function*(){return"getBlockNumber"===e?(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number:n.perform.call(this,e,t)},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(n,a)}l((s=s.apply(r,o||[])).next())}));var r,o,i,s}}var Ta=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const Ma=new v(ws);function Pa(e){const t={};for(let n in e){if(null==e[n])continue;let r=e[n];"type"===n&&0===r||(r={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[n]?D(P(r)):"accessList"===n?"["+dr(r).map((e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`)).join(",")+"]":P(r),t[n]=r)}return t}function Oa(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;if(1!=e.status||"string"!=typeof e.message||!e.message.match(/^OK/)){const t=new Error("invalid response");throw t.result=JSON.stringify(e),(e.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return e.result}function Ra(e){if(e&&0==e.status&&"NOTOK"==e.message&&(e.result||"").toLowerCase().indexOf("rate limit")>=0){const t=new Error("throttled response");throw t.result=JSON.stringify(e),t.throttleRetry=!0,t}if("2.0"!=e.jsonrpc){const t=new Error("invalid response");throw t.result=JSON.stringify(e),t}if(e.error){const t=new Error(e.error.message||"unknown error");throw e.error.code&&(t.code=e.error.code),e.error.data&&(t.data=e.error.data),t}return e.result}function Na(e){if("pending"===e)throw new Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}function Da(e,t,n){if("call"===e&&t.code===v.errors.SERVER_ERROR){const e=t.error;if(e&&(e.message.match(/reverted/i)||e.message.match(/VM execution error/i))){let n=e.data;if(n&&(n="0x"+n.replace(/^.*0x/i,"")),T(n))return n;Ma.throwError("missing revert data in call exception",v.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}let r=t.message;throw t.code===v.errors.SERVER_ERROR&&(t.error&&"string"==typeof t.error.message?r=t.error.message:"string"==typeof t.body?r=t.body:"string"==typeof t.responseText&&(r=t.responseText)),r=(r||"").toLowerCase(),r.match(/insufficient funds/)&&Ma.throwError("insufficient funds for intrinsic transaction cost",v.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),r.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Ma.throwError("nonce has already been used",v.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),r.match(/another transaction with same nonce/)&&Ma.throwError("replacement fee too low",v.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),r.match(/execution failed due to an exception|execution reverted/)&&Ma.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",v.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}class Ia extends Xs{constructor(e,t){super(e),ee(this,"baseUrl",this.getBaseUrl()),ee(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return Ma.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){const n=Object.keys(t).reduce(((e,n)=>{const r=t[n];return null!=r&&(e+=`&${n}=${r}`),e}),""),r=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${n}${r}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,n){return Ta(this,void 0,void 0,(function*(){const r=n?this.getPostUrl():this.getUrl(e,t),o=n?this.getPostData(e,t):null,i="proxy"===e?Ra:Oa;this.emit("debug",{action:"request",request:r,provider:this});const s={url:r,throttleSlotInterval:1e3,throttleCallback:(e,t)=>(this.isCommunityResource()&&_s(),Promise.resolve(!0))};let a=null;o&&(s.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},a=Object.keys(o).map((e=>`${e}=${o[e]}`)).join("&"));const l=yield gs(s,a,i||Ra);return this.emit("debug",{action:"response",request:r,response:le(l),provider:this}),l}))}detectNetwork(){return Ta(this,void 0,void 0,(function*(){return this.network}))}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return Ta(this,void 0,void 0,(function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch((e=>Da("sendTransaction",e,t.signedTransaction)));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if("latest"!==t.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");const e=Pa(t.transaction);e.module="proxy",e.action="eth_call";try{return yield this.fetch("proxy",e,!0)}catch(e){return Da("call",e,t.transaction)}}case"estimateGas":{const e=Pa(t.transaction);e.module="proxy",e.action="eth_estimateGas";try{return yield this.fetch("proxy",e,!0)}catch(e){return Da("estimateGas",e,t.transaction)}}case"getLogs":{const e={action:"getLogs"};if(t.filter.fromBlock&&(e.fromBlock=Na(t.filter.fromBlock)),t.filter.toBlock&&(e.toBlock=Na(t.filter.toBlock)),t.filter.address&&(e.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&Ma.throwError("unsupported topic count",v.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),1===t.filter.topics.length)){const n=t.filter.topics[0];"string"==typeof n&&66===n.length||Ma.throwError("unsupported topic format",v.errors.UNSUPPORTED_OPERATION,{topic0:n}),e.topic0=n}const n=yield this.fetch("logs",e);let r={};for(let e=0;e<n.length;e++){const t=n[e];if(null==t.blockHash){if(null==r[t.blockNumber]){const e=yield this.getBlock(t.blockNumber);e&&(r[t.blockNumber]=e.hash)}t.blockHash=r[t.blockNumber]}}return n}case"getEtherPrice":return"homestead"!==this.network.name?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,e,t)}))}getHistory(e,t,n){return Ta(this,void 0,void 0,(function*(){const r={action:"txlist",address:yield this.resolveName(e),startblock:null==t?0:t,endblock:null==n?99999999:n,sort:"asc"};return(yield this.fetch("account",r)).map((e=>{["contractAddress","to"].forEach((function(t){""==e[t]&&delete e[t]})),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);const t=this.formatter.transactionResponse(e);return e.timeStamp&&(t.timestamp=parseInt(e.timeStamp)),t}))}))}isCommunityResource(){return null==this.apiKey}}function Ba(e){for(let t=(e=e.slice()).length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}var Fa=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const La=new v(ws);function Ha(){return(new Date).getTime()}function za(e){let t=null;for(let n=0;n<e.length;n++){const r=e[n];if(null==r)return null;t?t.name===r.name&&t.chainId===r.chainId&&(t.ensAddress===r.ensAddress||null==t.ensAddress&&null==r.ensAddress)||La.throwArgumentError("provider mismatch","networks",e):t=r}return t}function Va(e,t){e=e.slice().sort();const n=Math.floor(e.length/2);if(e.length%2)return e[n];const r=e[n-1],o=e[n];return null!=t&&Math.abs(r-o)>t?null:(r+o)/2}function ja(e){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return JSON.stringify(e);if("string"==typeof e)return e;if(Z.isBigNumber(e))return e.toString();if(Array.isArray(e))return JSON.stringify(e.map((e=>ja(e))));if("object"==typeof e){const t=Object.keys(e);return t.sort(),"{"+t.map((t=>{let n=e[t];return n="function"==typeof n?"[function]":ja(n),JSON.stringify(t)+":"+n})).join(",")+"}"}throw new Error("unknown value type: "+typeof e)}let Ua=1;function Ga(e){let t=null,n=null,r=new Promise((r=>{t=function(){n&&(clearTimeout(n),n=null),r()},n=setTimeout(t,e)}));return{cancel:t,getPromise:function(){return r},wait:e=>(r=r.then(e),r)}}const qa=[v.errors.CALL_EXCEPTION,v.errors.INSUFFICIENT_FUNDS,v.errors.NONCE_EXPIRED,v.errors.REPLACEMENT_UNDERPRICED,v.errors.UNPREDICTABLE_GAS_LIMIT],Wa=["address","args","errorArgs","errorSignature","method","transaction"];function Za(e,t){const n={weight:e.weight};return Object.defineProperty(n,"provider",{get:()=>e.provider}),e.start&&(n.start=e.start),t&&(n.duration=t-e.start),e.done&&(e.error?n.error=e.error:n.result=e.result||null),n}function $a(e,t){return Fa(this,void 0,void 0,(function*(){const n=e.provider;return null!=n.blockNumber&&n.blockNumber>=t||-1===t?n:vs((()=>new Promise(((r,o)=>{setTimeout((function(){return n.blockNumber>=t?r(n):e.cancelled?r(null):r(void 0)}),0)}))),{oncePoll:n})}))}function Ka(e,t,n,r){return Fa(this,void 0,void 0,(function*(){let o=e.provider;switch(n){case"getBlockNumber":case"getGasPrice":return o[n]();case"getEtherPrice":if(o.getEtherPrice)return o.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return r.blockTag&&T(r.blockTag)&&(o=yield $a(e,t)),o[n](r.address,r.blockTag||"latest");case"getStorageAt":return r.blockTag&&T(r.blockTag)&&(o=yield $a(e,t)),o.getStorageAt(r.address,r.position,r.blockTag||"latest");case"getBlock":return r.blockTag&&T(r.blockTag)&&(o=yield $a(e,t)),o[r.includeTransactions?"getBlockWithTransactions":"getBlock"](r.blockTag||r.blockHash);case"call":case"estimateGas":return r.blockTag&&T(r.blockTag)&&(o=yield $a(e,t)),"call"===n&&r.blockTag?o[n](r.transaction,r.blockTag):o[n](r.transaction);case"getTransaction":case"getTransactionReceipt":return o[n](r.transactionHash);case"getLogs":{let n=r.filter;return(n.fromBlock&&T(n.fromBlock)||n.toBlock&&T(n.toBlock))&&(o=yield $a(e,t)),o.getLogs(n)}}return La.throwError("unknown method error",v.errors.UNKNOWN_ERROR,{method:n,params:r})}))}class Xa extends Xs{constructor(e,t){0===e.length&&La.throwArgumentError("missing providers","providers",e);const n=e.map(((e,t)=>{if(rn.isProvider(e)){const t=Cs(e)?2e3:750,n=1;return Object.freeze({provider:e,weight:1,stallTimeout:t,priority:n})}const n=oe(e);null==n.priority&&(n.priority=1),null==n.stallTimeout&&(n.stallTimeout=Cs(e)?2e3:750),null==n.weight&&(n.weight=1);const r=n.weight;return(r%1||r>512||r<1)&&La.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${t}].weight`,r),Object.freeze(n)})),r=n.reduce(((e,t)=>e+t.weight),0);null==t?t=r/2:t>r&&La.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let o=za(n.map((e=>e.provider.network)));null==o&&(o=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then(e,t)}),0)}))),super(o),ee(this,"providerConfigs",Object.freeze(n)),ee(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return Fa(this,void 0,void 0,(function*(){return za(yield Promise.all(this.providerConfigs.map((e=>e.provider.getNetwork()))))}))}perform(e,t){return Fa(this,void 0,void 0,(function*(){if("sendTransaction"===e){const e=yield Promise.all(this.providerConfigs.map((e=>e.provider.sendTransaction(t.signedTransaction).then((e=>e.hash),(e=>e)))));for(let t=0;t<e.length;t++){const n=e[t];if("string"==typeof n)return n}throw e[0]}-1===this._highestBlockNumber&&"getBlockNumber"!==e&&(yield this.getBlockNumber());const n=function(e,t,n){let r=ja;switch(t){case"getBlockNumber":return function(t){const n=t.map((e=>e.result));let r=Va(t.map((e=>e.result)),2);if(null!=r)return r=Math.ceil(r),n.indexOf(r+1)>=0&&r++,r>=e._highestBlockNumber&&(e._highestBlockNumber=r),e._highestBlockNumber};case"getGasPrice":return function(e){const t=e.map((e=>e.result));return t.sort(),t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return Va(e.map((e=>e.result)))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":r=function(e){return null==e?null:((e=oe(e)).confirmations=-1,ja(e))};break;case"getBlock":r=n.includeTransactions?function(e){return null==e?null:((e=oe(e)).transactions=e.transactions.map((e=>((e=oe(e)).confirmations=-1,e))),ja(e))}:function(e){return null==e?null:ja(e)};break;default:throw new Error("unknown method: "+t)}return function(e,t){return function(n){const r={};n.forEach((t=>{const n=e(t.result);r[n]||(r[n]={count:0,result:t.result}),r[n].count++}));const o=Object.keys(r);for(let e=0;e<o.length;e++){const n=r[o[e]];if(n.count>=t)return n.result}}}(r,e.quorum)}(this,e,t),r=Ba(this.providerConfigs.map(oe));r.sort(((e,t)=>e.priority-t.priority));const o=this._highestBlockNumber;let i=0,s=!0;for(;;){const a=Ha();let l=r.filter((e=>e.runner&&a-e.start<e.stallTimeout)).reduce(((e,t)=>e+t.weight),0);for(;l<this.quorum&&i<r.length;){const n=r[i++],s=Ua++;n.start=Ha(),n.staller=Ga(n.stallTimeout),n.staller.wait((()=>{n.staller=null})),n.runner=Ka(n,o,e,t).then((r=>{n.done=!0,n.result=r,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:Za(n,Ha()),request:{method:e,params:le(t)},provider:this})}),(r=>{n.done=!0,n.error=r,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:Za(n,Ha()),request:{method:e,params:le(t)},provider:this})})),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:Za(n,null),request:{method:e,params:le(t)},provider:this}),l+=n.weight}const c=[];r.forEach((e=>{!e.done&&e.runner&&(c.push(e.runner),e.staller&&c.push(e.staller.getPromise()))})),c.length&&(yield Promise.race(c));const u=r.filter((e=>e.done&&null==e.error));if(u.length>=this.quorum){const e=n(u);if(void 0!==e)return r.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0})),e;s||(yield Ga(100).getPromise()),s=!1}const d=r.reduce(((e,t)=>{if(!t.done||null==t.error)return e;const n=t.error.code;return qa.indexOf(n)>=0&&(e[n]||(e[n]={error:t.error,weight:0}),e[n].weight+=t.weight),e}),{});if(Object.keys(d).forEach((e=>{const t=d[e];if(t.weight<this.quorum)return;r.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}));const n=t.error,o={};Wa.forEach((e=>{null!=n[e]&&(o[e]=n[e])})),La.throwError(n.reason||n.message,e,o)})),0===r.filter((e=>!e.done)).length)break}return r.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0})),La.throwError("failed to meet quorum",v.errors.SERVER_ERROR,{method:e,params:t,results:r.map((e=>Za(e))),provider:this})}))}}const Ya=null,Ja=new v(ws),Qa="84842078b09946638c03157f83405213";class el extends fa{constructor(e,t){const n=new tl(e,t),r=n.connection;r.password&&Ja.throwError("INFURA WebSocket project secrets unsupported",v.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"}),super(r.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),e),ee(this,"apiKey",n.projectId),ee(this,"projectId",n.projectId),ee(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===Qa}}class tl extends va{static getWebSocketProvider(e,t){return new el(e,t)}static getApiKey(e){const t={apiKey:Qa,projectId:Qa,projectSecret:null};return null==e||("string"==typeof e?t.projectId=e:null!=e.projectSecret?(Ja.assertArgument("string"==typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),Ja.assertArgument("string"==typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-goerli":n="optimism-goerli.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":n="arbitrum-goerli.infura.io";break;default:Ja.throwError("unsupported network",v.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const r={allowGzip:!0,url:"https://"+n+"/v3/"+t.projectId,throttleCallback:(e,n)=>(t.projectId===Qa&&_s(),Promise.resolve(!0))};return null!=t.projectSecret&&(r.user="",r.password=t.projectSecret),r}isCommunityResource(){return this.projectId===Qa}}class nl extends ca{send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);const r={request:n,resolve:null,reject:null},o=new Promise(((e,t)=>{r.resolve=e,r.reject=t}));return this._pendingBatch.push(r),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout((()=>{const e=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const t=e.map((e=>e.request));return this.emit("debug",{action:"requestBatch",request:le(t),provider:this}),gs(this.connection,JSON.stringify(t)).then((n=>{this.emit("debug",{action:"response",request:t,response:n,provider:this}),e.forEach(((e,t)=>{const r=n[t];if(r.error){const t=new Error(r.error.message);t.code=r.error.code,t.data=r.error.data,e.reject(t)}else e.resolve(r.result)}))}),(n=>{this.emit("debug",{action:"response",error:n,request:t,provider:this}),e.forEach((e=>{e.reject(n)}))}))}),10)),o}}const rl=new v(ws);class ol extends va{static getApiKey(e){return e&&"string"!=typeof e&&rl.throwArgumentError("invalid apiKey","apiKey",e),e||"ETHERS_JS_SHARED"}static getUrl(e,t){rl.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(e.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:rl.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+t}}const il=new v(ws),sl="62e1ad51b37b8e00394bda3b";class al extends va{static getApiKey(e){const t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return null==e?t.applicationId=sl:"string"==typeof e?t.applicationId=e:null!=e.applicationSecretKey?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:il.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"goerli":n="eth-goerli.gateway.pokt.network";break;case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"kovan":n="poa-kovan.gateway.pokt.network";break;case"matic":n="poly-mainnet.gateway.pokt.network";break;case"maticmum":n="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;default:il.throwError("unsupported network",v.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const r={headers:{},url:`https://${n}/v1/lb/${t.applicationId}`};return null!=t.applicationSecretKey&&(r.user="",r.password=t.applicationSecretKey),r}isCommunityResource(){return this.applicationId===sl}}const ll=new v(ws);let cl=1;function ul(e,t){const n="Web3LegacyFetcher";return function(e,r){const o={method:e,params:r,id:cl++,jsonrpc:"2.0"};return new Promise(((e,r)=>{this.emit("debug",{action:"request",fetcher:n,request:le(o),provider:this}),t(o,((t,i)=>{if(t)return this.emit("debug",{action:"response",fetcher:n,error:t,request:o,provider:this}),r(t);if(this.emit("debug",{action:"response",fetcher:n,request:o,response:i,provider:this}),i.error){const e=new Error(i.error.message);return e.code=i.error.code,e.data=i.error.data,r(e)}e(i.result)}))}))}}class dl extends ca{constructor(e,t){null==e&&ll.throwArgumentError("missing provider","provider",e);let n=null,r=null,o=null;"function"==typeof e?(n="unknown:",r=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),o=e,e.request?(""===n&&(n="eip-1193:"),r=function(e){return function(t,n){null==n&&(n=[]);const r={method:t,params:n};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:le(r),provider:this}),e.request(r).then((e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,response:e,provider:this}),e)),(e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,error:e,provider:this}),e}))}}(e)):e.sendAsync?r=ul(0,e.sendAsync.bind(e)):e.send?r=ul(0,e.send.bind(e)):ll.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,t),ee(this,"jsonRpcFetchFunc",r),ee(this,"provider",o)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const hl=new v(ws);function pl(e,t){if(null==e&&(e="homestead"),"string"==typeof e){const t=e.match(/^(ws|http)s?:/i);if(t)switch(t[1].toLowerCase()){case"http":case"https":return new ca(e);case"ws":case"wss":return new fa(e);default:hl.throwArgumentError("unsupported URL scheme","network",e)}}const n=Di(e);return n&&n._defaultProvider||hl.throwError("unsupported getDefaultProvider network",v.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),n._defaultProvider({FallbackProvider:Xa,AlchemyProvider:xa,AnkrProvider:Aa,CloudflareProvider:ka,EtherscanProvider:Ia,InfuraProvider:tl,JsonRpcProvider:ca,NodesmithProvider:ol,PocketProvider:al,Web3Provider:dl,IpcProvider:Ya},t)}const fl=new RegExp("^bytes([0-9]+)$"),ml=new RegExp("^(u?int)([0-9]*)$"),gl=new RegExp("^(.*)\\[([0-9]*)\\]$"),vl="0000000000000000000000000000000000000000000000000000000000000000",yl=new v("solidity/5.7.0");function bl(e,t,n){switch(e){case"address":return n?k(t,32):C(t);case"string":return Ge(t);case"bytes":return C(t);case"bool":return t=t?"0x01":"0x00",n?k(t,32):C(t)}let r=e.match(ml);if(r){let o=parseInt(r[2]||"256");return(r[2]&&String(o)!==r[2]||o%8!=0||0===o||o>256)&&yl.throwArgumentError("invalid number type","type",e),n&&(o=256),k(t=Z.from(t).toTwos(o),o/8)}if(r=e.match(fl),r){const o=parseInt(r[1]);return(String(o)!==r[1]||0===o||o>32)&&yl.throwArgumentError("invalid bytes type","type",e),C(t).byteLength!==o&&yl.throwArgumentError(`invalid value for ${e}`,"value",t),n?C((t+vl).substring(0,66)):t}if(r=e.match(gl),r&&Array.isArray(t)){const n=r[1];parseInt(r[2]||String(t.length))!=t.length&&yl.throwArgumentError(`invalid array length for ${e}`,"value",t);const o=[];return t.forEach((function(e){o.push(bl(n,e,!0))})),A(o)}return yl.throwArgumentError("invalid type","type",e)}function wl(e,t){e.length!=t.length&&yl.throwArgumentError("wrong number of values; expected ${ types.length }","values",t);const n=[];return e.forEach((function(e,r){n.push(bl(e,t[r]))})),P(A(n))}function xl(e,t){return ye(wl(e,t))}function El(e,t){return yo(wl(e,t))}function Sl(e,t){t||(t=function(e){return[parseInt(e,16)]});let n=0,r={};return e.split(",").forEach((e=>{let o=e.split(":");n+=parseInt(o[0],16),r[n]=t(o[1])})),r}function Cl(e){let t=0;return e.split(",").map((e=>{let n=e.split("-");1===n.length?n[1]="0":""===n[1]&&(n[1]="1");let r=t+parseInt(n[0],16);return t=parseInt(n[1],16),{l:r,h:t}}))}function Al(e,t){let n=0;for(let r=0;r<t.length;r++){let o=t[r];if(n+=o.l,e>=n&&e<=n+o.h&&(e-n)%(o.d||1)==0){if(o.e&&-1!==o.e.indexOf(e-n))continue;return o}}return null}const _l=Cl("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),kl="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((e=>parseInt(e,16))),Tl=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Ml=Sl("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Pl=Sl("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Ol=Sl("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(e){if(e.length%4!=0)throw new Error("bad data");let t=[];for(let n=0;n<e.length;n+=4)t.push(parseInt(e.substring(n,n+4),16));return t})),Rl=Cl("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Nl(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();let t=Ke(e);var n;n=t.map((e=>{if(kl.indexOf(e)>=0)return[];if(e>=65024&&e<=65039)return[];let t=function(e){let t=Al(e,Tl);if(t)return[e+t.s];let n=Ml[e];if(n)return n;let r=Pl[e];return r?[e+r[0]]:Ol[e]||null}(e);return t||[e]})),t=n.reduce(((e,t)=>(t.forEach((t=>{e.push(t)})),e)),[]),t=Ke(Ze(t),He.NFKC),t.forEach((e=>{if(Al(e,Rl))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),t.forEach((e=>{if(Al(e,_l))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));let r=Ze(t);if("-"===r.substring(0,1)||"--"===r.substring(2,4)||"-"===r.substring(r.length-1))throw new Error("invalid hyphen");return r}function Dl(e){const t=Ge(e);if(t.length>31)throw new Error("bytes32 string must be less than 32 bytes");return P(A([t,Ai]).slice(0,32))}function Il(e){const t=C(e);if(32!==t.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw new Error("invalid bytes32 string - no null terminator");let n=31;for(;0===t[n-1];)n--;return $e(t.slice(0,n))}const Bl=new v("units/5.7.0"),Fl=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Ll(e){const t=String(e).split(".");(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||"."===e||"-."===e)&&Bl.throwArgumentError("invalid value","value",e);let n=t[0],r="";for("-"===n.substring(0,1)&&(r="-",n=n.substring(1));"0"===n.substring(0,1);)n=n.substring(1);""===n&&(n="0");let o="";for(2===t.length&&(o="."+(t[1]||"0"));o.length>2&&"0"===o[o.length-1];)o=o.substring(0,o.length-1);const i=[];for(;n.length;){if(n.length<=3){i.unshift(n);break}{const e=n.length-3;i.unshift(n.substring(e)),n=n.substring(0,e)}}return r+i.join(",")+o}function Hl(e,t){if("string"==typeof t){const e=Fl.indexOf(t);-1!==e&&(t=3*e)}return jr(e,null!=t?t:18)}function zl(e,t){if("string"!=typeof e&&Bl.throwArgumentError("value must be a string","value",e),"string"==typeof t){const e=Fl.indexOf(t);-1!==e&&(t=3*e)}return Ur(e,null!=t?t:18)}function Vl(e){return Hl(e,18)}function jl(e){return zl(e,18)}const Ul="ethers/5.7.2",Gl=new v(Ul)},6204:(e,t,n)=>{var r=t;r.utils=n(6414),r.common=n(2238),r.sha=n(4538),r.ripemd=n(2185),r.hmac=n(6316),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},2238:(e,t,n)=>{"use strict";var r=n(6414),o=n(6794);function i(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=i,i.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-n,this.endian);for(var o=0;o<e.length;o+=this._delta32)this._update(e,o,o+this._delta32)}return this},i.prototype.digest=function(e){return this.update(this._pad()),o(null===this.pending),this._digest(e)},i.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var o=1;o<n;o++)r[o]=0;if(e<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)r[o++]=0;r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=e>>>24&255,r[o++]=e>>>16&255,r[o++]=e>>>8&255,r[o++]=255&e}else for(r[o++]=255&e,r[o++]=e>>>8&255,r[o++]=e>>>16&255,r[o++]=e>>>24&255,r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=0,i=8;i<this.padLength;i++)r[o++]=0;return r}},6316:(e,t,n)=>{"use strict";var r=n(6414),o=n(6794);function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}e.exports=i,i.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),o(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},i.prototype.update=function(e,t){return this.inner.update(e,t),this},i.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},2185:(e,t,n)=>{"use strict";var r=n(6414),o=n(2238),i=r.rotl32,s=r.sum32,a=r.sum32_3,l=r.sum32_4,c=o.BlockHash;function u(){if(!(this instanceof u))return new u;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function h(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function p(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(u,c),t.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],o=this.h[2],c=this.h[3],u=this.h[4],y=n,b=r,w=o,x=c,E=u,S=0;S<80;S++){var C=s(i(l(n,d(S,r,o,c),e[f[S]+t],h(S)),g[S]),u);n=u,u=c,c=i(o,10),o=r,r=C,C=s(i(l(y,d(79-S,b,w,x),e[m[S]+t],p(S)),v[S]),E),y=E,E=x,x=i(w,10),w=b,b=C}C=a(this.h[1],o,x),this.h[1]=a(this.h[2],c,E),this.h[2]=a(this.h[3],u,y),this.h[3]=a(this.h[4],n,b),this.h[4]=a(this.h[0],r,w),this.h[0]=C},u.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},4538:(e,t,n)=>{"use strict";t.sha1=n(6854),t.sha224=n(9104),t.sha256=n(7284),t.sha384=n(8909),t.sha512=n(1260)},6854:(e,t,n)=>{"use strict";var r=n(6414),o=n(2238),i=n(2181),s=r.rotl32,a=r.sum32,l=r.sum32_5,c=i.ft_1,u=o.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(h,u),e.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=s(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var o=this.h[0],i=this.h[1],u=this.h[2],h=this.h[3],p=this.h[4];for(r=0;r<n.length;r++){var f=~~(r/20),m=l(s(o,5),c(f,i,u,h),p,n[r],d[f]);p=h,h=u,u=s(i,30),i=o,o=m}this.h[0]=a(this.h[0],o),this.h[1]=a(this.h[1],i),this.h[2]=a(this.h[2],u),this.h[3]=a(this.h[3],h),this.h[4]=a(this.h[4],p)},h.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},9104:(e,t,n)=>{"use strict";var r=n(6414),o=n(7284);function i(){if(!(this instanceof i))return new i;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(i,o),e.exports=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},7284:(e,t,n)=>{"use strict";var r=n(6414),o=n(2238),i=n(2181),s=n(6794),a=r.sum32,l=r.sum32_4,c=r.sum32_5,u=i.ch32,d=i.maj32,h=i.s0_256,p=i.s1_256,f=i.g0_256,m=i.g1_256,g=o.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}r.inherits(y,g),e.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=l(m(n[r-2]),n[r-7],f(n[r-15]),n[r-16]);var o=this.h[0],i=this.h[1],g=this.h[2],v=this.h[3],y=this.h[4],b=this.h[5],w=this.h[6],x=this.h[7];for(s(this.k.length===n.length),r=0;r<n.length;r++){var E=c(x,p(y),u(y,b,w),this.k[r],n[r]),S=a(h(o),d(o,i,g));x=w,w=b,b=y,y=a(v,E),v=g,g=i,i=o,o=a(E,S)}this.h[0]=a(this.h[0],o),this.h[1]=a(this.h[1],i),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],v),this.h[4]=a(this.h[4],y),this.h[5]=a(this.h[5],b),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],x)},y.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},8909:(e,t,n)=>{"use strict";var r=n(6414),o=n(1260);function i(){if(!(this instanceof i))return new i;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(i,o),e.exports=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},1260:(e,t,n)=>{"use strict";var r=n(6414),o=n(2238),i=n(6794),s=r.rotr64_hi,a=r.rotr64_lo,l=r.shr64_hi,c=r.shr64_lo,u=r.sum64,d=r.sum64_hi,h=r.sum64_lo,p=r.sum64_4_hi,f=r.sum64_4_lo,m=r.sum64_5_hi,g=r.sum64_5_lo,v=o.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function w(e,t,n,r,o){var i=e&n^~e&o;return i<0&&(i+=4294967296),i}function x(e,t,n,r,o,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function E(e,t,n,r,o){var i=e&n^e&o^n&o;return i<0&&(i+=4294967296),i}function S(e,t,n,r,o,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function C(e,t){var n=s(e,t,28)^s(t,e,2)^s(t,e,7);return n<0&&(n+=4294967296),n}function A(e,t){var n=a(e,t,28)^a(t,e,2)^a(t,e,7);return n<0&&(n+=4294967296),n}function _(e,t){var n=a(e,t,14)^a(e,t,18)^a(t,e,9);return n<0&&(n+=4294967296),n}function k(e,t){var n=s(e,t,1)^s(e,t,8)^l(e,t,7);return n<0&&(n+=4294967296),n}function T(e,t){var n=a(e,t,1)^a(e,t,8)^c(e,t,7);return n<0&&(n+=4294967296),n}function M(e,t){var n=a(e,t,19)^a(t,e,29)^c(e,t,6);return n<0&&(n+=4294967296),n}r.inherits(b,v),e.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var o=(g=n[r-4],v=n[r-3],y=void 0,(y=s(g,v,19)^s(v,g,29)^l(g,v,6))<0&&(y+=4294967296),y),i=M(n[r-4],n[r-3]),a=n[r-14],c=n[r-13],u=k(n[r-30],n[r-29]),d=T(n[r-30],n[r-29]),h=n[r-32],m=n[r-31];n[r]=p(o,i,a,c,u,d,h,m),n[r+1]=f(o,i,a,c,u,d,h,m)}var g,v,y},b.prototype._update=function(e,t){this._prepareBlock(e,t);var n,r,o,a=this.W,l=this.h[0],c=this.h[1],p=this.h[2],f=this.h[3],v=this.h[4],y=this.h[5],b=this.h[6],k=this.h[7],T=this.h[8],M=this.h[9],P=this.h[10],O=this.h[11],R=this.h[12],N=this.h[13],D=this.h[14],I=this.h[15];i(this.k.length===a.length);for(var B=0;B<a.length;B+=2){var F=D,L=I,H=(o=void 0,(o=s(n=T,r=M,14)^s(n,r,18)^s(r,n,9))<0&&(o+=4294967296),o),z=_(T,M),V=w(T,0,P,0,R),j=x(0,M,0,O,0,N),U=this.k[B],G=this.k[B+1],q=a[B],W=a[B+1],Z=m(F,L,H,z,V,j,U,G,q,W),$=g(F,L,H,z,V,j,U,G,q,W);F=C(l,c),L=A(l,c),H=E(l,0,p,0,v),z=S(0,c,0,f,0,y);var K=d(F,L,H,z),X=h(F,L,H,z);D=R,I=N,R=P,N=O,P=T,O=M,T=d(b,k,Z,$),M=h(k,k,Z,$),b=v,k=y,v=p,y=f,p=l,f=c,l=d(Z,$,K,X),c=h(Z,$,K,X)}u(this.h,0,l,c),u(this.h,2,p,f),u(this.h,4,v,y),u(this.h,6,b,k),u(this.h,8,T,M),u(this.h,10,P,O),u(this.h,12,R,N),u(this.h,14,D,I)},b.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},2181:(e,t,n)=>{"use strict";var r=n(6414).rotr32;function o(e,t,n){return e&t^~e&n}function i(e,t,n){return e&t^e&n^t&n}function s(e,t,n){return e^t^n}t.ft_1=function(e,t,n,r){return 0===e?o(t,n,r):1===e||3===e?s(t,n,r):2===e?i(t,n,r):void 0},t.ch32=o,t.maj32=i,t.p32=s,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},6414:(e,t,n)=>{"use strict";var r=n(6794),o=n(5153);function i(e,t){return 55296==(64512&e.charCodeAt(t))&&!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function l(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=o,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),o=0;o<e.length;o+=2)n.push(parseInt(e[o]+e[o+1],16))}else for(var r=0,o=0;o<e.length;o++){var s=e.charCodeAt(o);s<128?n[r++]=s:s<2048?(n[r++]=s>>6|192,n[r++]=63&s|128):i(e,o)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++o)),n[r++]=s>>18|240,n[r++]=s>>12&63|128,n[r++]=s>>6&63|128,n[r++]=63&s|128):(n[r++]=s>>12|224,n[r++]=s>>6&63|128,n[r++]=63&s|128)}else for(o=0;o<e.length;o++)n[o]=0|e[o];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=a(e[n].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var o=e[r];"little"===t&&(o=s(o)),n+=l(o.toString(16))}return n},t.zero2=a,t.zero8=l,t.join32=function(e,t,n,o){var i=n-t;r(i%4==0);for(var s=new Array(i/4),a=0,l=t;a<s.length;a++,l+=4){var c;c="big"===o?e[l]<<24|e[l+1]<<16|e[l+2]<<8|e[l+3]:e[l+3]<<24|e[l+2]<<16|e[l+1]<<8|e[l],s[a]=c>>>0}return s},t.split32=function(e,t){for(var n=new Array(4*e.length),r=0,o=0;r<e.length;r++,o+=4){var i=e[r];"big"===t?(n[o]=i>>>24,n[o+1]=i>>>16&255,n[o+2]=i>>>8&255,n[o+3]=255&i):(n[o+3]=i>>>24,n[o+2]=i>>>16&255,n[o+1]=i>>>8&255,n[o]=255&i)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},t.sum32_5=function(e,t,n,r,o){return e+t+n+r+o>>>0},t.sum64=function(e,t,n,r){var o=e[t],i=r+e[t+1]>>>0,s=(i<r?1:0)+n+o;e[t]=s>>>0,e[t+1]=i},t.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,r){return t+r>>>0},t.sum64_4_hi=function(e,t,n,r,o,i,s,a){var l=0,c=t;return l+=(c=c+r>>>0)<t?1:0,l+=(c=c+i>>>0)<i?1:0,e+n+o+s+(l+=(c=c+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,n,r,o,i,s,a){return t+r+i+a>>>0},t.sum64_5_hi=function(e,t,n,r,o,i,s,a,l,c){var u=0,d=t;return u+=(d=d+r>>>0)<t?1:0,u+=(d=d+i>>>0)<i?1:0,u+=(d=d+a>>>0)<a?1:0,e+n+o+s+l+(u+=(d=d+c>>>0)<c?1:0)>>>0},t.sum64_5_lo=function(e,t,n,r,o,i,s,a,l,c){return t+r+i+a+c>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},170:function(module,exports){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,factory;"undefined"!=typeof self&&self,factory=function(){return function(){"use strict";var htmx={onLoad:onLoadHelper,process:processNode,on:addEventListenerImpl,off:removeEventListenerImpl,trigger:triggerEvent,ajax:ajaxHelper,find,findAll,closest,values:function(e,t){return getInputValues(e,t||"post").values},remove:removeElement,addClass:addClassToElement,removeClass:removeClassFromElement,toggleClass:toggleClassOnElement,takeClass:takeClassForElement,defineExtension,removeExtension,logAll,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,inlineScriptNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",wsBinaryType:"blob",disableSelector:"[hx-disable], [data-hx-disable]",useTemplateFragments:!1,scrollBehavior:"smooth",defaultFocusScroll:!1,getCacheBusterParam:!1},parseInterval,_:internalEval,createEventSource:function(e){return new EventSource(e,{withCredentials:!0})},createWebSocket:function(e){var t=new WebSocket(e,[]);return t.binaryType=htmx.config.wsBinaryType,t},version:"1.8.6"},internalAPI={addTriggerHandler,bodyContains,canAccessLocalStorage,filterValues,hasAttribute,getAttributeValue,getClosestMatch,getExpressionVars,getHeaders,getInputValues,getInternalData,getSwapSpecification,getTriggerSpecs,getTarget,makeFragment,mergeObjects,makeSettleInfo,oobSwap,selectAndSwap,settleImmediately,shouldCancel,triggerEvent,triggerErrorEvent,withExtensions},VERBS=["get","post","put","delete","patch"],VERB_SELECTOR=VERBS.map((function(e){return"[hx-"+e+"], [data-hx-"+e+"]"})).join(", ");function parseInterval(e){if(null!=e)return"ms"==e.slice(-2)?parseFloat(e.slice(0,-2))||void 0:"s"==e.slice(-1)?1e3*parseFloat(e.slice(0,-1))||void 0:"m"==e.slice(-1)?1e3*parseFloat(e.slice(0,-1))*60||void 0:parseFloat(e)||void 0}function getRawAttribute(e,t){return e.getAttribute&&e.getAttribute(t)}function hasAttribute(e,t){return e.hasAttribute&&(e.hasAttribute(t)||e.hasAttribute("data-"+t))}function getAttributeValue(e,t){return getRawAttribute(e,t)||getRawAttribute(e,"data-"+t)}function parentElt(e){return e.parentElement}function getDocument(){return document}function getClosestMatch(e,t){for(;e&&!t(e);)e=parentElt(e);return e||null}function getAttributeValueWithDisinheritance(e,t,n){var r=getAttributeValue(t,n),o=getAttributeValue(t,"hx-disinherit");return e!==t&&o&&("*"===o||o.split(" ").indexOf(n)>=0)?"unset":r}function getClosestAttributeValue(e,t){var n=null;if(getClosestMatch(e,(function(r){return n=getAttributeValueWithDisinheritance(e,r,t)})),"unset"!==n)return n}function matches(e,t){var n=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector;return n&&n.call(e,t)}function getStartTag(e){var t=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i.exec(e);return t?t[1].toLowerCase():""}function parseHTML(e,t){for(var n=(new DOMParser).parseFromString(e,"text/html").body;t>0;)t--,n=n.firstChild;return null==n&&(n=getDocument().createDocumentFragment()),n}function makeFragment(e){if(htmx.config.useTemplateFragments)return parseHTML("<body><template>"+e+"</template></body>",0).querySelector("template").content;switch(getStartTag(e)){case"thead":case"tbody":case"tfoot":case"colgroup":case"caption":return parseHTML("<table>"+e+"</table>",1);case"col":return parseHTML("<table><colgroup>"+e+"</colgroup></table>",2);case"tr":return parseHTML("<table><tbody>"+e+"</tbody></table>",2);case"td":case"th":return parseHTML("<table><tbody><tr>"+e+"</tr></tbody></table>",3);case"script":return parseHTML("<div>"+e+"</div>",1);default:return parseHTML(e,0)}}function maybeCall(e){e&&e()}function isType(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function isFunction(e){return isType(e,"Function")}function isRawObject(e){return isType(e,"Object")}function getInternalData(e){var t="htmx-internal-data",n=e[t];return n||(n=e[t]={}),n}function toArray(e){var t=[];if(e)for(var n=0;n<e.length;n++)t.push(e[n]);return t}function forEach(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n])}function isScrolledIntoView(e){var t=e.getBoundingClientRect(),n=t.top,r=t.bottom;return n<window.innerHeight&&r>=0}function bodyContains(e){return e.getRootNode&&e.getRootNode()instanceof ShadowRoot?getDocument().body.contains(e.getRootNode().host):getDocument().body.contains(e)}function splitOnWhitespace(e){return e.trim().split(/\s+/)}function mergeObjects(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function parseJSON(e){try{return JSON.parse(e)}catch(e){return logError(e),null}}function canAccessLocalStorage(){var e="htmx:localStorageTest";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}function internalEval(str){return maybeEval(getDocument().body,(function(){return eval(str)}))}function onLoadHelper(e){return htmx.on("htmx:load",(function(t){e(t.detail.elt)}))}function logAll(){htmx.logger=function(e,t,n){console&&console.log(t,e,n)}}function find(e,t){return t?e.querySelector(t):find(getDocument(),e)}function findAll(e,t){return t?e.querySelectorAll(t):findAll(getDocument(),e)}function removeElement(e,t){e=resolveTarget(e),t?setTimeout((function(){removeElement(e)}),t):e.parentElement.removeChild(e)}function addClassToElement(e,t,n){e=resolveTarget(e),n?setTimeout((function(){addClassToElement(e,t)}),n):e.classList&&e.classList.add(t)}function removeClassFromElement(e,t,n){e=resolveTarget(e),n?setTimeout((function(){removeClassFromElement(e,t)}),n):e.classList&&(e.classList.remove(t),0===e.classList.length&&e.removeAttribute("class"))}function toggleClassOnElement(e,t){(e=resolveTarget(e)).classList.toggle(t)}function takeClassForElement(e,t){forEach((e=resolveTarget(e)).parentElement.children,(function(e){removeClassFromElement(e,t)})),addClassToElement(e,t)}function closest(e,t){if((e=resolveTarget(e)).closest)return e.closest(t);do{if(null==e||matches(e,t))return e}while(e=e&&parentElt(e));return null}function querySelectorAllExt(e,t){return 0===t.indexOf("closest ")?[closest(e,t.substr(8))]:0===t.indexOf("find ")?[find(e,t.substr(5))]:0===t.indexOf("next ")?[scanForwardQuery(e,t.substr(5))]:0===t.indexOf("previous ")?[scanBackwardsQuery(e,t.substr(9))]:"document"===t?[document]:"window"===t?[window]:getDocument().querySelectorAll(t)}var scanForwardQuery=function(e,t){for(var n=getDocument().querySelectorAll(t),r=0;r<n.length;r++){var o=n[r];if(o.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_PRECEDING)return o}},scanBackwardsQuery=function(e,t){for(var n=getDocument().querySelectorAll(t),r=n.length-1;r>=0;r--){var o=n[r];if(o.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_FOLLOWING)return o}};function querySelectorExt(e,t){return t?querySelectorAllExt(e,t)[0]:querySelectorAllExt(getDocument().body,e)[0]}function resolveTarget(e){return isType(e,"String")?find(e):e}function processEventArgs(e,t,n){return isFunction(t)?{target:getDocument().body,event:e,listener:t}:{target:resolveTarget(e),event:t,listener:n}}function addEventListenerImpl(e,t,n){return ready((function(){var r=processEventArgs(e,t,n);r.target.addEventListener(r.event,r.listener)})),isFunction(t)?t:n}function removeEventListenerImpl(e,t,n){return ready((function(){var r=processEventArgs(e,t,n);r.target.removeEventListener(r.event,r.listener)})),isFunction(t)?t:n}var DUMMY_ELT=getDocument().createElement("output");function findAttributeTargets(e,t){var n=getClosestAttributeValue(e,t);if(n){if("this"===n)return[findThisElement(e,t)];var r=querySelectorAllExt(e,n);return 0===r.length?(logError('The selector "'+n+'" on '+t+" returned no matches!"),[DUMMY_ELT]):r}}function findThisElement(e,t){return getClosestMatch(e,(function(e){return null!=getAttributeValue(e,t)}))}function getTarget(e){var t=getClosestAttributeValue(e,"hx-target");return t?"this"===t?findThisElement(e,"hx-target"):querySelectorExt(e,t):getInternalData(e).boosted?getDocument().body:e}function shouldSettleAttribute(e){for(var t=htmx.config.attributesToSettle,n=0;n<t.length;n++)if(e===t[n])return!0;return!1}function cloneAttributes(e,t){forEach(e.attributes,(function(n){!t.hasAttribute(n.name)&&shouldSettleAttribute(n.name)&&e.removeAttribute(n.name)})),forEach(t.attributes,(function(t){shouldSettleAttribute(t.name)&&e.setAttribute(t.name,t.value)}))}function isInlineSwap(e,t){for(var n=getExtensions(t),r=0;r<n.length;r++){var o=n[r];try{if(o.isInlineSwap(e))return!0}catch(e){logError(e)}}return"outerHTML"===e}function oobSwap(e,t,n){var r="#"+t.id,o="outerHTML";"true"===e||(e.indexOf(":")>0?(o=e.substr(0,e.indexOf(":")),r=e.substr(e.indexOf(":")+1,e.length)):o=e);var i=getDocument().querySelectorAll(r);return i?(forEach(i,(function(e){var r,i=t.cloneNode(!0);(r=getDocument().createDocumentFragment()).appendChild(i),isInlineSwap(o,e)||(r=i);var s={shouldSwap:!0,target:e,fragment:r};triggerEvent(e,"htmx:oobBeforeSwap",s)&&(e=s.target,s.shouldSwap&&swap(o,e,e,r,n),forEach(n.elts,(function(e){triggerEvent(e,"htmx:oobAfterSwap",s)})))})),t.parentNode.removeChild(t)):(t.parentNode.removeChild(t),triggerErrorEvent(getDocument().body,"htmx:oobErrorNoTarget",{content:t})),e}function handleOutOfBandSwaps(e,t,n){var r=getClosestAttributeValue(e,"hx-select-oob");if(r){var o=r.split(",");for(let e=0;e<o.length;e++){var i=o[e].split(":",2),s=i[0];0===s.indexOf("#")&&(s=s.substring(1));var a=i[1]||"true",l=t.querySelector("#"+s);l&&oobSwap(a,l,n)}}forEach(findAll(t,"[hx-swap-oob], [data-hx-swap-oob]"),(function(e){var t=getAttributeValue(e,"hx-swap-oob");null!=t&&oobSwap(t,e,n)}))}function handlePreservedElements(e){forEach(findAll(e,"[hx-preserve], [data-hx-preserve]"),(function(e){var t=getAttributeValue(e,"id"),n=getDocument().getElementById(t);null!=n&&e.parentNode.replaceChild(n,e)}))}function handleAttributes(e,t,n){forEach(t.querySelectorAll("[id]"),(function(t){if(t.id&&t.id.length>0){var r=t.id.replace("'","\\'"),o=e.querySelector(t.tagName+"[id='"+r+"']");if(o&&o!==e){var i=t.cloneNode();cloneAttributes(t,o),n.tasks.push((function(){cloneAttributes(t,i)}))}}}))}function makeAjaxLoadTask(e){return function(){removeClassFromElement(e,htmx.config.addedClass),processNode(e),processScripts(e),processFocus(e),triggerEvent(e,"htmx:load")}}function processFocus(e){var t="[autofocus]",n=matches(e,t)?e:e.querySelector(t);null!=n&&n.focus()}function insertNodesBefore(e,t,n,r){for(handleAttributes(e,n,r);n.childNodes.length>0;){var o=n.firstChild;addClassToElement(o,htmx.config.addedClass),e.insertBefore(o,t),o.nodeType!==Node.TEXT_NODE&&o.nodeType!==Node.COMMENT_NODE&&r.tasks.push(makeAjaxLoadTask(o))}}function stringHash(e,t){for(var n=0;n<e.length;)t=(t<<5)-t+e.charCodeAt(n++)|0;return t}function attributeHash(e){var t=0;if(e.attributes)for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n];r.value&&(t=stringHash(r.name,t),t=stringHash(r.value,t))}return t}function deInitNode(e){var t=getInternalData(e);t.webSocket&&t.webSocket.close(),t.sseEventSource&&t.sseEventSource.close(),t.listenerInfos&&forEach(t.listenerInfos,(function(e){e.on&&e.on.removeEventListener(e.trigger,e.listener)}))}function cleanUpElement(e){triggerEvent(e,"htmx:beforeCleanupElement"),deInitNode(e),e.children&&forEach(e.children,(function(e){cleanUpElement(e)}))}function swapOuterHTML(e,t,n){if("BODY"===e.tagName)return swapInnerHTML(e,t,n);var r,o=e.previousSibling;for(insertNodesBefore(parentElt(e),e,t,n),r=null==o?parentElt(e).firstChild:o.nextSibling,getInternalData(e).replacedWith=r,n.elts=[];r&&r!==e;)r.nodeType===Node.ELEMENT_NODE&&n.elts.push(r),r=r.nextElementSibling;cleanUpElement(e),parentElt(e).removeChild(e)}function swapAfterBegin(e,t,n){return insertNodesBefore(e,e.firstChild,t,n)}function swapBeforeBegin(e,t,n){return insertNodesBefore(parentElt(e),e,t,n)}function swapBeforeEnd(e,t,n){return insertNodesBefore(e,null,t,n)}function swapAfterEnd(e,t,n){return insertNodesBefore(parentElt(e),e.nextSibling,t,n)}function swapDelete(e,t,n){return cleanUpElement(e),parentElt(e).removeChild(e)}function swapInnerHTML(e,t,n){var r=e.firstChild;if(insertNodesBefore(e,r,t,n),r){for(;r.nextSibling;)cleanUpElement(r.nextSibling),e.removeChild(r.nextSibling);cleanUpElement(r),e.removeChild(r)}}function maybeSelectFromResponse(e,t){var n=getClosestAttributeValue(e,"hx-select");if(n){var r=getDocument().createDocumentFragment();forEach(t.querySelectorAll(n),(function(e){r.appendChild(e)})),t=r}return t}function swap(e,t,n,r,o){switch(e){case"none":return;case"outerHTML":return void swapOuterHTML(n,r,o);case"afterbegin":return void swapAfterBegin(n,r,o);case"beforebegin":return void swapBeforeBegin(n,r,o);case"beforeend":return void swapBeforeEnd(n,r,o);case"afterend":return void swapAfterEnd(n,r,o);case"delete":return void swapDelete(n,r,o);default:for(var i=getExtensions(t),s=0;s<i.length;s++){var a=i[s];try{var l=a.handleSwap(e,n,r,o);if(l){if(void 0!==l.length)for(var c=0;c<l.length;c++){var u=l[c];u.nodeType!==Node.TEXT_NODE&&u.nodeType!==Node.COMMENT_NODE&&o.tasks.push(makeAjaxLoadTask(u))}return}}catch(e){logError(e)}}"innerHTML"===e?swapInnerHTML(n,r,o):swap(htmx.config.defaultSwapStyle,t,n,r,o)}}function findTitle(e){if(e.indexOf("<title")>-1){var t=e.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"").match(/<title(\s[^>]*>|>)([\s\S]*?)<\/title>/im);if(t)return t[2]}}function selectAndSwap(e,t,n,r,o){o.title=findTitle(r);var i=makeFragment(r);if(i)return handleOutOfBandSwaps(n,i,o),handlePreservedElements(i=maybeSelectFromResponse(n,i)),swap(e,n,t,i,o)}function handleTrigger(e,t,n){var r=e.getResponseHeader(t);if(0===r.indexOf("{")){var o=parseJSON(r);for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];isRawObject(s)||(s={value:s}),triggerEvent(n,i,s)}}else triggerEvent(n,r,[])}var WHITESPACE=/\s/,WHITESPACE_OR_COMMA=/[\s,]/,SYMBOL_START=/[_$a-zA-Z]/,SYMBOL_CONT=/[_$a-zA-Z0-9]/,STRINGISH_START=['"',"'","/"],NOT_WHITESPACE=/[^\s]/;function tokenizeString(e){for(var t=[],n=0;n<e.length;){if(SYMBOL_START.exec(e.charAt(n))){for(var r=n;SYMBOL_CONT.exec(e.charAt(n+1));)n++;t.push(e.substr(r,n-r+1))}else if(-1!==STRINGISH_START.indexOf(e.charAt(n))){var o=e.charAt(n);for(r=n,n++;n<e.length&&e.charAt(n)!==o;)"\\"===e.charAt(n)&&n++,n++;t.push(e.substr(r,n-r+1))}else{var i=e.charAt(n);t.push(i)}n++}return t}function isPossibleRelativeReference(e,t,n){return SYMBOL_START.exec(e.charAt(0))&&"true"!==e&&"false"!==e&&"this"!==e&&e!==n&&"."!==t}function maybeGenerateConditional(e,t,n){if("["===t[0]){t.shift();for(var r=1,o=" return (function("+n+"){ return (",i=null;t.length>0;){var s=t[0];if("]"===s){if(0==--r){null===i&&(o+="true"),t.shift(),o+=")})";try{var a=maybeEval(e,(function(){return Function(o)()}),(function(){return!0}));return a.source=o,a}catch(e){return triggerErrorEvent(getDocument().body,"htmx:syntax:error",{error:e,source:o}),null}}}else"["===s&&r++;isPossibleRelativeReference(s,i,n)?o+="(("+n+"."+s+") ? ("+n+"."+s+") : (window."+s+"))":o+=s,i=t.shift()}}}function consumeUntil(e,t){for(var n="";e.length>0&&!e[0].match(t);)n+=e.shift();return n}var INPUT_SELECTOR="input, textarea, select";function getTriggerSpecs(e){var t=getAttributeValue(e,"hx-trigger"),n=[];if(t){var r=tokenizeString(t);do{consumeUntil(r,NOT_WHITESPACE);var o=r.length,i=consumeUntil(r,/[,\[\s]/);if(""!==i)if("every"===i){var s={trigger:"every"};consumeUntil(r,NOT_WHITESPACE),s.pollInterval=parseInterval(consumeUntil(r,/[,\[\s]/)),consumeUntil(r,NOT_WHITESPACE),(a=maybeGenerateConditional(e,r,"event"))&&(s.eventFilter=a),n.push(s)}else if(0===i.indexOf("sse:"))n.push({trigger:"sse",sseEvent:i.substr(4)});else{var a,l={trigger:i};for((a=maybeGenerateConditional(e,r,"event"))&&(l.eventFilter=a);r.length>0&&","!==r[0];){consumeUntil(r,NOT_WHITESPACE);var c=r.shift();if("changed"===c)l.changed=!0;else if("once"===c)l.once=!0;else if("consume"===c)l.consume=!0;else if("delay"===c&&":"===r[0])r.shift(),l.delay=parseInterval(consumeUntil(r,WHITESPACE_OR_COMMA));else if("from"===c&&":"===r[0]){r.shift();var u=consumeUntil(r,WHITESPACE_OR_COMMA);"closest"!==u&&"find"!==u&&"next"!==u&&"previous"!==u||(r.shift(),u+=" "+consumeUntil(r,WHITESPACE_OR_COMMA)),l.from=u}else"target"===c&&":"===r[0]?(r.shift(),l.target=consumeUntil(r,WHITESPACE_OR_COMMA)):"throttle"===c&&":"===r[0]?(r.shift(),l.throttle=parseInterval(consumeUntil(r,WHITESPACE_OR_COMMA))):"queue"===c&&":"===r[0]?(r.shift(),l.queue=consumeUntil(r,WHITESPACE_OR_COMMA)):"root"!==c&&"threshold"!==c||":"!==r[0]?triggerErrorEvent(e,"htmx:syntax:error",{token:r.shift()}):(r.shift(),l[c]=consumeUntil(r,WHITESPACE_OR_COMMA))}n.push(l)}r.length===o&&triggerErrorEvent(e,"htmx:syntax:error",{token:r.shift()}),consumeUntil(r,NOT_WHITESPACE)}while(","===r[0]&&r.shift())}return n.length>0?n:matches(e,"form")?[{trigger:"submit"}]:matches(e,'input[type="button"]')?[{trigger:"click"}]:matches(e,INPUT_SELECTOR)?[{trigger:"change"}]:[{trigger:"click"}]}function cancelPolling(e){getInternalData(e).cancelled=!0}function processPolling(e,t,n){var r=getInternalData(e);r.timeout=setTimeout((function(){bodyContains(e)&&!0!==r.cancelled&&(maybeFilterEvent(n,makeEvent("hx:poll:trigger",{triggerSpec:n,target:e}))||t(e),processPolling(e,t,n))}),n.pollInterval)}function isLocalLink(e){return location.hostname===e.hostname&&getRawAttribute(e,"href")&&0!==getRawAttribute(e,"href").indexOf("#")}function boostElement(e,t,n){if("A"===e.tagName&&isLocalLink(e)&&(""===e.target||"_self"===e.target)||"FORM"===e.tagName){var r,o;if(t.boosted=!0,"A"===e.tagName)r="get",o=getRawAttribute(e,"href");else{var i=getRawAttribute(e,"method");r=i?i.toLowerCase():"get",o=getRawAttribute(e,"action")}n.forEach((function(n){addEventListener(e,(function(e,t){issueAjaxRequest(r,o,e,t)}),t,n,!0)}))}}function shouldCancel(e,t){if("submit"===e.type||"click"===e.type){if("FORM"===t.tagName)return!0;if(matches(t,'input[type="submit"], button')&&null!==closest(t,"form"))return!0;if("A"===t.tagName&&t.href&&("#"===t.getAttribute("href")||0!==t.getAttribute("href").indexOf("#")))return!0}return!1}function ignoreBoostedAnchorCtrlClick(e,t){return getInternalData(e).boosted&&"A"===e.tagName&&"click"===t.type&&(t.ctrlKey||t.metaKey)}function maybeFilterEvent(e,t){var n=e.eventFilter;if(n)try{return!0!==n(t)}catch(e){return triggerErrorEvent(getDocument().body,"htmx:eventFilter:error",{error:e,source:n.source}),!0}return!1}function addEventListener(e,t,n,r,o){var i,s=getInternalData(e);i=r.from?querySelectorAllExt(e,r.from):[e],r.changed&&(s.lastValue=e.value),forEach(i,(function(i){var a=function(n){if(bodyContains(e)){if(!ignoreBoostedAnchorCtrlClick(e,n)&&((o||shouldCancel(n,e))&&n.preventDefault(),!maybeFilterEvent(r,n))){var l=getInternalData(n);if(l.triggerSpec=r,null==l.handledFor&&(l.handledFor=[]),l.handledFor.indexOf(e)<0){if(l.handledFor.push(e),r.consume&&n.stopPropagation(),r.target&&n.target&&!matches(n.target,r.target))return;if(r.once){if(s.triggeredOnce)return;s.triggeredOnce=!0}if(r.changed){if(s.lastValue===e.value)return;s.lastValue=e.value}if(s.delayed&&clearTimeout(s.delayed),s.throttle)return;r.throttle?s.throttle||(t(e,n),s.throttle=setTimeout((function(){s.throttle=null}),r.throttle)):r.delay?s.delayed=setTimeout((function(){t(e,n)}),r.delay):t(e,n)}}}else i.removeEventListener(r.trigger,a)};null==n.listenerInfos&&(n.listenerInfos=[]),n.listenerInfos.push({trigger:r.trigger,listener:a,on:i}),i.addEventListener(r.trigger,a)}))}var windowIsScrolling=!1,scrollHandler=null;function initScrollHandler(){scrollHandler||(scrollHandler=function(){windowIsScrolling=!0},window.addEventListener("scroll",scrollHandler),setInterval((function(){windowIsScrolling&&(windowIsScrolling=!1,forEach(getDocument().querySelectorAll("[hx-trigger='revealed'],[data-hx-trigger='revealed']"),(function(e){maybeReveal(e)})))}),200))}function maybeReveal(e){!hasAttribute(e,"data-hx-revealed")&&isScrolledIntoView(e)&&(e.setAttribute("data-hx-revealed","true"),getInternalData(e).initHash?triggerEvent(e,"revealed"):e.addEventListener("htmx:afterProcessNode",(function(t){triggerEvent(e,"revealed")}),{once:!0}))}function processWebSocketInfo(e,t,n){for(var r=splitOnWhitespace(n),o=0;o<r.length;o++){var i=r[o].split(/:(.+)/);"connect"===i[0]&&ensureWebSocket(e,i[1],0),"send"===i[0]&&processWebSocketSend(e)}}function ensureWebSocket(e,t,n){if(bodyContains(e)){if(0==t.indexOf("/")){var r=location.hostname+(location.port?":"+location.port:"");"https:"==location.protocol?t="wss://"+r+t:"http:"==location.protocol&&(t="ws://"+r+t)}var o=htmx.createWebSocket(t);o.onerror=function(t){triggerErrorEvent(e,"htmx:wsError",{error:t,socket:o}),maybeCloseWebSocketSource(e)},o.onclose=function(r){if([1006,1012,1013].indexOf(r.code)>=0){var o=getWebSocketReconnectDelay(n);setTimeout((function(){ensureWebSocket(e,t,n+1)}),o)}},o.onopen=function(e){n=0},getInternalData(e).webSocket=o,o.addEventListener("message",(function(t){if(!maybeCloseWebSocketSource(e)){var n=t.data;withExtensions(e,(function(t){n=t.transformResponse(n,null,e)}));for(var r=makeSettleInfo(e),o=toArray(makeFragment(n).children),i=0;i<o.length;i++){var s=o[i];oobSwap(getAttributeValue(s,"hx-swap-oob")||"true",s,r)}settleImmediately(r.tasks)}}))}}function maybeCloseWebSocketSource(e){if(!bodyContains(e))return getInternalData(e).webSocket.close(),!0}function processWebSocketSend(e){var t=getClosestMatch(e,(function(e){return null!=getInternalData(e).webSocket}));t?e.addEventListener(getTriggerSpecs(e)[0].trigger,(function(n){var r=getInternalData(t).webSocket,o=getHeaders(e,t),i=getInputValues(e,"post"),s=i.errors,a=filterValues(mergeObjects(i.values,getExpressionVars(e)),e);a.HEADERS=o,s&&s.length>0?triggerEvent(e,"htmx:validation:halted",s):(r.send(JSON.stringify(a)),shouldCancel(n,e)&&n.preventDefault())})):triggerErrorEvent(e,"htmx:noWebSocketSourceError")}function getWebSocketReconnectDelay(e){var t=htmx.config.wsReconnectDelay;if("function"==typeof t)return t(e);if("full-jitter"===t){var n=Math.min(e,6);return 1e3*Math.pow(2,n)*Math.random()}logError('htmx.config.wsReconnectDelay must either be a function or the string "full-jitter"')}function processSSEInfo(e,t,n){for(var r=splitOnWhitespace(n),o=0;o<r.length;o++){var i=r[o].split(/:(.+)/);"connect"===i[0]&&processSSESource(e,i[1]),"swap"===i[0]&&processSSESwap(e,i[1])}}function processSSESource(e,t){var n=htmx.createEventSource(t);n.onerror=function(t){triggerErrorEvent(e,"htmx:sseError",{error:t,source:n}),maybeCloseSSESource(e)},getInternalData(e).sseEventSource=n}function processSSESwap(e,t){var n=getClosestMatch(e,hasEventSource);if(n){var r=getInternalData(n).sseEventSource,o=function(i){if(maybeCloseSSESource(n))r.removeEventListener(t,o);else{var s=i.data;withExtensions(e,(function(t){s=t.transformResponse(s,null,e)}));var a=getSwapSpecification(e),l=getTarget(e),c=makeSettleInfo(e);selectAndSwap(a.swapStyle,e,l,s,c),settleImmediately(c.tasks),triggerEvent(e,"htmx:sseMessage",i)}};getInternalData(e).sseListener=o,r.addEventListener(t,o)}else triggerErrorEvent(e,"htmx:noSSESourceError")}function processSSETrigger(e,t,n){var r=getClosestMatch(e,hasEventSource);if(r){var o=getInternalData(r).sseEventSource,i=function(){maybeCloseSSESource(r)||(bodyContains(e)?t(e):o.removeEventListener(n,i))};getInternalData(e).sseListener=i,o.addEventListener(n,i)}else triggerErrorEvent(e,"htmx:noSSESourceError")}function maybeCloseSSESource(e){if(!bodyContains(e))return getInternalData(e).sseEventSource.close(),!0}function hasEventSource(e){return null!=getInternalData(e).sseEventSource}function loadImmediately(e,t,n,r){var o=function(){n.loaded||(n.loaded=!0,t(e))};r?setTimeout(o,r):o()}function processVerbs(e,t,n){var r=!1;return forEach(VERBS,(function(o){if(hasAttribute(e,"hx-"+o)){var i=getAttributeValue(e,"hx-"+o);r=!0,t.path=i,t.verb=o,n.forEach((function(n){addTriggerHandler(e,n,t,(function(e,t){issueAjaxRequest(o,i,e,t)}))}))}})),r}function addTriggerHandler(e,t,n,r){if(t.sseEvent)processSSETrigger(e,r,t.sseEvent);else if("revealed"===t.trigger)initScrollHandler(),addEventListener(e,r,n,t),maybeReveal(e);else if("intersect"===t.trigger){var o={};t.root&&(o.root=querySelectorExt(e,t.root)),t.threshold&&(o.threshold=parseFloat(t.threshold)),new IntersectionObserver((function(t){for(var n=0;n<t.length;n++)if(t[n].isIntersecting){triggerEvent(e,"intersect");break}}),o).observe(e),addEventListener(e,r,n,t)}else"load"===t.trigger?maybeFilterEvent(t,makeEvent("load",{elt:e}))||loadImmediately(e,r,n,t.delay):t.pollInterval?(n.polling=!0,processPolling(e,r,t)):addEventListener(e,r,n,t)}function evalScript(e){if("text/javascript"===e.type||"module"===e.type||""===e.type){var t=getDocument().createElement("script");forEach(e.attributes,(function(e){t.setAttribute(e.name,e.value)})),t.textContent=e.textContent,t.async=!1,htmx.config.inlineScriptNonce&&(t.nonce=htmx.config.inlineScriptNonce);var n=e.parentElement;try{n.insertBefore(t,e)}catch(e){logError(e)}finally{e.parentElement&&e.parentElement.removeChild(e)}}}function processScripts(e){matches(e,"script")&&evalScript(e),forEach(findAll(e,"script"),(function(e){evalScript(e)}))}function hasChanceOfBeingBoosted(){return document.querySelector("[hx-boost], [data-hx-boost]")}function findElementsToProcess(e){if(e.querySelectorAll){var t=hasChanceOfBeingBoosted()?", a, form":"";return e.querySelectorAll(VERB_SELECTOR+t+", [hx-sse], [data-hx-sse], [hx-ws], [data-hx-ws], [hx-ext], [data-hx-ext]")}return[]}function initButtonTracking(e){var t=function(t){var n=closest(t.target,"button, input[type='submit']");null!==n&&(getInternalData(e).lastButtonClicked=n)};e.addEventListener("click",t),e.addEventListener("focusin",t),e.addEventListener("focusout",(function(t){getInternalData(e).lastButtonClicked=null}))}function initNode(e){if(!e.closest||!e.closest(htmx.config.disableSelector)){var t=getInternalData(e);if(t.initHash!==attributeHash(e)){t.initHash=attributeHash(e),deInitNode(e),triggerEvent(e,"htmx:beforeProcessNode"),e.value&&(t.lastValue=e.value);var n=getTriggerSpecs(e);processVerbs(e,t,n)||"true"!==getClosestAttributeValue(e,"hx-boost")||boostElement(e,t,n),"FORM"===e.tagName&&initButtonTracking(e);var r=getAttributeValue(e,"hx-sse");r&&processSSEInfo(e,t,r);var o=getAttributeValue(e,"hx-ws");o&&processWebSocketInfo(e,t,o),triggerEvent(e,"htmx:afterProcessNode")}}}function processNode(e){initNode(e=resolveTarget(e)),forEach(findElementsToProcess(e),(function(e){initNode(e)}))}function kebabEventName(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function makeEvent(e,t){var n;return window.CustomEvent&&"function"==typeof window.CustomEvent?n=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t}):(n=getDocument().createEvent("CustomEvent")).initCustomEvent(e,!0,!0,t),n}function triggerErrorEvent(e,t,n){triggerEvent(e,t,mergeObjects({error:t},n))}function ignoreEventForLogging(e){return"htmx:afterProcessNode"===e}function withExtensions(e,t){forEach(getExtensions(e),(function(e){try{t(e)}catch(e){logError(e)}}))}function logError(e){console.error?console.error(e):console.log&&console.log("ERROR: ",e)}function triggerEvent(e,t,n){e=resolveTarget(e),null==n&&(n={}),n.elt=e;var r=makeEvent(t,n);htmx.logger&&!ignoreEventForLogging(t)&&htmx.logger(e,t,n),n.error&&(logError(n.error),triggerEvent(e,"htmx:error",{errorInfo:n}));var o=e.dispatchEvent(r),i=kebabEventName(t);if(o&&i!==t){var s=makeEvent(i,r.detail);o=o&&e.dispatchEvent(s)}return withExtensions(e,(function(e){o=o&&!1!==e.onEvent(t,r)})),o}var currentPathForHistory=location.pathname+location.search;function getHistoryElement(){return getDocument().querySelector("[hx-history-elt],[data-hx-history-elt]")||getDocument().body}function saveToHistoryCache(e,t,n,r){if(canAccessLocalStorage()){for(var o=parseJSON(localStorage.getItem("htmx-history-cache"))||[],i=0;i<o.length;i++)if(o[i].url===e){o.splice(i,1);break}var s={url:e,content:t,title:n,scroll:r};for(triggerEvent(getDocument().body,"htmx:historyItemCreated",{item:s,cache:o}),o.push(s);o.length>htmx.config.historyCacheSize;)o.shift();for(;o.length>0;)try{localStorage.setItem("htmx-history-cache",JSON.stringify(o));break}catch(e){triggerErrorEvent(getDocument().body,"htmx:historyCacheError",{cause:e,cache:o}),o.shift()}}}function getCachedHistory(e){if(!canAccessLocalStorage())return null;for(var t=parseJSON(localStorage.getItem("htmx-history-cache"))||[],n=0;n<t.length;n++)if(t[n].url===e)return t[n];return null}function cleanInnerHtmlForHistory(e){var t=htmx.config.requestClass,n=e.cloneNode(!0);return forEach(findAll(n,"."+t),(function(e){removeClassFromElement(e,t)})),n.innerHTML}function saveCurrentPageToHistory(){var e=getHistoryElement(),t=currentPathForHistory||location.pathname+location.search;getDocument().querySelector('[hx-history="false" i],[data-hx-history="false" i]')||(triggerEvent(getDocument().body,"htmx:beforeHistorySave",{path:t,historyElt:e}),saveToHistoryCache(t,cleanInnerHtmlForHistory(e),getDocument().title,window.scrollY)),htmx.config.historyEnabled&&history.replaceState({htmx:!0},getDocument().title,window.location.href)}function pushUrlIntoHistory(e){htmx.config.getCacheBusterParam&&((e=e.replace(/org\.htmx\.cache-buster=[^&]*&?/,"")).endsWith("&")||e.endsWith("?"))&&(e=e.slice(0,-1)),htmx.config.historyEnabled&&history.pushState({htmx:!0},"",e),currentPathForHistory=e}function replaceUrlInHistory(e){htmx.config.historyEnabled&&history.replaceState({htmx:!0},"",e),currentPathForHistory=e}function settleImmediately(e){forEach(e,(function(e){e.call()}))}function loadHistoryFromServer(e){var t=new XMLHttpRequest,n={path:e,xhr:t};triggerEvent(getDocument().body,"htmx:historyCacheMiss",n),t.open("GET",e,!0),t.setRequestHeader("HX-History-Restore-Request","true"),t.onload=function(){if(this.status>=200&&this.status<400){triggerEvent(getDocument().body,"htmx:historyCacheMissLoad",n);var t=makeFragment(this.response);t=t.querySelector("[hx-history-elt],[data-hx-history-elt]")||t;var r=getHistoryElement(),o=makeSettleInfo(r),i=findTitle(this.response);if(i){var s=find("title");s?s.innerHTML=i:window.document.title=i}swapInnerHTML(r,t,o),settleImmediately(o.tasks),currentPathForHistory=e,triggerEvent(getDocument().body,"htmx:historyRestore",{path:e,cacheMiss:!0,serverResponse:this.response})}else triggerErrorEvent(getDocument().body,"htmx:historyCacheMissLoadError",n)},t.send()}function restoreHistory(e){saveCurrentPageToHistory();var t=getCachedHistory(e=e||location.pathname+location.search);if(t){var n=makeFragment(t.content),r=getHistoryElement(),o=makeSettleInfo(r);swapInnerHTML(r,n,o),settleImmediately(o.tasks),document.title=t.title,window.scrollTo(0,t.scroll),currentPathForHistory=e,triggerEvent(getDocument().body,"htmx:historyRestore",{path:e,item:t})}else htmx.config.refreshOnHistoryMiss?window.location.reload(!0):loadHistoryFromServer(e)}function addRequestIndicatorClasses(e){var t=findAttributeTargets(e,"hx-indicator");return null==t&&(t=[e]),forEach(t,(function(e){var t=getInternalData(e);t.requestCount=(t.requestCount||0)+1,e.classList.add.call(e.classList,htmx.config.requestClass)})),t}function removeRequestIndicatorClasses(e){forEach(e,(function(e){var t=getInternalData(e);t.requestCount=(t.requestCount||0)-1,0===t.requestCount&&e.classList.remove.call(e.classList,htmx.config.requestClass)}))}function haveSeenNode(e,t){for(var n=0;n<e.length;n++)if(e[n].isSameNode(t))return!0;return!1}function shouldInclude(e){return""!==e.name&&null!=e.name&&!e.disabled&&"button"!==e.type&&"submit"!==e.type&&"image"!==e.tagName&&"reset"!==e.tagName&&"file"!==e.tagName&&("checkbox"!==e.type&&"radio"!==e.type||e.checked)}function processInputValue(e,t,n,r,o){if(null!=r&&!haveSeenNode(e,r)){if(e.push(r),shouldInclude(r)){var i=getRawAttribute(r,"name"),s=r.value;if(r.multiple&&(s=toArray(r.querySelectorAll("option:checked")).map((function(e){return e.value}))),r.files&&(s=toArray(r.files)),null!=i&&null!=s){var a=t[i];void 0!==a?Array.isArray(a)?Array.isArray(s)?t[i]=a.concat(s):a.push(s):Array.isArray(s)?t[i]=[a].concat(s):t[i]=[a,s]:t[i]=s}o&&validateElement(r,n)}matches(r,"form")&&forEach(r.elements,(function(r){processInputValue(e,t,n,r,o)}))}}function validateElement(e,t){e.willValidate&&(triggerEvent(e,"htmx:validation:validate"),e.checkValidity()||(t.push({elt:e,message:e.validationMessage,validity:e.validity}),triggerEvent(e,"htmx:validation:failed",{message:e.validationMessage,validity:e.validity})))}function getInputValues(e,t){var n=[],r={},o={},i=[],s=getInternalData(e),a=matches(e,"form")&&!0!==e.noValidate||"true"===getAttributeValue(e,"hx-validate");if(s.lastButtonClicked&&(a=a&&!0!==s.lastButtonClicked.formNoValidate),"get"!==t&&processInputValue(n,o,i,closest(e,"form"),a),processInputValue(n,r,i,e,a),s.lastButtonClicked){var l=getRawAttribute(s.lastButtonClicked,"name");l&&(r[l]=s.lastButtonClicked.value)}return forEach(findAttributeTargets(e,"hx-include"),(function(e){processInputValue(n,r,i,e,a),matches(e,"form")||forEach(e.querySelectorAll(INPUT_SELECTOR),(function(e){processInputValue(n,r,i,e,a)}))})),r=mergeObjects(r,o),{errors:i,values:r}}function appendParam(e,t,n){""!==e&&(e+="&"),"[object Object]"===String(n)&&(n=JSON.stringify(n));var r=encodeURIComponent(n);return e+(encodeURIComponent(t)+"=")+r}function urlEncode(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];Array.isArray(r)?forEach(r,(function(e){t=appendParam(t,n,e)})):t=appendParam(t,n,r)}return t}function makeFormData(e){var t=new FormData;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];Array.isArray(r)?forEach(r,(function(e){t.append(n,e)})):t.append(n,r)}return t}function getHeaders(e,t,n){var r={"HX-Request":"true","HX-Trigger":getRawAttribute(e,"id"),"HX-Trigger-Name":getRawAttribute(e,"name"),"HX-Target":getAttributeValue(t,"id"),"HX-Current-URL":getDocument().location.href};return getValuesForElement(e,"hx-headers",!1,r),void 0!==n&&(r["HX-Prompt"]=n),getInternalData(e).boosted&&(r["HX-Boosted"]="true"),r}function filterValues(e,t){var n=getClosestAttributeValue(t,"hx-params");if(n){if("none"===n)return{};if("*"===n)return e;if(0===n.indexOf("not "))return forEach(n.substr(4).split(","),(function(t){t=t.trim(),delete e[t]})),e;var r={};return forEach(n.split(","),(function(t){t=t.trim(),r[t]=e[t]})),r}return e}function isAnchorLink(e){return getRawAttribute(e,"href")&&getRawAttribute(e,"href").indexOf("#")>=0}function getSwapSpecification(e,t){var n=t||getClosestAttributeValue(e,"hx-swap"),r={swapStyle:getInternalData(e).boosted?"innerHTML":htmx.config.defaultSwapStyle,swapDelay:htmx.config.defaultSwapDelay,settleDelay:htmx.config.defaultSettleDelay};if(getInternalData(e).boosted&&!isAnchorLink(e)&&(r.show="top"),n){var o=splitOnWhitespace(n);if(o.length>0){r.swapStyle=o[0];for(var i=1;i<o.length;i++){var s=o[i];if(0===s.indexOf("swap:")&&(r.swapDelay=parseInterval(s.substr(5))),0===s.indexOf("settle:")&&(r.settleDelay=parseInterval(s.substr(7))),0===s.indexOf("scroll:")){var a=(c=s.substr(7).split(":")).pop(),l=c.length>0?c.join(":"):null;r.scroll=a,r.scrollTarget=l}if(0===s.indexOf("show:")){var c,u=(c=s.substr(5).split(":")).pop();l=c.length>0?c.join(":"):null,r.show=u,r.showTarget=l}if(0===s.indexOf("focus-scroll:")){var d=s.substr("focus-scroll:".length);r.focusScroll="true"==d}}}}return r}function usesFormData(e){return"multipart/form-data"===getClosestAttributeValue(e,"hx-encoding")||matches(e,"form")&&"multipart/form-data"===getRawAttribute(e,"enctype")}function encodeParamsForBody(e,t,n){var r=null;return withExtensions(t,(function(o){null==r&&(r=o.encodeParameters(e,n,t))})),null!=r?r:usesFormData(t)?makeFormData(n):urlEncode(n)}function makeSettleInfo(e){return{tasks:[],elts:[e]}}function updateScrollState(e,t){var n=e[0],r=e[e.length-1];if(t.scroll){var o=null;t.scrollTarget&&(o=querySelectorExt(n,t.scrollTarget)),"top"===t.scroll&&(n||o)&&((o=o||n).scrollTop=0),"bottom"===t.scroll&&(r||o)&&((o=o||r).scrollTop=o.scrollHeight)}if(t.show){if(o=null,t.showTarget){var i=t.showTarget;"window"===t.showTarget&&(i="body"),o=querySelectorExt(n,i)}"top"===t.show&&(n||o)&&(o=o||n).scrollIntoView({block:"start",behavior:htmx.config.scrollBehavior}),"bottom"===t.show&&(r||o)&&(o=o||r).scrollIntoView({block:"end",behavior:htmx.config.scrollBehavior})}}function getValuesForElement(e,t,n,r){if(null==r&&(r={}),null==e)return r;var o=getAttributeValue(e,t);if(o){var i,s=o.trim(),a=n;if("unset"===s)return null;for(var l in 0===s.indexOf("javascript:")?(s=s.substr(11),a=!0):0===s.indexOf("js:")&&(s=s.substr(3),a=!0),0!==s.indexOf("{")&&(s="{"+s+"}"),i=a?maybeEval(e,(function(){return Function("return ("+s+")")()}),{}):parseJSON(s))i.hasOwnProperty(l)&&null==r[l]&&(r[l]=i[l])}return getValuesForElement(parentElt(e),t,n,r)}function maybeEval(e,t,n){return htmx.config.allowEval?t():(triggerErrorEvent(e,"htmx:evalDisallowedError"),n)}function getHXVarsForElement(e,t){return getValuesForElement(e,"hx-vars",!0,t)}function getHXValsForElement(e,t){return getValuesForElement(e,"hx-vals",!1,t)}function getExpressionVars(e){return mergeObjects(getHXVarsForElement(e),getHXValsForElement(e))}function safelySetHeaderValue(e,t,n){if(null!==n)try{e.setRequestHeader(t,n)}catch(r){e.setRequestHeader(t,encodeURIComponent(n)),e.setRequestHeader(t+"-URI-AutoEncoded","true")}}function getPathFromResponse(e){if(e.responseURL&&"undefined"!=typeof URL)try{var t=new URL(e.responseURL);return t.pathname+t.search}catch(t){triggerErrorEvent(getDocument().body,"htmx:badResponseUrl",{url:e.responseURL})}}function hasHeader(e,t){return e.getAllResponseHeaders().match(t)}function ajaxHelper(e,t,n){return e=e.toLowerCase(),n?n instanceof Element||isType(n,"String")?issueAjaxRequest(e,t,null,null,{targetOverride:resolveTarget(n),returnPromise:!0}):issueAjaxRequest(e,t,resolveTarget(n.source),n.event,{handler:n.handler,headers:n.headers,values:n.values,targetOverride:resolveTarget(n.target),swapOverride:n.swap,returnPromise:!0}):issueAjaxRequest(e,t,null,null,{returnPromise:!0})}function hierarchyForElt(e){for(var t=[];e;)t.push(e),e=e.parentElement;return t}function issueAjaxRequest(e,t,n,r,o,i){var s=null,a=null;if((o=null!=o?o:{}).returnPromise&&"undefined"!=typeof Promise)var l=new Promise((function(e,t){s=e,a=t}));null==n&&(n=getDocument().body);var c=o.handler||handleAjaxResponse;if(bodyContains(n)){var u=o.targetOverride||getTarget(n);if(null!=u&&u!=DUMMY_ELT){if(!i&&!1===triggerEvent(n,"htmx:confirm",{target:u,elt:n,path:t,verb:e,triggeringEvent:r,etc:o,issueRequest:function(){return issueAjaxRequest(e,t,n,r,o,!0)}}))return;var d=n,h=getInternalData(n),p=getClosestAttributeValue(n,"hx-sync"),f=null,m=!1;if(p){var g=p.split(":"),v=g[0].trim();if(d="this"===v?findThisElement(n,"hx-sync"):querySelectorExt(n,v),p=(g[1]||"drop").trim(),h=getInternalData(d),"drop"===p&&h.xhr&&!0!==h.abortable)return;if("abort"===p){if(h.xhr)return;m=!0}else"replace"===p?triggerEvent(d,"htmx:abort"):0===p.indexOf("queue")&&(f=(p.split(" ")[1]||"last").trim())}if(h.xhr){if(!h.abortable){if(null==f){if(r){var y=getInternalData(r);y&&y.triggerSpec&&y.triggerSpec.queue&&(f=y.triggerSpec.queue)}null==f&&(f="last")}return null==h.queuedRequests&&(h.queuedRequests=[]),void("first"===f&&0===h.queuedRequests.length||"all"===f?h.queuedRequests.push((function(){issueAjaxRequest(e,t,n,r,o)})):"last"===f&&(h.queuedRequests=[],h.queuedRequests.push((function(){issueAjaxRequest(e,t,n,r,o)}))))}triggerEvent(d,"htmx:abort")}var b=new XMLHttpRequest;h.xhr=b,h.abortable=m;var w=function(){h.xhr=null,h.abortable=!1,null!=h.queuedRequests&&h.queuedRequests.length>0&&h.queuedRequests.shift()()},x=getClosestAttributeValue(n,"hx-prompt");if(x){var E=prompt(x);if(null===E||!triggerEvent(n,"htmx:prompt",{prompt:E,target:u}))return maybeCall(s),w(),l}var S=getClosestAttributeValue(n,"hx-confirm");if(S&&!confirm(S))return maybeCall(s),w(),l;var C=getHeaders(n,u,E);o.headers&&(C=mergeObjects(C,o.headers));var A=getInputValues(n,e),_=A.errors,k=A.values;o.values&&(k=mergeObjects(k,o.values));var T=mergeObjects(k,getExpressionVars(n)),M=filterValues(T,n);"get"===e||usesFormData(n)||(C["Content-Type"]="application/x-www-form-urlencoded"),htmx.config.getCacheBusterParam&&"get"===e&&(M["org.htmx.cache-buster"]=getRawAttribute(u,"id")||"true"),null!=t&&""!==t||(t=getDocument().location.href);var P=getValuesForElement(n,"hx-request"),O=getInternalData(n).boosted,R={boosted:O,parameters:M,unfilteredParameters:T,headers:C,target:u,verb:e,errors:_,withCredentials:o.credentials||P.credentials||htmx.config.withCredentials,timeout:o.timeout||P.timeout||htmx.config.timeout,path:t,triggeringEvent:r};if(!triggerEvent(n,"htmx:configRequest",R))return maybeCall(s),w(),l;if(t=R.path,e=R.verb,C=R.headers,M=R.parameters,(_=R.errors)&&_.length>0)return triggerEvent(n,"htmx:validation:halted",R),maybeCall(s),w(),l;var N=t.split("#"),D=N[0],I=N[1],B=null;if("get"===e?(B=D,0!==Object.keys(M).length&&(B.indexOf("?")<0?B+="?":B+="&",B+=urlEncode(M),I&&(B+="#"+I)),b.open("GET",B,!0)):b.open(e.toUpperCase(),t,!0),b.overrideMimeType("text/html"),b.withCredentials=R.withCredentials,b.timeout=R.timeout,P.noHeaders);else for(var F in C)if(C.hasOwnProperty(F)){var L=C[F];safelySetHeaderValue(b,F,L)}var H={xhr:b,target:u,requestConfig:R,etc:o,boosted:O,pathInfo:{requestPath:t,finalRequestPath:B||t,anchor:I}};if(b.onload=function(){try{var e=hierarchyForElt(n);if(H.pathInfo.responsePath=getPathFromResponse(b),c(n,H),removeRequestIndicatorClasses(z),triggerEvent(n,"htmx:afterRequest",H),triggerEvent(n,"htmx:afterOnLoad",H),!bodyContains(n)){for(var t=null;e.length>0&&null==t;){var r=e.shift();bodyContains(r)&&(t=r)}t&&(triggerEvent(t,"htmx:afterRequest",H),triggerEvent(t,"htmx:afterOnLoad",H))}maybeCall(s),w()}catch(e){throw triggerErrorEvent(n,"htmx:onLoadError",mergeObjects({error:e},H)),e}},b.onerror=function(){removeRequestIndicatorClasses(z),triggerErrorEvent(n,"htmx:afterRequest",H),triggerErrorEvent(n,"htmx:sendError",H),maybeCall(a),w()},b.onabort=function(){removeRequestIndicatorClasses(z),triggerErrorEvent(n,"htmx:afterRequest",H),triggerErrorEvent(n,"htmx:sendAbort",H),maybeCall(a),w()},b.ontimeout=function(){removeRequestIndicatorClasses(z),triggerErrorEvent(n,"htmx:afterRequest",H),triggerErrorEvent(n,"htmx:timeout",H),maybeCall(a),w()},!triggerEvent(n,"htmx:beforeRequest",H))return maybeCall(s),w(),l;var z=addRequestIndicatorClasses(n);return forEach(["loadstart","loadend","progress","abort"],(function(e){forEach([b,b.upload],(function(t){t.addEventListener(e,(function(t){triggerEvent(n,"htmx:xhr:"+e,{lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total})}))}))})),triggerEvent(n,"htmx:beforeSend",H),b.send("get"===e?null:encodeParamsForBody(b,n,M)),l}triggerErrorEvent(n,"htmx:targetError",{target:getAttributeValue(n,"hx-target")})}}function determineHistoryUpdates(e,t){var n=t.xhr,r=null,o=null;if(hasHeader(n,/HX-Push:/i)?(r=n.getResponseHeader("HX-Push"),o="push"):hasHeader(n,/HX-Push-Url:/i)?(r=n.getResponseHeader("HX-Push-Url"),o="push"):hasHeader(n,/HX-Replace-Url:/i)&&(r=n.getResponseHeader("HX-Replace-Url"),o="replace"),r)return"false"===r?{}:{type:o,path:r};var i=t.pathInfo.finalRequestPath,s=t.pathInfo.responsePath,a=getClosestAttributeValue(e,"hx-push-url"),l=getClosestAttributeValue(e,"hx-replace-url"),c=getInternalData(e).boosted,u=null,d=null;return a?(u="push",d=a):l?(u="replace",d=l):c&&(u="push",d=s||i),d?"false"===d?{}:("true"===d&&(d=s||i),t.pathInfo.anchor&&-1===d.indexOf("#")&&(d=d+"#"+t.pathInfo.anchor),{type:u,path:d}):{}}function handleAjaxResponse(e,t){var n=t.xhr,r=t.target,o=t.etc;if(triggerEvent(e,"htmx:beforeOnLoad",t)){if(hasHeader(n,/HX-Trigger:/i)&&handleTrigger(n,"HX-Trigger",e),hasHeader(n,/HX-Location:/i)){saveCurrentPageToHistory();var i=n.getResponseHeader("HX-Location");return 0===i.indexOf("{")&&(h=parseJSON(i),i=h.path,delete h.path),void ajaxHelper("GET",i,h).then((function(){pushUrlIntoHistory(i)}))}if(hasHeader(n,/HX-Redirect:/i))location.href=n.getResponseHeader("HX-Redirect");else if(hasHeader(n,/HX-Refresh:/i)&&"true"===n.getResponseHeader("HX-Refresh"))location.reload();else{hasHeader(n,/HX-Retarget:/i)&&(t.target=getDocument().querySelector(n.getResponseHeader("HX-Retarget")));var s=determineHistoryUpdates(e,t),a=n.status>=200&&n.status<400&&204!==n.status,l=n.response,c=n.status>=400,u=mergeObjects({shouldSwap:a,serverResponse:l,isError:c},t);if(triggerEvent(r,"htmx:beforeSwap",u)){if(r=u.target,l=u.serverResponse,c=u.isError,t.target=r,t.failed=c,t.successful=!c,u.shouldSwap){286===n.status&&cancelPolling(e),withExtensions(e,(function(t){l=t.transformResponse(l,n,e)})),s.type&&saveCurrentPageToHistory();var d=o.swapOverride;hasHeader(n,/HX-Reswap:/i)&&(d=n.getResponseHeader("HX-Reswap"));var h=getSwapSpecification(e,d);r.classList.add(htmx.config.swappingClass);var p=function(){try{var o=document.activeElement,i={};try{i={elt:o,start:o?o.selectionStart:null,end:o?o.selectionEnd:null}}catch(e){}var a=makeSettleInfo(r);if(selectAndSwap(h.swapStyle,r,e,l,a),i.elt&&!bodyContains(i.elt)&&i.elt.id){var c=document.getElementById(i.elt.id),u={preventScroll:void 0!==h.focusScroll?!h.focusScroll:!htmx.config.defaultFocusScroll};if(c){if(i.start&&c.setSelectionRange)try{c.setSelectionRange(i.start,i.end)}catch(e){}c.focus(u)}}if(r.classList.remove(htmx.config.swappingClass),forEach(a.elts,(function(e){e.classList&&e.classList.add(htmx.config.settlingClass),triggerEvent(e,"htmx:afterSwap",t)})),hasHeader(n,/HX-Trigger-After-Swap:/i)){var d=e;bodyContains(e)||(d=getDocument().body),handleTrigger(n,"HX-Trigger-After-Swap",d)}var p=function(){if(forEach(a.tasks,(function(e){e.call()})),forEach(a.elts,(function(e){e.classList&&e.classList.remove(htmx.config.settlingClass),triggerEvent(e,"htmx:afterSettle",t)})),s.type&&("push"===s.type?(pushUrlIntoHistory(s.path),triggerEvent(getDocument().body,"htmx:pushedIntoHistory",{path:s.path})):(replaceUrlInHistory(s.path),triggerEvent(getDocument().body,"htmx:replacedInHistory",{path:s.path}))),t.pathInfo.anchor){var r=find("#"+t.pathInfo.anchor);r&&r.scrollIntoView({block:"start",behavior:"auto"})}if(a.title){var o=find("title");o?o.innerHTML=a.title:window.document.title=a.title}if(updateScrollState(a.elts,h),hasHeader(n,/HX-Trigger-After-Settle:/i)){var i=e;bodyContains(e)||(i=getDocument().body),handleTrigger(n,"HX-Trigger-After-Settle",i)}};h.settleDelay>0?setTimeout(p,h.settleDelay):p()}catch(n){throw triggerErrorEvent(e,"htmx:swapError",t),n}};h.swapDelay>0?setTimeout(p,h.swapDelay):p()}c&&triggerErrorEvent(e,"htmx:responseError",mergeObjects({error:"Response Status Error Code "+n.status+" from "+t.pathInfo.requestPath},t))}}}}var extensions={};function extensionBase(){return{init:function(e){return null},onEvent:function(e,t){return!0},transformResponse:function(e,t,n){return e},isInlineSwap:function(e){return!1},handleSwap:function(e,t,n,r){return!1},encodeParameters:function(e,t,n){return null}}}function defineExtension(e,t){t.init&&t.init(internalAPI),extensions[e]=mergeObjects(extensionBase(),t)}function removeExtension(e){delete extensions[e]}function getExtensions(e,t,n){if(null==e)return t;null==t&&(t=[]),null==n&&(n=[]);var r=getAttributeValue(e,"hx-ext");return r&&forEach(r.split(","),(function(e){if("ignore:"!=(e=e.replace(/ /g,"")).slice(0,7)){if(n.indexOf(e)<0){var r=extensions[e];r&&t.indexOf(r)<0&&t.push(r)}}else n.push(e.slice(7))})),getExtensions(parentElt(e),t,n)}function ready(e){"loading"!==getDocument().readyState?e():getDocument().addEventListener("DOMContentLoaded",e)}function insertIndicatorStyles(){!1!==htmx.config.includeIndicatorStyles&&getDocument().head.insertAdjacentHTML("beforeend","<style>                      ."+htmx.config.indicatorClass+"{opacity:0;transition: opacity 200ms ease-in;}                      ."+htmx.config.requestClass+" ."+htmx.config.indicatorClass+"{opacity:1}                      ."+htmx.config.requestClass+"."+htmx.config.indicatorClass+"{opacity:1}                    </style>")}function getMetaConfig(){var e=getDocument().querySelector('meta[name="htmx-config"]');return e?parseJSON(e.content):null}function mergeMetaConfig(){var e=getMetaConfig();e&&(htmx.config=mergeObjects(htmx.config,e))}return ready((function(){mergeMetaConfig(),insertIndicatorStyles();var e=getDocument().body;processNode(e);var t=getDocument().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");e.addEventListener("htmx:abort",(function(e){var t=getInternalData(e.target);t&&t.xhr&&t.xhr.abort()})),window.onpopstate=function(e){e.state&&e.state.htmx&&(restoreHistory(),forEach(t,(function(e){triggerEvent(e,"htmx:restored",{document:getDocument(),triggerEvent})})))},setTimeout((function(){triggerEvent(e,"htmx:load",{})}),0)})),htmx}()},__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},5153:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},75:function(e,t,n){var r,o,i;void 0!==n.g?n.g:window||this.window||this.global,o=[],void 0===(i="function"==typeof(r=function(e){"use strict";var t={},n="iziToast",r=(document.querySelector("body"),!!/Mobi/.test(navigator.userAgent)),o=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),i="undefined"!=typeof InstallTrigger,s="ontouchstart"in document.documentElement,a=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],l=568,c={};t.children={};var u={id:null,class:"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",iconUrl:null,image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,displayMode:0,position:"bottomRight",target:"",targetFirst:!0,timeout:5e3,rtl:!1,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}};if("remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"function"!=typeof window.CustomEvent){var d=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};d.prototype=window.Event.prototype,window.CustomEvent=d}var h=function(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(n,e[r],r,e);else if(e)for(var o=0,i=e.length;i>o;o++)t.call(n,e[o],o,e)},p=function(e,t){var n={};return h(e,(function(t,r){n[r]=e[r]})),h(t,(function(e,r){n[r]=t[r]})),n},f=function(e){var t=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=e;n.firstChild;)t.appendChild(n.firstChild);return t},m={move:function(e,t,r,s){var a,l=.3,c=180;0!==s&&(e.classList.add(n+"-dragged"),e.style.transform="translateX("+s+"px)",s>0?l>(a=(c-s)/c)&&t.hide(p(r,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),e,"drag"):l>(a=(c+s)/c)&&t.hide(p(r,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),e,"drag"),e.style.opacity=a,l>a&&((o||i)&&(e.style.left=s+"px"),e.parentNode.style.opacity=l,this.stopMoving(e,null)))},startMoving:function(e,t,n,r){r=r||window.event;var o=s?r.touches[0].clientX:r.clientX,i=e.style.transform.replace("px)",""),a=o-(i=i.replace("translateX(",""));n.transitionIn&&e.classList.remove(n.transitionIn),n.transitionInMobile&&e.classList.remove(n.transitionInMobile),e.style.transition="",s?document.ontouchmove=function(r){r.preventDefault();var o=(r=r||window.event).touches[0].clientX-a;m.move(e,t,n,o)}:document.onmousemove=function(r){r.preventDefault();var o=(r=r||window.event).clientX-a;m.move(e,t,n,o)}},stopMoving:function(e,t){s?document.ontouchmove=function(){}:document.onmousemove=function(){},e.style.opacity="",e.style.transform="",e.classList.contains(n+"-dragged")&&(e.classList.remove(n+"-dragged"),e.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout((function(){e.style.transition=""}),400))}};return t.setSetting=function(e,n,r){t.children[e][n]=r},t.getSetting=function(e,n){return t.children[e][n]},t.destroy=function(){h(document.querySelectorAll("."+n+"-overlay"),(function(e,t){e.remove()})),h(document.querySelectorAll("."+n+"-wrapper"),(function(e,t){e.remove()})),h(document.querySelectorAll("."+n),(function(e,t){e.remove()})),this.children={},document.removeEventListener(n+"-opened",{},!1),document.removeEventListener(n+"-opening",{},!1),document.removeEventListener(n+"-closing",{},!1),document.removeEventListener(n+"-closed",{},!1),document.removeEventListener("keyup",{},!1),c={}},t.settings=function(e){t.destroy(),c=e,u=p(u,e||{})},h({info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},(function(e,n){t[n]=function(t){var n=p(c,t||{});n=p(e,n||{}),this.show(n)}})),t.progress=function(e,t,r){var o=this,i=t.getAttribute("data-iziToast-ref"),s=p(this.children[i],e||{}),a=t.querySelector("."+n+"-progressbar div");return{start:function(){void 0===s.time.REMAINING&&(t.classList.remove(n+"-reseted"),null!==a&&(a.style.transition="width "+s.timeout+"ms "+s.progressBarEasing,a.style.width="0%"),s.time.START=(new Date).getTime(),s.time.END=s.time.START+s.timeout,s.time.TIMER=setTimeout((function(){clearTimeout(s.time.TIMER),t.classList.contains(n+"-closing")||(o.hide(s,t,"timeout"),"function"==typeof r&&r.apply(o))}),s.timeout),o.setSetting(i,"time",s.time))},pause:function(){if(void 0!==s.time.START&&!t.classList.contains(n+"-paused")&&!t.classList.contains(n+"-reseted")){if(t.classList.add(n+"-paused"),s.time.REMAINING=s.time.END-(new Date).getTime(),clearTimeout(s.time.TIMER),o.setSetting(i,"time",s.time),null!==a){var e=window.getComputedStyle(a).getPropertyValue("width");a.style.transition="none",a.style.width=e}"function"==typeof r&&setTimeout((function(){r.apply(o)}),10)}},resume:function(){void 0!==s.time.REMAINING?(t.classList.remove(n+"-paused"),null!==a&&(a.style.transition="width "+s.time.REMAINING+"ms "+s.progressBarEasing,a.style.width="0%"),s.time.END=(new Date).getTime()+s.time.REMAINING,s.time.TIMER=setTimeout((function(){clearTimeout(s.time.TIMER),t.classList.contains(n+"-closing")||(o.hide(s,t,"timeout"),"function"==typeof r&&r.apply(o))}),s.time.REMAINING),o.setSetting(i,"time",s.time)):this.start()},reset:function(){clearTimeout(s.time.TIMER),delete s.time.REMAINING,o.setSetting(i,"time",s.time),t.classList.add(n+"-reseted"),t.classList.remove(n+"-paused"),null!==a&&(a.style.transition="none",a.style.width="100%"),"function"==typeof r&&setTimeout((function(){r.apply(o)}),10)}}},t.hide=function(e,t,o){"object"!=typeof t&&(t=document.querySelector(t));var i=this,s=p(this.children[t.getAttribute("data-iziToast-ref")],e||{});s.closedBy=o||null,delete s.time.REMAINING,t.classList.add(n+"-closing"),function(){var e=document.querySelector("."+n+"-overlay");if(null!==e){var t=e.getAttribute("data-iziToast-ref"),r=(t=t.split(",")).indexOf(String(s.ref));-1!==r&&t.splice(r,1),e.setAttribute("data-iziToast-ref",t.join()),0===t.length&&(e.classList.remove("fadeIn"),e.classList.add("fadeOut"),setTimeout((function(){e.remove()}),700))}}(),s.transitionIn&&t.classList.remove(s.transitionIn),s.transitionInMobile&&t.classList.remove(s.transitionInMobile),r||window.innerWidth<=l?s.transitionOutMobile&&t.classList.add(s.transitionOutMobile):s.transitionOut&&t.classList.add(s.transitionOut);var a=t.parentNode.offsetHeight;t.parentNode.style.height=a+"px",t.style.pointerEvents="none",(!r||window.innerWidth>l)&&(t.parentNode.style.transitionDelay="0.2s");try{var c=new CustomEvent(n+"-closing",{detail:s,bubbles:!0,cancelable:!0});document.dispatchEvent(c)}catch(e){console.warn(e)}setTimeout((function(){t.parentNode.style.height="0px",t.parentNode.style.overflow="",setTimeout((function(){delete i.children[s.ref],t.parentNode.remove();try{var e=new CustomEvent(n+"-closed",{detail:s,bubbles:!0,cancelable:!0});document.dispatchEvent(e)}catch(e){console.warn(e)}void 0!==s.onClosed&&s.onClosed.apply(null,[s,t,o])}),1e3)}),200),void 0!==s.onClosing&&s.onClosing.apply(null,[s,t,o])},t.show=function(e){var o=this,i=p(c,e||{});if((i=p(u,i)).time={},null===i.id&&(i.id=function(e){return btoa(encodeURIComponent(e)).replace(/=/g,"")}(i.title+i.message+i.color)),1===i.displayMode||"once"==i.displayMode)try{if(document.querySelectorAll("."+n+"#"+i.id).length>0)return!1}catch(e){console.warn("["+n+"] Could not find an element with this selector: #"+i.id+". Try to set an valid id.")}if(2===i.displayMode||"replace"==i.displayMode)try{h(document.querySelectorAll("."+n+"#"+i.id),(function(e,t){o.hide(i,e,"replaced")}))}catch(e){console.warn("["+n+"] Could not find an element with this selector: #"+i.id+". Try to set an valid id.")}i.ref=(new Date).getTime()+Math.floor(1e7*Math.random()+1),t.children[i.ref]=i;var d,g={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),icon:i.iconUrl?document.createElement("img"):document.createElement("i"),wrapper:null};g.toast.setAttribute("data-iziToast-ref",i.ref),g.toast.appendChild(g.toastBody),g.toastCapsule.appendChild(g.toast),function(){if(g.toast.classList.add(n),g.toast.classList.add(n+"-opening"),g.toastCapsule.classList.add(n+"-capsule"),g.toastBody.classList.add(n+"-body"),g.toastTexts.classList.add(n+"-texts"),r||window.innerWidth<=l?i.transitionInMobile&&g.toast.classList.add(i.transitionInMobile):i.transitionIn&&g.toast.classList.add(i.transitionIn),i.class){var e=i.class.split(" ");h(e,(function(e,t){g.toast.classList.add(e)}))}i.id&&(g.toast.id=i.id),i.rtl&&(g.toast.classList.add(n+"-rtl"),g.toast.setAttribute("dir","rtl")),i.layout>1&&g.toast.classList.add(n+"-layout"+i.layout),i.balloon&&g.toast.classList.add(n+"-balloon"),i.maxWidth&&(isNaN(i.maxWidth)?g.toast.style.maxWidth=i.maxWidth:g.toast.style.maxWidth=i.maxWidth+"px"),""===i.theme&&"light"===i.theme||g.toast.classList.add(n+"-theme-"+i.theme),i.color&&(function(e){return"#"==e.substring(0,1)||"rgb"==e.substring(0,3)||"hsl"==e.substring(0,3)}(i.color)?g.toast.style.background=i.color:g.toast.classList.add(n+"-color-"+i.color)),i.backgroundColor&&(g.toast.style.background=i.backgroundColor,i.balloon&&(g.toast.style.borderColor=i.backgroundColor))}(),i.image&&(g.cover.classList.add(n+"-cover"),g.cover.style.width=i.imageWidth+"px",function(e){try{return btoa(atob(e))==e}catch(e){return!1}}(i.image.replace(/ /g,""))?g.cover.style.backgroundImage="url(data:image/png;base64,"+i.image.replace(/ /g,"")+")":g.cover.style.backgroundImage="url("+i.image+")",i.rtl?g.toastBody.style.marginRight=i.imageWidth+10+"px":g.toastBody.style.marginLeft=i.imageWidth+10+"px",g.toast.appendChild(g.cover)),i.close?(g.buttonClose=document.createElement("button"),g.buttonClose.type="button",g.buttonClose.classList.add(n+"-close"),g.buttonClose.addEventListener("click",(function(e){e.target,o.hide(i,g.toast,"button")})),g.toast.appendChild(g.buttonClose)):i.rtl?g.toast.style.paddingLeft="18px":g.toast.style.paddingRight="18px",i.progressBar&&(g.progressBar=document.createElement("div"),g.progressBarDiv=document.createElement("div"),g.progressBar.classList.add(n+"-progressbar"),g.progressBarDiv.style.background=i.progressBarColor,g.progressBar.appendChild(g.progressBarDiv),g.toast.appendChild(g.progressBar)),i.timeout&&(i.pauseOnHover&&!i.resetOnHover&&(g.toast.addEventListener("mouseenter",(function(e){o.progress(i,g.toast).pause()})),g.toast.addEventListener("mouseleave",(function(e){o.progress(i,g.toast).resume()}))),i.resetOnHover&&(g.toast.addEventListener("mouseenter",(function(e){o.progress(i,g.toast).reset()})),g.toast.addEventListener("mouseleave",(function(e){o.progress(i,g.toast).start()})))),i.iconUrl?(g.icon.setAttribute("class",n+"-icon"),g.icon.setAttribute("src",i.iconUrl)):i.icon&&(g.icon.setAttribute("class",n+"-icon "+i.icon),i.iconText&&g.icon.appendChild(document.createTextNode(i.iconText)),i.iconColor&&(g.icon.style.color=i.iconColor)),(i.icon||i.iconUrl)&&(i.rtl?g.toastBody.style.paddingRight="33px":g.toastBody.style.paddingLeft="33px",g.toastBody.appendChild(g.icon)),i.title.length>0&&(g.strong=document.createElement("strong"),g.strong.classList.add(n+"-title"),g.strong.appendChild(f(i.title)),g.toastTexts.appendChild(g.strong),i.titleColor&&(g.strong.style.color=i.titleColor),i.titleSize&&(isNaN(i.titleSize)?g.strong.style.fontSize=i.titleSize:g.strong.style.fontSize=i.titleSize+"px"),i.titleLineHeight&&(isNaN(i.titleSize)?g.strong.style.lineHeight=i.titleLineHeight:g.strong.style.lineHeight=i.titleLineHeight+"px")),i.message.length>0&&(g.p=document.createElement("p"),g.p.classList.add(n+"-message"),g.p.appendChild(f(i.message)),g.toastTexts.appendChild(g.p),i.messageColor&&(g.p.style.color=i.messageColor),i.messageSize&&(isNaN(i.titleSize)?g.p.style.fontSize=i.messageSize:g.p.style.fontSize=i.messageSize+"px"),i.messageLineHeight&&(isNaN(i.titleSize)?g.p.style.lineHeight=i.messageLineHeight:g.p.style.lineHeight=i.messageLineHeight+"px")),i.title.length>0&&i.message.length>0&&(i.rtl?g.strong.style.marginLeft="10px":2===i.layout||i.rtl||(g.strong.style.marginRight="10px")),g.toastBody.appendChild(g.toastTexts),i.inputs.length>0&&(g.inputs.classList.add(n+"-inputs"),h(i.inputs,(function(e,t){g.inputs.appendChild(f(e[0])),(d=g.inputs.childNodes)[t].classList.add(n+"-inputs-child"),e[3]&&setTimeout((function(){d[t].focus()}),300),d[t].addEventListener(e[1],(function(t){return(0,e[2])(o,g.toast,this,t)}))})),g.toastBody.appendChild(g.inputs)),i.buttons.length>0&&(g.buttons.classList.add(n+"-buttons"),h(i.buttons,(function(e,t){g.buttons.appendChild(f(e[0]));var r=g.buttons.childNodes;r[t].classList.add(n+"-buttons-child"),e[2]&&setTimeout((function(){r[t].focus()}),300),r[t].addEventListener("click",(function(t){return t.preventDefault(),(0,e[1])(o,g.toast,this,t,d)}))}))),g.toastBody.appendChild(g.buttons),i.message.length>0&&(i.inputs.length>0||i.buttons.length>0)&&(g.p.style.marginBottom="0"),(i.inputs.length>0||i.buttons.length>0)&&(i.rtl?g.toastTexts.style.marginLeft="10px":g.toastTexts.style.marginRight="10px",i.inputs.length>0&&i.buttons.length>0&&(i.rtl?g.inputs.style.marginLeft="8px":g.inputs.style.marginRight="8px")),g.toastCapsule.style.visibility="hidden",setTimeout((function(){var e=g.toast.offsetHeight,t=g.toast.currentStyle||window.getComputedStyle(g.toast),n=t.marginTop;n=n.split("px"),n=parseInt(n[0]);var r=t.marginBottom;r=r.split("px"),r=parseInt(r[0]),g.toastCapsule.style.visibility="",g.toastCapsule.style.height=e+r+n+"px",setTimeout((function(){g.toastCapsule.style.height="auto",i.target&&(g.toastCapsule.style.overflow="visible")}),500),i.timeout&&o.progress(i,g.toast).start()}),100),function(){var e=i.position;if(i.target)g.wrapper=document.querySelector(i.target),g.wrapper.classList.add(n+"-target"),i.targetFirst?g.wrapper.insertBefore(g.toastCapsule,g.wrapper.firstChild):g.wrapper.appendChild(g.toastCapsule);else{if(-1==a.indexOf(i.position))return void console.warn("["+n+"] Incorrect position.\nIt can be › "+a);e=r||window.innerWidth<=l?"bottomLeft"==i.position||"bottomRight"==i.position||"bottomCenter"==i.position?n+"-wrapper-bottomCenter":"topLeft"==i.position||"topRight"==i.position||"topCenter"==i.position?n+"-wrapper-topCenter":n+"-wrapper-center":n+"-wrapper-"+e,g.wrapper=document.querySelector("."+n+"-wrapper."+e),g.wrapper||(g.wrapper=document.createElement("div"),g.wrapper.classList.add(n+"-wrapper"),g.wrapper.classList.add(e),document.body.appendChild(g.wrapper)),"topLeft"==i.position||"topCenter"==i.position||"topRight"==i.position?g.wrapper.insertBefore(g.toastCapsule,g.wrapper.firstChild):g.wrapper.appendChild(g.toastCapsule)}isNaN(i.zindex)?console.warn("["+n+"] Invalid zIndex."):g.wrapper.style.zIndex=i.zindex}(),i.overlay&&(null!==document.querySelector("."+n+"-overlay.fadeIn")?(g.overlay=document.querySelector("."+n+"-overlay"),g.overlay.setAttribute("data-iziToast-ref",g.overlay.getAttribute("data-iziToast-ref")+","+i.ref),isNaN(i.zindex)||null===i.zindex||(g.overlay.style.zIndex=i.zindex-1)):(g.overlay.classList.add(n+"-overlay"),g.overlay.classList.add("fadeIn"),g.overlay.style.background=i.overlayColor,g.overlay.setAttribute("data-iziToast-ref",i.ref),isNaN(i.zindex)||null===i.zindex||(g.overlay.style.zIndex=i.zindex-1),document.querySelector("body").appendChild(g.overlay)),i.overlayClose?(g.overlay.removeEventListener("click",{}),g.overlay.addEventListener("click",(function(e){o.hide(i,g.toast,"overlay")}))):g.overlay.removeEventListener("click",{})),function(){if(i.animateInside){g.toast.classList.add(n+"-animateInside");var e=[200,100,300];"bounceInLeft"!=i.transitionIn&&"bounceInRight"!=i.transitionIn||(e=[400,200,400]),i.title.length>0&&setTimeout((function(){g.strong.classList.add("slideIn")}),e[0]),i.message.length>0&&setTimeout((function(){g.p.classList.add("slideIn")}),e[1]),(i.icon||i.iconUrl)&&setTimeout((function(){g.icon.classList.add("revealIn")}),e[2]);var t=150;i.buttons.length>0&&g.buttons&&setTimeout((function(){h(g.buttons.childNodes,(function(e,n){setTimeout((function(){e.classList.add("revealIn")}),t),t+=150}))}),i.inputs.length>0?150:0),i.inputs.length>0&&g.inputs&&(t=150,h(g.inputs.childNodes,(function(e,n){setTimeout((function(){e.classList.add("revealIn")}),t),t+=150})))}}(),i.onOpening.apply(null,[i,g.toast]);try{var v=new CustomEvent(n+"-opening",{detail:i,bubbles:!0,cancelable:!0});document.dispatchEvent(v)}catch(e){console.warn(e)}setTimeout((function(){g.toast.classList.remove(n+"-opening"),g.toast.classList.add(n+"-opened");try{var e=new CustomEvent(n+"-opened",{detail:i,bubbles:!0,cancelable:!0});document.dispatchEvent(e)}catch(e){console.warn(e)}i.onOpened.apply(null,[i,g.toast])}),1e3),i.drag&&(s?(g.toast.addEventListener("touchstart",(function(e){m.startMoving(this,o,i,e)}),!1),g.toast.addEventListener("touchend",(function(e){m.stopMoving(this,e)}),!1)):(g.toast.addEventListener("mousedown",(function(e){e.preventDefault(),m.startMoving(this,o,i,e)}),!1),g.toast.addEventListener("mouseup",(function(e){e.preventDefault(),m.stopMoving(this,e)}),!1))),i.closeOnEscape&&document.addEventListener("keyup",(function(e){27==(e=e||window.event).keyCode&&o.hide(i,g.toast,"esc")})),i.closeOnClick&&g.toast.addEventListener("click",(function(e){o.hide(i,g.toast,"toast")})),o.toast=g.toast},t}())?r.apply(t,o):r)||(e.exports=i)},8563:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(r,o){"use strict";var i=[],s=Object.getPrototypeOf,a=i.slice,l=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},c=i.push,u=i.indexOf,d={},h=d.toString,p=d.hasOwnProperty,f=p.toString,m=f.call(Object),g={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},y=function(e){return null!=e&&e===e.window},b=r.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function x(e,t,n){var r,o,i=(n=n||b).createElement("script");if(i.text=e,t)for(r in w)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function E(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[h.call(e)]||"object":typeof e}var S="3.6.4",C=function(e,t){return new C.fn.init(e,t)};function A(e){var t=!!e&&"length"in e&&e.length,n=E(e);return!v(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}C.fn=C.prototype={jquery:S,constructor:C,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=C.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return C.each(this,e)},map:function(e){return this.pushStack(C.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(C.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:i.sort,splice:i.splice},C.extend=C.fn.extend=function(){var e,t,n,r,o,i,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||v(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)r=e[t],"__proto__"!==t&&s!==r&&(c&&r&&(C.isPlainObject(r)||(o=Array.isArray(r)))?(n=s[t],i=o&&!Array.isArray(n)?[]:o||C.isPlainObject(n)?n:{},o=!1,s[t]=C.extend(c,i,r)):void 0!==r&&(s[t]=r));return s},C.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==h.call(e)||(t=s(e))&&("function"!=typeof(n=p.call(t,"constructor")&&t.constructor)||f.call(n)!==m))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){x(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(A(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(A(Object(e))?C.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,s=!n;o<i;o++)!t(e[o],o)!==s&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,s=[];if(A(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&s.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&s.push(o);return l(s)},guid:1,support:g}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=i[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()}));var _=function(e){var t,n,r,o,i,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w="sizzle"+1*new Date,x=e.document,E=0,S=0,C=le(),A=le(),_=le(),k=le(),T=function(e,t){return e===t&&(d=!0),0},M={}.hasOwnProperty,P=[],O=P.pop,R=P.push,N=P.push,D=P.slice,I=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",L="(?:\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",H="\\["+F+"*("+L+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+F+"*\\]",z=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",V=new RegExp(F+"+","g"),j=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),U=new RegExp("^"+F+"*,"+F+"*"),G=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),q=new RegExp(F+"|>"),W=new RegExp(z),Z=new RegExp("^"+L+"$"),$={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){h()},se=we((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{N.apply(P=D.call(x.childNodes),x.childNodes),P[x.childNodes.length].nodeType}catch(e){N={apply:P.length?function(e,t){R.apply(e,D.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ae(e,t,r,o){var i,a,c,u,d,f,v,y=t&&t.ownerDocument,x=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return r;if(!o&&(h(t),t=t||p,m)){if(11!==x&&(d=Q.exec(e)))if(i=d[1]){if(9===x){if(!(c=t.getElementById(i)))return r;if(c.id===i)return r.push(c),r}else if(y&&(c=y.getElementById(i))&&b(t,c)&&c.id===i)return r.push(c),r}else{if(d[2])return N.apply(r,t.getElementsByTagName(e)),r;if((i=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return N.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!k[e+" "]&&(!g||!g.test(e))&&(1!==x||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===x&&(q.test(e)||G.test(e))){for((y=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((u=t.getAttribute("id"))?u=u.replace(re,oe):t.setAttribute("id",u=w)),a=(f=s(e)).length;a--;)f[a]=(u?"#"+u:":scope")+" "+be(f[a]);v=f.join(",")}try{return N.apply(r,y.querySelectorAll(v)),r}catch(t){k(e,!0)}finally{u===w&&t.removeAttribute("id")}}}return l(e.replace(j,"$1"),t,r,o)}function le(){var e=[];return function t(n,o){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function ce(e){return e[w]=!0,e}function ue(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=t}function he(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce((function(t){return t=+t,ce((function(n,r){for(var o,i=e([],n.length,t),s=i.length;s--;)n[o=i[s]]&&(n[o]=!(r[o]=n[o]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},i=ae.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!K.test(t||n&&n.nodeName||"HTML")},h=ae.setDocument=function(e){var t,o,s=e?e.ownerDocument||e:x;return s!=p&&9===s.nodeType&&s.documentElement?(f=(p=s).documentElement,m=!i(p),x!=p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ie,!1):o.attachEvent&&o.attachEvent("onunload",ie)),n.scope=ue((function(e){return f.appendChild(e).appendChild(p.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.cssHas=ue((function(){try{return p.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),n.attributes=ue((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ue((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(p.getElementsByClassName),n.getById=ue((function(e){return f.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=J.test(p.querySelectorAll))&&(ue((function(e){var t;f.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+F+"*(?:value|"+B+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),(t=p.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\["+F+"*name"+F+"*="+F+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),ue((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+F+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=J.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ue((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",z)})),n.cssHas||g.push(":has"),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=J.test(f.compareDocumentPosition),b=t||J.test(f.contains)?function(e,t){var n=9===e.nodeType&&e.documentElement||e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==p||e.ownerDocument==x&&b(x,e)?-1:t==p||t.ownerDocument==x&&b(x,t)?1:u?I(u,e)-I(u,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,s=[e],a=[t];if(!o||!i)return e==p?-1:t==p?1:o?-1:i?1:u?I(u,e)-I(u,t):0;if(o===i)return he(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?he(s[r],a[r]):s[r]==x?-1:a[r]==x?1:0},p):p},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(h(e),n.matchesSelector&&m&&!k[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){k(t,!0)}return ae(t,p,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!=p&&h(e),b(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=p&&h(e);var o=r.attrHandle[t.toLowerCase()],i=o&&M.call(r.attrHandle,t.toLowerCase())?o(e,t,!m):void 0;return void 0!==i?i:n.attributes||!m?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},ae.escape=function(e){return(e+"").replace(re,oe)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,r=[],o=0,i=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(T),d){for(;t=e[i++];)t===e[i]&&(o=r.push(i));for(;o--;)e.splice(r[o],1)}return u=null,e},o=ae.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},r=ae.selectors={cacheLength:50,createPseudo:ce,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&W.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&C(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=ae.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(V," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,p,f,m=i!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(g){if(i){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(b=(p=(c=(u=(d=(h=g)[w]||(h[w]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===E&&c[1])&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(b=p=0)||f.pop();)if(1===h.nodeType&&++b&&h===t){u[e]=[E,p,b];break}}else if(y&&(b=p=(c=(u=(d=(h=t)[w]||(h[w]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===E&&c[1]),!1===b)for(;(h=++p&&h&&h[m]||(b=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&((u=(d=h[w]||(h[w]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[E,b]),h!==t)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,o=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return o[w]?o(t):o.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var r,i=o(e,t),s=i.length;s--;)e[r=I(e,i[s])]=!(n[r]=i[s])})):function(e){return o(e,0,n)}):o}},pseudos:{not:ce((function(e){var t=[],n=[],r=a(e.replace(j,"$1"));return r[w]?ce((function(e,t,n,o){for(var i,s=r(e,null,o,[]),a=e.length;a--;)(i=s[a])&&(e[a]=!(t[a]=i))})):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return ae(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||o(t)).indexOf(e)>-1}})),lang:ce((function(e){return Z.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:ge((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},r.pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=fe(t);function ye(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function we(e,t,n){var r=t.dir,o=t.next,i=o||r,s=n&&"parentNode"===i,a=S++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,o);return!1}:function(t,n,l){var c,u,d,h=[E,a];if(l){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(u=(d=t[w]||(t[w]={}))[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=u[i])&&c[0]===E&&c[1]===a)return h[2]=c[2];if(u[i]=h,h[2]=e(t,n,l))return!0}return!1}}function xe(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function Ee(e,t,n,r,o){for(var i,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(i=e[a])&&(n&&!n(i,r,o)||(s.push(i),c&&t.push(a)));return s}function Se(e,t,n,r,o,i){return r&&!r[w]&&(r=Se(r)),o&&!o[w]&&(o=Se(o,i)),ce((function(i,s,a,l){var c,u,d,h=[],p=[],f=s.length,m=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)ae(e,t[r],n);return n}(t||"*",a.nodeType?[a]:a,[]),g=!e||!i&&t?m:Ee(m,h,e,a,l),v=n?o||(i?e:f||r)?[]:s:g;if(n&&n(g,v,a,l),r)for(c=Ee(v,p),r(c,[],a,l),u=c.length;u--;)(d=c[u])&&(v[p[u]]=!(g[p[u]]=d));if(i){if(o||e){if(o){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);o(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=o?I(i,d):h[u])>-1&&(i[c]=!(s[c]=d))}}else v=Ee(v===s?v.splice(f,v.length):v),o?o(null,s,v,l):N.apply(s,v)}))}function Ce(e){for(var t,n,o,i=e.length,s=r.relative[e[0].type],a=s||r.relative[" "],l=s?1:0,u=we((function(e){return e===t}),a,!0),d=we((function(e){return I(t,e)>-1}),a,!0),h=[function(e,n,r){var o=!s&&(r||n!==c)||((t=n).nodeType?u(e,n,r):d(e,n,r));return t=null,o}];l<i;l++)if(n=r.relative[e[l].type])h=[we(xe(h),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[w]){for(o=++l;o<i&&!r.relative[e[o].type];o++);return Se(l>1&&xe(h),l>1&&be(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(j,"$1"),n,l<o&&Ce(e.slice(l,o)),o<i&&Ce(e=e.slice(o)),o<i&&be(e))}h.push(n)}return xe(h)}return ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,s=ae.tokenize=function(e,t){var n,o,i,s,a,l,c,u=A[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=r.preFilter;a;){for(s in n&&!(o=U.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(i=[])),n=!1,(o=G.exec(a))&&(n=o.shift(),i.push({value:n,type:o[0].replace(j," ")}),a=a.slice(n.length)),r.filter)!(o=$[s].exec(a))||c[s]&&!(o=c[s](o))||(n=o.shift(),i.push({value:n,type:s,matches:o}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ae.error(e):A(e,l).slice(0)},a=ae.compile=function(e,t){var n,o=[],i=[],a=_[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=Ce(t[n]))[w]?o.push(a):i.push(a);a=_(e,function(e,t){var n=t.length>0,o=e.length>0,i=function(i,s,a,l,u){var d,f,g,v=0,y="0",b=i&&[],w=[],x=c,S=i||o&&r.find.TAG("*",u),C=E+=null==x?1:Math.random()||.1,A=S.length;for(u&&(c=s==p||s||u);y!==A&&null!=(d=S[y]);y++){if(o&&d){for(f=0,s||d.ownerDocument==p||(h(d),a=!m);g=e[f++];)if(g(d,s||p,a)){l.push(d);break}u&&(E=C)}n&&((d=!g&&d)&&v--,i&&b.push(d))}if(v+=y,n&&y!==v){for(f=0;g=t[f++];)g(b,w,s,a);if(i){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=O.call(l));w=Ee(w)}N.apply(l,w),u&&!i&&w.length>0&&v+t.length>1&&ae.uniqueSort(l)}return u&&(E=C,c=x),b};return n?ce(i):i}(i,o)),a.selector=e}return a},l=ae.select=function(e,t,n,o){var i,l,c,u,d,h="function"==typeof e&&e,p=!o&&s(e=h.selector||e);if(n=n||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&r.relative[l[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;h&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(i=$.needsContext.test(e)?0:l.length;i--&&(c=l[i],!r.relative[u=c.type]);)if((d=r.find[u])&&(o=d(c.matches[0].replace(te,ne),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(i,1),!(e=o.length&&be(l)))return N.apply(n,o),n;break}}return(h||a(e,p))(o,t,!m,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=w.split("").sort(T).join("")===w,n.detectDuplicates=!!d,h(),n.sortDetached=ue((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),ue((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||de("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ue((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||de("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ue((function(e){return null==e.getAttribute("disabled")}))||de(B,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),ae}(r);C.find=_,C.expr=_.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=_.uniqueSort,C.text=_.getText,C.isXMLDoc=_.isXML,C.contains=_.contains,C.escapeSelector=_.escape;var k=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&C(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},M=C.expr.match.needsContext;function P(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var O=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function R(e,t,n){return v(t)?C.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?C.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?C.grep(e,(function(e){return u.call(t,e)>-1!==n})):C.filter(t,e,n)}C.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?C.find.matchesSelector(r,e)?[r]:[]:C.find.matches(e,C.grep(t,(function(e){return 1===e.nodeType})))},C.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(C(e).filter((function(){for(t=0;t<r;t++)if(C.contains(o[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)C.find(e,o[t],n);return r>1?C.uniqueSort(n):n},filter:function(e){return this.pushStack(R(this,e||[],!1))},not:function(e){return this.pushStack(R(this,e||[],!0))},is:function(e){return!!R(this,"string"==typeof e&&M.test(e)?C(e):e||[],!1).length}});var N,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||N,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:D.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),O.test(r[1])&&C.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=b.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(C):C.makeArray(e,this)}).prototype=C.fn,N=C(b);var I=/^(?:parents|prev(?:Until|All))/,B={children:!0,contents:!0,next:!0,prev:!0};function F(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(C.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,o=this.length,i=[],s="string"!=typeof e&&C(e);if(!M.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&C.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?C.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?u.call(C(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return F(e,"nextSibling")},prev:function(e){return F(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(P(e,"template")&&(e=e.content||e),C.merge([],e.childNodes))}},(function(e,t){C.fn[e]=function(n,r){var o=C.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=C.filter(r,o)),this.length>1&&(B[e]||C.uniqueSort(o),I.test(e)&&o.reverse()),this.pushStack(o)}}));var L=/[^\x20\t\r\n\f]+/g;function H(e){return e}function z(e){throw e}function V(e,t,n,r){var o;try{e&&v(o=e.promise)?o.call(e).done(t).fail(n):e&&v(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}C.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return C.each(e.match(L)||[],(function(e,n){t[n]=!0})),t}(e):C.extend({},e);var t,n,r,o,i=[],s=[],a=-1,l=function(){for(o=o||e.once,r=t=!0;s.length;a=-1)for(n=s.shift();++a<i.length;)!1===i[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},c={add:function(){return i&&(n&&!t&&(a=i.length-1,s.push(n)),function t(n){C.each(n,(function(n,r){v(r)?e.unique&&c.has(r)||i.push(r):r&&r.length&&"string"!==E(r)&&t(r)}))}(arguments),n&&!t&&l()),this},remove:function(){return C.each(arguments,(function(e,t){for(var n;(n=C.inArray(t,i,n))>-1;)i.splice(n,1),n<=a&&a--})),this},has:function(e){return e?C.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=s=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=s=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},C.extend({Deferred:function(e){var t=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return C.Deferred((function(n){C.each(t,(function(t,r){var o=v(e[r[4]])&&e[r[4]];i[r[1]]((function(){var e=o&&o.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,o){var i=0;function s(e,t,n,o){return function(){var a=this,l=arguments,c=function(){var r,c;if(!(e<i)){if((r=n.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");c=r&&("object"==typeof r||"function"==typeof r)&&r.then,v(c)?o?c.call(r,s(i,t,H,o),s(i,t,z,o)):(i++,c.call(r,s(i,t,H,o),s(i,t,z,o),s(i,t,H,t.notifyWith))):(n!==H&&(a=void 0,l=[r]),(o||t.resolveWith)(a,l))}},u=o?c:function(){try{c()}catch(r){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(r,u.stackTrace),e+1>=i&&(n!==z&&(a=void 0,l=[r]),t.rejectWith(a,l))}};e?u():(C.Deferred.getStackHook&&(u.stackTrace=C.Deferred.getStackHook()),r.setTimeout(u))}}return C.Deferred((function(r){t[0][3].add(s(0,r,v(o)?o:H,r.notifyWith)),t[1][3].add(s(0,r,v(e)?e:H)),t[2][3].add(s(0,r,v(n)?n:z))})).promise()},promise:function(e){return null!=e?C.extend(e,o):o}},i={};return C.each(t,(function(e,r){var s=r[2],a=r[5];o[r[1]]=s.add,a&&s.add((function(){n=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(r[3].fire),i[r[0]]=function(){return i[r[0]+"With"](this===i?void 0:this,arguments),this},i[r[0]+"With"]=s.fireWith})),o.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),o=a.call(arguments),i=C.Deferred(),s=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?a.call(arguments):n,--t||i.resolveWith(r,o)}};if(t<=1&&(V(e,i.done(s(n)).resolve,i.reject,!t),"pending"===i.state()||v(o[n]&&o[n].then)))return i.then();for(;n--;)V(o[n],s(n),i.reject);return i.promise()}});var j=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&j.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},C.readyException=function(e){r.setTimeout((function(){throw e}))};var U=C.Deferred();function G(){b.removeEventListener("DOMContentLoaded",G),r.removeEventListener("load",G),C.ready()}C.fn.ready=function(e){return U.then(e).catch((function(e){C.readyException(e)})),this},C.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==e&&--C.readyWait>0||U.resolveWith(b,[C]))}}),C.ready.then=U.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?r.setTimeout(C.ready):(b.addEventListener("DOMContentLoaded",G),r.addEventListener("load",G));var q=function(e,t,n,r,o,i,s){var a=0,l=e.length,c=null==n;if("object"===E(n))for(a in o=!0,n)q(e,t,a,n[a],!0,i,s);else if(void 0!==r&&(o=!0,v(r)||(s=!0),c&&(s?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(C(e),n)})),t))for(;a<l;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return o?e:c?t.call(e):l?t(e[0],n):i},W=/^-ms-/,Z=/-([a-z])/g;function $(e,t){return t.toUpperCase()}function K(e){return e.replace(W,"ms-").replace(Z,$)}var X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=C.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[K(t)]=n;else for(r in t)o[K(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][K(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(K):(t=K(t))in r?[t]:t.match(L)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||C.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!C.isEmptyObject(t)}};var J=new Y,Q=new Y,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}C.extend({hasData:function(e){return Q.hasData(e)||J.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),C.fn.extend({data:function(e,t){var n,r,o,i=this[0],s=i&&i.attributes;if(void 0===e){if(this.length&&(o=Q.get(i),1===i.nodeType&&!J.get(i,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=K(r.slice(5)),ne(i,r,o[r]));J.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){Q.set(this,e)})):q(this,(function(t){var n;if(i&&void 0===t)return void 0!==(n=Q.get(i,e))||void 0!==(n=ne(i,e))?n:void 0;this.each((function(){Q.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Q.remove(this,e)}))}}),C.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=J.get(e,t),n&&(!r||Array.isArray(n)?r=J.access(e,t,C.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=C.queue(e,t),r=n.length,o=n.shift(),i=C._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,(function(){C.dequeue(e,t)}),i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:C.Callbacks("once memory").add((function(){J.remove(e,[t+"queue",n])}))})}}),C.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?C.queue(this[0],e):void 0===t?this:this.each((function(){var n=C.queue(this,e,t);C._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&C.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){C.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=C.Deferred(),i=this,s=this.length,a=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=J.get(i[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),o.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,oe=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],se=b.documentElement,ae=function(e){return C.contains(e.ownerDocument,e)},le={composed:!0};se.getRootNode&&(ae=function(e){return C.contains(e.ownerDocument,e)||e.getRootNode(le)===e.ownerDocument});var ce=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ae(e)&&"none"===C.css(e,"display")};function ue(e,t,n,r){var o,i,s=20,a=r?function(){return r.cur()}:function(){return C.css(e,t,"")},l=a(),c=n&&n[3]||(C.cssNumber[t]?"":"px"),u=e.nodeType&&(C.cssNumber[t]||"px"!==c&&+l)&&oe.exec(C.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)C.style(e,t,u+c),(1-i)*(1-(i=a()/l||.5))<=0&&(s=0),u/=i;u*=2,C.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=o)),o}var de={};function he(e){var t,n=e.ownerDocument,r=e.nodeName,o=de[r];return o||(t=n.body.appendChild(n.createElement(r)),o=C.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),de[r]=o,o)}function pe(e,t){for(var n,r,o=[],i=0,s=e.length;i<s;i++)(r=e[i]).style&&(n=r.style.display,t?("none"===n&&(o[i]=J.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&ce(r)&&(o[i]=he(r))):"none"!==n&&(o[i]="none",J.set(r,"display",n)));for(i=0;i<s;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}C.fn.extend({show:function(){return pe(this,!0)},hide:function(){return pe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ce(this)?C(this).show():C(this).hide()}))}});var fe,me,ge=/^(?:checkbox|radio)$/i,ve=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ye=/^$|^module$|\/(?:java|ecma)script/i;fe=b.createDocumentFragment().appendChild(b.createElement("div")),(me=b.createElement("input")).setAttribute("type","radio"),me.setAttribute("checked","checked"),me.setAttribute("name","t"),fe.appendChild(me),g.checkClone=fe.cloneNode(!0).cloneNode(!0).lastChild.checked,fe.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!fe.cloneNode(!0).lastChild.defaultValue,fe.innerHTML="<option></option>",g.option=!!fe.lastChild;var be={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function we(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&P(e,t)?C.merge([e],n):n}function xe(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}be.tbody=be.tfoot=be.colgroup=be.caption=be.thead,be.th=be.td,g.option||(be.optgroup=be.option=[1,"<select multiple='multiple'>","</select>"]);var Ee=/<|&#?\w+;/;function Se(e,t,n,r,o){for(var i,s,a,l,c,u,d=t.createDocumentFragment(),h=[],p=0,f=e.length;p<f;p++)if((i=e[p])||0===i)if("object"===E(i))C.merge(h,i.nodeType?[i]:i);else if(Ee.test(i)){for(s=s||d.appendChild(t.createElement("div")),a=(ve.exec(i)||["",""])[1].toLowerCase(),l=be[a]||be._default,s.innerHTML=l[1]+C.htmlPrefilter(i)+l[2],u=l[0];u--;)s=s.lastChild;C.merge(h,s.childNodes),(s=d.firstChild).textContent=""}else h.push(t.createTextNode(i));for(d.textContent="",p=0;i=h[p++];)if(r&&C.inArray(i,r)>-1)o&&o.push(i);else if(c=ae(i),s=we(d.appendChild(i),"script"),c&&xe(s),n)for(u=0;i=s[u++];)ye.test(i.type||"")&&n.push(i);return d}var Ce=/^([^.]*)(?:\.(.+)|)/;function Ae(){return!0}function _e(){return!1}function ke(e,t){return e===function(){try{return b.activeElement}catch(e){}}()==("focus"===t)}function Te(e,t,n,r,o,i){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(r=r||n,n=void 0),t)Te(e,a,n,r,t[a],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=_e;else if(!o)return e;return 1===i&&(s=o,o=function(e){return C().off(e),s.apply(this,arguments)},o.guid=s.guid||(s.guid=C.guid++)),e.each((function(){C.event.add(this,t,o,r,n)}))}function Me(e,t,n){n?(J.set(e,t,!1),C.event.add(e,t,{namespace:!1,handler:function(e){var r,o,i=J.get(this,t);if(1&e.isTrigger&&this[t]){if(i.length)(C.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=a.call(arguments),J.set(this,t,i),r=n(this,t),this[t](),i!==(o=J.get(this,t))||r?J.set(this,t,!1):o={},i!==o)return e.stopImmediatePropagation(),e.preventDefault(),o&&o.value}else i.length&&(J.set(this,t,{value:C.event.trigger(C.extend(i[0],C.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===J.get(e,t)&&C.event.add(e,t,Ae)}C.event={global:{},add:function(e,t,n,r,o){var i,s,a,l,c,u,d,h,p,f,m,g=J.get(e);if(X(e))for(n.handler&&(n=(i=n).handler,o=i.selector),o&&C.find.matchesSelector(se,o),n.guid||(n.guid=C.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(t){return void 0!==C&&C.event.triggered!==t.type?C.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(L)||[""]).length;c--;)p=m=(a=Ce.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(d=C.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=C.event.special[p]||{},u=C.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&C.expr.match.needsContext.test(o),namespace:f.join(".")},i),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,f,s)||e.addEventListener&&e.addEventListener(p,s)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),C.event.global[p]=!0)},remove:function(e,t,n,r,o){var i,s,a,l,c,u,d,h,p,f,m,g=J.hasData(e)&&J.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(L)||[""]).length;c--;)if(p=m=(a=Ce.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(d=C.event.special[p]||{},h=l[p=(r?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=i=h.length;i--;)u=h[i],!o&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(h.splice(i,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));s&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||C.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)C.event.remove(e,p+t[c],n,r,!0);C.isEmptyObject(l)&&J.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,s,a=new Array(arguments.length),l=C.event.fix(e),c=(J.get(this,"events")||Object.create(null))[l.type]||[],u=C.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(s=C.event.handlers.call(this,l,c),t=0;(o=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==i.namespace&&!l.rnamespace.test(i.namespace)||(l.handleObj=i,l.data=i.data,void 0!==(r=((C.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,a))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,o,i,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],s={},n=0;n<l;n++)void 0===s[o=(r=t[n]).selector+" "]&&(s[o]=r.needsContext?C(o,this).index(c)>-1:C.find(o,this,null,[c]).length),s[o]&&i.push(r);i.length&&a.push({elem:c,handlers:i})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(C.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ge.test(t.type)&&t.click&&P(t,"input")&&Me(t,"click",Ae),!1},trigger:function(e){var t=this||e;return ge.test(t.type)&&t.click&&P(t,"input")&&Me(t,"click"),!0},_default:function(e){var t=e.target;return ge.test(t.type)&&t.click&&P(t,"input")&&J.get(t,"click")||P(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ae:_e,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:_e,isPropagationStopped:_e,isImmediatePropagationStopped:_e,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ae,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ae,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ae,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},(function(e,t){C.event.special[e]={setup:function(){return Me(this,e,ke),!1},trigger:function(){return Me(this,e),!0},_default:function(t){return J.get(t.target,e)},delegateType:t}})),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){C.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,o=e.handleObj;return r&&(r===this||C.contains(this,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),C.fn.extend({on:function(e,t,n,r){return Te(this,e,t,n,r)},one:function(e,t,n,r){return Te(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,C(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=_e),this.each((function(){C.event.remove(this,e,n,t)}))}});var Pe=/<script|<style|<link/i,Oe=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ne(e,t){return P(e,"table")&&P(11!==t.nodeType?t:t.firstChild,"tr")&&C(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ie(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Be(e,t){var n,r,o,i,s,a;if(1===t.nodeType){if(J.hasData(e)&&(a=J.get(e).events))for(o in J.remove(t,"handle events"),a)for(n=0,r=a[o].length;n<r;n++)C.event.add(t,o,a[o][n]);Q.hasData(e)&&(i=Q.access(e),s=C.extend({},i),Q.set(t,s))}}function Fe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ge.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Le(e,t,n,r){t=l(t);var o,i,s,a,c,u,d=0,h=e.length,p=h-1,f=t[0],m=v(f);if(m||h>1&&"string"==typeof f&&!g.checkClone&&Oe.test(f))return e.each((function(o){var i=e.eq(o);m&&(t[0]=f.call(this,o,i.html())),Le(i,t,n,r)}));if(h&&(i=(o=Se(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=i),i||r)){for(a=(s=C.map(we(o,"script"),De)).length;d<h;d++)c=o,d!==p&&(c=C.clone(c,!0,!0),a&&C.merge(s,we(c,"script"))),n.call(e[d],c,d);if(a)for(u=s[s.length-1].ownerDocument,C.map(s,Ie),d=0;d<a;d++)c=s[d],ye.test(c.type||"")&&!J.access(c,"globalEval")&&C.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?C._evalUrl&&!c.noModule&&C._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):x(c.textContent.replace(Re,""),c,u))}return e}function He(e,t,n){for(var r,o=t?C.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||C.cleanData(we(r)),r.parentNode&&(n&&ae(r)&&xe(we(r,"script")),r.parentNode.removeChild(r));return e}C.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,o,i,s,a=e.cloneNode(!0),l=ae(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(s=we(a),r=0,o=(i=we(e)).length;r<o;r++)Fe(i[r],s[r]);if(t)if(n)for(i=i||we(e),s=s||we(a),r=0,o=i.length;r<o;r++)Be(i[r],s[r]);else Be(e,a);return(s=we(a,"script")).length>0&&xe(s,!l&&we(e,"script")),a},cleanData:function(e){for(var t,n,r,o=C.event.special,i=0;void 0!==(n=e[i]);i++)if(X(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)o[r]?C.event.remove(n,r):C.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),C.fn.extend({detach:function(e){return He(this,e,!0)},remove:function(e){return He(this,e)},text:function(e){return q(this,(function(e){return void 0===e?C.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Le(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ne(this,e).appendChild(e)}))},prepend:function(){return Le(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ne(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Le(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Le(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(we(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return C.clone(this,e,t)}))},html:function(e){return q(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Pe.test(e)&&!be[(ve.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(we(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Le(this,arguments,(function(t){var n=this.parentNode;C.inArray(this,e)<0&&(C.cleanData(we(this)),n&&n.replaceChild(t,this))}),e)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){C.fn[e]=function(e){for(var n,r=[],o=C(e),i=o.length-1,s=0;s<=i;s++)n=s===i?this:this.clone(!0),C(o[s])[t](n),c.apply(r,n.get());return this.pushStack(r)}}));var ze=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),Ve=/^--/,je=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Ue=function(e,t,n){var r,o,i={};for(o in t)i[o]=e.style[o],e.style[o]=t[o];for(o in r=n.call(e),t)e.style[o]=i[o];return r},Ge=new RegExp(ie.join("|"),"i"),qe="[\\x20\\t\\r\\n\\f]",We=new RegExp("^"+qe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+qe+"+$","g");function Ze(e,t,n){var r,o,i,s,a=Ve.test(t),l=e.style;return(n=n||je(e))&&(s=n.getPropertyValue(t)||n[t],a&&s&&(s=s.replace(We,"$1")||void 0),""!==s||ae(e)||(s=C.style(e,t)),!g.pixelBoxStyles()&&ze.test(s)&&Ge.test(t)&&(r=l.width,o=l.minWidth,i=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=n.width,l.width=r,l.minWidth=o,l.maxWidth=i)),void 0!==s?s+"":s}function $e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",se.appendChild(c).appendChild(u);var e=r.getComputedStyle(u);n="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",s=36===t(e.right),o=36===t(e.width),u.style.position="absolute",i=12===t(u.offsetWidth/3),se.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var n,o,i,s,a,l,c=b.createElement("div"),u=b.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,C.extend(g,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,o;return null==a&&(e=b.createElement("table"),t=b.createElement("tr"),n=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",se.appendChild(e).appendChild(t).appendChild(n),o=r.getComputedStyle(t),a=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===t.offsetHeight,se.removeChild(e)),a}}))}();var Ke=["Webkit","Moz","ms"],Xe=b.createElement("div").style,Ye={};function Je(e){return C.cssProps[e]||Ye[e]||(e in Xe?e:Ye[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ke.length;n--;)if((e=Ke[n]+t)in Xe)return e}(e)||e)}var Qe=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"};function nt(e,t,n){var r=oe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function rt(e,t,n,r,o,i){var s="width"===t?1:0,a=0,l=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=C.css(e,n+ie[s],!0,o)),r?("content"===n&&(l-=C.css(e,"padding"+ie[s],!0,o)),"margin"!==n&&(l-=C.css(e,"border"+ie[s]+"Width",!0,o))):(l+=C.css(e,"padding"+ie[s],!0,o),"padding"!==n?l+=C.css(e,"border"+ie[s]+"Width",!0,o):a+=C.css(e,"border"+ie[s]+"Width",!0,o));return!r&&i>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-a-.5))||0),l}function ot(e,t,n){var r=je(e),o=(!g.boxSizingReliable()||n)&&"border-box"===C.css(e,"boxSizing",!1,r),i=o,s=Ze(e,t,r),a="offset"+t[0].toUpperCase()+t.slice(1);if(ze.test(s)){if(!n)return s;s="auto"}return(!g.boxSizingReliable()&&o||!g.reliableTrDimensions()&&P(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===C.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===C.css(e,"boxSizing",!1,r),(i=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+rt(e,t,n||(o?"border":"content"),i,r,s)+"px"}function it(e,t,n,r,o){return new it.prototype.init(e,t,n,r,o)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,s,a=K(t),l=Ve.test(t),c=e.style;if(l||(t=Je(a)),s=C.cssHooks[t]||C.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(e,!1,r))?o:c[t];"string"==(i=typeof n)&&(o=oe.exec(n))&&o[1]&&(n=ue(e,t,o),i="number"),null!=n&&n==n&&("number"!==i||l||(n+=o&&o[3]||(C.cssNumber[a]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var o,i,s,a=K(t);return Ve.test(t)||(t=Je(a)),(s=C.cssHooks[t]||C.cssHooks[a])&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=Ze(e,t,r)),"normal"===o&&t in tt&&(o=tt[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),C.each(["height","width"],(function(e,t){C.cssHooks[t]={get:function(e,n,r){if(n)return!Qe.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,t,r):Ue(e,et,(function(){return ot(e,t,r)}))},set:function(e,n,r){var o,i=je(e),s=!g.scrollboxSize()&&"absolute"===i.position,a=(s||r)&&"border-box"===C.css(e,"boxSizing",!1,i),l=r?rt(e,t,r,a,i):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-rt(e,t,"border",!1,i)-.5)),l&&(o=oe.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=C.css(e,t)),nt(0,n,l)}}})),C.cssHooks.marginLeft=$e(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ze(e,"marginLeft"))||e.getBoundingClientRect().left-Ue(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),C.each({margin:"",padding:"",border:"Width"},(function(e,t){C.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+ie[r]+t]=i[r]||i[r-2]||i[0];return o}},"margin"!==e&&(C.cssHooks[e+t].set=nt)})),C.fn.extend({css:function(e,t){return q(this,(function(e,t,n){var r,o,i={},s=0;if(Array.isArray(t)){for(r=je(e),o=t.length;s<o;s++)i[t[s]]=C.css(e,t[s],!1,r);return i}return void 0!==n?C.style(e,t,n):C.css(e,t)}),e,t,arguments.length>1)}}),C.Tween=it,it.prototype={constructor:it,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(C.cssNumber[n]?"":"px")},cur:function(){var e=it.propHooks[this.prop];return e&&e.get?e.get(this):it.propHooks._default.get(this)},run:function(e){var t,n=it.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):it.propHooks._default.set(this),this}},it.prototype.init.prototype=it.prototype,it.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=C.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||!C.cssHooks[e.prop]&&null==e.elem.style[Je(e.prop)]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}},it.propHooks.scrollTop=it.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=it.prototype.init,C.fx.step={};var st,at,lt=/^(?:toggle|show|hide)$/,ct=/queueHooks$/;function ut(){at&&(!1===b.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(ut):r.setTimeout(ut,C.fx.interval),C.fx.tick())}function dt(){return r.setTimeout((function(){st=void 0})),st=Date.now()}function ht(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=ie[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function pt(e,t,n){for(var r,o=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),i=0,s=o.length;i<s;i++)if(r=o[i].call(n,t,e))return r}function ft(e,t,n){var r,o,i=0,s=ft.prefilters.length,a=C.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var t=st||dt(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),i=0,s=c.tweens.length;i<s;i++)c.tweens[i].run(r);return a.notifyWith(e,[c,r,n]),r<1&&s?n:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:C.extend({},t),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},n),originalProperties:t,originalOptions:n,startTime:st||dt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=C.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var n,r,o,i,s;for(n in e)if(o=t[r=K(n)],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(s=C.cssHooks[r])&&"expand"in s)for(n in i=s.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}(u,c.opts.specialEasing);i<s;i++)if(r=ft.prefilters[i].call(c,e,u,c.opts))return v(r.stop)&&(C._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return C.map(u,pt,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),C.fx.timer(C.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}C.Animation=C.extend(ft,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,oe.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(L);for(var n,r=0,o=e.length;r<o;r++)n=e[r],ft.tweeners[n]=ft.tweeners[n]||[],ft.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,i,s,a,l,c,u,d="width"in t||"height"in t,h=this,p={},f=e.style,m=e.nodeType&&ce(e),g=J.get(e,"fxshow");for(r in n.queue||(null==(s=C._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always((function(){h.always((function(){s.unqueued--,C.queue(e,"fx").length||s.empty.fire()}))}))),t)if(o=t[r],lt.test(o)){if(delete t[r],i=i||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[r])continue;m=!0}p[r]=g&&g[r]||C.style(e,r)}if((l=!C.isEmptyObject(t))||!C.isEmptyObject(p))for(r in d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=J.get(e,"display")),"none"===(u=C.css(e,"display"))&&(c?u=c:(pe([e],!0),c=e.style.display||c,u=C.css(e,"display"),pe([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===C.css(e,"float")&&(l||(h.done((function(){f.display=c})),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=J.access(e,"fxshow",{display:c}),i&&(g.hidden=!m),m&&pe([e],!0),h.done((function(){for(r in m||pe([e]),J.remove(e,"fxshow"),p)C.style(e,r,p[r])}))),l=pt(m?g[r]:0,r,h),r in g||(g[r]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),C.speed=function(e,t,n){var r=e&&"object"==typeof e?C.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return C.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in C.fx.speeds?r.duration=C.fx.speeds[r.duration]:r.duration=C.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&C.dequeue(this,r.queue)},r},C.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ce).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=C.isEmptyObject(e),i=C.speed(t,n,r),s=function(){var t=ft(this,C.extend({},e),i);(o||J.get(this,"finish"))&&t.stop(!0)};return s.finish=s,o||!1===i.queue?this.each(s):this.queue(i.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",i=C.timers,s=J.get(this);if(o)s[o]&&s[o].stop&&r(s[o]);else for(o in s)s[o]&&s[o].stop&&ct.test(o)&&r(s[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||C.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=J.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=C.timers,s=r?r.length:0;for(n.finish=!0,C.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),C.each(["toggle","show","hide"],(function(e,t){var n=C.fn[t];C.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ht(t,!0),e,r,o)}})),C.each({slideDown:ht("show"),slideUp:ht("hide"),slideToggle:ht("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){C.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),C.timers=[],C.fx.tick=function(){var e,t=0,n=C.timers;for(st=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||C.fx.stop(),st=void 0},C.fx.timer=function(e){C.timers.push(e),C.fx.start()},C.fx.interval=13,C.fx.start=function(){at||(at=!0,ut())},C.fx.stop=function(){at=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(e,t){return e=C.fx&&C.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var o=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(o)}}))},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var mt,gt=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return q(this,C.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){C.removeAttr(this,e)}))}}),C.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?C.prop(e,t,n):(1===i&&C.isXMLDoc(e)||(o=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?mt:void 0)),void 0!==n?null===n?void C.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=C.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&P(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(L);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),mt={set:function(e,t,n){return!1===t?C.removeAttr(e,n):e.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=gt[t]||C.find.attr;gt[t]=function(e,t,r){var o,i,s=t.toLowerCase();return r||(i=gt[s],gt[s]=o,o=null!=n(e,t,r)?s:null,gt[s]=i),o}}));var vt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;function bt(e){return(e.match(L)||[]).join(" ")}function wt(e){return e.getAttribute&&e.getAttribute("class")||""}function xt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(L)||[]}C.fn.extend({prop:function(e,t){return q(this,C.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[C.propFix[e]||e]}))}}),C.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&C.isXMLDoc(e)||(t=C.propFix[t]||t,o=C.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(C.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){C.propFix[this.toLowerCase()]=this})),C.fn.extend({addClass:function(e){var t,n,r,o,i,s;return v(e)?this.each((function(t){C(this).addClass(e.call(this,t,wt(this)))})):(t=xt(e)).length?this.each((function(){if(r=wt(this),n=1===this.nodeType&&" "+bt(r)+" "){for(i=0;i<t.length;i++)o=t[i],n.indexOf(" "+o+" ")<0&&(n+=o+" ");s=bt(n),r!==s&&this.setAttribute("class",s)}})):this},removeClass:function(e){var t,n,r,o,i,s;return v(e)?this.each((function(t){C(this).removeClass(e.call(this,t,wt(this)))})):arguments.length?(t=xt(e)).length?this.each((function(){if(r=wt(this),n=1===this.nodeType&&" "+bt(r)+" "){for(i=0;i<t.length;i++)for(o=t[i];n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");s=bt(n),r!==s&&this.setAttribute("class",s)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,r,o,i,s=typeof e,a="string"===s||Array.isArray(e);return v(e)?this.each((function(n){C(this).toggleClass(e.call(this,n,wt(this),t),t)})):"boolean"==typeof t&&a?t?this.addClass(e):this.removeClass(e):(n=xt(e),this.each((function(){if(a)for(i=C(this),o=0;o<n.length;o++)r=n[o],i.hasClass(r)?i.removeClass(r):i.addClass(r);else void 0!==e&&"boolean"!==s||((r=wt(this))&&J.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===e?"":J.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+bt(wt(n))+" ").indexOf(t)>-1)return!0;return!1}});var Et=/\r/g;C.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=v(e),this.each((function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,C(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=C.map(o,(function(e){return null==e?"":e+""}))),(t=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=C.valHooks[o.type]||C.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(Et,""):null==n?"":n:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:bt(C.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?i+1:o.length;for(r=i<0?l:s?i:0;r<l;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!P(n.parentNode,"optgroup"))){if(t=C(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,r,o=e.options,i=C.makeArray(t),s=o.length;s--;)((r=o[s]).selected=C.inArray(C.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),C.each(["radio","checkbox"],(function(){C.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=C.inArray(C(e).val(),t)>-1}},g.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),g.focusin="onfocusin"in r;var St=/^(?:focusinfocus|focusoutblur)$/,Ct=function(e){e.stopPropagation()};C.extend(C.event,{trigger:function(e,t,n,o){var i,s,a,l,c,u,d,h,f=[n||b],m=p.call(e,"type")?e.type:e,g=p.call(e,"namespace")?e.namespace.split("."):[];if(s=h=a=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!St.test(m+C.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[C.expando]?e:new C.Event(m,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:C.makeArray(t,[e]),d=C.event.special[m]||{},o||!d.trigger||!1!==d.trigger.apply(n,t))){if(!o&&!d.noBubble&&!y(n)){for(l=d.delegateType||m,St.test(l+m)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(n.ownerDocument||b)&&f.push(a.defaultView||a.parentWindow||r)}for(i=0;(s=f[i++])&&!e.isPropagationStopped();)h=s,e.type=i>1?l:d.bindType||m,(u=(J.get(s,"events")||Object.create(null))[e.type]&&J.get(s,"handle"))&&u.apply(s,t),(u=c&&s[c])&&u.apply&&X(s)&&(e.result=u.apply(s,t),!1===e.result&&e.preventDefault());return e.type=m,o||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(f.pop(),t)||!X(n)||c&&v(n[m])&&!y(n)&&((a=n[c])&&(n[c]=null),C.event.triggered=m,e.isPropagationStopped()&&h.addEventListener(m,Ct),n[m](),e.isPropagationStopped()&&h.removeEventListener(m,Ct),C.event.triggered=void 0,a&&(n[c]=a)),e.result}},simulate:function(e,t,n){var r=C.extend(new C.Event,n,{type:e,isSimulated:!0});C.event.trigger(r,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each((function(){C.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}}),g.focusin||C.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){C.event.simulate(t,e.target,C.event.fix(e))};C.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,o=J.access(r,t);o||r.addEventListener(e,n,!0),J.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,o=J.access(r,t)-1;o?J.access(r,t,o):(r.removeEventListener(e,n,!0),J.remove(r,t))}}}));var At=r.location,_t={guid:Date.now()},kt=/\?/;C.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||C.error("Invalid XML: "+(n?C.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Tt=/\[\]$/,Mt=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function Rt(e,t,n,r){var o;if(Array.isArray(t))C.each(t,(function(t,o){n||Tt.test(e)?r(e,o):Rt(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)}));else if(n||"object"!==E(t))r(e,t);else for(o in t)Rt(e+"["+o+"]",t[o],n,r)}C.param=function(e,t){var n,r=[],o=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,(function(){o(this.name,this.value)}));else for(n in e)Rt(n,e[n],t,o);return r.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&Ot.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!ge.test(e))})).map((function(e,t){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,(function(e){return{name:t.name,value:e.replace(Mt,"\r\n")}})):{name:t.name,value:n.replace(Mt,"\r\n")}})).get()}});var Nt=/%20/g,Dt=/#.*$/,It=/([?&])_=[^&]*/,Bt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ft=/^(?:GET|HEAD)$/,Lt=/^\/\//,Ht={},zt={},Vt="*/".concat("*"),jt=b.createElement("a");function Ut(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(L)||[];if(v(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Gt(e,t,n,r){var o={},i=e===zt;function s(a){var l;return o[a]=!0,C.each(e[a]||[],(function(e,a){var c=a(t,n,r);return"string"!=typeof c||i||o[c]?i?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)})),l}return s(t.dataTypes[0])||!o["*"]&&s("*")}function qt(e,t){var n,r,o=C.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&C.extend(!0,e,r),e}jt.href=At.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(At.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?qt(qt(e,C.ajaxSettings),t):qt(C.ajaxSettings,e)},ajaxPrefilter:Ut(Ht),ajaxTransport:Ut(zt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o,i,s,a,l,c,u,d,h,p=C.ajaxSetup({},t),f=p.context||p,m=p.context&&(f.nodeType||f.jquery)?C(f):C.event,g=C.Deferred(),v=C.Callbacks("once memory"),y=p.statusCode||{},w={},x={},E="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Bt.exec(i);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?i:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)S.always(e[S.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||E;return n&&n.abort(t),A(0,t),this}};if(g.promise(S),p.url=((e||p.url||At.href)+"").replace(Lt,At.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(L)||[""],null==p.crossDomain){l=b.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=jt.protocol+"//"+jt.host!=l.protocol+"//"+l.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=C.param(p.data,p.traditional)),Gt(Ht,p,t,S),c)return S;for(d in(u=C.event&&p.global)&&0==C.active++&&C.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ft.test(p.type),o=p.url.replace(Dt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Nt,"+")):(h=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(kt.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(It,"$1"),h=(kt.test(o)?"&":"?")+"_="+_t.guid+++h),p.url=o+h),p.ifModified&&(C.lastModified[o]&&S.setRequestHeader("If-Modified-Since",C.lastModified[o]),C.etag[o]&&S.setRequestHeader("If-None-Match",C.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Vt+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(f,S,p)||c))return S.abort();if(E="abort",v.add(p.complete),S.done(p.success),S.fail(p.error),n=Gt(zt,p,t,S)){if(S.readyState=1,u&&m.trigger("ajaxSend",[S,p]),c)return S;p.async&&p.timeout>0&&(a=r.setTimeout((function(){S.abort("timeout")}),p.timeout));try{c=!1,n.send(w,A)}catch(e){if(c)throw e;A(-1,e)}}else A(-1,"No Transport");function A(e,t,s,l){var d,h,b,w,x,E=t;c||(c=!0,a&&r.clearTimeout(a),n=void 0,i=l||"",S.readyState=e>0?4:0,d=e>=200&&e<300||304===e,s&&(w=function(e,t,n){for(var r,o,i,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in a)if(a[o]&&a[o].test(r)){l.unshift(o);break}if(l[0]in n)i=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){i=o;break}s||(s=o)}i=i||s}if(i)return i!==l[0]&&l.unshift(i),n[i]}(p,S,s)),!d&&C.inArray("script",p.dataTypes)>-1&&C.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),w=function(e,t,n,r){var o,i,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(i=u.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=u.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(s=c[l+" "+i]||c["* "+i]))for(o in c)if((a=o.split(" "))[1]===i&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[o]:!0!==c[o]&&(i=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}(p,w,S,d),d?(p.ifModified&&((x=S.getResponseHeader("Last-Modified"))&&(C.lastModified[o]=x),(x=S.getResponseHeader("etag"))&&(C.etag[o]=x)),204===e||"HEAD"===p.type?E="nocontent":304===e?E="notmodified":(E=w.state,h=w.data,d=!(b=w.error))):(b=E,!e&&E||(E="error",e<0&&(e=0))),S.status=e,S.statusText=(t||E)+"",d?g.resolveWith(f,[h,E,S]):g.rejectWith(f,[S,E,b]),S.statusCode(y),y=void 0,u&&m.trigger(d?"ajaxSuccess":"ajaxError",[S,p,d?h:b]),v.fireWith(f,[S,E]),u&&(m.trigger("ajaxComplete",[S,p]),--C.active||C.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],(function(e,t){C[t]=function(e,n,r,o){return v(n)&&(o=o||r,r=n,n=void 0),C.ajax(C.extend({url:e,type:t,dataType:o,data:n,success:r},C.isPlainObject(e)&&e))}})),C.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),C._evalUrl=function(e,t,n){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){C.globalEval(e,t,n)}})},C.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){C(this).wrapInner(e.call(this,t))})):this.each((function(){var t=C(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(n){C(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){C(this).replaceWith(this.childNodes)})),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Wt={0:200,1223:204},Zt=C.ajaxSettings.xhr();g.cors=!!Zt&&"withCredentials"in Zt,g.ajax=Zt=!!Zt,C.ajaxTransport((function(e){var t,n;if(g.cors||Zt&&!e.crossDomain)return{send:function(o,i){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)a.setRequestHeader(s,o[s]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?i(0,"error"):i(a.status,a.statusText):i(Wt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),C.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),C.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,o){t=C("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}}));var $t,Kt=[],Xt=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||C.expando+"_"+_t.guid++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",(function(e,t,n){var o,i,s,a=!1!==e.jsonp&&(Xt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Xt,"$1"+o):!1!==e.jsonp&&(e.url+=(kt.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||C.error(o+" was not called"),s[0]},e.dataTypes[0]="json",i=r[o],r[o]=function(){s=arguments},n.always((function(){void 0===i?C(r).removeProp(o):r[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,Kt.push(o)),s&&v(i)&&i(s[0]),s=i=void 0})),"script"})),g.createHTMLDocument=(($t=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===$t.childNodes.length),C.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((r=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(r)):t=b),i=!n&&[],(o=O.exec(e))?[t.createElement(o[1])]:(o=Se([e],t,i),i&&i.length&&C(i).remove(),C.merge([],o.childNodes)));var r,o,i},C.fn.load=function(e,t,n){var r,o,i,s=this,a=e.indexOf(" ");return a>-1&&(r=bt(e.slice(a)),e=e.slice(0,a)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&C.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){i=arguments,s.html(r?C("<div>").append(C.parseHTML(e)).find(r):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,i||[e.responseText,t,e])}))}),this},C.expr.pseudos.animated=function(e){return C.grep(C.timers,(function(t){return e===t.elem})).length},C.offset={setOffset:function(e,t,n){var r,o,i,s,a,l,c=C.css(e,"position"),u=C(e),d={};"static"===c&&(e.style.position="relative"),a=u.offset(),i=C.css(e,"top"),l=C.css(e,"left"),("absolute"===c||"fixed"===c)&&(i+l).indexOf("auto")>-1?(s=(r=u.position()).top,o=r.left):(s=parseFloat(i)||0,o=parseFloat(l)||0),v(t)&&(t=t.call(e,n,C.extend({},a))),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):u.css(d)}},C.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){C.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===C.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===C.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=C(e).offset()).top+=C.css(e,"borderTopWidth",!0),o.left+=C.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-C.css(r,"marginTop",!0),left:t.left-o.left-C.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||se}))}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;C.fn[e]=function(r){return q(this,(function(e,r,o){var i;if(y(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o}),e,r,arguments.length)}})),C.each(["top","left"],(function(e,t){C.cssHooks[t]=$e(g.pixelPosition,(function(e,n){if(n)return n=Ze(e,t),ze.test(n)?C(e).position()[t]+"px":n}))})),C.each({Height:"height",Width:"width"},(function(e,t){C.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){C.fn[r]=function(o,i){var s=arguments.length&&(n||"boolean"!=typeof o),a=n||(!0===o||!0===i?"margin":"border");return q(this,(function(t,n,o){var i;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?C.css(t,n,a):C.style(t,n,o,a)}),t,s?o:void 0,s)}}))})),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){C.fn[t]=function(e){return this.on(t,e)}})),C.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){C.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Yt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;C.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return r=a.call(arguments,2),o=function(){return e.apply(t||this,r.concat(a.call(arguments)))},o.guid=e.guid=e.guid||C.guid++,o},C.holdReady=function(e){e?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=P,C.isFunction=v,C.isWindow=y,C.camelCase=K,C.type=E,C.now=Date.now,C.isNumeric=function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},C.trim=function(e){return null==e?"":(e+"").replace(Yt,"$1")},void 0===(n=function(){return C}.apply(t,[]))||(e.exports=n);var Jt=r.jQuery,Qt=r.$;return C.noConflict=function(e){return r.$===C&&(r.$=Qt),e&&r.jQuery===C&&(r.jQuery=Jt),C},void 0===o&&(r.jQuery=r.$=C),C}))},8086:(e,t,n)=>{var r;!function(){"use strict";var o="input is invalid type",i="object"==typeof window,s=i?window:{};s.JS_SHA3_NO_WINDOW&&(i=!1);var a=!i&&"object"==typeof self;!s.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?s=n.g:a&&(s=self);var l=!s.JS_SHA3_NO_COMMON_JS&&e.exports,c=n.amdO,u=!s.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,d="0123456789abcdef".split(""),h=[4,1024,262144,67108864],p=[0,8,16,24],f=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],m=[224,256,384,512],g=[128,256],v=["hex","buffer","arrayBuffer","array","digest"],y={128:168,256:136};!s.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!u||!s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var b=function(e,t,n){return function(r){return new D(e,t,e).update(r)[n]()}},w=function(e,t,n){return function(r,o){return new D(e,t,o).update(r)[n]()}},x=function(e,t,n){return function(t,r,o,i){return _["cshake"+e].update(t,r,o,i)[n]()}},E=function(e,t,n){return function(t,r,o,i){return _["kmac"+e].update(t,r,o,i)[n]()}},S=function(e,t,n,r){for(var o=0;o<v.length;++o){var i=v[o];e[i]=t(n,r,i)}return e},C=function(e,t){var n=b(e,t,"hex");return n.create=function(){return new D(e,t,e)},n.update=function(e){return n.create().update(e)},S(n,b,e,t)},A=[{name:"keccak",padding:[1,256,65536,16777216],bits:m,createMethod:C},{name:"sha3",padding:[6,1536,393216,100663296],bits:m,createMethod:C},{name:"shake",padding:[31,7936,2031616,520093696],bits:g,createMethod:function(e,t){var n=w(e,t,"hex");return n.create=function(n){return new D(e,t,n)},n.update=function(e,t){return n.create(t).update(e)},S(n,w,e,t)}},{name:"cshake",padding:h,bits:g,createMethod:function(e,t){var n=y[e],r=x(e,0,"hex");return r.create=function(r,o,i){return o||i?new D(e,t,r).bytepad([o,i],n):_["shake"+e].create(r)},r.update=function(e,t,n,o){return r.create(t,n,o).update(e)},S(r,x,e,t)}},{name:"kmac",padding:h,bits:g,createMethod:function(e,t){var n=y[e],r=E(e,0,"hex");return r.create=function(r,o,i){return new I(e,t,o).bytepad(["KMAC",i],n).bytepad([r],n)},r.update=function(e,t,n,o){return r.create(e,n,o).update(t)},S(r,E,e,t)}}],_={},k=[],T=0;T<A.length;++T)for(var M=A[T],P=M.bits,O=0;O<P.length;++O){var R=M.name+"_"+P[O];if(k.push(R),_[R]=M.createMethod(P[O],M.padding),"sha3"!==M.name){var N=M.name+P[O];k.push(N),_[N]=_[R]}}function D(e,t,n){this.blocks=[],this.s=[],this.padding=t,this.outputBits=n,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}function I(e,t,n){D.call(this,e,t,n)}D.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(o);if(null===e)throw new Error(o);if(u&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||u&&ArrayBuffer.isView(e)))throw new Error(o);t=!0}for(var r,i,s=this.blocks,a=this.byteCount,l=e.length,c=this.blockCount,d=0,h=this.s;d<l;){if(this.reset)for(this.reset=!1,s[0]=this.block,r=1;r<c+1;++r)s[r]=0;if(t)for(r=this.start;d<l&&r<a;++d)s[r>>2]|=e[d]<<p[3&r++];else for(r=this.start;d<l&&r<a;++d)(i=e.charCodeAt(d))<128?s[r>>2]|=i<<p[3&r++]:i<2048?(s[r>>2]|=(192|i>>6)<<p[3&r++],s[r>>2]|=(128|63&i)<<p[3&r++]):i<55296||i>=57344?(s[r>>2]|=(224|i>>12)<<p[3&r++],s[r>>2]|=(128|i>>6&63)<<p[3&r++],s[r>>2]|=(128|63&i)<<p[3&r++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++d)),s[r>>2]|=(240|i>>18)<<p[3&r++],s[r>>2]|=(128|i>>12&63)<<p[3&r++],s[r>>2]|=(128|i>>6&63)<<p[3&r++],s[r>>2]|=(128|63&i)<<p[3&r++]);if(this.lastByteIndex=r,r>=a){for(this.start=r-a,this.block=s[c],r=0;r<c;++r)h[r]^=s[r];B(h),this.reset=!0}else this.start=r}return this},D.prototype.encode=function(e,t){var n=255&e,r=1,o=[n];for(n=255&(e>>=8);n>0;)o.unshift(n),n=255&(e>>=8),++r;return t?o.push(r):o.unshift(r),this.update(o),o.length},D.prototype.encodeString=function(e){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(o);if(null===e)throw new Error(o);if(u&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||u&&ArrayBuffer.isView(e)))throw new Error(o);t=!0}var r=0,i=e.length;if(t)r=i;else for(var s=0;s<e.length;++s){var a=e.charCodeAt(s);a<128?r+=1:a<2048?r+=2:a<55296||a>=57344?r+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++s)),r+=4)}return r+=this.encode(8*r),this.update(e),r},D.prototype.bytepad=function(e,t){for(var n=this.encode(t),r=0;r<e.length;++r)n+=this.encodeString(e[r]);var o=t-n%t,i=[];return i.length=o,this.update(i),this},D.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,n=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[n],t=1;t<n+1;++t)e[t]=0;for(e[n-1]|=2147483648,t=0;t<n;++t)r[t]^=e[t];B(r)}},D.prototype.toString=D.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,n=this.s,r=this.outputBlocks,o=this.extraBytes,i=0,s=0,a="";s<r;){for(i=0;i<t&&s<r;++i,++s)e=n[i],a+=d[e>>4&15]+d[15&e]+d[e>>12&15]+d[e>>8&15]+d[e>>20&15]+d[e>>16&15]+d[e>>28&15]+d[e>>24&15];s%t==0&&(B(n),i=0)}return o&&(e=n[i],a+=d[e>>4&15]+d[15&e],o>1&&(a+=d[e>>12&15]+d[e>>8&15]),o>2&&(a+=d[e>>20&15]+d[e>>16&15])),a},D.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,n=this.s,r=this.outputBlocks,o=this.extraBytes,i=0,s=0,a=this.outputBits>>3;e=o?new ArrayBuffer(r+1<<2):new ArrayBuffer(a);for(var l=new Uint32Array(e);s<r;){for(i=0;i<t&&s<r;++i,++s)l[s]=n[i];s%t==0&&B(n)}return o&&(l[i]=n[i],e=e.slice(0,a)),e},D.prototype.buffer=D.prototype.arrayBuffer,D.prototype.digest=D.prototype.array=function(){this.finalize();for(var e,t,n=this.blockCount,r=this.s,o=this.outputBlocks,i=this.extraBytes,s=0,a=0,l=[];a<o;){for(s=0;s<n&&a<o;++s,++a)e=a<<2,t=r[s],l[e]=255&t,l[e+1]=t>>8&255,l[e+2]=t>>16&255,l[e+3]=t>>24&255;a%n==0&&B(r)}return i&&(e=a<<2,t=r[s],l[e]=255&t,i>1&&(l[e+1]=t>>8&255),i>2&&(l[e+2]=t>>16&255)),l},I.prototype=new D,I.prototype.finalize=function(){return this.encode(this.outputBits,!0),D.prototype.finalize.call(this)};var B=function(e){var t,n,r,o,i,s,a,l,c,u,d,h,p,m,g,v,y,b,w,x,E,S,C,A,_,k,T,M,P,O,R,N,D,I,B,F,L,H,z,V,j,U,G,q,W,Z,$,K,X,Y,J,Q,ee,te,ne,re,oe,ie,se,ae,le,ce,ue;for(r=0;r<48;r+=2)o=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],l=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],d=e[7]^e[17]^e[27]^e[37]^e[47],t=(h=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|a>>>31),n=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(a<<1|s>>>31),e[0]^=t,e[1]^=n,e[10]^=t,e[11]^=n,e[20]^=t,e[21]^=n,e[30]^=t,e[31]^=n,e[40]^=t,e[41]^=n,t=o^(l<<1|c>>>31),n=i^(c<<1|l>>>31),e[2]^=t,e[3]^=n,e[12]^=t,e[13]^=n,e[22]^=t,e[23]^=n,e[32]^=t,e[33]^=n,e[42]^=t,e[43]^=n,t=s^(u<<1|d>>>31),n=a^(d<<1|u>>>31),e[4]^=t,e[5]^=n,e[14]^=t,e[15]^=n,e[24]^=t,e[25]^=n,e[34]^=t,e[35]^=n,e[44]^=t,e[45]^=n,t=l^(h<<1|p>>>31),n=c^(p<<1|h>>>31),e[6]^=t,e[7]^=n,e[16]^=t,e[17]^=n,e[26]^=t,e[27]^=n,e[36]^=t,e[37]^=n,e[46]^=t,e[47]^=n,t=u^(o<<1|i>>>31),n=d^(i<<1|o>>>31),e[8]^=t,e[9]^=n,e[18]^=t,e[19]^=n,e[28]^=t,e[29]^=n,e[38]^=t,e[39]^=n,e[48]^=t,e[49]^=n,m=e[0],g=e[1],Z=e[11]<<4|e[10]>>>28,$=e[10]<<4|e[11]>>>28,M=e[20]<<3|e[21]>>>29,P=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,le=e[30]<<9|e[31]>>>23,U=e[40]<<18|e[41]>>>14,G=e[41]<<18|e[40]>>>14,I=e[2]<<1|e[3]>>>31,B=e[3]<<1|e[2]>>>31,v=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,K=e[22]<<10|e[23]>>>22,X=e[23]<<10|e[22]>>>22,O=e[33]<<13|e[32]>>>19,R=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,ue=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ne=e[4]<<30|e[5]>>>2,F=e[14]<<6|e[15]>>>26,L=e[15]<<6|e[14]>>>26,b=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,Y=e[34]<<15|e[35]>>>17,J=e[35]<<15|e[34]>>>17,N=e[45]<<29|e[44]>>>3,D=e[44]<<29|e[45]>>>3,A=e[6]<<28|e[7]>>>4,_=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,oe=e[16]<<23|e[17]>>>9,H=e[26]<<25|e[27]>>>7,z=e[27]<<25|e[26]>>>7,x=e[36]<<21|e[37]>>>11,E=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,q=e[8]<<27|e[9]>>>5,W=e[9]<<27|e[8]>>>5,k=e[18]<<20|e[19]>>>12,T=e[19]<<20|e[18]>>>12,ie=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,V=e[38]<<8|e[39]>>>24,j=e[39]<<8|e[38]>>>24,S=e[48]<<14|e[49]>>>18,C=e[49]<<14|e[48]>>>18,e[0]=m^~v&b,e[1]=g^~y&w,e[10]=A^~k&M,e[11]=_^~T&P,e[20]=I^~F&H,e[21]=B^~L&z,e[30]=q^~Z&K,e[31]=W^~$&X,e[40]=te^~re&ie,e[41]=ne^~oe&se,e[2]=v^~b&x,e[3]=y^~w&E,e[12]=k^~M&O,e[13]=T^~P&R,e[22]=F^~H&V,e[23]=L^~z&j,e[32]=Z^~K&Y,e[33]=$^~X&J,e[42]=re^~ie&ae,e[43]=oe^~se&le,e[4]=b^~x&S,e[5]=w^~E&C,e[14]=M^~O&N,e[15]=P^~R&D,e[24]=H^~V&U,e[25]=z^~j&G,e[34]=K^~Y&Q,e[35]=X^~J&ee,e[44]=ie^~ae&ce,e[45]=se^~le&ue,e[6]=x^~S&m,e[7]=E^~C&g,e[16]=O^~N&A,e[17]=R^~D&_,e[26]=V^~U&I,e[27]=j^~G&B,e[36]=Y^~Q&q,e[37]=J^~ee&W,e[46]=ae^~ce&te,e[47]=le^~ue&ne,e[8]=S^~m&v,e[9]=C^~g&y,e[18]=N^~A&k,e[19]=D^~_&T,e[28]=U^~I&F,e[29]=G^~B&L,e[38]=Q^~q&Z,e[39]=ee^~W&$,e[48]=ce^~te&re,e[49]=ue^~ne&oe,e[0]^=f[r],e[1]^=f[r+1]};if(l)e.exports=_;else{for(T=0;T<k.length;++T)s[k[T]]=_[k[T]];c&&(void 0===(r=function(){return _}.call(t,n,t,e))||(e.exports=r))}}()},5421:function(module,exports,__webpack_require__){var factory;"undefined"!=typeof navigator&&(factory=function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(e){_useWebWorker=!!e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(e){locationHref=e},getLocationHref=function(){return locationHref};function createTag(e){return document.createElement(e)}function extendPrototype(e,t){var n,r,o=e.length;for(n=0;n<o;n+=1)for(var i in r=e[n].prototype)Object.prototype.hasOwnProperty.call(r,i)&&(t.prototype[i]=r[i])}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}var audioControllerFactory=function(){function e(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].pause()},resume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].resume()},setRate:function(e){var t,n=this.audios.length;for(t=0;t<n;t+=1)this.audios[t].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):window.Howl?new window.Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),createTypedArray=function(){function e(e,t){var n,r=0,o=[];switch(e){case"int16":case"uint8c":n=1;break;default:n=1.1}for(r=0;r<t;r+=1)o.push(n);return o}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,n){return"float32"===t?new Float32Array(n):"int16"===t?new Int16Array(n):"uint8c"===t?new Uint8ClampedArray(n):e(t,n)}:e}();function createSizedArray(e){return Array.apply(null,{length:e})}function _typeof$6(e){return _typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$6(e)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var e,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],n=t.length;for(e=0;e<n;e+=1)BMMath[t[e]]=Math[t[e]]}(),BMMath.random=Math.random,BMMath.abs=function(e){if("object"===_typeof$6(e)&&e.length){var t,n=createSizedArray(e.length),r=e.length;for(t=0;t<r;t+=1)n[t]=Math.abs(e[t]);return n}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(e){_shouldRoundValues=!!e}function bmRnd(e){return _shouldRoundValues?Math.round(e):e}function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility="visible",e.style.webkitBackfaceVisibility="visible",e.style.transformStyle="preserve-3d",e.style.webkitTransformStyle="preserve-3d",e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,n,r){this.type=e,this.currentTime=t,this.totalTime=n,this.direction=r<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,n,r){this.type=e,this.currentLoop=n,this.totalLoops=t,this.direction=r<0?-1:1}function BMSegmentStartEvent(e,t,n){this.type=e,this.firstFrame=t,this.totalFrames=n}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}function BMAnimationConfigErrorEvent(e,t){this.type=e,this.nativeError=t}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(e,t,n){var r,o,i,s,a,l,c,u;switch(l=n*(1-t),c=n*(1-(a=6*e-(s=Math.floor(6*e)))*t),u=n*(1-(1-a)*t),s%6){case 0:r=n,o=u,i=l;break;case 1:r=c,o=n,i=l;break;case 2:r=l,o=n,i=u;break;case 3:r=l,o=c,i=n;break;case 4:r=u,o=l,i=n;break;case 5:r=n,o=l,i=c}return[r,o,i]}function RGBtoHSV(e,t,n){var r,o=Math.max(e,t,n),i=Math.min(e,t,n),s=o-i,a=0===o?0:s/o,l=o/255;switch(o){case i:r=0;break;case e:r=t-n+s*(t<n?6:0),r/=6*s;break;case t:r=n-e+2*s,r/=6*s;break;case n:r=e-t+4*s,r/=6*s}return[r,a,l]}function addSaturationToRGB(e,t){var n=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return n[1]+=t,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(e,t){var n=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return n[2]+=t,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(e,t){var n=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return n[0]+=t/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=function(){var e,t,n=[];for(e=0;e<256;e+=1)t=e.toString(16),n[e]=1===t.length?"0"+t:t;return function(e,t,r){return e<0&&(e=0),t<0&&(t=0),r<0&&(r=0),"#"+n[e]+n[t]+n[r]}}(),setSubframeEnabled=function(e){subframeEnabled=!!e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(e){expressionsPlugin=e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(e){expressionsInterfaces=e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(e){defaultCurveSegments=e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(e){idPrefix$1=e},getIdPrefix=function(){return idPrefix$1};function createNS(e){return document.createElementNS(svgNS,e)}function _typeof$5(e){return _typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(e)}var dataManager=function(){var e,t,n=1,r=[],o={onmessage:function(){},postMessage:function(t){e({data:t})}},i={postMessage:function(e){o.onmessage({data:e})}};function s(){t||(t=function(t){if(window.Worker&&window.Blob&&getWebWorker()){var n=new Blob(["var _workerSelf = self; self.onmessage = ",t.toString()],{type:"text/javascript"}),r=URL.createObjectURL(n);return new Worker(r)}return e=t,o}((function(e){if(i.dataManager||(i.dataManager=function(){function e(o,i){var s,a,l,c,u,d,h,p=o.length;for(a=0;a<p;a+=1)if("ks"in(s=o[a])&&!s.completed){if(s.completed=!0,s.hasMask){var f=s.masksProperties;for(c=f.length,l=0;l<c;l+=1)if(f[l].pt.k.i)r(f[l].pt.k);else for(d=f[l].pt.k.length,u=0;u<d;u+=1)f[l].pt.k[u].s&&r(f[l].pt.k[u].s[0]),f[l].pt.k[u].e&&r(f[l].pt.k[u].e[0])}0===s.ty?(s.layers=t(s.refId,i),e(s.layers,i)):4===s.ty?n(s.shapes):5===s.ty&&(0===(h=s).t.a.length&&h.t.p)}}function t(e,t){var n=function(e,t){for(var n=0,r=t.length;n<r;){if(t[n].id===e)return t[n];n+=1}return null}(e,t);return n?n.layers.__used?JSON.parse(JSON.stringify(n.layers)):(n.layers.__used=!0,n.layers):null}function n(e){var t,o,i;for(t=e.length-1;t>=0;t-=1)if("sh"===e[t].ty)if(e[t].ks.k.i)r(e[t].ks.k);else for(i=e[t].ks.k.length,o=0;o<i;o+=1)e[t].ks.k[o].s&&r(e[t].ks.k[o].s[0]),e[t].ks.k[o].e&&r(e[t].ks.k[o].e[0]);else"gr"===e[t].ty&&n(e[t].it)}function r(e){var t,n=e.i.length;for(t=0;t<n;t+=1)e.i[t][0]+=e.v[t][0],e.i[t][1]+=e.v[t][1],e.o[t][0]+=e.v[t][0],e.o[t][1]+=e.v[t][1]}function o(e,t){var n=t?t.split("."):[100,100,100];return e[0]>n[0]||!(n[0]>e[0])&&(e[1]>n[1]||!(n[1]>e[1])&&(e[2]>n[2]||!(n[2]>e[2])&&null))}var i,s=function(){var e=[4,4,14];function t(e){var t,n,r,o=e.length;for(t=0;t<o;t+=1)5===e[t].ty&&(void 0,r=(n=e[t]).t.d,n.t.d={k:[{s:r,t:0}]})}return function(n){if(o(e,n.v)&&(t(n.layers),n.assets)){var r,i=n.assets.length;for(r=0;r<i;r+=1)n.assets[r].layers&&t(n.assets[r].layers)}}}(),a=(i=[4,7,99],function(e){if(e.chars&&!o(i,e.v)){var t,r=e.chars.length;for(t=0;t<r;t+=1){var s=e.chars[t];s.data&&s.data.shapes&&(n(s.data.shapes),s.data.ip=0,s.data.op=99999,s.data.st=0,s.data.sr=1,s.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},e.chars[t].t||(s.data.shapes.push({ty:"no"}),s.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),l=function(){var e=[5,7,15];function t(e){var t,n,r=e.length;for(t=0;t<r;t+=1)5===e[t].ty&&(n=void 0,"number"==typeof(n=e[t].t.p).a&&(n.a={a:0,k:n.a}),"number"==typeof n.p&&(n.p={a:0,k:n.p}),"number"==typeof n.r&&(n.r={a:0,k:n.r}))}return function(n){if(o(e,n.v)&&(t(n.layers),n.assets)){var r,i=n.assets.length;for(r=0;r<i;r+=1)n.assets[r].layers&&t(n.assets[r].layers)}}}(),c=function(){var e=[4,1,9];function t(e){var n,r,o,i=e.length;for(n=0;n<i;n+=1)if("gr"===e[n].ty)t(e[n].it);else if("fl"===e[n].ty||"st"===e[n].ty)if(e[n].c.k&&e[n].c.k[0].i)for(o=e[n].c.k.length,r=0;r<o;r+=1)e[n].c.k[r].s&&(e[n].c.k[r].s[0]/=255,e[n].c.k[r].s[1]/=255,e[n].c.k[r].s[2]/=255,e[n].c.k[r].s[3]/=255),e[n].c.k[r].e&&(e[n].c.k[r].e[0]/=255,e[n].c.k[r].e[1]/=255,e[n].c.k[r].e[2]/=255,e[n].c.k[r].e[3]/=255);else e[n].c.k[0]/=255,e[n].c.k[1]/=255,e[n].c.k[2]/=255,e[n].c.k[3]/=255}function n(e){var n,r=e.length;for(n=0;n<r;n+=1)4===e[n].ty&&t(e[n].shapes)}return function(t){if(o(e,t.v)&&(n(t.layers),t.assets)){var r,i=t.assets.length;for(r=0;r<i;r+=1)t.assets[r].layers&&n(t.assets[r].layers)}}}(),u=function(){var e=[4,4,18];function t(e){var n,r,o;for(n=e.length-1;n>=0;n-=1)if("sh"===e[n].ty)if(e[n].ks.k.i)e[n].ks.k.c=e[n].closed;else for(o=e[n].ks.k.length,r=0;r<o;r+=1)e[n].ks.k[r].s&&(e[n].ks.k[r].s[0].c=e[n].closed),e[n].ks.k[r].e&&(e[n].ks.k[r].e[0].c=e[n].closed);else"gr"===e[n].ty&&t(e[n].it)}function n(e){var n,r,o,i,s,a,l=e.length;for(r=0;r<l;r+=1){if((n=e[r]).hasMask){var c=n.masksProperties;for(i=c.length,o=0;o<i;o+=1)if(c[o].pt.k.i)c[o].pt.k.c=c[o].cl;else for(a=c[o].pt.k.length,s=0;s<a;s+=1)c[o].pt.k[s].s&&(c[o].pt.k[s].s[0].c=c[o].cl),c[o].pt.k[s].e&&(c[o].pt.k[s].e[0].c=c[o].cl)}4===n.ty&&t(n.shapes)}}return function(t){if(o(e,t.v)&&(n(t.layers),t.assets)){var r,i=t.assets.length;for(r=0;r<i;r+=1)t.assets[r].layers&&n(t.assets[r].layers)}}}();var d={completeData:function(n){n.__complete||(c(n),s(n),a(n),l(n),u(n),e(n.layers,n.assets),function(n,r){if(n){var o=0,i=n.length;for(o=0;o<i;o+=1)1===n[o].t&&(n[o].data.layers=t(n[o].data.refId,r),e(n[o].data.layers,r))}}(n.chars,n.assets),n.__complete=!0)}};return d.checkColors=c,d.checkChars=a,d.checkPathProperties=l,d.checkShapes=u,d.completeLayers=e,d}()),i.assetLoader||(i.assetLoader=function(){function e(e){var t=e.getResponseHeader("content-type");return t&&"json"===e.responseType&&-1!==t.indexOf("json")||e.response&&"object"===_typeof$5(e.response)?e.response:e.response&&"string"==typeof e.response?JSON.parse(e.response):e.responseText?JSON.parse(e.responseText):null}return{load:function(t,n,r,o){var i,s=new XMLHttpRequest;try{s.responseType="json"}catch(e){}s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)i=e(s),r(i);else try{i=e(s),r(i)}catch(e){o&&o(e)}};try{s.open(["G","E","T"].join(""),t,!0)}catch(e){s.open(["G","E","T"].join(""),n+"/"+t,!0)}s.send()}}}()),"loadAnimation"===e.data.type)i.assetLoader.load(e.data.path,e.data.fullPath,(function(t){i.dataManager.completeData(t),i.postMessage({id:e.data.id,payload:t,status:"success"})}),(function(){i.postMessage({id:e.data.id,status:"error"})}));else if("complete"===e.data.type){var t=e.data.animation;i.dataManager.completeData(t),i.postMessage({id:e.data.id,payload:t,status:"success"})}else"loadData"===e.data.type&&i.assetLoader.load(e.data.path,e.data.fullPath,(function(t){i.postMessage({id:e.data.id,payload:t,status:"success"})}),(function(){i.postMessage({id:e.data.id,status:"error"})}))})),t.onmessage=function(e){var t=e.data,n=t.id,o=r[n];r[n]=null,"success"===t.status?o.onComplete(t.payload):o.onError&&o.onError()})}function a(e,t){var o="processId_"+(n+=1);return r[o]={onComplete:e,onError:t},o}return{loadAnimation:function(e,n,r){s();var o=a(n,r);t.postMessage({type:"loadAnimation",path:e,fullPath:window.location.origin+window.location.pathname,id:o})},loadData:function(e,n,r){s();var o=a(n,r);t.postMessage({type:"loadData",path:e,fullPath:window.location.origin+window.location.pathname,id:o})},completeAnimation:function(e,n,r){s();var o=a(n,r);t.postMessage({type:"complete",animation:e,id:o})}}}(),ImagePreloader=function(){var e=function(){var e=createTag("canvas");e.width=1,e.height=1;var t=e.getContext("2d");return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),e}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(e,t,n){var r="";if(e.e)r=e.p;else if(t){var o=e.p;-1!==o.indexOf("images/")&&(o=o.split("/")[1]),r=t+o}else r=n,r+=e.u?e.u:"",r+=e.p;return r}function o(e){var t=0,n=setInterval(function(){(e.getBBox().width||t>500)&&(this._imageLoaded(),clearInterval(n)),t+=1}.bind(this),50)}function i(e){var t={assetData:e},n=r(e,this.assetsPath,this.path);return dataManager.loadData(n,function(e){t.img=e,this._footageLoaded()}.bind(this),function(){t.img={},this._footageLoaded()}.bind(this)),t}function s(){this._imageLoaded=t.bind(this),this._footageLoaded=n.bind(this),this.testImageLoaded=o.bind(this),this.createFootageData=i.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return s.prototype={loadAssets:function(e,t){var n;this.imagesLoadedCb=t;var r=e.length;for(n=0;n<r;n+=1)e[n].layers||(e[n].t&&"seq"!==e[n].t?3===e[n].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(e[n]))):(this.totalImages+=1,this.images.push(this._createImageData(e[n]))))},setAssetsPath:function(e){this.assetsPath=e||""},setPath:function(e){this.path=e||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(e){for(var t=0,n=this.images.length;t<n;){if(this.images[t].assetData===e)return this.images[t].img;t+=1}return null},createImgData:function(t){var n=r(t,this.assetsPath,this.path),o=createTag("img");o.crossOrigin="anonymous",o.addEventListener("load",this._imageLoaded,!1),o.addEventListener("error",function(){i.img=e,this._imageLoaded()}.bind(this),!1),o.src=n;var i={img:o,assetData:t};return i},createImageData:function(t){var n=r(t,this.assetsPath,this.path),o=createNS("image");isSafari?this.testImageLoaded(o):o.addEventListener("load",this._imageLoaded,!1),o.addEventListener("error",function(){i.img=e,this._imageLoaded()}.bind(this),!1),o.setAttributeNS("http://www.w3.org/1999/xlink","href",n),this._elementHelper.append?this._elementHelper.append(o):this._elementHelper.appendChild(o);var i={img:o,assetData:t};return i},imageLoaded:t,footageLoaded:n,setCacheType:function(e,t){"svg"===e?(this._elementHelper=t,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},s}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,t){if(this._cbs[e])for(var n=this._cbs[e],r=0;r<n.length;r+=1)n[r](t)},addEventListener:function(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)},removeEventListener:function(e,t){if(t){if(this._cbs[e]){for(var n=0,r=this._cbs[e].length;n<r;)this._cbs[e][n]===t&&(this._cbs[e].splice(n,1),n-=1,r-=1),n+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}};var markerParser=function(){function e(e){for(var t,n=e.split("\r\n"),r={},o=0,i=0;i<n.length;i+=1)2===(t=n[i].split(":")).length&&(r[t[0]]=t[1].trim(),o+=1);if(0===o)throw new Error;return r}return function(t){for(var n=[],r=0;r<t.length;r+=1){var o=t[r],i={time:o.tm,duration:o.dr};try{i.payload=JSON.parse(t[r].cm)}catch(n){try{i.payload=e(t[r].cm)}catch(e){i.payload={name:t[r].cm}}}n.push(i)}return n}}(),ProjectInterface=function(){function e(e){this.compositions.push(e)}return function(){function t(e){for(var t=0,n=this.compositions.length;t<n;){if(this.compositions[t].data&&this.compositions[t].data.nm===e)return this.compositions[t].prepareFrame&&this.compositions[t].data.xt&&this.compositions[t].prepareFrame(this.currentFrame),this.compositions[t].compInterface;t+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),renderers={},registerRenderer=function(e,t){renderers[e]=t};function getRenderer(e){return renderers[e]}function _typeof$4(e){return _typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(e)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t="svg";e.animType?t=e.animType:e.renderer&&(t=e.renderer);var n=getRenderer(t);this.renderer=new n(this,e.rendererSettings),this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,""===e.loop||null===e.loop||void 0===e.loop||!0===e.loop?this.loop=!0:!1===e.loop?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(e,"autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.setupAnimation(e.animationData):e.path&&(-1!==e.path.lastIndexOf("\\")?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(e){dataManager.completeAnimation(e,this.configAnimation)},AnimationItem.prototype.setData=function(e,t){t&&"object"!==_typeof$4(t)&&(t=JSON.parse(t));var n={wrapper:e,animationData:t},r=e.attributes;n.path=r.getNamedItem("data-animation-path")?r.getNamedItem("data-animation-path").value:r.getNamedItem("data-bm-path")?r.getNamedItem("data-bm-path").value:r.getNamedItem("bm-path")?r.getNamedItem("bm-path").value:"",n.animType=r.getNamedItem("data-anim-type")?r.getNamedItem("data-anim-type").value:r.getNamedItem("data-bm-type")?r.getNamedItem("data-bm-type").value:r.getNamedItem("bm-type")?r.getNamedItem("bm-type").value:r.getNamedItem("data-bm-renderer")?r.getNamedItem("data-bm-renderer").value:r.getNamedItem("bm-renderer")?r.getNamedItem("bm-renderer").value:"canvas";var o=r.getNamedItem("data-anim-loop")?r.getNamedItem("data-anim-loop").value:r.getNamedItem("data-bm-loop")?r.getNamedItem("data-bm-loop").value:r.getNamedItem("bm-loop")?r.getNamedItem("bm-loop").value:"";"false"===o?n.loop=!1:"true"===o?n.loop=!0:""!==o&&(n.loop=parseInt(o,10));var i=r.getNamedItem("data-anim-autoplay")?r.getNamedItem("data-anim-autoplay").value:r.getNamedItem("data-bm-autoplay")?r.getNamedItem("data-bm-autoplay").value:!r.getNamedItem("bm-autoplay")||r.getNamedItem("bm-autoplay").value;n.autoplay="false"!==i,n.name=r.getNamedItem("data-name")?r.getNamedItem("data-name").value:r.getNamedItem("data-bm-name")?r.getNamedItem("data-bm-name").value:r.getNamedItem("bm-name")?r.getNamedItem("bm-name").value:"","false"===(r.getNamedItem("data-anim-prerender")?r.getNamedItem("data-anim-prerender").value:r.getNamedItem("data-bm-prerender")?r.getNamedItem("data-bm-prerender").value:r.getNamedItem("bm-prerender")?r.getNamedItem("bm-prerender").value:"")&&(n.prerender=!1),this.setParams(n)},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t,n,r=this.animationData.layers,o=r.length,i=e.layers,s=i.length;for(n=0;n<s;n+=1)for(t=0;t<o;){if(r[t].id===i[n].id){r[t]=i[n];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(o=e.assets.length,t=0;t<o;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(e){this.animationData=e;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||0===e.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(n,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=markerParser(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(e,t){var n="number"==typeof e?e:void 0,r="number"==typeof t?t:void 0;this.renderer.updateContainerSize(n,r)},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!==e||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!==e||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!==e||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(e){for(var t,n=0;n<this.markers.length;n+=1)if((t=this.markers[n]).payload&&t.payload.name===e)return t;return null},AnimationItem.prototype.goToAndStop=function(e,t,n){if(!n||this.name===n){var r=Number(e);if(isNaN(r)){var o=this.getMarkerData(e);o&&this.goToAndStop(o.time,!0)}else t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(e,t,n){if(!n||this.name===n){var r=Number(e);if(isNaN(r)){var o=this.getMarkerData(e);o&&(o.duration?this.playSegments([o.time,o.time+o.duration],!0):this.goToAndStop(o.time,!0))}else this.goToAndStop(r,t,n);this.play()}},AnimationItem.prototype.advanceTime=function(e){if(!0!==this.isPaused&&!1!==this.isLoaded){var t=this.currentRawFrame+e*this.frameModifier,n=!1;t>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(n=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(n=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),n&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?n=e:this.currentRawFrame+this.firstFrame>t&&(n=t-e)),this.firstFrame=e,this.totalFrames=t-e,this.timeCompleted=this.totalFrames,-1!==n&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),"object"===_typeof$4(e[0])){var n,r=e.length;for(n=0;n<r;n+=1)this.segments.push(e[n])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),e),!0)},AnimationItem.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(e){this.loop=e},AnimationItem.prototype.setVolume=function(e,t){t&&this.name!==t||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var n=e.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),t=this.assetsPath+n}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,n=this.assets.length;t<n;){if(e===this.assets[t].id)return this.assets[t];t+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(e,t,n){try{this.renderer.getElementByPath(e).updateDocumentData(t,n)}catch(e){}},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(e,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}"enterFrame"===e&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===e&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),"complete"===e&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),"segmentStart"===e&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),"destroy"===e&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var animationManager=function(){var e={},t=[],n=0,r=0,o=0,i=!0,s=!1;function a(e){for(var n=0,o=e.target;n<r;)t[n].animation===o&&(t.splice(n,1),n-=1,r-=1,o.isPaused||u()),n+=1}function l(e,n){if(!e)return null;for(var o=0;o<r;){if(t[o].elem===e&&null!==t[o].elem)return t[o].animation;o+=1}var i=new AnimationItem;return d(i,e),i.setData(e,n),i}function c(){o+=1,f()}function u(){o-=1}function d(e,n){e.addEventListener("destroy",a),e.addEventListener("_active",c),e.addEventListener("_idle",u),t.push({elem:n,animation:e}),r+=1}function h(e){var a,l=e-n;for(a=0;a<r;a+=1)t[a].animation.advanceTime(l);n=e,o&&!s?window.requestAnimationFrame(h):i=!0}function p(e){n=e,window.requestAnimationFrame(h)}function f(){!s&&o&&i&&(window.requestAnimationFrame(p),i=!1)}return e.registerAnimation=l,e.loadAnimation=function(e){var t=new AnimationItem;return d(t,null),t.setParams(e),t},e.setSpeed=function(e,n){var o;for(o=0;o<r;o+=1)t[o].animation.setSpeed(e,n)},e.setDirection=function(e,n){var o;for(o=0;o<r;o+=1)t[o].animation.setDirection(e,n)},e.play=function(e){var n;for(n=0;n<r;n+=1)t[n].animation.play(e)},e.pause=function(e){var n;for(n=0;n<r;n+=1)t[n].animation.pause(e)},e.stop=function(e){var n;for(n=0;n<r;n+=1)t[n].animation.stop(e)},e.togglePause=function(e){var n;for(n=0;n<r;n+=1)t[n].animation.togglePause(e)},e.searchAnimations=function(e,t,n){var r,o=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),i=o.length;for(r=0;r<i;r+=1)n&&o[r].setAttribute("data-bm-type",n),l(o[r],e);if(t&&0===i){n||(n="svg");var s=document.getElementsByTagName("body")[0];s.innerText="";var a=createTag("div");a.style.width="100%",a.style.height="100%",a.setAttribute("data-bm-type",n),s.appendChild(a),l(a,e)}},e.resize=function(){var e;for(e=0;e<r;e+=1)t[e].animation.resize()},e.goToAndStop=function(e,n,o){var i;for(i=0;i<r;i+=1)t[i].animation.goToAndStop(e,n,o)},e.destroy=function(e){var n;for(n=r-1;n>=0;n-=1)t[n].animation.destroy(e)},e.freeze=function(){s=!0},e.unfreeze=function(){s=!1,f()},e.setVolume=function(e,n){var o;for(o=0;o<r;o+=1)t[o].animation.setVolume(e,n)},e.mute=function(e){var n;for(n=0;n<r;n+=1)t[n].animation.mute(e)},e.unmute=function(e){var n;for(n=0;n<r;n+=1)t[n].animation.unmute(e)},e.getRegisteredAnimations=function(){var e,n=t.length,r=[];for(e=0;e<n;e+=1)r.push(t[e].animation);return r},e}(),BezierFactory=function(){var e={getBezierEasing:function(e,n,r,o,i){var s=i||("bez_"+e+"_"+n+"_"+r+"_"+o).replace(/\./g,"p");if(t[s])return t[s];var a=new u([e,n,r,o]);return t[s]=a,a}},t={},n=11,r=1/(n-1),o="function"==typeof Float32Array;function i(e,t){return 1-3*t+3*e}function s(e,t){return 3*t-6*e}function a(e){return 3*e}function l(e,t,n){return((i(t,n)*e+s(t,n))*e+a(t))*e}function c(e,t,n){return 3*i(t,n)*e*e+2*s(t,n)*e+a(t)}function u(e){this._p=e,this._mSampleValues=o?new Float32Array(n):new Array(n),this._precomputed=!1,this.get=this.get.bind(this)}return u.prototype={get:function(e){var t=this._p[0],n=this._p[1],r=this._p[2],o=this._p[3];return this._precomputed||this._precompute(),t===n&&r===o?e:0===e?0:1===e?1:l(this._getTForX(e),n,o)},_precompute:function(){var e=this._p[0],t=this._p[1],n=this._p[2],r=this._p[3];this._precomputed=!0,e===t&&n===r||this._calcSampleValues()},_calcSampleValues:function(){for(var e=this._p[0],t=this._p[2],o=0;o<n;++o)this._mSampleValues[o]=l(o*r,e,t)},_getTForX:function(e){for(var t=this._p[0],o=this._p[2],i=this._mSampleValues,s=0,a=1,u=n-1;a!==u&&i[a]<=e;++a)s+=r;var d=s+(e-i[--a])/(i[a+1]-i[a])*r,h=c(d,t,o);return h>=.001?function(e,t,n,r){for(var o=0;o<4;++o){var i=c(t,n,r);if(0===i)return t;t-=(l(t,n,r)-e)/i}return t}(e,d,t,o):0===h?d:function(e,t,n,r,o){var i,s,a=0;do{(i=l(s=t+(n-t)/2,r,o)-e)>0?n=s:t=s}while(Math.abs(i)>1e-7&&++a<10);return s}(e,s,s+r,t,o)}},e}(),pooling={double:function(e){return e.concat(createSizedArray(e.length))}},poolFactory=function(e,t,n){var r=0,o=e,i=createSizedArray(o);return{newElement:function(){return r?i[r-=1]:t()},release:function(e){r===o&&(i=pooling.double(i),o*=2),n&&n(e),i[r]=e,r+=1}}},bezierLengthPool=poolFactory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}})),segmentsLengthPool=poolFactory(8,(function(){return{lengths:[],totalLength:0}}),(function(e){var t,n=e.lengths.length;for(t=0;t<n;t+=1)bezierLengthPool.release(e.lengths[t]);e.lengths.length=0}));function bezFunction(){var e=Math;function t(e,t,n,r,o,i){var s=e*r+t*o+n*i-o*r-i*e-n*t;return s>-.001&&s<.001}var n=function(e,t,n,r){var o,i,s,a,l,c,u=getDefaultCurveSegments(),d=0,h=[],p=[],f=bezierLengthPool.newElement();for(s=n.length,o=0;o<u;o+=1){for(l=o/(u-1),c=0,i=0;i<s;i+=1)a=bmPow(1-l,3)*e[i]+3*bmPow(1-l,2)*l*n[i]+3*(1-l)*bmPow(l,2)*r[i]+bmPow(l,3)*t[i],h[i]=a,null!==p[i]&&(c+=bmPow(h[i]-p[i],2)),p[i]=h[i];c&&(d+=c=bmSqrt(c)),f.percents[o]=l,f.lengths[o]=d}return f.addedLength=d,f};function r(e){this.segmentLength=0,this.points=new Array(e)}function o(e,t){this.partialLength=e,this.point=t}var i,s=(i={},function(e,n,s,a){var l=(e[0]+"_"+e[1]+"_"+n[0]+"_"+n[1]+"_"+s[0]+"_"+s[1]+"_"+a[0]+"_"+a[1]).replace(/\./g,"p");if(!i[l]){var c,u,d,h,p,f,m,g=getDefaultCurveSegments(),v=0,y=null;2===e.length&&(e[0]!==n[0]||e[1]!==n[1])&&t(e[0],e[1],n[0],n[1],e[0]+s[0],e[1]+s[1])&&t(e[0],e[1],n[0],n[1],n[0]+a[0],n[1]+a[1])&&(g=2);var b=new r(g);for(d=s.length,c=0;c<g;c+=1){for(m=createSizedArray(d),p=c/(g-1),f=0,u=0;u<d;u+=1)h=bmPow(1-p,3)*e[u]+3*bmPow(1-p,2)*p*(e[u]+s[u])+3*(1-p)*bmPow(p,2)*(n[u]+a[u])+bmPow(p,3)*n[u],m[u]=h,null!==y&&(f+=bmPow(m[u]-y[u],2));v+=f=bmSqrt(f),b.points[c]=new o(f,m),y=m}b.segmentLength=v,i[l]=b}return i[l]});function a(e,t){var n=t.percents,r=t.lengths,o=n.length,i=bmFloor((o-1)*e),s=e*t.addedLength,a=0;if(i===o-1||0===i||s===r[i])return n[i];for(var l=r[i]>s?-1:1,c=!0;c;)if(r[i]<=s&&r[i+1]>s?(a=(s-r[i])/(r[i+1]-r[i]),c=!1):i+=l,i<0||i>=o-1){if(i===o-1)return n[i];c=!1}return n[i]+(n[i+1]-n[i])*a}var l=createTypedArray("float32",8);return{getSegmentsLength:function(e){var t,r=segmentsLengthPool.newElement(),o=e.c,i=e.v,s=e.o,a=e.i,l=e._length,c=r.lengths,u=0;for(t=0;t<l-1;t+=1)c[t]=n(i[t],i[t+1],s[t],a[t+1]),u+=c[t].addedLength;return o&&l&&(c[t]=n(i[t],i[0],s[t],a[0]),u+=c[t].addedLength),r.totalLength=u,r},getNewSegment:function(t,n,r,o,i,s,c){i<0?i=0:i>1&&(i=1);var u,d=a(i,c),h=a(s=s>1?1:s,c),p=t.length,f=1-d,m=1-h,g=f*f*f,v=d*f*f*3,y=d*d*f*3,b=d*d*d,w=f*f*m,x=d*f*m+f*d*m+f*f*h,E=d*d*m+f*d*h+d*f*h,S=d*d*h,C=f*m*m,A=d*m*m+f*h*m+f*m*h,_=d*h*m+f*h*h+d*m*h,k=d*h*h,T=m*m*m,M=h*m*m+m*h*m+m*m*h,P=h*h*m+m*h*h+h*m*h,O=h*h*h;for(u=0;u<p;u+=1)l[4*u]=e.round(1e3*(g*t[u]+v*r[u]+y*o[u]+b*n[u]))/1e3,l[4*u+1]=e.round(1e3*(w*t[u]+x*r[u]+E*o[u]+S*n[u]))/1e3,l[4*u+2]=e.round(1e3*(C*t[u]+A*r[u]+_*o[u]+k*n[u]))/1e3,l[4*u+3]=e.round(1e3*(T*t[u]+M*r[u]+P*o[u]+O*n[u]))/1e3;return l},getPointInSegment:function(t,n,r,o,i,s){var l=a(i,s),c=1-l;return[e.round(1e3*(c*c*c*t[0]+(l*c*c+c*l*c+c*c*l)*r[0]+(l*l*c+c*l*l+l*c*l)*o[0]+l*l*l*n[0]))/1e3,e.round(1e3*(c*c*c*t[1]+(l*c*c+c*l*c+c*c*l)*r[1]+(l*l*c+c*l*l+l*c*l)*o[1]+l*l*l*n[1]))/1e3]},buildBezierData:s,pointOnLine2D:t,pointOnLine3D:function(n,r,o,i,s,a,l,c,u){if(0===o&&0===a&&0===u)return t(n,r,i,s,l,c);var d,h=e.sqrt(e.pow(i-n,2)+e.pow(s-r,2)+e.pow(a-o,2)),p=e.sqrt(e.pow(l-n,2)+e.pow(c-r,2)+e.pow(u-o,2)),f=e.sqrt(e.pow(l-i,2)+e.pow(c-s,2)+e.pow(u-a,2));return(d=h>p?h>f?h-p-f:f-p-h:f>p?f-p-h:p-h-f)>-1e-4&&d<1e-4}}}var bez=bezFunction(),PropertyFactory=function(){var e=initialDefaultFrame,t=Math.abs;function n(e,t){var n,o=this.offsetTime;"multidimensional"===this.propType&&(n=createTypedArray("float32",this.pv.length));for(var i,s,a,l,c,u,d,h,p,f=t.lastIndex,m=f,g=this.keyframes.length-1,v=!0;v;){if(i=this.keyframes[m],s=this.keyframes[m+1],m===g-1&&e>=s.t-o){i.h&&(i=s),f=0;break}if(s.t-o>e){f=m;break}m<g-1?m+=1:(f=0,v=!1)}a=this.keyframesMetadata[m]||{};var y,b,w,x,E,S,C,A,_,k,T=s.t-o,M=i.t-o;if(i.to){a.bezierData||(a.bezierData=bez.buildBezierData(i.s,s.s||i.e,i.to,i.ti));var P=a.bezierData;if(e>=T||e<M){var O=e>=T?P.points.length-1:0;for(c=P.points[O].point.length,l=0;l<c;l+=1)n[l]=P.points[O].point[l]}else{a.__fnct?p=a.__fnct:(p=BezierFactory.getBezierEasing(i.o.x,i.o.y,i.i.x,i.i.y,i.n).get,a.__fnct=p),u=p((e-M)/(T-M));var R,N=P.segmentLength*u,D=t.lastFrame<e&&t._lastKeyframeIndex===m?t._lastAddedLength:0;for(h=t.lastFrame<e&&t._lastKeyframeIndex===m?t._lastPoint:0,v=!0,d=P.points.length;v;){if(D+=P.points[h].partialLength,0===N||0===u||h===P.points.length-1){for(c=P.points[h].point.length,l=0;l<c;l+=1)n[l]=P.points[h].point[l];break}if(N>=D&&N<D+P.points[h+1].partialLength){for(R=(N-D)/P.points[h+1].partialLength,c=P.points[h].point.length,l=0;l<c;l+=1)n[l]=P.points[h].point[l]+(P.points[h+1].point[l]-P.points[h].point[l])*R;break}h<d-1?h+=1:v=!1}t._lastPoint=h,t._lastAddedLength=D-P.points[h].partialLength,t._lastKeyframeIndex=m}}else{var I,B,F,L,H;if(g=i.s.length,y=s.s||i.e,this.sh&&1!==i.h)if(e>=T)n[0]=y[0],n[1]=y[1],n[2]=y[2];else if(e<=M)n[0]=i.s[0],n[1]=i.s[1],n[2]=i.s[2];else{b=n,w=function(e,t,n){var r,o,i,s,a,l=[],c=e[0],u=e[1],d=e[2],h=e[3],p=t[0],f=t[1],m=t[2],g=t[3];return(o=c*p+u*f+d*m+h*g)<0&&(o=-o,p=-p,f=-f,m=-m,g=-g),1-o>1e-6?(r=Math.acos(o),i=Math.sin(r),s=Math.sin((1-n)*r)/i,a=Math.sin(n*r)/i):(s=1-n,a=n),l[0]=s*c+a*p,l[1]=s*u+a*f,l[2]=s*d+a*m,l[3]=s*h+a*g,l}(r(i.s),r(y),(e-M)/(T-M)),x=w[0],E=w[1],S=w[2],C=w[3],A=Math.atan2(2*E*C-2*x*S,1-2*E*E-2*S*S),_=Math.asin(2*x*E+2*S*C),k=Math.atan2(2*x*C-2*E*S,1-2*x*x-2*S*S),b[0]=A/degToRads,b[1]=_/degToRads,b[2]=k/degToRads}else for(m=0;m<g;m+=1)1!==i.h&&(e>=T?u=1:e<M?u=0:(i.o.x.constructor===Array?(a.__fnct||(a.__fnct=[]),a.__fnct[m]?p=a.__fnct[m]:(I=void 0===i.o.x[m]?i.o.x[0]:i.o.x[m],B=void 0===i.o.y[m]?i.o.y[0]:i.o.y[m],F=void 0===i.i.x[m]?i.i.x[0]:i.i.x[m],L=void 0===i.i.y[m]?i.i.y[0]:i.i.y[m],p=BezierFactory.getBezierEasing(I,B,F,L).get,a.__fnct[m]=p)):a.__fnct?p=a.__fnct:(I=i.o.x,B=i.o.y,F=i.i.x,L=i.i.y,p=BezierFactory.getBezierEasing(I,B,F,L).get,i.keyframeMetadata=p),u=p((e-M)/(T-M)))),y=s.s||i.e,H=1===i.h?i.s[m]:i.s[m]+(y[m]-i.s[m])*u,"multidimensional"===this.propType?n[m]=H:n=H}return t.lastIndex=f,n}function r(e){var t=e[0]*degToRads,n=e[1]*degToRads,r=e[2]*degToRads,o=Math.cos(t/2),i=Math.cos(n/2),s=Math.cos(r/2),a=Math.sin(t/2),l=Math.sin(n/2),c=Math.sin(r/2);return[a*l*s+o*i*c,a*i*s+o*l*c,o*l*s-a*i*c,o*i*s-a*l*c]}function o(){var t=this.comp.renderedFrame-this.offsetTime,n=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==e&&(this._caching.lastFrame>=r&&t>=r||this._caching.lastFrame<n&&t<n))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var o=this.interpolateValue(t,this._caching);this.pv=o}return this._caching.lastFrame=t,this.pv}function i(e){var n;if("unidimensional"===this.propType)n=e*this.mult,t(this.v-n)>1e-5&&(this.v=n,this._mdf=!0);else for(var r=0,o=this.v.length;r<o;)n=e[r]*this.mult,t(this.v[r]-n)>1e-5&&(this.v[r]=n,this._mdf=!0),r+=1}function s(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e;this.lock=!0,this._mdf=this._isFirstFrame;var t=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)n=this.effectsSequence[e](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function a(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function l(e,t,n,r){this.propType="unidimensional",this.mult=n||1,this.data=t,this.v=n?t.k*n:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=r,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=s,this.setVValue=i,this.addEffect=a}function c(e,t,n,r){var o;this.propType="multidimensional",this.mult=n||1,this.data=t,this._mdf=!1,this.elem=e,this.container=r,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var l=t.k.length;for(this.v=createTypedArray("float32",l),this.pv=createTypedArray("float32",l),this.vel=createTypedArray("float32",l),o=0;o<l;o+=1)this.v[o]=t.k[o]*this.mult,this.pv[o]=t.k[o];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=s,this.setVValue=i,this.addEffect=a}function u(t,r,l,c){this.propType="unidimensional",this.keyframes=r.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:e,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=r,this.mult=l||1,this.elem=t,this.container=c,this.comp=t.comp,this.v=e,this.pv=e,this._isFirstFrame=!0,this.getValue=s,this.setVValue=i,this.interpolateValue=n,this.effectsSequence=[o.bind(this)],this.addEffect=a}function d(t,r,l,c){var u;this.propType="multidimensional";var d,h,p,f,m=r.k.length;for(u=0;u<m-1;u+=1)r.k[u].to&&r.k[u].s&&r.k[u+1]&&r.k[u+1].s&&(d=r.k[u].s,h=r.k[u+1].s,p=r.k[u].to,f=r.k[u].ti,(2===d.length&&(d[0]!==h[0]||d[1]!==h[1])&&bez.pointOnLine2D(d[0],d[1],h[0],h[1],d[0]+p[0],d[1]+p[1])&&bez.pointOnLine2D(d[0],d[1],h[0],h[1],h[0]+f[0],h[1]+f[1])||3===d.length&&(d[0]!==h[0]||d[1]!==h[1]||d[2]!==h[2])&&bez.pointOnLine3D(d[0],d[1],d[2],h[0],h[1],h[2],d[0]+p[0],d[1]+p[1],d[2]+p[2])&&bez.pointOnLine3D(d[0],d[1],d[2],h[0],h[1],h[2],h[0]+f[0],h[1]+f[1],h[2]+f[2]))&&(r.k[u].to=null,r.k[u].ti=null),d[0]===h[0]&&d[1]===h[1]&&0===p[0]&&0===p[1]&&0===f[0]&&0===f[1]&&(2===d.length||d[2]===h[2]&&0===p[2]&&0===f[2])&&(r.k[u].to=null,r.k[u].ti=null));this.effectsSequence=[o.bind(this)],this.data=r,this.keyframes=r.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=l||1,this.elem=t,this.container=c,this.comp=t.comp,this.getValue=s,this.setVValue=i,this.interpolateValue=n,this.frameId=-1;var g=r.k[0].s.length;for(this.v=createTypedArray("float32",g),this.pv=createTypedArray("float32",g),u=0;u<g;u+=1)this.v[u]=e,this.pv[u]=e;this._caching={lastFrame:e,lastIndex:0,value:createTypedArray("float32",g)},this.addEffect=a}return{getProp:function(e,t,n,r,o){var i;if(t.k.length)if("number"==typeof t.k[0])i=new c(e,t,r,o);else switch(n){case 0:i=new u(e,t,r,o);break;case 1:i=new d(e,t,r,o)}else i=new l(e,t,r,o);return i.effectsSequence.length&&o.addDynamicProperty(i),i}}}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var e;this._mdf=!1;var t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,(function(){return createTypedArray("float32",2)}));function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var n=0;n<t;)this.v[n]=pointPool.newElement(),this.o[n]=pointPool.newElement(),this.i[n]=pointPool.newElement(),n+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,n,r,o){var i;switch(this._length=Math.max(this._length,r+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":i=this.v;break;case"i":i=this.i;break;case"o":i=this.o;break;default:i=[]}(!i[r]||i[r]&&!o)&&(i[r]=pointPool.newElement()),i[r][0]=e,i[r][1]=t},ShapePath.prototype.setTripleAt=function(e,t,n,r,o,i,s,a){this.setXYAt(e,t,"v",s,a),this.setXYAt(n,r,"o",s,a),this.setXYAt(o,i,"i",s,a)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,n=this.o,r=this.i,o=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],r[0][0],r[0][1],n[0][0],n[0][1],0,!1),o=1);var i,s=this._length-1,a=this._length;for(i=o;i<a;i+=1)e.setTripleAt(t[s][0],t[s][1],r[s][0],r[s][1],n[s][0],n[s][1],i,!1),s-=1;return e},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,(function(){return new ShapePath}),(function(e){var t,n=e._length;for(t=0;t<n;t+=1)pointPool.release(e.v[t]),pointPool.release(e.i[t]),pointPool.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1})),factory.clone=function(e){var t,n=factory.newElement(),r=void 0===e._length?e.v.length:e._length;for(n.setLength(r),n.c=e.c,t=0;t<r;t+=1)n.setTripleAt(e.v[t][0],e.v[t][1],e.o[t][0],e.o[t][1],e.i[t][0],e.i[t][1],t);return n},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shapePool.release(this.shapes[e]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(e){var t,n=e._length;for(t=0;t<n;t+=1)shapePool.release(e.shapes[t]);e._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=e,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){var e=-999999;function t(e,t,n){var r,o,i,s,a,l,c,u,d,h=n.lastIndex,p=this.keyframes;if(e<p[0].t-this.offsetTime)r=p[0].s[0],i=!0,h=0;else if(e>=p[p.length-1].t-this.offsetTime)r=p[p.length-1].s?p[p.length-1].s[0]:p[p.length-2].e[0],i=!0;else{for(var f,m,g,v=h,y=p.length-1,b=!0;b&&(f=p[v],!((m=p[v+1]).t-this.offsetTime>e));)v<y-1?v+=1:b=!1;if(g=this.keyframesMetadata[v]||{},h=v,!(i=1===f.h)){if(e>=m.t-this.offsetTime)u=1;else if(e<f.t-this.offsetTime)u=0;else{var w;g.__fnct?w=g.__fnct:(w=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,g.__fnct=w),u=w((e-(f.t-this.offsetTime))/(m.t-this.offsetTime-(f.t-this.offsetTime)))}o=m.s?m.s[0]:f.e[0]}r=f.s[0]}for(l=t._length,c=r.i[0].length,n.lastIndex=h,s=0;s<l;s+=1)for(a=0;a<c;a+=1)d=i?r.i[s][a]:r.i[s][a]+(o.i[s][a]-r.i[s][a])*u,t.i[s][a]=d,d=i?r.o[s][a]:r.o[s][a]+(o.o[s][a]-r.o[s][a])*u,t.o[s][a]=d,d=i?r.v[s][a]:r.v[s][a]+(o.v[s][a]-r.v[s][a])*u,t.v[s][a]=d}function n(){var t=this.comp.renderedFrame-this.offsetTime,n=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime,o=this._caching.lastFrame;return o!==e&&(o<n&&t<n||o>r&&t>r)||(this._caching.lastIndex=o<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}function r(){this.paths=this.localShapeCollection}function o(e){(function(e,t){if(e._length!==t._length||e.c!==t.c)return!1;var n,r=e._length;for(n=0;n<r;n+=1)if(e.v[n][0]!==t.v[n][0]||e.v[n][1]!==t.v[n][1]||e.o[n][0]!==t.o[n][0]||e.o[n][1]!==t.o[n][1]||e.i[n][0]!==t.i[n][0]||e.i[n][1]!==t.i[n][1])return!1;return!0})(this.v,e)||(this.v=shapePool.clone(e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function i(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e,t;this.lock=!0,this._mdf=!1,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var n=this.effectsSequence.length;for(t=0;t<n;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function s(e,t,n){this.propType="shape",this.comp=e.comp,this.container=e,this.elem=e,this.data=t,this.k=!1,this.kf=!1,this._mdf=!1;var o=3===n?t.pt.k:t.ks.k;this.v=shapePool.clone(o),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=r,this.effectsSequence=[]}function a(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function l(t,o,i){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===i?o.pt.k:o.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var s=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,s),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=r,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[n.bind(this)]}s.prototype.interpolateShape=t,s.prototype.getValue=i,s.prototype.setVValue=o,s.prototype.addEffect=a,l.prototype.getValue=i,l.prototype.interpolateShape=t,l.prototype.setVValue=o,l.prototype.addEffect=a;var c=function(){var e=roundCorner;function t(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=t.d,this.elem=e,this.comp=e.comp,this.frameId=-1,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return t.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],n=this.p.v[1],r=this.s.v[0]/2,o=this.s.v[1]/2,i=3!==this.d,s=this.v;s.v[0][0]=t,s.v[0][1]=n-o,s.v[1][0]=i?t+r:t-r,s.v[1][1]=n,s.v[2][0]=t,s.v[2][1]=n+o,s.v[3][0]=i?t-r:t+r,s.v[3][1]=n,s.i[0][0]=i?t-r*e:t+r*e,s.i[0][1]=n-o,s.i[1][0]=i?t+r:t-r,s.i[1][1]=n-o*e,s.i[2][0]=i?t+r*e:t-r*e,s.i[2][1]=n+o,s.i[3][0]=i?t-r:t+r,s.i[3][1]=n+o*e,s.o[0][0]=i?t+r*e:t-r*e,s.o[0][1]=n-o,s.o[1][0]=i?t+r:t-r,s.o[1][1]=n+o*e,s.o[2][0]=i?t-r*e:t+r*e,s.o[2][1]=n+o,s.o[3][0]=i?t-r:t+r,s.o[3][1]=n-o*e}},extendPrototype([DynamicPropertyContainer],t),t}(),u=function(){function e(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=e,this.comp=e.comp,this.data=t,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),1===t.sy?(this.ir=PropertyFactory.getProp(e,t.ir,0,0,this),this.is=PropertyFactory.getProp(e,t.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(e,t.pt,0,0,this),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,degToRads,this),this.or=PropertyFactory.getProp(e,t.or,0,0,this),this.os=PropertyFactory.getProp(e,t.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return e.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var e,t,n,r,o=2*Math.floor(this.pt.v),i=2*Math.PI/o,s=!0,a=this.or.v,l=this.ir.v,c=this.os.v,u=this.is.v,d=2*Math.PI*a/(2*o),h=2*Math.PI*l/(2*o),p=-Math.PI/2;p+=this.r.v;var f=3===this.data.d?-1:1;for(this.v._length=0,e=0;e<o;e+=1){n=s?c:u,r=s?d:h;var m=(t=s?a:l)*Math.cos(p),g=t*Math.sin(p),v=0===m&&0===g?0:g/Math.sqrt(m*m+g*g),y=0===m&&0===g?0:-m/Math.sqrt(m*m+g*g);m+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(m,g,m-v*r*n*f,g-y*r*n*f,m+v*r*n*f,g+y*r*n*f,e,!0),s=!s,p+=i*f}},convertPolygonToPath:function(){var e,t=Math.floor(this.pt.v),n=2*Math.PI/t,r=this.or.v,o=this.os.v,i=2*Math.PI*r/(4*t),s=.5*-Math.PI,a=3===this.data.d?-1:1;for(s+=this.r.v,this.v._length=0,e=0;e<t;e+=1){var l=r*Math.cos(s),c=r*Math.sin(s),u=0===l&&0===c?0:c/Math.sqrt(l*l+c*c),d=0===l&&0===c?0:-l/Math.sqrt(l*l+c*c);l+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(l,c,l-u*i*o*a,c-d*i*o*a,l+u*i*o*a,c+d*i*o*a,e,!0),s+=n*a}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],e),e}(),d=function(){function e(e,t){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=e,this.comp=e.comp,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return e.prototype={convertRectToPath:function(){var e=this.p.v[0],t=this.p.v[1],n=this.s.v[0]/2,r=this.s.v[1]/2,o=bmMin(n,r,this.r.v),i=o*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(e+n,t-r+o,e+n,t-r+o,e+n,t-r+i,0,!0),this.v.setTripleAt(e+n,t+r-o,e+n,t+r-i,e+n,t+r-o,1,!0),0!==o?(this.v.setTripleAt(e+n-o,t+r,e+n-o,t+r,e+n-i,t+r,2,!0),this.v.setTripleAt(e-n+o,t+r,e-n+i,t+r,e-n+o,t+r,3,!0),this.v.setTripleAt(e-n,t+r-o,e-n,t+r-o,e-n,t+r-i,4,!0),this.v.setTripleAt(e-n,t-r+o,e-n,t-r+i,e-n,t-r+o,5,!0),this.v.setTripleAt(e-n+o,t-r,e-n+o,t-r,e-n+i,t-r,6,!0),this.v.setTripleAt(e+n-o,t-r,e+n-i,t-r,e+n-o,t-r,7,!0)):(this.v.setTripleAt(e-n,t+r,e-n+i,t+r,e-n,t+r,2),this.v.setTripleAt(e-n,t-r,e-n,t-r+i,e-n,t-r,3))):(this.v.setTripleAt(e+n,t-r+o,e+n,t-r+i,e+n,t-r+o,0,!0),0!==o?(this.v.setTripleAt(e+n-o,t-r,e+n-o,t-r,e+n-i,t-r,1,!0),this.v.setTripleAt(e-n+o,t-r,e-n+i,t-r,e-n+o,t-r,2,!0),this.v.setTripleAt(e-n,t-r+o,e-n,t-r+o,e-n,t-r+i,3,!0),this.v.setTripleAt(e-n,t+r-o,e-n,t+r-i,e-n,t+r-o,4,!0),this.v.setTripleAt(e-n+o,t+r,e-n+o,t+r,e-n+i,t+r,5,!0),this.v.setTripleAt(e+n-o,t+r,e+n-i,t+r,e+n-o,t+r,6,!0),this.v.setTripleAt(e+n,t+r-o,e+n,t+r-o,e+n,t+r-i,7,!0)):(this.v.setTripleAt(e-n,t-r,e-n+i,t-r,e-n,t-r,1,!0),this.v.setTripleAt(e-n,t+r,e-n,t+r-i,e-n,t+r,2,!0),this.v.setTripleAt(e+n,t+r,e+n-i,t+r,e+n,t+r,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:r},extendPrototype([DynamicPropertyContainer],e),e}();return{getShapeProp:function(e,t,n){var r;return 3===n||4===n?r=(3===n?t.pt:t.ks).k.length?new l(e,t,n):new s(e,t,n):5===n?r=new d(e,t):6===n?r=new c(e,t):7===n&&(r=new u(e,t)),r.k&&e.addDynamicProperty(r),r},getConstructorFunction:function(){return s},getKeyframedConstructorFunction:function(){return l}}}(),Matrix=function(){var e=Math.cos,t=Math.sin,n=Math.tan,r=Math.round;function o(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function i(n){if(0===n)return this;var r=e(n),o=t(n);return this._t(r,-o,0,0,o,r,0,0,0,0,1,0,0,0,0,1)}function s(n){if(0===n)return this;var r=e(n),o=t(n);return this._t(1,0,0,0,0,r,-o,0,0,o,r,0,0,0,0,1)}function a(n){if(0===n)return this;var r=e(n),o=t(n);return this._t(r,0,o,0,0,1,0,0,-o,0,r,0,0,0,0,1)}function l(n){if(0===n)return this;var r=e(n),o=t(n);return this._t(r,-o,0,0,o,r,0,0,0,0,1,0,0,0,0,1)}function c(e,t){return this._t(1,t,e,1,0,0)}function u(e,t){return this.shear(n(e),n(t))}function d(r,o){var i=e(o),s=t(o);return this._t(i,s,0,0,-s,i,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(r),1,0,0,0,0,1,0,0,0,0,1)._t(i,-s,0,0,s,i,0,0,0,0,1,0,0,0,0,1)}function h(e,t,n){return n||0===n||(n=1),1===e&&1===t&&1===n?this:this._t(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1)}function p(e,t,n,r,o,i,s,a,l,c,u,d,h,p,f,m){return this.props[0]=e,this.props[1]=t,this.props[2]=n,this.props[3]=r,this.props[4]=o,this.props[5]=i,this.props[6]=s,this.props[7]=a,this.props[8]=l,this.props[9]=c,this.props[10]=u,this.props[11]=d,this.props[12]=h,this.props[13]=p,this.props[14]=f,this.props[15]=m,this}function f(e,t,n){return n=n||0,0!==e||0!==t||0!==n?this._t(1,0,0,0,0,1,0,0,0,0,1,0,e,t,n,1):this}function m(e,t,n,r,o,i,s,a,l,c,u,d,h,p,f,m){var g=this.props;if(1===e&&0===t&&0===n&&0===r&&0===o&&1===i&&0===s&&0===a&&0===l&&0===c&&1===u&&0===d)return g[12]=g[12]*e+g[15]*h,g[13]=g[13]*i+g[15]*p,g[14]=g[14]*u+g[15]*f,g[15]*=m,this._identityCalculated=!1,this;var v=g[0],y=g[1],b=g[2],w=g[3],x=g[4],E=g[5],S=g[6],C=g[7],A=g[8],_=g[9],k=g[10],T=g[11],M=g[12],P=g[13],O=g[14],R=g[15];return g[0]=v*e+y*o+b*l+w*h,g[1]=v*t+y*i+b*c+w*p,g[2]=v*n+y*s+b*u+w*f,g[3]=v*r+y*a+b*d+w*m,g[4]=x*e+E*o+S*l+C*h,g[5]=x*t+E*i+S*c+C*p,g[6]=x*n+E*s+S*u+C*f,g[7]=x*r+E*a+S*d+C*m,g[8]=A*e+_*o+k*l+T*h,g[9]=A*t+_*i+k*c+T*p,g[10]=A*n+_*s+k*u+T*f,g[11]=A*r+_*a+k*d+T*m,g[12]=M*e+P*o+O*l+R*h,g[13]=M*t+P*i+O*c+R*p,g[14]=M*n+P*s+O*u+R*f,g[15]=M*r+P*a+O*d+R*m,this._identityCalculated=!1,this}function g(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function v(e){for(var t=0;t<16;){if(e.props[t]!==this.props[t])return!1;t+=1}return!0}function y(e){var t;for(t=0;t<16;t+=1)e.props[t]=this.props[t];return e}function b(e){var t;for(t=0;t<16;t+=1)this.props[t]=e[t]}function w(e,t,n){return{x:e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12],y:e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13],z:e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]}}function x(e,t,n){return e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12]}function E(e,t,n){return e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13]}function S(e,t,n){return e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]}function C(){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],t=this.props[5]/e,n=-this.props[1]/e,r=-this.props[4]/e,o=this.props[0]/e,i=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,s=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e,a=new Matrix;return a.props[0]=t,a.props[1]=n,a.props[4]=r,a.props[5]=o,a.props[12]=i,a.props[13]=s,a}function A(e){return this.getInverseMatrix().applyToPointArray(e[0],e[1],e[2]||0)}function _(e){var t,n=e.length,r=[];for(t=0;t<n;t+=1)r[t]=A(e[t]);return r}function k(e,t,n){var r=createTypedArray("float32",6);if(this.isIdentity())r[0]=e[0],r[1]=e[1],r[2]=t[0],r[3]=t[1],r[4]=n[0],r[5]=n[1];else{var o=this.props[0],i=this.props[1],s=this.props[4],a=this.props[5],l=this.props[12],c=this.props[13];r[0]=e[0]*o+e[1]*s+l,r[1]=e[0]*i+e[1]*a+c,r[2]=t[0]*o+t[1]*s+l,r[3]=t[0]*i+t[1]*a+c,r[4]=n[0]*o+n[1]*s+l,r[5]=n[0]*i+n[1]*a+c}return r}function T(e,t,n){return this.isIdentity()?[e,t,n]:[e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12],e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13],e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]]}function M(e,t){if(this.isIdentity())return e+","+t;var n=this.props;return Math.round(100*(e*n[0]+t*n[4]+n[12]))/100+","+Math.round(100*(e*n[1]+t*n[5]+n[13]))/100}function P(){for(var e=0,t=this.props,n="matrix3d(";e<16;)n+=r(1e4*t[e])/1e4,n+=15===e?")":",",e+=1;return n}function O(e){return e<1e-6&&e>0||e>-1e-6&&e<0?r(1e4*e)/1e4:e}function R(){var e=this.props;return"matrix("+O(e[0])+","+O(e[1])+","+O(e[4])+","+O(e[5])+","+O(e[12])+","+O(e[13])+")"}return function(){this.reset=o,this.rotate=i,this.rotateX=s,this.rotateY=a,this.rotateZ=l,this.skew=u,this.skewFromAxis=d,this.shear=c,this.scale=h,this.setTransform=p,this.translate=f,this.transform=m,this.applyToPoint=w,this.applyToX=x,this.applyToY=E,this.applyToZ=S,this.applyToPointArray=T,this.applyToTriplePoints=k,this.applyToPointStringified=M,this.toCSS=P,this.to2dCSS=R,this.clone=y,this.cloneFromProps=b,this.equals=v,this.inversePoints=_,this.inversePoint=A,this.getInverseMatrix=C,this._t=this.transform,this.isIdentity=g,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(e){return _typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(e)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(e){setLocationHref(e)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(e){setSubframeEnabled(e)}function setPrefix(e){setIdPrefix(e)}function loadAnimation(e){return!0===standalone&&(e.animationData=JSON.parse(animationData)),animationManager.loadAnimation(e)}function setQuality(e){if("string"==typeof e)switch(e){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(e)&&e>1&&setDefaultCurveSegments(e);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(e,t){"expressions"===e&&setExpressionsPlugin(t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),n=0;n<t.length;n+=1){var r=t[n].split("=");if(decodeURIComponent(r[0])==e)return decodeURIComponent(r[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.10.2";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{"object"!==_typeof$3(exports)&&__webpack_require__.amdO}catch(e){}var ShapeModifiers=function(){var e={},t={};return e.registerModifier=function(e,n){t[e]||(t[e]=n)},e.getModifier=function(e,n,r){return new t[e](n,r)},e}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,n,r,o){var i=[];t<=1?i.push({s:e,e:t}):e>=1?i.push({s:e-1,e:t-1}):(i.push({s:e,e:1}),i.push({s:0,e:t-1}));var s,a,l=[],c=i.length;for(s=0;s<c;s+=1){var u,d;(a=i[s]).e*o<r||a.s*o>r+n||(u=a.s*o<=r?0:(a.s*o-r)/n,d=a.e*o>=r+n?1:(a.e*o-r)/n,l.push([u,d]))}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(e){var t,n=e.length;for(t=0;t<n;t+=1)segmentsLengthPool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,n,r,o;if(this._mdf||e){var i=this.o.v%360/360;if(i<0&&(i+=1),(t=this.s.v>1?1+i:this.s.v<0?0+i:this.s.v+i)>(n=this.e.v>1?1+i:this.e.v<0?0+i:this.e.v+i)){var s=t;t=n,n=s}t=1e-4*Math.round(1e4*t),n=1e-4*Math.round(1e4*n),this.sValue=t,this.eValue=n}else t=this.sValue,n=this.eValue;var a,l,c,u,d,h=this.shapes.length,p=0;if(n===t)for(o=0;o<h;o+=1)this.shapes[o].localShapeCollection.releaseShapes(),this.shapes[o].shape._mdf=!0,this.shapes[o].shape.paths=this.shapes[o].localShapeCollection,this._mdf&&(this.shapes[o].pathsData.length=0);else if(1===n&&0===t||0===n&&1===t){if(this._mdf)for(o=0;o<h;o+=1)this.shapes[o].pathsData.length=0,this.shapes[o].shape._mdf=!0}else{var f,m,g=[];for(o=0;o<h;o+=1)if((f=this.shapes[o]).shape._mdf||this._mdf||e||2===this.m){if(l=(r=f.shape.paths)._length,d=0,!f.shape._mdf&&f.pathsData.length)d=f.totalShapeLength;else{for(c=this.releasePathsData(f.pathsData),a=0;a<l;a+=1)u=bez.getSegmentsLength(r.shapes[a]),c.push(u),d+=u.totalLength;f.totalShapeLength=d,f.pathsData=c}p+=d,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var v,y=t,b=n,w=0;for(o=h-1;o>=0;o-=1)if((f=this.shapes[o]).shape._mdf){for((m=f.localShapeCollection).releaseShapes(),2===this.m&&h>1?(v=this.calculateShapeEdges(t,n,f.totalShapeLength,w,p),w+=f.totalShapeLength):v=[[y,b]],l=v.length,a=0;a<l;a+=1){y=v[a][0],b=v[a][1],g.length=0,b<=1?g.push({s:f.totalShapeLength*y,e:f.totalShapeLength*b}):y>=1?g.push({s:f.totalShapeLength*(y-1),e:f.totalShapeLength*(b-1)}):(g.push({s:f.totalShapeLength*y,e:f.totalShapeLength}),g.push({s:0,e:f.totalShapeLength*(b-1)}));var x=this.addShapes(f,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(f.shape.paths.shapes[f.shape.paths._length-1].c){var E=x.pop();this.addPaths(x,m),x=this.addShapes(f,g[1],E)}else this.addPaths(x,m),x=this.addShapes(f,g[1]);this.addPaths(x,m)}}f.shape.paths=m}}},TrimModifier.prototype.addPaths=function(e,t){var n,r=e.length;for(n=0;n<r;n+=1)t.addShape(e[n])},TrimModifier.prototype.addSegment=function(e,t,n,r,o,i,s){o.setXYAt(t[0],t[1],"o",i),o.setXYAt(n[0],n[1],"i",i+1),s&&o.setXYAt(e[0],e[1],"v",i),o.setXYAt(r[0],r[1],"v",i+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,n,r){t.setXYAt(e[1],e[5],"o",n),t.setXYAt(e[2],e[6],"i",n+1),r&&t.setXYAt(e[0],e[4],"v",n),t.setXYAt(e[3],e[7],"v",n+1)},TrimModifier.prototype.addShapes=function(e,t,n){var r,o,i,s,a,l,c,u,d=e.pathsData,h=e.shape.paths.shapes,p=e.shape.paths._length,f=0,m=[],g=!0;for(n?(a=n._length,u=n._length):(n=shapePool.newElement(),a=0,u=0),m.push(n),r=0;r<p;r+=1){for(l=d[r].lengths,n.c=h[r].c,i=h[r].c?l.length:l.length+1,o=1;o<i;o+=1)if(f+(s=l[o-1]).addedLength<t.s)f+=s.addedLength,n.c=!1;else{if(f>t.e){n.c=!1;break}t.s<=f&&t.e>=f+s.addedLength?(this.addSegment(h[r].v[o-1],h[r].o[o-1],h[r].i[o],h[r].v[o],n,a,g),g=!1):(c=bez.getNewSegment(h[r].v[o-1],h[r].v[o],h[r].o[o-1],h[r].i[o],(t.s-f)/s.addedLength,(t.e-f)/s.addedLength,l[o-1]),this.addSegmentFromArray(c,n,a,g),g=!1,n.c=!1),f+=s.addedLength,a+=1}if(h[r].c&&l.length){if(s=l[o-1],f<=t.e){var v=l[o-1].addedLength;t.s<=f&&t.e>=f+v?(this.addSegment(h[r].v[o-1],h[r].o[o-1],h[r].i[0],h[r].v[0],n,a,g),g=!1):(c=bez.getNewSegment(h[r].v[o-1],h[r].v[0],h[r].o[o-1],h[r].i[0],(t.s-f)/v,(t.e-f)/v,l[o-1]),this.addSegmentFromArray(c,n,a,g),g=!1,n.c=!1)}else n.c=!1;f+=s.addedLength,a+=1}if(n._length&&(n.setXYAt(n.v[u][0],n.v[u][1],"i",u),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),f>t.e)break;r<p-1&&(n=shapePool.newElement(),g=!0,m.push(n),a=0)}return m},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,t){var n=t/100,r=[0,0],o=e._length,i=0;for(i=0;i<o;i+=1)r[0]+=e.v[i][0],r[1]+=e.v[i][1];r[0]/=o,r[1]/=o;var s,a,l,c,u,d,h=shapePool.newElement();for(h.c=e.c,i=0;i<o;i+=1)s=e.v[i][0]+(r[0]-e.v[i][0])*n,a=e.v[i][1]+(r[1]-e.v[i][1])*n,l=e.o[i][0]+(r[0]-e.o[i][0])*-n,c=e.o[i][1]+(r[1]-e.o[i][1])*-n,u=e.i[i][0]+(r[0]-e.i[i][0])*-n,d=e.i[i][1]+(r[1]-e.i[i][1])*-n,h.setTripleAt(s,a,l,c,u,d,i);return h},PuckerAndBloatModifier.prototype.processShapes=function(e){var t,n,r,o,i,s,a=this.shapes.length,l=this.amount.v;if(0!==l)for(n=0;n<a;n+=1){if(s=(i=this.shapes[n]).localShapeCollection,i.shape._mdf||this._mdf||e)for(s.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,o=i.shape.paths._length,r=0;r<o;r+=1)s.addShape(this.processPath(t[r],l));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var e=[0,0];function t(e,t,n){if(this.elem=e,this.frameId=-1,this.propType="transform",this.data=t,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(n||e),t.p&&t.p.s?(this.px=PropertyFactory.getProp(e,t.p.x,0,0,this),this.py=PropertyFactory.getProp(e,t.p.y,0,0,this),t.p.z&&(this.pz=PropertyFactory.getProp(e,t.p.z,0,0,this))):this.p=PropertyFactory.getProp(e,t.p||{k:[0,0,0]},1,0,this),t.rx){if(this.rx=PropertyFactory.getProp(e,t.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(e,t.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(e,t.rz,0,degToRads,this),t.or.k[0].ti){var r,o=t.or.k.length;for(r=0;r<o;r+=1)t.or.k[r].to=null,t.or.k[r].ti=null}this.or=PropertyFactory.getProp(e,t.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(e,t.r||{k:0},0,degToRads,this);t.sk&&(this.sk=PropertyFactory.getProp(e,t.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(e,t.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(e,t.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(e,t.s||{k:[100,100,100]},1,.01,this),t.o?this.o=PropertyFactory.getProp(e,t.o,0,.01,e):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(e){var t=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||t,this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&e.skewFromAxis(-this.sk.v,this.sa.v),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?e.translate(this.px.v,this.py.v,-this.pz.v):e.translate(this.px.v,this.py.v,0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){var n;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var r,o;if(n=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(r=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/n,0),o=this.p.getValueAtTime(this.p.keyframes[0].t/n,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(r=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/n,0),o=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/n,0)):(r=this.p.pv,o=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/n,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){r=[],o=[];var i=this.px,s=this.py;i._caching.lastFrame+i.offsetTime<=i.keyframes[0].t?(r[0]=i.getValueAtTime((i.keyframes[0].t+.01)/n,0),r[1]=s.getValueAtTime((s.keyframes[0].t+.01)/n,0),o[0]=i.getValueAtTime(i.keyframes[0].t/n,0),o[1]=s.getValueAtTime(s.keyframes[0].t/n,0)):i._caching.lastFrame+i.offsetTime>=i.keyframes[i.keyframes.length-1].t?(r[0]=i.getValueAtTime(i.keyframes[i.keyframes.length-1].t/n,0),r[1]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/n,0),o[0]=i.getValueAtTime((i.keyframes[i.keyframes.length-1].t-.01)/n,0),o[1]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/n,0)):(r=[i.pv,s.pv],o[0]=i.getValueAtTime((i._caching.lastFrame+i.offsetTime-.01)/n,i.offsetTime),o[1]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/n,s.offsetTime))}else r=o=e;this.v.rotate(-Math.atan2(r[1]-o[1],r[0]-o[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],t),t.prototype.addDynamicProperty=function(e){this._addDynamicProperty(e),this.elem.addDynamicProperty(e),this._isDirty=!0},t.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(e,n,r){return new t(e,n,r)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(e,t){return 1e5*Math.abs(e-t)<=Math.min(Math.abs(e),Math.abs(t))}function floatZero(e){return Math.abs(e)<=1e-5}function lerp(e,t,n){return e*(1-n)+t*n}function lerpPoint(e,t,n){return[lerp(e[0],t[0],n),lerp(e[1],t[1],n)]}function quadRoots(e,t,n){if(0===e)return[];var r=t*t-4*e*n;if(r<0)return[];var o=-t/(2*e);if(0===r)return[o];var i=Math.sqrt(r)/(2*e);return[o-i,o+i]}function polynomialCoefficients(e,t,n,r){return[3*t-e-3*n+r,3*e-6*t+3*n,-3*e+3*t,e]}function singlePoint(e){return new PolynomialBezier(e,e,e,e,!1)}function PolynomialBezier(e,t,n,r,o){o&&pointEqual(e,t)&&(t=lerpPoint(e,r,1/3)),o&&pointEqual(n,r)&&(n=lerpPoint(e,r,2/3));var i=polynomialCoefficients(e[0],t[0],n[0],r[0]),s=polynomialCoefficients(e[1],t[1],n[1],r[1]);this.a=[i[0],s[0]],this.b=[i[1],s[1]],this.c=[i[2],s[2]],this.d=[i[3],s[3]],this.points=[e,t,n,r]}function extrema(e,t){var n=e.points[0][t],r=e.points[e.points.length-1][t];if(n>r){var o=r;r=n,n=o}for(var i=quadRoots(3*e.a[t],2*e.b[t],e.c[t]),s=0;s<i.length;s+=1)if(i[s]>0&&i[s]<1){var a=e.point(i[s])[t];a<n?n=a:a>r&&(r=a)}return{min:n,max:r}}function intersectData(e,t,n){var r=e.boundingBox();return{cx:r.cx,cy:r.cy,width:r.width,height:r.height,bez:e,t:(t+n)/2,t1:t,t2:n}}function splitData(e){var t=e.bez.split(.5);return[intersectData(t[0],e.t1,e.t),intersectData(t[1],e.t,e.t2)]}function boxIntersect(e,t){return 2*Math.abs(e.cx-t.cx)<e.width+t.width&&2*Math.abs(e.cy-t.cy)<e.height+t.height}function intersectsImpl(e,t,n,r,o,i){if(boxIntersect(e,t))if(n>=i||e.width<=r&&e.height<=r&&t.width<=r&&t.height<=r)o.push([e.t,t.t]);else{var s=splitData(e),a=splitData(t);intersectsImpl(s[0],a[0],n+1,r,o,i),intersectsImpl(s[0],a[1],n+1,r,o,i),intersectsImpl(s[1],a[0],n+1,r,o,i),intersectsImpl(s[1],a[1],n+1,r,o,i)}}function crossProduct(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function lineIntersection(e,t,n,r){var o=[e[0],e[1],1],i=[t[0],t[1],1],s=[n[0],n[1],1],a=[r[0],r[1],1],l=crossProduct(crossProduct(o,i),crossProduct(s,a));return floatZero(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function polarOffset(e,t,n){return[e[0]+Math.cos(t)*n,e[1]-Math.sin(t)*n]}function pointDistance(e,t){return Math.hypot(e[0]-t[0],e[1]-t[1])}function pointEqual(e,t){return floatEqual(e[0],t[0])&&floatEqual(e[1],t[1])}function ZigZagModifier(){}function setPoint(e,t,n,r,o,i,s){var a=n-Math.PI/2,l=n+Math.PI/2,c=t[0]+Math.cos(n)*r*o,u=t[1]-Math.sin(n)*r*o;e.setTripleAt(c,u,c+Math.cos(a)*i,u-Math.sin(a)*i,c+Math.cos(l)*s,u-Math.sin(l)*s,e.length())}function getPerpendicularVector(e,t){var n=[t[0]-e[0],t[1]-e[1]],r=.5*-Math.PI;return[Math.cos(r)*n[0]-Math.sin(r)*n[1],Math.sin(r)*n[0]+Math.cos(r)*n[1]]}function getProjectingAngle(e,t){var n=0===t?e.length()-1:t-1,r=(t+1)%e.length(),o=getPerpendicularVector(e.v[n],e.v[r]);return Math.atan2(0,1)-Math.atan2(o[1],o[0])}function zigZagCorner(e,t,n,r,o,i,s){var a=getProjectingAngle(t,n),l=t.v[n%t._length],c=t.v[0===n?t._length-1:n-1],u=t.v[(n+1)%t._length],d=2===i?Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)):0,h=2===i?Math.sqrt(Math.pow(l[0]-u[0],2)+Math.pow(l[1]-u[1],2)):0;setPoint(e,t.v[n%t._length],a,s,r,h/(2*(o+1)),d/(2*(o+1)),i)}function zigZagSegment(e,t,n,r,o,i){for(var s=0;s<r;s+=1){var a=(s+1)/(r+1),l=2===o?Math.sqrt(Math.pow(t.points[3][0]-t.points[0][0],2)+Math.pow(t.points[3][1]-t.points[0][1],2)):0,c=t.normalAngle(a);setPoint(e,t.point(a),c,i,n,l/(2*(r+1)),l/(2*(r+1)),o),i=-i}return i}function linearOffset(e,t,n){var r=Math.atan2(t[0]-e[0],t[1]-e[1]);return[polarOffset(e,r,n),polarOffset(t,r,n)]}function offsetSegment(e,t){var n,r,o,i,s,a,l;n=(l=linearOffset(e.points[0],e.points[1],t))[0],r=l[1],o=(l=linearOffset(e.points[1],e.points[2],t))[0],i=l[1],s=(l=linearOffset(e.points[2],e.points[3],t))[0],a=l[1];var c=lineIntersection(n,r,o,i);null===c&&(c=r);var u=lineIntersection(s,a,o,i);return null===u&&(u=s),new PolynomialBezier(n,c,u,a)}function joinLines(e,t,n,r,o){var i=t.points[3],s=n.points[0];if(3===r)return i;if(pointEqual(i,s))return i;if(2===r){var a=-t.tangentAngle(1),l=-n.tangentAngle(0)+Math.PI,c=lineIntersection(i,polarOffset(i,a+Math.PI/2,100),s,polarOffset(s,a+Math.PI/2,100)),u=c?pointDistance(c,i):pointDistance(i,s)/2,d=polarOffset(i,a,2*u*roundCorner);return e.setXYAt(d[0],d[1],"o",e.length()-1),d=polarOffset(s,l,2*u*roundCorner),e.setTripleAt(s[0],s[1],s[0],s[1],d[0],d[1],e.length()),s}var h=lineIntersection(pointEqual(i,t.points[2])?t.points[0]:t.points[2],i,s,pointEqual(s,n.points[1])?n.points[3]:n.points[1]);return h&&pointDistance(h,i)<o?(e.setTripleAt(h[0],h[1],h[0],h[1],h[0],h[1],e.length()),h):i}function getIntersection(e,t){var n=e.intersections(t);return n.length&&floatEqual(n[0][0],1)&&n.shift(),n.length?n[0]:null}function pruneSegmentIntersection(e,t){var n=e.slice(),r=t.slice(),o=getIntersection(e[e.length-1],t[0]);return o&&(n[e.length-1]=e[e.length-1].split(o[0])[0],r[0]=t[0].split(o[1])[1]),e.length>1&&t.length>1&&(o=getIntersection(e[0],t[t.length-1]))?[[e[0].split(o[0])[0]],[t[t.length-1].split(o[1])[1]]]:[n,r]}function pruneIntersections(e){for(var t,n=1;n<e.length;n+=1)t=pruneSegmentIntersection(e[n-1],e[n]),e[n-1]=t[0],e[n]=t[1];return e.length>1&&(t=pruneSegmentIntersection(e[e.length-1],e[0]),e[e.length-1]=t[0],e[0]=t[1]),e}function offsetSegmentSplit(e,t){var n,r,o,i,s=e.inflectionPoints();if(0===s.length)return[offsetSegment(e,t)];if(1===s.length||floatEqual(s[1],1))return n=(o=e.split(s[0]))[0],r=o[1],[offsetSegment(n,t),offsetSegment(r,t)];n=(o=e.split(s[0]))[0];var a=(s[1]-s[0])/(1-s[0]);return i=(o=o[1].split(a))[0],r=o[1],[offsetSegment(n,t),offsetSegment(i,t),offsetSegment(r,t)]}function OffsetPathModifier(){}function getFontProperties(e){for(var t=e.fStyle?e.fStyle.split(" "):[],n="normal",r="normal",o=t.length,i=0;i<o;i+=1)switch(t[i].toLowerCase()){case"italic":r="italic";break;case"bold":n="700";break;case"black":n="900";break;case"medium":n="500";break;case"regular":case"normal":n="400";break;case"light":case"thin":n="200"}return{style:r,weight:e.fWeight||n}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,n,r,o,i){var s=i?-1:1,a=r.s.v[0]+(1-r.s.v[0])*(1-o),l=r.s.v[1]+(1-r.s.v[1])*(1-o);e.translate(r.p.v[0]*s*o,r.p.v[1]*s*o,r.p.v[2]),t.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),t.rotate(-r.r.v*s*o),t.translate(r.a.v[0],r.a.v[1],r.a.v[2]),n.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),n.scale(i?1/a:a,i?1/l:l),n.translate(r.a.v[0],r.a.v[1],r.a.v[2])},RepeaterModifier.prototype.init=function(e,t,n,r){for(this.elem=e,this.arr=t,this.pos=n,this.elemsData=r,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[n]);n>0;)n-=1,this._elements.unshift(t[n]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t]._processed=!1,"gr"===e[t].ty&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var n,r=e.length;for(n=0;n<r;n+=1)e[n]._render=t,"gr"===e[n].ty&&this.changeGroupRender(e[n].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,n,r,o,i,s=!1;if(this._mdf||e){var a,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes(),s=!0}for(i=0,r=0;r<=this._groups.length-1;r+=1){if(a=i<l,this._groups[r]._render=a,this.changeGroupRender(this._groups[r].it,a),!a){var u=this.elemsData[r].it,d=u[u.length-1];0!==d.transform.op.v?(d.transform.op._mdf=!0,d.transform.op.v=0):d.transform.op._mdf=!1}i+=1}this._currentCopies=l;var h=this.o.v,p=h%1,f=h>0?Math.floor(h):Math.ceil(h),m=this.pMatrix.props,g=this.rMatrix.props,v=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var y,b,w=0;if(h>0){for(;w<f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),w+=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,p,!1),w+=p)}else if(h<0){for(;w>f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),w-=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-p,!0),w-=p)}for(r=1===this.data.m?0:this._currentCopies-1,o=1===this.data.m?1:-1,i=this._currentCopies;i;){if(b=(n=(t=this.elemsData[r].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(r/(this._currentCopies-1)),0!==w){for((0!==r&&1===o||r!==this._currentCopies-1&&-1===o)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),y=0;y<b;y+=1)n[y]=this.matrix.props[y];this.matrix.reset()}else for(this.matrix.reset(),y=0;y<b;y+=1)n[y]=this.matrix.props[y];w+=1,i-=1,r+=o}}else for(i=this._currentCopies,r=0,o=1;i;)n=(t=this.elemsData[r].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,i-=1,r+=o;return s},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var n,r=shapePool.newElement();r.c=e.c;var o,i,s,a,l,c,u,d,h,p,f,m,g=e._length,v=0;for(n=0;n<g;n+=1)o=e.v[n],s=e.o[n],i=e.i[n],o[0]===s[0]&&o[1]===s[1]&&o[0]===i[0]&&o[1]===i[1]?0!==n&&n!==g-1||e.c?(a=0===n?e.v[g-1]:e.v[n-1],c=(l=Math.sqrt(Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)))?Math.min(l/2,t)/l:0,u=f=o[0]+(a[0]-o[0])*c,d=m=o[1]-(o[1]-a[1])*c,h=u-(u-o[0])*roundCorner,p=d-(d-o[1])*roundCorner,r.setTripleAt(u,d,h,p,f,m,v),v+=1,a=n===g-1?e.v[0]:e.v[n+1],c=(l=Math.sqrt(Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)))?Math.min(l/2,t)/l:0,u=h=o[0]+(a[0]-o[0])*c,d=p=o[1]+(a[1]-o[1])*c,f=u-(u-o[0])*roundCorner,m=d-(d-o[1])*roundCorner,r.setTripleAt(u,d,h,p,f,m,v),v+=1):(r.setTripleAt(o[0],o[1],s[0],s[1],i[0],i[1],v),v+=1):(r.setTripleAt(e.v[n][0],e.v[n][1],e.o[n][0],e.o[n][1],e.i[n][0],e.i[n][1],v),v+=1);return r},RoundCornersModifier.prototype.processShapes=function(e){var t,n,r,o,i,s,a=this.shapes.length,l=this.rd.v;if(0!==l)for(n=0;n<a;n+=1){if(s=(i=this.shapes[n]).localShapeCollection,i.shape._mdf||this._mdf||e)for(s.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,o=i.shape.paths._length,r=0;r<o;r+=1)s.addShape(this.processPath(t[r],l));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(e){return[((this.a[0]*e+this.b[0])*e+this.c[0])*e+this.d[0],((this.a[1]*e+this.b[1])*e+this.c[1])*e+this.d[1]]},PolynomialBezier.prototype.derivative=function(e){return[(3*e*this.a[0]+2*this.b[0])*e+this.c[0],(3*e*this.a[1]+2*this.b[1])*e+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(e){var t=this.derivative(e);return Math.atan2(t[1],t[0])},PolynomialBezier.prototype.normalAngle=function(e){var t=this.derivative(e);return Math.atan2(t[0],t[1])},PolynomialBezier.prototype.inflectionPoints=function(){var e=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(e))return[];var t=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/e,n=t*t-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/e;if(n<0)return[];var r=Math.sqrt(n);return floatZero(r)?r>0&&r<1?[t]:[]:[t-r,t+r].filter((function(e){return e>0&&e<1}))},PolynomialBezier.prototype.split=function(e){if(e<=0)return[singlePoint(this.points[0]),this];if(e>=1)return[this,singlePoint(this.points[this.points.length-1])];var t=lerpPoint(this.points[0],this.points[1],e),n=lerpPoint(this.points[1],this.points[2],e),r=lerpPoint(this.points[2],this.points[3],e),o=lerpPoint(t,n,e),i=lerpPoint(n,r,e),s=lerpPoint(o,i,e);return[new PolynomialBezier(this.points[0],t,o,s,!0),new PolynomialBezier(s,i,r,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var e=this.bounds();return{left:e.x.min,right:e.x.max,top:e.y.min,bottom:e.y.max,width:e.x.max-e.x.min,height:e.y.max-e.y.min,cx:(e.x.max+e.x.min)/2,cy:(e.y.max+e.y.min)/2}},PolynomialBezier.prototype.intersections=function(e,t,n){void 0===t&&(t=2),void 0===n&&(n=7);var r=[];return intersectsImpl(intersectData(this,0,1),intersectData(e,0,1),0,t,r,n),r},PolynomialBezier.shapeSegment=function(e,t){var n=(t+1)%e.length();return new PolynomialBezier(e.v[t],e.o[t],e.i[n],e.v[n],!0)},PolynomialBezier.shapeSegmentInverted=function(e,t){var n=(t+1)%e.length();return new PolynomialBezier(e.v[n],e.i[n],e.o[t],e.v[t],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(e,t.s,0,null,this),this.frequency=PropertyFactory.getProp(e,t.r,0,null,this),this.pointsType=PropertyFactory.getProp(e,t.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(e,t,n,r){var o=e._length,i=shapePool.newElement();if(i.c=e.c,e.c||(o-=1),0===o)return i;var s=-1,a=PolynomialBezier.shapeSegment(e,0);zigZagCorner(i,e,0,t,n,r,s);for(var l=0;l<o;l+=1)s=zigZagSegment(i,a,t,n,r,-s),a=l!==o-1||e.c?PolynomialBezier.shapeSegment(e,(l+1)%o):null,zigZagCorner(i,e,l+1,t,n,r,s);return i},ZigZagModifier.prototype.processShapes=function(e){var t,n,r,o,i,s,a=this.shapes.length,l=this.amplitude.v,c=Math.max(0,Math.round(this.frequency.v)),u=this.pointsType.v;if(0!==l)for(n=0;n<a;n+=1){if(s=(i=this.shapes[n]).localShapeCollection,i.shape._mdf||this._mdf||e)for(s.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,o=i.shape.paths._length,r=0;r<o;r+=1)s.addShape(this.processPath(t[r],l,c,u));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this.miterLimit=PropertyFactory.getProp(e,t.ml,0,null,this),this.lineJoin=t.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(e,t,n,r){var o=shapePool.newElement();o.c=e.c;var i,s,a,l=e.length();e.c||(l-=1);var c=[];for(i=0;i<l;i+=1)a=PolynomialBezier.shapeSegment(e,i),c.push(offsetSegmentSplit(a,t));if(!e.c)for(i=l-1;i>=0;i-=1)a=PolynomialBezier.shapeSegmentInverted(e,i),c.push(offsetSegmentSplit(a,t));c=pruneIntersections(c);var u=null,d=null;for(i=0;i<c.length;i+=1){var h=c[i];for(d&&(u=joinLines(o,d,h[0],n,r)),d=h[h.length-1],s=0;s<h.length;s+=1)a=h[s],u&&pointEqual(a.points[0],u)?o.setXYAt(a.points[1][0],a.points[1][1],"o",o.length()-1):o.setTripleAt(a.points[0][0],a.points[0][1],a.points[1][0],a.points[1][1],a.points[0][0],a.points[0][1],o.length()),o.setTripleAt(a.points[3][0],a.points[3][1],a.points[3][0],a.points[3][1],a.points[2][0],a.points[2][1],o.length()),u=a.points[3]}return c.length&&joinLines(o,d,c[0][0],n,r),o},OffsetPathModifier.prototype.processShapes=function(e){var t,n,r,o,i,s,a=this.shapes.length,l=this.amount.v,c=this.miterLimit.v,u=this.lineJoin;if(0!==l)for(n=0;n<a;n+=1){if(s=(i=this.shapes[n]).localShapeCollection,i.shape._mdf||this._mdf||e)for(s.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,o=i.shape.paths._length,r=0;r<o;r+=1)s.addShape(this.processPath(t[r],l,u,c));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var e={w:0,size:0,shapes:[],data:{shapes:[]}},t=[];t=t.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var n=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],r=[65039,8205];function o(e,t){var n=createTag("span");n.setAttribute("aria-hidden",!0),n.style.fontFamily=t;var r=createTag("span");r.innerText="giItT1WQy@!-/#",n.style.position="absolute",n.style.left="-10000px",n.style.top="-10000px",n.style.fontSize="300px",n.style.fontVariant="normal",n.style.fontStyle="normal",n.style.fontWeight="normal",n.style.letterSpacing="0",n.appendChild(r),document.body.appendChild(n);var o=r.offsetWidth;return r.style.fontFamily=function(e){var t,n=e.split(","),r=n.length,o=[];for(t=0;t<r;t+=1)"sans-serif"!==n[t]&&"monospace"!==n[t]&&o.push(n[t]);return o.join(",")}(e)+", "+t,{node:r,w:o,parent:n}}function i(e,t){var n,r=document.body&&t?"svg":"canvas",o=getFontProperties(e);if("svg"===r){var i=createNS("text");i.style.fontSize="100px",i.setAttribute("font-family",e.fFamily),i.setAttribute("font-style",o.style),i.setAttribute("font-weight",o.weight),i.textContent="1",e.fClass?(i.style.fontFamily="inherit",i.setAttribute("class",e.fClass)):i.style.fontFamily=e.fFamily,t.appendChild(i),n=i}else{var s=new OffscreenCanvas(500,500).getContext("2d");s.font=o.style+" "+o.weight+" 100px "+e.fFamily,n=s}return{measureText:function(e){return"svg"===r?(n.textContent=e,n.getComputedTextLength()):n.measureText(e).width}}}var s=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};s.isModifier=function(e,t){var r=e.toString(16)+t.toString(16);return-1!==n.indexOf(r)},s.isZeroWidthJoiner=function(e,t){return t?e===r[0]&&t===r[1]:e===r[1]},s.isCombinedCharacter=function(e){return-1!==t.indexOf(e)};var a={addChars:function(e){if(e){var t;this.chars||(this.chars=[]);var n,r,o=e.length,i=this.chars.length;for(t=0;t<o;t+=1){for(n=0,r=!1;n<i;)this.chars[n].style===e[t].style&&this.chars[n].fFamily===e[t].fFamily&&this.chars[n].ch===e[t].ch&&(r=!0),n+=1;r||(this.chars.push(e[t]),i+=1)}}},addFonts:function(e,t){if(e){if(this.chars)return this.isLoaded=!0,void(this.fonts=e.list);if(!document.body)return this.isLoaded=!0,e.list.forEach((function(e){e.helper=i(e),e.cache={}})),void(this.fonts=e.list);var n,r=e.list,s=r.length,a=s;for(n=0;n<s;n+=1){var l,c,u=!0;if(r[n].loaded=!1,r[n].monoCase=o(r[n].fFamily,"monospace"),r[n].sansCase=o(r[n].fFamily,"sans-serif"),r[n].fPath){if("p"===r[n].fOrigin||3===r[n].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+r[n].fFamily+'"], style[f-origin="3"][f-family="'+r[n].fFamily+'"]')).length>0&&(u=!1),u){var d=createTag("style");d.setAttribute("f-forigin",r[n].fOrigin),d.setAttribute("f-origin",r[n].origin),d.setAttribute("f-family",r[n].fFamily),d.type="text/css",d.innerText="@font-face {font-family: "+r[n].fFamily+"; font-style: normal; src: url('"+r[n].fPath+"');}",t.appendChild(d)}}else if("g"===r[n].fOrigin||1===r[n].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),c=0;c<l.length;c+=1)-1!==l[c].href.indexOf(r[n].fPath)&&(u=!1);if(u){var h=createTag("link");h.setAttribute("f-forigin",r[n].fOrigin),h.setAttribute("f-origin",r[n].origin),h.type="text/css",h.rel="stylesheet",h.href=r[n].fPath,document.body.appendChild(h)}}else if("t"===r[n].fOrigin||2===r[n].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),c=0;c<l.length;c+=1)r[n].fPath===l[c].src&&(u=!1);if(u){var p=createTag("link");p.setAttribute("f-forigin",r[n].fOrigin),p.setAttribute("f-origin",r[n].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",r[n].fPath),t.appendChild(p)}}}else r[n].loaded=!0,a-=1;r[n].helper=i(r[n],t),r[n].cache={},this.fonts.push(r[n])}0===a?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(t,n,r){for(var o=0,i=this.chars.length;o<i;){if(this.chars[o].ch===t&&this.chars[o].style===n&&this.chars[o].fFamily===r)return this.chars[o];o+=1}return("string"==typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",t,n,r)),e},getFontByName:function(e){for(var t=0,n=this.fonts.length;t<n;){if(this.fonts[t].fName===e)return this.fonts[t];t+=1}return this.fonts[0]},measureText:function(e,t,n){var r=this.getFontByName(t),o=e.charCodeAt(0);if(!r.cache[o+1]){var i=r.helper;if(" "===e){var s=i.measureText("|"+e+"|"),a=i.measureText("||");r.cache[o+1]=(s-a)/100}else r.cache[o+1]=i.measureText(e)/100}return r.cache[o+1]*n},checkLoadedFonts:function(){var e,t,n,r=this.fonts.length,o=r;for(e=0;e<r;e+=1)this.fonts[e].loaded?o-=1:"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(t=this.fonts[e].monoCase.node,n=this.fonts[e].monoCase.w,t.offsetWidth!==n?(o-=1,this.fonts[e].loaded=!0):(t=this.fonts[e].sansCase.node,n=this.fonts[e].sansCase.w,t.offsetWidth!==n&&(o-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==o&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return s.prototype=a,s}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){-1===this.renderableComponents.indexOf(e)&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){-1!==this.renderableComponents.indexOf(e)&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,t=this.renderableComponents.length;for(e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(e){return blendModeEnums[e]||""}),blendModeEnums;function SliderEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function AngleEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function ColorEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,1,0,n)}function PointEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,1,0,n)}function LayerIndexEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function MaskIndexEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function CheckboxEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(e,t){var n,r=e.ef||[];this.effectElements=[];var o,i=r.length;for(n=0;n<i;n+=1)o=new GroupEffect(r[n],t),this.effectElements.push(o)}function GroupEffect(e,t){this.init(e,t)}function BaseElement(){}function FrameElement(){}function FootageElement(e,t,n){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(e,t,n)}function AudioElement(e,t,n){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.initBaseData(e,t,n),this._isPlaying=!1,this._canPlay=!1;var r=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(r),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,e.au&&e.au.lv?e.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}function TransformElement(){}function MaskElement(e,t,n){this.data=e,this.element=t,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var r,o,i=this.globalData.defs,s=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(s),this.solidPath="";var a,l,c,u,d,h,p=this.masksProperties,f=0,m=[],g=createElementID(),v="clipPath",y="clip-path";for(r=0;r<s;r+=1)if(("a"!==p[r].mode&&"n"!==p[r].mode||p[r].inv||100!==p[r].o.k||p[r].o.x)&&(v="mask",y="mask"),"s"!==p[r].mode&&"i"!==p[r].mode||0!==f?c=null:((c=createNS("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),m.push(c)),o=createNS("path"),"n"===p[r].mode)this.viewData[r]={op:PropertyFactory.getProp(this.element,p[r].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[r],3),elem:o,lastPath:""},i.appendChild(o);else{var b;if(f+=1,o.setAttribute("fill","s"===p[r].mode?"#000000":"#ffffff"),o.setAttribute("clip-rule","nonzero"),0!==p[r].x.k?(v="mask",y="mask",h=PropertyFactory.getProp(this.element,p[r].x,0,null,this.element),b=createElementID(),(u=createNS("filter")).setAttribute("id",b),(d=createNS("feMorphology")).setAttribute("operator","erode"),d.setAttribute("in","SourceGraphic"),d.setAttribute("radius","0"),u.appendChild(d),i.appendChild(u),o.setAttribute("stroke","s"===p[r].mode?"#000000":"#ffffff")):(d=null,h=null),this.storedData[r]={elem:o,x:h,expan:d,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},"i"===p[r].mode){l=m.length;var w=createNS("g");for(a=0;a<l;a+=1)w.appendChild(m[a]);var x=createNS("mask");x.setAttribute("mask-type","alpha"),x.setAttribute("id",g+"_"+f),x.appendChild(o),i.appendChild(x),w.setAttribute("mask","url("+getLocationHref()+"#"+g+"_"+f+")"),m.length=0,m.push(w)}else m.push(o);p[r].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[r]={elem:o,lastPath:"",op:PropertyFactory.getProp(this.element,p[r].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[r],3),invRect:c},this.viewData[r].prop.k||this.drawPath(p[r],this.viewData[r].prop.v,this.viewData[r])}for(this.maskElement=createNS(v),s=m.length,r=0;r<s;r+=1)this.maskElement.appendChild(m[r]);f>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(y,"url("+getLocationHref()+"#"+g+")"),i.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){var n;this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var r,o=this.data.ef.length,i=this.data.ef;for(n=0;n<o;n+=1){switch(r=null,i[n].ty){case 0:r=new SliderEffect(i[n],t,this);break;case 1:r=new AngleEffect(i[n],t,this);break;case 2:r=new ColorEffect(i[n],t,this);break;case 3:r=new PointEffect(i[n],t,this);break;case 4:case 7:r=new CheckboxEffect(i[n],t,this);break;case 10:r=new LayerIndexEffect(i[n],t,this);break;case 11:r=new MaskIndexEffect(i[n],t,this);break;case 5:r=new EffectsManager(i[n],t,this);break;default:r=new NoValueEffect(i[n],t,this)}r&&this.effectElements.push(r)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if("n"!==this.data.masksProperties[e].mode&&!1!==this.data.masksProperties[e].cl)return!0;e+=1}return!1},initExpressions:function(){var e=getExpressionInterfaces();if(e){var t=e("layer"),n=e("effects"),r=e("shape"),o=e("text"),i=e("comp");this.layerInterface=t(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var s=n.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(s),0===this.data.ty||this.data.xt?this.compInterface=i(this):4===this.data.ty?(this.layerInterface.shapeInterface=r(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=o(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var e=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},initBaseData:function(e,t,n){this.globalData=t,this.comp=n,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,t){var n,r=this.dynamicProperties.length;for(n=0;n<r;n+=1)(t||this._isParent&&"transform"===this.dynamicProperties[n].propType)&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&this.dynamicProperties.push(e)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var e=getExpressionInterfaces();if(e){var t=e("footage");this.layerInterface=t(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var t=this.tm.v;this._currentTime=t}this._volume=this.lv.v[0];var n=this._volume*this._volumeMultiplier;this._previousVolume!==n&&(this._previousVolume=n,this.audio.volume(n))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this._volumeMultiplier=e,this._previousVolume=e*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(e){var t,n,r=this.layers.length;for(this.completeLayers=!0,t=r-1;t>=0;t-=1)this.elements[t]||(n=this.layers[t]).ip-n.st<=e-this.layers[t].st&&n.op-n.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:default:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){var t;this.completeLayers=!1;var n,r=e.length,o=this.layers.length;for(t=0;t<r;t+=1)for(n=0;n<o;){if(this.layers[n].id===e[t].id){this.layers[n]=e[t];break}n+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,n){for(var r=this.elements,o=this.layers,i=0,s=o.length;i<s;)o[i].ind==t&&(r[i]&&!0!==r[i]?(n.push(r[i]),r[i].setAsParent(),void 0!==o[i].parent?this.buildElementParenting(e,o[i].parent,n):e.setHierarchy(n)):(this.buildItem(i),this.addPendingElement(e))),i+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,n=e.length;for(t=0;t<n;t+=1)if(e[t].xt){var r=this.createComp(e[t]);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},BaseRenderer.prototype.getElementById=function(e){var t,n=this.elements.length;for(t=0;t<n;t+=1)if(this.elements[t].data.ind===e)return this.elements[t];return null},BaseRenderer.prototype.getElementByPath=function(e){var t,n=e.shift();if("number"==typeof n)t=this.elements[n];else{var r,o=this.elements.length;for(r=0;r<o;r+=1)if(this.elements[r].data.nm===n){t=this.elements[r];break}}return 0===e.length?t:t.getElementByPath(e)},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,n=0,r=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;n<r;){if(this.hierarchy[n].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}n+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,t.cloneFromProps(e),n=0;n<r;n+=1)e=this.hierarchy[n].finalTransform.mProp.v.props,t.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}},globalToLocal:function(e){var t=[];t.push(this.finalTransform);for(var n,r=!0,o=this.comp;r;)o.finalTransform?(o.data.hasMask&&t.splice(0,0,o.finalTransform),o=o.comp):r=!1;var i,s=t.length;for(n=0;n<s;n+=1)i=t[n].mat.applyToPointArray(0,0,0),e=[e[0]-i[0],e[1]-i[1],0];return e},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t,n=this.element.finalTransform.mat,r=this.masksProperties.length;for(t=0;t<r;t+=1)if((this.viewData[t].prop._mdf||e)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||e)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),"n"!==this.masksProperties[t].mode&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[t].invRect.setAttribute("transform",n.getInverseMatrix().to2dCSS()),this.storedData[t].x&&(this.storedData[t].x._mdf||e))){var o=this.storedData[t].expan;this.storedData[t].x.v<0?("erode"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[t].filterId+")")),o.setAttribute("radius",-this.storedData[t].x.v)):("dilate"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,(e+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(e,t,n){var r,o,i=" M"+t.v[0][0]+","+t.v[0][1];for(o=t._length,r=1;r<o;r+=1)i+=" C"+t.o[r-1][0]+","+t.o[r-1][1]+" "+t.i[r][0]+","+t.i[r][1]+" "+t.v[r][0]+","+t.v[r][1];if(t.c&&o>1&&(i+=" C"+t.o[r-1][0]+","+t.o[r-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),n.lastPath!==i){var s="";n.elem&&(t.c&&(s=e.inv?this.solidPath+i:i),n.elem.setAttribute("d",s)),n.lastPath=i}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory={createFilter:function(e,t){var n=createNS("filter");return n.setAttribute("id",e),!0!==t&&(n.setAttribute("filterUnits","objectBoundingBox"),n.setAttribute("x","0%"),n.setAttribute("y","0%"),n.setAttribute("width","100%"),n.setAttribute("height","100%")),n},createAlphaToLuminanceFilter:function(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e}},featureSupport=function(){var e={maskType:!0,svgLumaHidden:!0,offscreenCanvas:"undefined"!=typeof OffscreenCanvas};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),/firefox/i.test(navigator.userAgent)&&(e.svgLumaHidden=!1),e}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(e){var t,n,r="SourceGraphic",o=e.data.ef?e.data.ef.length:0,i=createElementID(),s=filtersFactory.createFilter(i,!0),a=0;for(this.filters=[],t=0;t<o;t+=1){n=null;var l=e.data.ef[t].ty;registeredEffects[l]&&(n=new(0,registeredEffects[l].effect)(s,e.effectsManager.effectElements[t],e,idPrefix+a,r),r=idPrefix+a,registeredEffects[l].countsAsEffect&&(a+=1)),n&&this.filters.push(n)}a&&(e.globalData.defs.appendChild(s),e.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+i+")")),this.filters.length&&e.addRenderableComponent(this)}function registerEffect(e,t,n){registeredEffects[e]={effect:t,countsAsEffect:n}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(e,t,n){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(e,t){this.elem=e,this.pos=t}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(e){var t,n=this.filters.length;for(t=0;t<n;t+=1)this.filters[t].renderFrame(e)},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e=null;if(this.data.td){this.matteMasks={};var t=createNS("g");t.setAttribute("id",this.layerId),t.appendChild(this.layerElement),e=t,this.globalData.defs.appendChild(t)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var n=createNS("clipPath"),r=createNS("path");r.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var o=createElementID();if(n.setAttribute("id",o),n.appendChild(r),this.globalData.defs.appendChild(n),this.checkMasks()){var i=createNS("g");i.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")"),i.appendChild(this.layerElement),this.transformedElement=i,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},getMatte:function(e){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[e]){var t,n,r,o,i=this.layerId+"_"+e;if(1===e||3===e){var s=createNS("mask");s.setAttribute("id",i),s.setAttribute("mask-type",3===e?"luminance":"alpha"),(r=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),s.appendChild(r),this.globalData.defs.appendChild(s),featureSupport.maskType||1!==e||(s.setAttribute("mask-type","luminance"),t=createElementID(),n=filtersFactory.createFilter(t),this.globalData.defs.appendChild(n),n.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(o=createNS("g")).appendChild(r),s.appendChild(o),o.setAttribute("filter","url("+getLocationHref()+"#"+t+")"))}else if(2===e){var a=createNS("mask");a.setAttribute("id",i),a.setAttribute("mask-type","alpha");var l=createNS("g");a.appendChild(l),t=createElementID(),n=filtersFactory.createFilter(t);var c=createNS("feComponentTransfer");c.setAttribute("in","SourceGraphic"),n.appendChild(c);var u=createNS("feFuncA");u.setAttribute("type","table"),u.setAttribute("tableValues","1.0 0.0"),c.appendChild(u),this.globalData.defs.appendChild(n);var d=createNS("rect");d.setAttribute("width",this.comp.data.w),d.setAttribute("height",this.comp.data.h),d.setAttribute("x","0"),d.setAttribute("y","0"),d.setAttribute("fill","#ffffff"),d.setAttribute("opacity","0"),l.setAttribute("filter","url("+getLocationHref()+"#"+t+")"),l.appendChild(d),(r=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),l.appendChild(r),featureSupport.maskType||(a.setAttribute("mask-type","luminance"),n.appendChild(filtersFactory.createAlphaToLuminanceFilter()),o=createNS("g"),l.appendChild(d),o.appendChild(this.layerElement),l.appendChild(o)),this.globalData.defs.appendChild(a)}this.matteMasks[e]=i}return this.matteMasks[e]},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+e+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initTransform(e,t,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(e){var t,n=this.shapeModifiers.length;for(t=0;t<n;t+=1)this.shapeModifiers[t].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;e>=0&&!this.shapeModifiers[e].processShapes(this._isFirstFrame);e-=1);}},searchProcessedElement:function(e){for(var t=this.processedElements,n=0,r=t.length;n<r;){if(t[n].elem===e)return t[n].pos;n+=1}return 0},addProcessedElement:function(e,t){for(var n=this.processedElements,r=n.length;r;)if(n[r-=1].elem===e)return void(n[r].pos=t);n.push(new ProcessedElement(e,t))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(e,t,n){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=n,this.lvl=t,this._isAnimated=!!n.k;for(var r=0,o=e.length;r<o;){if(e[r].mProps.dynamicProperties.length){this._isAnimated=!0;break}r+=1}}function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=!0===e.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(e,t,n,r){var o;this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(r);var i,s=t.length||0;for(o=0;o<s;o+=1)i=PropertyFactory.getProp(e,t[o].v,0,0,this),this.k=i.k||this.k,this.dataProps[o]={n:t[o].n,p:i};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=n}function SVGNoStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.style=n}function GradientProperty(e,t,n){this.data=t,this.c=createTypedArray("uint8c",4*t.p);var r=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=createTypedArray("float32",r),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=r,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,n)}function SVGGradientStrokeStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,n),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(e,t,n){this.transform={mProps:e,op:t,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(e){if((this.elem.globalData.frameId!==this.frameId||e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,n=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),t=0;t<n;t+=1)"o"!==this.dataProps[t].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(e,t){for(var n=0,r=this.o.length/2;n<r;){if(Math.abs(e[4*n]-e[4*t+2*n])>.01)return!1;n+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,n,r,o=4*this.data.p;for(t=0;t<o;t+=1)n=t%4==0?100:255,r=Math.round(this.prop.v[t]*n),this.c[t]!==r&&(this.c[t]=r,this._cmdf=!e);if(this.o.length)for(o=this.prop.v.length,t=4*this.data.p;t<o;t+=1)n=t%2==0?100:1,r=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==r&&(this.o[t-4*this.data.p]=r,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(e,t,n){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,t),this.setGradientOpacity(t,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var n=createElementID(),r=createNS(1===t.t?"linearGradient":"radialGradient");r.setAttribute("id",n),r.setAttribute("spreadMethod","pad"),r.setAttribute("gradientUnits","userSpaceOnUse");var o,i,s,a=[];for(s=4*t.g.p,i=0;i<s;i+=4)o=createNS("stop"),r.appendChild(o),a.push(o);e.setAttribute("gf"===t.ty?"fill":"stroke","url("+getLocationHref()+"#"+n+")"),this.gf=r,this.cst=a},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var n,r,o,i=createNS("mask"),s=createNS("path");i.appendChild(s);var a=createElementID(),l=createElementID();i.setAttribute("id",l);var c=createNS(1===e.t?"linearGradient":"radialGradient");c.setAttribute("id",a),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),o=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var u=this.stops;for(r=4*e.g.p;r<o;r+=2)(n=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(n),u.push(n);s.setAttribute("gf"===e.ty?"fill":"stroke","url("+getLocationHref()+"#"+a+")"),"gs"===e.ty&&(s.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),s.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),1===e.lj&&s.setAttribute("stroke-miterlimit",e.ml)),this.of=c,this.ms=i,this.ost=u,this.maskId=l,t.msElem=s}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(e,t,n,r){if(0===t)return"";var o,i=e.o,s=e.i,a=e.v,l=" M"+r.applyToPointStringified(a[0][0],a[0][1]);for(o=1;o<t;o+=1)l+=" C"+r.applyToPointStringified(i[o-1][0],i[o-1][1])+" "+r.applyToPointStringified(s[o][0],s[o][1])+" "+r.applyToPointStringified(a[o][0],a[o][1]);return n&&t&&(l+=" C"+r.applyToPointStringified(i[o-1][0],i[o-1][1])+" "+r.applyToPointStringified(s[0][0],s[0][1])+" "+r.applyToPointStringified(a[0][0],a[0][1]),l+="z"),l},SVGElementsRenderer=function(){var e=new Matrix,t=new Matrix;function n(e,t,n){(n||t.transform.op._mdf)&&t.transform.container.setAttribute("opacity",t.transform.op.v),(n||t.transform.mProps._mdf)&&t.transform.container.setAttribute("transform",t.transform.mProps.v.to2dCSS())}function r(){}function o(n,r,o){var i,s,a,l,c,u,d,h,p,f,m,g=r.styles.length,v=r.lvl;for(u=0;u<g;u+=1){if(l=r.sh._mdf||o,r.styles[u].lvl<v){for(h=t.reset(),f=v-r.styles[u].lvl,m=r.transformers.length-1;!l&&f>0;)l=r.transformers[m].mProps._mdf||l,f-=1,m-=1;if(l)for(f=v-r.styles[u].lvl,m=r.transformers.length-1;f>0;)p=r.transformers[m].mProps.v.props,h.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),f-=1,m-=1}else h=e;if(s=(d=r.sh.paths)._length,l){for(a="",i=0;i<s;i+=1)(c=d.shapes[i])&&c._length&&(a+=buildShapeString(c,c._length,c.c,h));r.caches[u]=a}else a=r.caches[u];r.styles[u].d+=!0===n.hd?"":a,r.styles[u]._mdf=l||r.styles[u]._mdf}}function i(e,t,n){var r=t.style;(t.c._mdf||n)&&r.pElem.setAttribute("fill","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||n)&&r.pElem.setAttribute("fill-opacity",t.o.v)}function s(e,t,n){a(e,t,n),l(0,t,n)}function a(e,t,n){var r,o,i,s,a,l=t.gf,c=t.g._hasOpacity,u=t.s.v,d=t.e.v;if(t.o._mdf||n){var h="gf"===e.ty?"fill-opacity":"stroke-opacity";t.style.pElem.setAttribute(h,t.o.v)}if(t.s._mdf||n){var p=1===e.t?"x1":"cx",f="x1"===p?"y1":"cy";l.setAttribute(p,u[0]),l.setAttribute(f,u[1]),c&&!t.g._collapsable&&(t.of.setAttribute(p,u[0]),t.of.setAttribute(f,u[1]))}if(t.g._cmdf||n){r=t.cst;var m=t.g.c;for(i=r.length,o=0;o<i;o+=1)(s=r[o]).setAttribute("offset",m[4*o]+"%"),s.setAttribute("stop-color","rgb("+m[4*o+1]+","+m[4*o+2]+","+m[4*o+3]+")")}if(c&&(t.g._omdf||n)){var g=t.g.o;for(i=(r=t.g._collapsable?t.cst:t.ost).length,o=0;o<i;o+=1)s=r[o],t.g._collapsable||s.setAttribute("offset",g[2*o]+"%"),s.setAttribute("stop-opacity",g[2*o+1])}if(1===e.t)(t.e._mdf||n)&&(l.setAttribute("x2",d[0]),l.setAttribute("y2",d[1]),c&&!t.g._collapsable&&(t.of.setAttribute("x2",d[0]),t.of.setAttribute("y2",d[1])));else if((t.s._mdf||t.e._mdf||n)&&(a=Math.sqrt(Math.pow(u[0]-d[0],2)+Math.pow(u[1]-d[1],2)),l.setAttribute("r",a),c&&!t.g._collapsable&&t.of.setAttribute("r",a)),t.e._mdf||t.h._mdf||t.a._mdf||n){a||(a=Math.sqrt(Math.pow(u[0]-d[0],2)+Math.pow(u[1]-d[1],2)));var v=Math.atan2(d[1]-u[1],d[0]-u[0]),y=t.h.v;y>=1?y=.99:y<=-1&&(y=-.99);var b=a*y,w=Math.cos(v+t.a.v)*b+u[0],x=Math.sin(v+t.a.v)*b+u[1];l.setAttribute("fx",w),l.setAttribute("fy",x),c&&!t.g._collapsable&&(t.of.setAttribute("fx",w),t.of.setAttribute("fy",x))}}function l(e,t,n){var r=t.style,o=t.d;o&&(o._mdf||n)&&o.dashStr&&(r.pElem.setAttribute("stroke-dasharray",o.dashStr),r.pElem.setAttribute("stroke-dashoffset",o.dashoffset[0])),t.c&&(t.c._mdf||n)&&r.pElem.setAttribute("stroke","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||n)&&r.pElem.setAttribute("stroke-opacity",t.o.v),(t.w._mdf||n)&&(r.pElem.setAttribute("stroke-width",t.w.v),r.msElem&&r.msElem.setAttribute("stroke-width",t.w.v))}return{createRenderFunction:function(e){switch(e.ty){case"fl":return i;case"gf":return a;case"gs":return s;case"st":return l;case"sh":case"el":case"rc":case"sr":return o;case"tr":return n;case"no":return r;default:return null}}}}();function SVGShapeElement(e,t,n){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,n),this.prevViewData=[]}function LetterProps(e,t,n,r,o,i){this.o=e,this.sw=t,this.sc=n,this.fc=r,this.m=o,this.p=i,this._mdf={o:!0,sw:!!t,sc:!!n,fc:!!r,m:!0,p:!0}}function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t,n,r,o=this.shapes.length,i=this.stylesList.length,s=[],a=!1;for(n=0;n<i;n+=1){for(r=this.stylesList[n],a=!1,s.length=0,e=0;e<o;e+=1)-1!==(t=this.shapes[e]).styles.indexOf(r)&&(s.push(t),a=t._isAnimated||a);s.length>1&&a&&this.setShapesAsAnimated(s)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var n,r=new SVGStyleData(e,t),o=r.pElem;return"st"===e.ty?n=new SVGStrokeStyleData(this,e,r):"fl"===e.ty?n=new SVGFillStyleData(this,e,r):"gf"===e.ty||"gs"===e.ty?(n=new("gf"===e.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,e,r),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),o.setAttribute("mask","url("+getLocationHref()+"#"+n.maskId+")"))):"no"===e.ty&&(n=new SVGNoStyleData(this,e,r)),"st"!==e.ty&&"gs"!==e.ty||(o.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),o.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),o.setAttribute("fill-opacity","0"),1===e.lj&&o.setAttribute("stroke-miterlimit",e.ml)),2===e.r&&o.setAttribute("fill-rule","evenodd"),e.ln&&o.setAttribute("id",e.ln),e.cl&&o.setAttribute("class",e.cl),e.bm&&(o.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(r),this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var n=TransformPropertyFactory.getTransformProperty(this,e,this),r=new SVGTransformData(n,n.o,t);return this.addToAnimatedContents(e,r),r},SVGShapeElement.prototype.createShapeElement=function(e,t,n){var r=4;"rc"===e.ty?r=5:"el"===e.ty?r=6:"sr"===e.ty&&(r=7);var o=new SVGShapeData(t,n,ShapePropertyFactory.getShapeProp(this,e,r,this));return this.shapes.push(o),this.addShapeToModifiers(o),this.addToAnimatedContents(e,o),o},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var n=0,r=this.animatedContents.length;n<r;){if(this.animatedContents[n].element===t)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t,n=e.styles,r=this.stylesList.length;for(t=0;t<r;t+=1)this.stylesList[t].closed||n.push(this.stylesList[t])},SVGShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,n,r,o,i,s){var a,l,c,u,d,h,p=[].concat(i),f=e.length-1,m=[],g=[];for(a=f;a>=0;a-=1){if((h=this.searchProcessedElement(e[a]))?t[a]=n[h-1]:e[a]._render=s,"fl"===e[a].ty||"st"===e[a].ty||"gf"===e[a].ty||"gs"===e[a].ty||"no"===e[a].ty)h?t[a].style.closed=!1:t[a]=this.createStyleElement(e[a],o),e[a]._render&&t[a].style.pElem.parentNode!==r&&r.appendChild(t[a].style.pElem),m.push(t[a].style);else if("gr"===e[a].ty){if(h)for(c=t[a].it.length,l=0;l<c;l+=1)t[a].prevViewData[l]=t[a].it[l];else t[a]=this.createGroupElement(e[a]);this.searchShapes(e[a].it,t[a].it,t[a].prevViewData,t[a].gr,o+1,p,s),e[a]._render&&t[a].gr.parentNode!==r&&r.appendChild(t[a].gr)}else"tr"===e[a].ty?(h||(t[a]=this.createTransformElement(e[a],r)),u=t[a].transform,p.push(u)):"sh"===e[a].ty||"rc"===e[a].ty||"el"===e[a].ty||"sr"===e[a].ty?(h||(t[a]=this.createShapeElement(e[a],p,o)),this.setElementStyles(t[a])):"tm"===e[a].ty||"rd"===e[a].ty||"ms"===e[a].ty||"pb"===e[a].ty||"zz"===e[a].ty||"op"===e[a].ty?(h?(d=t[a]).closed=!1:((d=ShapeModifiers.getModifier(e[a].ty)).init(this,e[a]),t[a]=d,this.shapeModifiers.push(d)),g.push(d)):"rp"===e[a].ty&&(h?(d=t[a]).closed=!0:(d=ShapeModifiers.getModifier(e[a].ty),t[a]=d,d.init(this,e,a,t),this.shapeModifiers.push(d),s=!1),g.push(d));this.addProcessedElement(e[a],a+1)}for(f=m.length,a=0;a<f;a+=1)m[a].closed=!0;for(f=g.length,a=0;a<f;a+=1)g[a].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var e;this.renderModifiers();var t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t,n=this.animatedContents.length;for(e=0;e<n;e+=1)t=this.animatedContents[e],(this._isFirstFrame||t.element._isAnimated)&&!0!==t.data&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(e,t,n,r,o,i){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var s=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,s=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,s=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,s=!0),this.fc!==r&&(this.fc=r,this._mdf.fc=!0,s=!0),this.m!==o&&(this.m=o,this._mdf.m=!0,s=!0),!i.length||this.p[0]===i[0]&&this.p[1]===i[1]&&this.p[4]===i[4]&&this.p[5]===i[5]&&this.p[12]===i[12]&&this.p[13]===i[13]||(this.p=i,this._mdf.p=!0,s=!0),s},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,n=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var r;this.lock=!0,this._mdf=!1;var o=this.effectsSequence.length,i=e||this.data.d.k[this.keysIndex].s;for(r=0;r<o;r+=1)i=n!==this.keysIndex?this.effectsSequence[r](i,i.t):this.effectsSequence[r](this.currentData,i.t);t!==i&&this.setCurrentData(i),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,n=0,r=e.length;n<=r-1&&!(n===r-1||e[n+1].t>t);)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t,n,r=[],o=0,i=e.length,s=!1;o<i;)t=e.charCodeAt(o),FontManager.isCombinedCharacter(t)?r[r.length-1]+=e.charAt(o):t>=55296&&t<=56319?(n=e.charCodeAt(o+1))>=56320&&n<=57343?(s||FontManager.isModifier(t,n)?(r[r.length-1]+=e.substr(o,2),s=!1):r.push(e.substr(o,2)),o+=1):r.push(e.charAt(o)):t>56319?(n=e.charCodeAt(o+1),FontManager.isZeroWidthJoiner(t,n)?(s=!0,r[r.length-1]+=e.substr(o,2),o+=1):r.push(e.charAt(o))):FontManager.isZeroWidthJoiner(t)?(r[r.length-1]+=e.charAt(o),s=!0):r.push(e.charAt(o)),o+=1;return r},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t,n,r,o,i,s,a,l=this.elem.globalData.fontManager,c=this.data,u=[],d=0,h=c.m.g,p=0,f=0,m=0,g=[],v=0,y=0,b=l.getFontByName(e.f),w=0,x=getFontProperties(b);e.fWeight=x.weight,e.fStyle=x.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),n=e.finalText.length,e.finalLineHeight=e.lh;var E,S=e.tr/1e3*e.finalSize;if(e.sz)for(var C,A,_=!0,k=e.sz[0],T=e.sz[1];_;){C=0,v=0,n=(A=this.buildFinalText(e.t)).length,S=e.tr/1e3*e.finalSize;var M=-1;for(t=0;t<n;t+=1)E=A[t].charCodeAt(0),r=!1," "===A[t]?M=t:13!==E&&3!==E||(v=0,r=!0,C+=e.finalLineHeight||1.2*e.finalSize),l.chars?(a=l.getCharData(A[t],b.fStyle,b.fFamily),w=r?0:a.w*e.finalSize/100):w=l.measureText(A[t],e.f,e.finalSize),v+w>k&&" "!==A[t]?(-1===M?n+=1:t=M,C+=e.finalLineHeight||1.2*e.finalSize,A.splice(t,M===t?1:0,"\r"),M=-1,v=0):(v+=w,v+=S);C+=b.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&T<C?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=A,n=e.finalText.length,_=!1)}v=-S,w=0;var P,O=0;for(t=0;t<n;t+=1)if(r=!1,13===(E=(P=e.finalText[t]).charCodeAt(0))||3===E?(O=0,g.push(v),y=v>y?v:y,v=-2*S,o="",r=!0,m+=1):o=P,l.chars?(a=l.getCharData(P,b.fStyle,l.getFontByName(e.f).fFamily),w=r?0:a.w*e.finalSize/100):w=l.measureText(o,e.f,e.finalSize)," "===P?O+=w+S:(v+=w+S+O,O=0),u.push({l:w,an:w,add:p,n:r,anIndexes:[],val:o,line:m,animatorJustifyOffset:0}),2==h){if(p+=w,""===o||" "===o||t===n-1){for(""!==o&&" "!==o||(p-=w);f<=t;)u[f].an=p,u[f].ind=d,u[f].extra=w,f+=1;d+=1,p=0}}else if(3==h){if(p+=w,""===o||t===n-1){for(""===o&&(p-=w);f<=t;)u[f].an=p,u[f].ind=d,u[f].extra=w,f+=1;p=0,d+=1}}else u[d].ind=d,u[d].extra=0,d+=1;if(e.l=u,y=v>y?v:y,g.push(v),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=y,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=g;var R,N,D,I,B=c.a;s=B.length;var F=[];for(i=0;i<s;i+=1){for((R=B[i]).a.sc&&(e.strokeColorAnim=!0),R.a.sw&&(e.strokeWidthAnim=!0),(R.a.fc||R.a.fh||R.a.fs||R.a.fb)&&(e.fillColorAnim=!0),I=0,D=R.s.b,t=0;t<n;t+=1)(N=u[t]).anIndexes[i]=I,(1==D&&""!==N.val||2==D&&""!==N.val&&" "!==N.val||3==D&&(N.n||" "==N.val||t==n-1)||4==D&&(N.n||t==n-1))&&(1===R.s.rn&&F.push(I),I+=1);c.a[i].s.totalChars=I;var L,H=-1;if(1===R.s.rn)for(t=0;t<n;t+=1)H!=(N=u[t]).anIndexes[i]&&(H=N.anIndexes[i],L=F.splice(Math.floor(Math.random()*F.length),1)[0]),N.anIndexes[i]=L}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=b.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=void 0===t?this.keysIndex:t;var n=this.copyData({},this.data.d.k[t].s);n=this.copyData(n,e),this.data.d.k[t].s=n,this.recalculate(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,t=Math.min,n=Math.floor;function r(e,t){this._currentTextLength=-1,this.k=!1,this.data=t,this.elem=e,this.comp=e.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(e),this.s=PropertyFactory.getProp(e,t.s||{k:0},0,0,this),this.e="e"in t?PropertyFactory.getProp(e,t.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(e,t.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(e,t.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(e,t.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(e,t.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(e,t.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return r.prototype={getMult:function(r){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var o=0,i=0,s=1,a=1;this.ne.v>0?o=this.ne.v/100:i=-this.ne.v/100,this.xe.v>0?s=1-this.xe.v/100:a=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(o,i,s,a).get,c=0,u=this.finalS,d=this.finalE,h=this.data.sh;if(2===h)c=l(c=d===u?r>=d?1:0:e(0,t(.5/(d-u)+(r-u)/(d-u),1)));else if(3===h)c=l(c=d===u?r>=d?0:1:1-e(0,t(.5/(d-u)+(r-u)/(d-u),1)));else if(4===h)d===u?c=0:(c=e(0,t(.5/(d-u)+(r-u)/(d-u),1)))<.5?c*=2:c=1-2*(c-.5),c=l(c);else if(5===h){if(d===u)c=0;else{var p=d-u,f=-p/2+(r=t(e(0,r+.5-u),d-u)),m=p/2;c=Math.sqrt(1-f*f/(m*m))}c=l(c)}else 6===h?(d===u?c=0:(r=t(e(0,r+.5-u),d-u),c=(1+Math.cos(Math.PI+2*Math.PI*r/(d-u)))/2),c=l(c)):(r>=n(u)&&(c=e(0,t(r-u<0?t(d,1)-(u-r):d-r,1))),c=l(c));if(100!==this.sm.v){var g=.01*this.sm.v;0===g&&(g=1e-8);var v=.5-.5*g;c<v?c=0:(c=(c-v)/g)>1&&(c=1)}return c*this.a.v},getValue:function(e){this.iterateDynamicProperties(),this._mdf=e||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,e&&2===this.data.r&&(this.e.v=this._currentTextLength);var t=2===this.data.r?1:100/this.data.totalChars,n=this.o.v/t,r=this.s.v/t+n,o=this.e.v/t+n;if(r>o){var i=r;r=o,o=i}this.finalS=r,this.finalE=o}},extendPrototype([DynamicPropertyContainer],r),{getTextSelectorProp:function(e,t,n){return new r(e,t,n)}}}();function TextAnimatorDataProperty(e,t,n){var r={propType:!1},o=PropertyFactory.getProp,i=t.a;this.a={r:i.r?o(e,i.r,0,degToRads,n):r,rx:i.rx?o(e,i.rx,0,degToRads,n):r,ry:i.ry?o(e,i.ry,0,degToRads,n):r,sk:i.sk?o(e,i.sk,0,degToRads,n):r,sa:i.sa?o(e,i.sa,0,degToRads,n):r,s:i.s?o(e,i.s,1,.01,n):r,a:i.a?o(e,i.a,1,0,n):r,o:i.o?o(e,i.o,0,.01,n):r,p:i.p?o(e,i.p,1,0,n):r,sw:i.sw?o(e,i.sw,0,0,n):r,sc:i.sc?o(e,i.sc,1,0,n):r,fc:i.fc?o(e,i.fc,1,0,n):r,fh:i.fh?o(e,i.fh,0,0,n):r,fs:i.fs?o(e,i.fs,0,.01,n):r,fb:i.fb?o(e,i.fb,0,.01,n):r,t:i.t?o(e,i.t,0,0,n):r},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,n),this.s.t=t.s.t}function TextAnimatorProperty(e,t,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var e,t,n=this._textData.a.length,r=PropertyFactory.getProp;for(e=0;e<n;e+=1)t=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:r(this._elem,this._textData.p.a,0,0,this),f:r(this._elem,this._textData.p.f,0,0,this),l:r(this._elem,this._textData.p.l,0,0,this),r:r(this._elem,this._textData.p.r,0,0,this),p:r(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=r(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var n,r,o,i,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w,x=this._moreOptions.alignment.v,E=this._animatorsData,S=this._textData,C=this.mHelper,A=this._renderType,_=this.renderedLetters.length,k=e.l;if(this._hasMaskedPath){if(w=this._pathData.m,!this._pathData.n||this._pathData._mdf){var T,M=w.v;for(this._pathData.r.v&&(M=M.reverse()),s={tLength:0,segments:[]},i=M._length-1,v=0,o=0;o<i;o+=1)T=bez.buildBezierData(M.v[o],M.v[o+1],[M.o[o][0]-M.v[o][0],M.o[o][1]-M.v[o][1]],[M.i[o+1][0]-M.v[o+1][0],M.i[o+1][1]-M.v[o+1][1]]),s.tLength+=T.segmentLength,s.segments.push(T),v+=T.segmentLength;o=i,w.v.c&&(T=bez.buildBezierData(M.v[o],M.v[0],[M.o[o][0]-M.v[o][0],M.o[o][1]-M.v[o][1]],[M.i[0][0]-M.v[0][0],M.i[0][1]-M.v[0][1]]),s.tLength+=T.segmentLength,s.segments.push(T),v+=T.segmentLength),this._pathData.pi=s}if(s=this._pathData.pi,a=this._pathData.f.v,h=0,d=1,c=0,u=!0,m=s.segments,a<0&&w.v.c)for(s.tLength<Math.abs(a)&&(a=-Math.abs(a)%s.tLength),d=(f=m[h=m.length-1].points).length-1;a<0;)a+=f[d].partialLength,(d-=1)<0&&(d=(f=m[h-=1].points).length-1);p=(f=m[h].points)[d-1],g=(l=f[d]).partialLength}i=k.length,n=0,r=0;var P,O,R,N,D,I=1.2*e.finalSize*.714,B=!0;R=E.length;var F,L,H,z,V,j,U,G,q,W,Z,$,K=-1,X=a,Y=h,J=d,Q=-1,ee="",te=this.defaultPropsArray;if(2===e.j||1===e.j){var ne=0,re=0,oe=2===e.j?-.5:-1,ie=0,se=!0;for(o=0;o<i;o+=1)if(k[o].n){for(ne&&(ne+=re);ie<o;)k[ie].animatorJustifyOffset=ne,ie+=1;ne=0,se=!0}else{for(O=0;O<R;O+=1)(P=E[O].a).t.propType&&(se&&2===e.j&&(re+=P.t.v*oe),(D=E[O].s.getMult(k[o].anIndexes[O],S.a[O].s.totalChars)).length?ne+=P.t.v*D[0]*oe:ne+=P.t.v*D*oe);se=!1}for(ne&&(ne+=re);ie<o;)k[ie].animatorJustifyOffset=ne,ie+=1}for(o=0;o<i;o+=1){if(C.reset(),z=1,k[o].n)n=0,r+=e.yOffset,r+=B?1:0,a=X,B=!1,this._hasMaskedPath&&(d=J,p=(f=m[h=Y].points)[d-1],g=(l=f[d]).partialLength,c=0),ee="",Z="",q="",$="",te=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Q!==k[o].line){switch(e.j){case 1:a+=v-e.lineWidths[k[o].line];break;case 2:a+=(v-e.lineWidths[k[o].line])/2}Q=k[o].line}K!==k[o].ind&&(k[K]&&(a+=k[K].extra),a+=k[o].an/2,K=k[o].ind),a+=x[0]*k[o].an*.005;var ae=0;for(O=0;O<R;O+=1)(P=E[O].a).p.propType&&((D=E[O].s.getMult(k[o].anIndexes[O],S.a[O].s.totalChars)).length?ae+=P.p.v[0]*D[0]:ae+=P.p.v[0]*D),P.a.propType&&((D=E[O].s.getMult(k[o].anIndexes[O],S.a[O].s.totalChars)).length?ae+=P.a.v[0]*D[0]:ae+=P.a.v[0]*D);for(u=!0,this._pathData.a.v&&(a=.5*k[0].an+(v-this._pathData.f.v-.5*k[0].an-.5*k[k.length-1].an)*K/(i-1),a+=this._pathData.f.v);u;)c+g>=a+ae||!f?(y=(a+ae-c)/l.partialLength,L=p.point[0]+(l.point[0]-p.point[0])*y,H=p.point[1]+(l.point[1]-p.point[1])*y,C.translate(-x[0]*k[o].an*.005,-x[1]*I*.01),u=!1):f&&(c+=l.partialLength,(d+=1)>=f.length&&(d=0,m[h+=1]?f=m[h].points:w.v.c?(d=0,f=m[h=0].points):(c-=l.partialLength,f=null)),f&&(p=l,g=(l=f[d]).partialLength));F=k[o].an/2-k[o].add,C.translate(-F,0,0)}else F=k[o].an/2-k[o].add,C.translate(-F,0,0),C.translate(-x[0]*k[o].an*.005,-x[1]*I*.01,0);for(O=0;O<R;O+=1)(P=E[O].a).t.propType&&(D=E[O].s.getMult(k[o].anIndexes[O],S.a[O].s.totalChars),0===n&&0===e.j||(this._hasMaskedPath?D.length?a+=P.t.v*D[0]:a+=P.t.v*D:D.length?n+=P.t.v*D[0]:n+=P.t.v*D));for(e.strokeWidthAnim&&(j=e.sw||0),e.strokeColorAnim&&(V=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(U=[e.fc[0],e.fc[1],e.fc[2]]),O=0;O<R;O+=1)(P=E[O].a).a.propType&&((D=E[O].s.getMult(k[o].anIndexes[O],S.a[O].s.totalChars)).length?C.translate(-P.a.v[0]*D[0],-P.a.v[1]*D[1],P.a.v[2]*D[2]):C.translate(-P.a.v[0]*D,-P.a.v[1]*D,P.a.v[2]*D));for(O=0;O<R;O+=1)(P=E[O].a).s.propType&&((D=E[O].s.getMult(k[o].anIndexes[O],S.a[O].s.totalChars)).length?C.scale(1+(P.s.v[0]-1)*D[0],1+(P.s.v[1]-1)*D[1],1):C.scale(1+(P.s.v[0]-1)*D,1+(P.s.v[1]-1)*D,1));for(O=0;O<R;O+=1){if(P=E[O].a,D=E[O].s.getMult(k[o].anIndexes[O],S.a[O].s.totalChars),P.sk.propType&&(D.length?C.skewFromAxis(-P.sk.v*D[0],P.sa.v*D[1]):C.skewFromAxis(-P.sk.v*D,P.sa.v*D)),P.r.propType&&(D.length?C.rotateZ(-P.r.v*D[2]):C.rotateZ(-P.r.v*D)),P.ry.propType&&(D.length?C.rotateY(P.ry.v*D[1]):C.rotateY(P.ry.v*D)),P.rx.propType&&(D.length?C.rotateX(P.rx.v*D[0]):C.rotateX(P.rx.v*D)),P.o.propType&&(D.length?z+=(P.o.v*D[0]-z)*D[0]:z+=(P.o.v*D-z)*D),e.strokeWidthAnim&&P.sw.propType&&(D.length?j+=P.sw.v*D[0]:j+=P.sw.v*D),e.strokeColorAnim&&P.sc.propType)for(G=0;G<3;G+=1)D.length?V[G]+=(P.sc.v[G]-V[G])*D[0]:V[G]+=(P.sc.v[G]-V[G])*D;if(e.fillColorAnim&&e.fc){if(P.fc.propType)for(G=0;G<3;G+=1)D.length?U[G]+=(P.fc.v[G]-U[G])*D[0]:U[G]+=(P.fc.v[G]-U[G])*D;P.fh.propType&&(U=D.length?addHueToRGB(U,P.fh.v*D[0]):addHueToRGB(U,P.fh.v*D)),P.fs.propType&&(U=D.length?addSaturationToRGB(U,P.fs.v*D[0]):addSaturationToRGB(U,P.fs.v*D)),P.fb.propType&&(U=D.length?addBrightnessToRGB(U,P.fb.v*D[0]):addBrightnessToRGB(U,P.fb.v*D))}}for(O=0;O<R;O+=1)(P=E[O].a).p.propType&&(D=E[O].s.getMult(k[o].anIndexes[O],S.a[O].s.totalChars),this._hasMaskedPath?D.length?C.translate(0,P.p.v[1]*D[0],-P.p.v[2]*D[1]):C.translate(0,P.p.v[1]*D,-P.p.v[2]*D):D.length?C.translate(P.p.v[0]*D[0],P.p.v[1]*D[1],-P.p.v[2]*D[2]):C.translate(P.p.v[0]*D,P.p.v[1]*D,-P.p.v[2]*D));if(e.strokeWidthAnim&&(q=j<0?0:j),e.strokeColorAnim&&(W="rgb("+Math.round(255*V[0])+","+Math.round(255*V[1])+","+Math.round(255*V[2])+")"),e.fillColorAnim&&e.fc&&(Z="rgb("+Math.round(255*U[0])+","+Math.round(255*U[1])+","+Math.round(255*U[2])+")"),this._hasMaskedPath){if(C.translate(0,-e.ls),C.translate(0,x[1]*I*.01+r,0),this._pathData.p.v){b=(l.point[1]-p.point[1])/(l.point[0]-p.point[0]);var le=180*Math.atan(b)/Math.PI;l.point[0]<p.point[0]&&(le+=180),C.rotate(-le*Math.PI/180)}C.translate(L,H,0),a-=x[0]*k[o].an*.005,k[o+1]&&K!==k[o+1].ind&&(a+=k[o].an/2,a+=.001*e.tr*e.finalSize)}else{switch(C.translate(n,r,0),e.ps&&C.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:C.translate(k[o].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[k[o].line]),0,0);break;case 2:C.translate(k[o].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[k[o].line])/2,0,0)}C.translate(0,-e.ls),C.translate(F,0,0),C.translate(x[0]*k[o].an*.005,x[1]*I*.01,0),n+=k[o].l+.001*e.tr*e.finalSize}"html"===A?ee=C.toCSS():"svg"===A?ee=C.to2dCSS():te=[C.props[0],C.props[1],C.props[2],C.props[3],C.props[4],C.props[5],C.props[6],C.props[7],C.props[8],C.props[9],C.props[10],C.props[11],C.props[12],C.props[13],C.props[14],C.props[15]],$=z}_<=o?(N=new LetterProps($,q,W,Z,ee,te),this.renderedLetters.push(N),_+=1,this.lettersChangedFlag=!0):(N=this.renderedLetters[o],this.lettersChangedFlag=N.update($,q,W,Z,ee,te)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(e,t,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,n),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(e,t){var n,r,o=t.length,i="";for(n=0;n<o;n+=1)"sh"===t[n].ty&&(r=t[n].ks.k,i+=buildShapeString(r,r.i.length,!0,e));return i},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,n,r,o){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[n]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[n])/2,0,0)}t.translate(r,o,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(e,t,n){this.textSpans=[],this.renderType="svg",this.initElement(e,t,n)}function ISolidElement(e,t,n){this.initElement(e,t,n)}function NullElement(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initFrame(),this.initTransform(e,t,n),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(e,t,n){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,n),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(t&&t.title){var r=createNS("title"),o=createElementID();r.setAttribute("id",o),r.textContent=t.title,this.svgElement.appendChild(r),n+=o}if(t&&t.description){var i=createNS("desc"),s=createElementID();i.setAttribute("id",s),i.textContent=t.description,this.svgElement.appendChild(i),n+=" "+s}n&&this.svgElement.setAttribute("aria-labelledby",n);var a=createNS("defs");this.svgElement.appendChild(a);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&!1===t.hideOnTransparent),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"},width:t&&t.width,height:t&&t.height,runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:a,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CVContextData(){var e;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),e=0;e<15;e+=1)this.saved[e]=createTypedArray("float32",16);this._length=15}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(e){for(var t=0,n=e.length,r=[],o="";t<n;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(r.push(o),o=""):o+=e[t],t+=1;return r.push(o),r},SVGTextLottieElement.prototype.buildShapeData=function(e,t){if(e.shapes&&e.shapes.length){var n=e.shapes[0];if(n.it){var r=n.it[n.it.length-1];r.s&&(r.s.k[0]=t,r.s.k[1]=t)}}return e},SVGTextLottieElement.prototype.buildNewText=function(){var e,t;this.addDynamicProperty(this);var n=this.textProperty.currentData;this.renderedLetters=createSizedArray(n?n.l.length:0),n.fc?this.layerElement.setAttribute("fill",this.buildColor(n.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var r=this.globalData.fontManager.getFontByName(n.f);if(r.fClass)this.layerElement.setAttribute("class",r.fClass);else{this.layerElement.setAttribute("font-family",r.fFamily);var o=n.fWeight,i=n.fStyle;this.layerElement.setAttribute("font-style",i),this.layerElement.setAttribute("font-weight",o)}this.layerElement.setAttribute("aria-label",n.t);var s,a=n.l||[],l=!!this.globalData.fontManager.chars;t=a.length;var c=this.mHelper,u=this.data.singleShape,d=0,h=0,p=!0,f=.001*n.tr*n.finalSize;if(!u||l||n.sz){var m,g=this.textSpans.length;for(e=0;e<t;e+=1){if(this.textSpans[e]||(this.textSpans[e]={span:null,childSpan:null,glyph:null}),!l||!u||0===e){if(s=g>e?this.textSpans[e].span:createNS(l?"g":"text"),g<=e){if(s.setAttribute("stroke-linecap","butt"),s.setAttribute("stroke-linejoin","round"),s.setAttribute("stroke-miterlimit","4"),this.textSpans[e].span=s,l){var v=createNS("g");s.appendChild(v),this.textSpans[e].childSpan=v}this.textSpans[e].span=s,this.layerElement.appendChild(s)}s.style.display="inherit"}if(c.reset(),u&&(a[e].n&&(d=-f,h+=n.yOffset,h+=p?1:0,p=!1),this.applyTextPropertiesToMatrix(n,c,a[e].line,d,h),d+=a[e].l||0,d+=f),l){var y;if(1===(m=this.globalData.fontManager.getCharData(n.finalText[e],r.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily)).t)y=new SVGCompElement(m.data,this.globalData,this);else{var b=emptyShapeData;m.data&&m.data.shapes&&(b=this.buildShapeData(m.data,n.finalSize)),y=new SVGShapeElement(b,this.globalData,this)}if(this.textSpans[e].glyph){var w=this.textSpans[e].glyph;this.textSpans[e].childSpan.removeChild(w.layerElement),w.destroy()}this.textSpans[e].glyph=y,y._debug=!0,y.prepareFrame(0),y.renderFrame(),this.textSpans[e].childSpan.appendChild(y.layerElement),1===m.t&&this.textSpans[e].childSpan.setAttribute("transform","scale("+n.finalSize/100+","+n.finalSize/100+")")}else u&&s.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),s.textContent=a[e].val,s.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}u&&s&&s.setAttribute("d","")}else{var x=this.textContainer,E="start";switch(n.j){case 1:E="end";break;case 2:E="middle";break;default:E="start"}x.setAttribute("text-anchor",E),x.setAttribute("letter-spacing",f);var S=this.buildTextContents(n.finalText);for(t=S.length,h=n.ps?n.ps[1]+n.ascent:0,e=0;e<t;e+=1)(s=this.textSpans[e].span||createNS("tspan")).textContent=S[e],s.setAttribute("x",0),s.setAttribute("y",h),s.style.display="inherit",x.appendChild(s),this.textSpans[e]||(this.textSpans[e]={span:null,glyph:null}),this.textSpans[e].span=s,h+=n.finalLineHeight;this.layerElement.appendChild(x)}for(;e<this.textSpans.length;)this.textSpans[e].span.style.display="none",e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var e,t,n=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,e=0;e<n;e+=1)(t=this.textSpans[e].glyph)&&(t.prepareFrame(this.comp.renderedFrame-this.data.st),t._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var e,t;this._sizeChanged=!0;var n,r,o,i=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(t=s.length,e=0;e<t;e+=1)s[e].n||(n=i[e],r=this.textSpans[e].span,(o=this.textSpans[e].glyph)&&o.renderFrame(),n._mdf.m&&r.setAttribute("transform",n.m),n._mdf.o&&r.setAttribute("opacity",n.o),n._mdf.sw&&r.setAttribute("stroke-width",n.sw),n._mdf.sc&&r.setAttribute("stroke",n.sc),n._mdf.fc&&r.setAttribute("fill",n.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)},NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRendererBase.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRendererBase.prototype.createText=function(e){return new SVGTextLottieElement(e,this.globalData,this)},SVGRendererBase.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var n=createNS("clipPath"),r=createNS("rect");r.setAttribute("width",e.w),r.setAttribute("height",e.h),r.setAttribute("x",0),r.setAttribute("y",0);var o=createElementID();n.setAttribute("id",o),n.appendChild(r),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")"),t.appendChild(n),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRendererBase.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(e){var t=0,n=this.layers.length;for(t=0;t<n;t+=1)if(this.layers[t].ind===e)return t;return-1},SVGRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){t[e]=!0;var n=this.createItem(this.layers[e]);if(t[e]=n,getExpressionsPlugin()&&(0===this.layers[e].ty&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,e),this.layers[e].tt){var r="tp"in this.layers[e]?this.findIndexByInd(this.layers[e].tp):e-1;if(-1===r)return;if(this.elements[r]&&!0!==this.elements[r]){var o=t[r].getMatte(this.layers[e].tt);n.setMatte(o)}else this.buildItem(r),this.addPendingElement(n)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,n=this.elements.length;t<n;){if(this.elements[t]===e){var r="tp"in e.data?this.findIndexByInd(e.data.tp):t-1,o=this.elements[r].getMatte(this.layers[t].tt);e.setMatte(o);break}t+=1}}},SVGRendererBase.prototype.renderFrame=function(e){if(this.renderedFrame!==e&&!this.destroyed){var t;null===e?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var n=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=n-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<n;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(e,t){var n=e.getBaseElement();if(n){for(var r,o=0;o<t;)this.elements[o]&&!0!==this.elements[o]&&this.elements[o].getBaseElement()&&(r=this.elements[o].getBaseElement()),o+=1;r?this.layerElement.insertBefore(n,r):this.layerElement.appendChild(n)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initTransform(e,t,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var n,r=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},CVContextData.prototype.duplicate=function(){var e=2*this._length,t=this.savedOp;this.savedOp=createTypedArray("float32",e),this.savedOp.set(t);var n=0;for(n=this._length;n<e;n+=1)this.saved[n]=createTypedArray("float32",16);this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVContextData.prototype.popTransform=function(){var e,t=this.saved[this.cArrPos],n=this.cTr.props;for(e=0;e<16;e+=1)n[e]=t[e];return t},CVContextData.prototype.popOpacity=function(){var e=this.savedOp[this.cArrPos];return this.cO=e,e},CVContextData.prototype.pop=function(){return this.cArrPos-=1,{transform:this.popTransform(),opacity:this.popOpacity()}},CVContextData.prototype.push=function(){var e,t=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var n=this.saved[this.cArrPos];for(e=0;e<16;e+=1)n[e]=t[e];this.savedOp[this.cArrPos]=this.cO,this.cArrPos+=1},CVContextData.prototype.getTransform=function(){return this.cTr},CVContextData.prototype.getOpacity=function(){return this.cO},CVContextData.prototype.setOpacity=function(e){this.cO=e},ShapeTransformManager.prototype={addTransformSequence:function(e){var t,n=e.length,r="_";for(t=0;t<n;t+=1)r+=e[t].transform.key+"_";var o=this.sequences[r];return o||(o={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[r]=o,this.sequenceList.push(o)),o},processSequence:function(e,t){for(var n,r=0,o=e.transforms.length,i=t;r<o&&!t;){if(e.transforms[r].transform.mProps._mdf){i=!0;break}r+=1}if(i)for(e.finalTransform.reset(),r=o-1;r>=0;r-=1)n=e.transforms[r].transform.mProps.v.props,e.finalTransform.transform(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]);e._mdf=i},processSequences:function(e){var t,n=this.sequenceList.length;for(t=0;t<n;t+=1)this.processSequence(this.sequenceList[t],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var e="__lottie_element_luma_buffer",t=null,n=null,r=null;function o(){var o,i,s;t||(o=createNS("svg"),i=createNS("filter"),s=createNS("feColorMatrix"),i.setAttribute("id",e),s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),i.appendChild(s),o.appendChild(i),o.setAttribute("id",e+"_svg"),featureSupport.svgLumaHidden&&(o.style.display="none"),r=o,document.body.appendChild(r),t=createTag("canvas"),(n=t.getContext("2d")).filter="url(#"+e+")",n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1))}return{load:o,get:function(r){return t||o(),t.width=r.width,t.height=r.height,n.filter="url(#"+e+")",t}}};function createCanvas(e,t){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(e,t);var n=createTag("canvas");return n.width=e,n.height=t,n}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas};function CVEffects(){}function CVMaskElement(e,t){var n;this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var r=this.masksProperties.length,o=!1;for(n=0;n<r;n+=1)"n"!==this.masksProperties[n].mode&&(o=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);this.hasMasks=o,o&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(){},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e,t,n,r,o=this.element.finalTransform.mat,i=this.element.canvasContext,s=this.masksProperties.length;for(i.beginPath(),e=0;e<s;e+=1)if("n"!==this.masksProperties[e].mode){var a;this.masksProperties[e].inv&&(i.moveTo(0,0),i.lineTo(this.element.globalData.compSize.w,0),i.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),i.lineTo(0,this.element.globalData.compSize.h),i.lineTo(0,0)),r=this.viewData[e].v,t=o.applyToPointArray(r.v[0][0],r.v[0][1],0),i.moveTo(t[0],t[1]);var l=r._length;for(a=1;a<l;a+=1)n=o.applyToTriplePoints(r.o[a-1],r.i[a],r.v[a]),i.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);n=o.applyToTriplePoints(r.o[a-1],r.i[0],r.v[0]),i.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}this.element.globalData.renderer.save(!0),i.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(e,t,n,r){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var o,i=4;"rc"===t.ty?i=5:"el"===t.ty?i=6:"sr"===t.ty&&(i=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,i,e);var s,a=n.length;for(o=0;o<a;o+=1)n[o].closed||(s={transforms:r.addTransformSequence(n[o].transforms),trNodes:[]},this.styledShapes.push(s),n[o].elements.push(s))}function CVShapeElement(e,t,n){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,n)}function CVTextElement(e,t,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,n)}function CVImageElement(e,t,n){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getAsset(this.assetData),this.initElement(e,t,n)}function CVSolidElement(e,t,n){this.initElement(e,t,n)}function CanvasRendererBase(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||""},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function CVCompElement(e,t,n){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,n),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||"",runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HBaseElement(){}function HSolidElement(e,t,n){this.initElement(e,t,n)}function HShapeElement(e,t,n){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,n),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(e,t,n){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,n)}function HCameraElement(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initHierarchy();var r=PropertyFactory.getProp;if(this.pe=r(this,e.pe,0,0,this),e.ks.p.s?(this.px=r(this,e.ks.p.x,1,0,this),this.py=r(this,e.ks.p.y,1,0,this),this.pz=r(this,e.ks.p.z,1,0,this)):this.p=r(this,e.ks.p,1,0,this),e.ks.a&&(this.a=r(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var o,i=e.ks.or.k.length;for(o=0;o<i;o+=1)e.ks.or.k[o].to=null,e.ks.or.k[o].ti=null}this.or=r(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=r(this,e.ks.rx,0,degToRads,this),this.ry=r(this,e.ks.ry,0,degToRads,this),this.rz=r(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(e,t,n){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,n)}function HybridRendererBase(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&!1===t.hideOnTransparent),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(e,t,n){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,n),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&!1===t.hideOnTransparent),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"},runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var e=this.globalData.canvasContext,t=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(t);var n=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(n),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var t=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=t}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(e){e.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var e=this.buffers[0].getContext("2d");this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var e=this.buffers[1],t=e.getContext("2d");if(this.clearCanvas(t),t.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var n=assetLoader.getLumaCanvas(this.canvasContext.canvas);n.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(n,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(e,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(e){if(!this.hidden&&!this.data.hd&&(1!==this.data.td||e)){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var t=0===this.data.ty;this.prepareLayer(),this.globalData.renderer.save(t),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(t),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var n={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:!0===e.hd},r={};if("fl"===e.ty||"st"===e.ty?(r.c=PropertyFactory.getProp(this,e.c,1,255,this),r.c.k||(n.co="rgb("+bmFloor(r.c.v[0])+","+bmFloor(r.c.v[1])+","+bmFloor(r.c.v[2])+")")):"gf"!==e.ty&&"gs"!==e.ty||(r.s=PropertyFactory.getProp(this,e.s,1,null,this),r.e=PropertyFactory.getProp(this,e.e,1,null,this),r.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),r.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),r.g=new GradientProperty(this,e.g,this)),r.o=PropertyFactory.getProp(this,e.o,0,.01,this),"st"===e.ty||"gs"===e.ty){if(n.lc=lineCapEnum[e.lc||2],n.lj=lineJoinEnum[e.lj||2],1==e.lj&&(n.ml=e.ml),r.w=PropertyFactory.getProp(this,e.w,0,null,this),r.w.k||(n.wi=r.w.v),e.d){var o=new DashProperty(this,e.d,"canvas",this);r.d=o,r.d.k||(n.da=r.d.dashArray,n.do=r.d.dashoffset[0])}}else n.r=2===e.r?"evenodd":"nonzero";return this.stylesList.push(n),r.style=n,r},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(e){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}}},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var t,n=this.stylesList.length;for(t=0;t<n;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,n,r,o){var i,s,a,l,c,u,d=e.length-1,h=[],p=[],f=[].concat(o);for(i=d;i>=0;i-=1){if((l=this.searchProcessedElement(e[i]))?t[i]=n[l-1]:e[i]._shouldRender=r,"fl"===e[i].ty||"st"===e[i].ty||"gf"===e[i].ty||"gs"===e[i].ty)l?t[i].style.closed=!1:t[i]=this.createStyleElement(e[i],f),h.push(t[i].style);else if("gr"===e[i].ty){if(l)for(a=t[i].it.length,s=0;s<a;s+=1)t[i].prevViewData[s]=t[i].it[s];else t[i]=this.createGroupElement(e[i]);this.searchShapes(e[i].it,t[i].it,t[i].prevViewData,r,f)}else"tr"===e[i].ty?(l||(u=this.createTransformElement(e[i]),t[i]=u),f.push(t[i]),this.addTransformToStyleList(t[i])):"sh"===e[i].ty||"rc"===e[i].ty||"el"===e[i].ty||"sr"===e[i].ty?l||(t[i]=this.createShapeElement(e[i])):"tm"===e[i].ty||"rd"===e[i].ty||"pb"===e[i].ty||"zz"===e[i].ty||"op"===e[i].ty?(l?(c=t[i]).closed=!1:((c=ShapeModifiers.getModifier(e[i].ty)).init(this,e[i]),t[i]=c,this.shapeModifiers.push(c)),p.push(c)):"rp"===e[i].ty&&(l?(c=t[i]).closed=!0:(c=ShapeModifiers.getModifier(e[i].ty),t[i]=c,c.init(this,e,i,t),this.shapeModifiers.push(c),r=!1),p.push(c));this.addProcessedElement(e[i],i+1)}for(this.removeTransformFromStyleList(),this.closeStyles(h),d=p.length,i=0;i<d;i+=1)p[i].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,t,n,r,o,i,s,a,l,c=this.stylesList.length,u=this.globalData.renderer,d=this.globalData.canvasContext;for(e=0;e<c;e+=1)if(("st"!==(a=(l=this.stylesList[e]).type)&&"gs"!==a||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(u.save(),i=l.elements,"st"===a||"gs"===a?(d.strokeStyle="st"===a?l.co:l.grd,d.lineWidth=l.wi,d.lineCap=l.lc,d.lineJoin=l.lj,d.miterLimit=l.ml||0):d.fillStyle="fl"===a?l.co:l.grd,u.ctxOpacity(l.coOp),"st"!==a&&"gs"!==a&&d.beginPath(),u.ctxTransform(l.preTransforms.finalTransform.props),n=i.length,t=0;t<n;t+=1){for("st"!==a&&"gs"!==a||(d.beginPath(),l.da&&(d.setLineDash(l.da),d.lineDashOffset=l.do)),o=(s=i[t].trNodes).length,r=0;r<o;r+=1)"m"===s[r].t?d.moveTo(s[r].p[0],s[r].p[1]):"c"===s[r].t?d.bezierCurveTo(s[r].pts[0],s[r].pts[1],s[r].pts[2],s[r].pts[3],s[r].pts[4],s[r].pts[5]):d.closePath();"st"!==a&&"gs"!==a||(d.stroke(),l.da&&d.setLineDash(this.dashResetter))}"st"!==a&&"gs"!==a&&d.fill(l.r),u.restore()}},CVShapeElement.prototype.renderShape=function(e,t,n,r){var o,i;for(i=e,o=t.length-1;o>=0;o-=1)"tr"===t[o].ty?(i=n[o].transform,this.renderShapeTransform(e,i)):"sh"===t[o].ty||"el"===t[o].ty||"rc"===t[o].ty||"sr"===t[o].ty?this.renderPath(t[o],n[o]):"fl"===t[o].ty?this.renderFill(t[o],n[o],i):"st"===t[o].ty?this.renderStroke(t[o],n[o],i):"gf"===t[o].ty||"gs"===t[o].ty?this.renderGradientFill(t[o],n[o],i):"gr"===t[o].ty?this.renderShape(i,t[o].it,n[o].it):t[o].ty;r&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var n,r,o,i=e.trNodes,s=t.paths,a=s._length;i.length=0;var l=e.transforms.finalTransform;for(o=0;o<a;o+=1){var c=s.shapes[o];if(c&&c.v){for(r=c._length,n=1;n<r;n+=1)1===n&&i.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),i.push({t:"c",pts:l.applyToTriplePoints(c.o[n-1],c.i[n],c.v[n])});1===r&&i.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&r&&(i.push({t:"c",pts:l.applyToTriplePoints(c.o[n-1],c.i[0],c.v[0])}),i.push({t:"z"}))}}e.trNodes=i}},CVShapeElement.prototype.renderPath=function(e,t){if(!0!==e.hd&&e._shouldRender){var n,r=t.styledShapes.length;for(n=0;n<r;n+=1)this.renderStyledShape(t.styledShapes[n],t.sh)}},CVShapeElement.prototype.renderFill=function(e,t,n){var r=t.style;(t.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||n._opMdf||this._isFirstFrame)&&(r.coOp=t.o.v*n.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,n){var r,o=t.style;if(!o.grd||t.g._mdf||t.s._mdf||t.e._mdf||1!==e.t&&(t.h._mdf||t.a._mdf)){var i,s=this.globalData.canvasContext,a=t.s.v,l=t.e.v;if(1===e.t)r=s.createLinearGradient(a[0],a[1],l[0],l[1]);else{var c=Math.sqrt(Math.pow(a[0]-l[0],2)+Math.pow(a[1]-l[1],2)),u=Math.atan2(l[1]-a[1],l[0]-a[0]),d=t.h.v;d>=1?d=.99:d<=-1&&(d=-.99);var h=c*d,p=Math.cos(u+t.a.v)*h+a[0],f=Math.sin(u+t.a.v)*h+a[1];r=s.createRadialGradient(p,f,0,a[0],a[1],c)}var m=e.g.p,g=t.g.c,v=1;for(i=0;i<m;i+=1)t.g._hasOpacity&&t.g._collapsable&&(v=t.g.o[2*i+1]),r.addColorStop(g[4*i]/100,"rgba("+g[4*i+1]+","+g[4*i+2]+","+g[4*i+3]+","+v+")");o.grd=r}o.coOp=t.o.v*n.opacity},CVShapeElement.prototype.renderStroke=function(e,t,n){var r=t.style,o=t.d;o&&(o._mdf||this._isFirstFrame)&&(r.da=o.dashArray,r.do=o.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||n._opMdf||this._isFirstFrame)&&(r.coOp=t.o.v*n.opacity),(t.w._mdf||this._isFirstFrame)&&(r.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var n=!1;e.sc&&(n=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var r,o,i,s,a,l,c,u,d,h,p,f,m=this.globalData.fontManager.getFontByName(e.f),g=e.l,v=this.mHelper;this.stroke=n,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,o=e.finalText.length;var y=this.data.singleShape,b=.001*e.tr*e.finalSize,w=0,x=0,E=!0,S=0;for(r=0;r<o;r+=1){s=(i=this.globalData.fontManager.getCharData(e.finalText[r],m.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&i.data||{},v.reset(),y&&g[r].n&&(w=-b,x+=e.yOffset,x+=E?1:0,E=!1),d=(c=s.shapes?s.shapes[0].it:[]).length,v.scale(e.finalSize/100,e.finalSize/100),y&&this.applyTextPropertiesToMatrix(e,v,g[r].line,w,x),p=createSizedArray(d-1);var C=0;for(u=0;u<d;u+=1)if("sh"===c[u].ty){for(l=c[u].ks.k.i.length,h=c[u].ks.k,f=[],a=1;a<l;a+=1)1===a&&f.push(v.applyToX(h.v[0][0],h.v[0][1],0),v.applyToY(h.v[0][0],h.v[0][1],0)),f.push(v.applyToX(h.o[a-1][0],h.o[a-1][1],0),v.applyToY(h.o[a-1][0],h.o[a-1][1],0),v.applyToX(h.i[a][0],h.i[a][1],0),v.applyToY(h.i[a][0],h.i[a][1],0),v.applyToX(h.v[a][0],h.v[a][1],0),v.applyToY(h.v[a][0],h.v[a][1],0));f.push(v.applyToX(h.o[a-1][0],h.o[a-1][1],0),v.applyToY(h.o[a-1][0],h.o[a-1][1],0),v.applyToX(h.i[0][0],h.i[0][1],0),v.applyToY(h.i[0][0],h.i[0][1],0),v.applyToX(h.v[0][0],h.v[0][1],0),v.applyToY(h.v[0][0],h.v[0][1],0)),p[C]=f,C+=1}y&&(w+=g[r].l,w+=b),this.textSpans[S]?this.textSpans[S].elem=p:this.textSpans[S]={elem:p},S+=1}},CVTextElement.prototype.renderInnerContent=function(){var e,t,n,r,o,i,s=this.canvasContext;s.font=this.values.fValue,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var a,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;t=c.length;var u,d,h=null,p=null,f=null;for(e=0;e<t;e+=1)if(!c[e].n){if((a=l[e])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(a.p),this.globalData.renderer.ctxOpacity(a.o)),this.fill){for(a&&a.fc?h!==a.fc&&(h=a.fc,s.fillStyle=a.fc):h!==this.values.fill&&(h=this.values.fill,s.fillStyle=this.values.fill),r=(u=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<r;n+=1)for(i=(d=u[n]).length,this.globalData.canvasContext.moveTo(d[0],d[1]),o=2;o<i;o+=6)this.globalData.canvasContext.bezierCurveTo(d[o],d[o+1],d[o+2],d[o+3],d[o+4],d[o+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(a&&a.sw?f!==a.sw&&(f=a.sw,s.lineWidth=a.sw):f!==this.values.sWidth&&(f=this.values.sWidth,s.lineWidth=this.values.sWidth),a&&a.sc?p!==a.sc&&(p=a.sc,s.strokeStyle=a.sc):p!==this.values.stroke&&(p=this.values.stroke,s.strokeStyle=this.values.stroke),r=(u=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<r;n+=1)for(i=(d=u[n]).length,this.globalData.canvasContext.moveTo(d[0],d[1]),o=2;o<i;o+=6)this.globalData.canvasContext.bezierCurveTo(d[o],d[o+1],d[o+2],d[o+3],d[o+4],d[o+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}a&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t,n,r=e.getContext("2d"),o=this.img.width,i=this.img.height,s=o/i,a=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;s>a&&"xMidYMid slice"===l||s<a&&"xMidYMid slice"!==l?t=(n=i)*a:n=(t=o)/a,r.drawImage(this.img,(o-t)/2,(i-n)/2,t,n,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var e=this.canvasContext;e.fillStyle=this.data.sc,e.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRendererBase.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(e){if(1!==e[0]||0!==e[1]||0!==e[4]||1!==e[5]||0!==e[12]||0!==e[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(e);var t=this.contextData.getTransform(),n=t.props;this.transformMat.transform(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]),t.cloneFromProps(this.transformMat.props);var r=t.props;this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])}else this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRendererBase.prototype.ctxOpacity=function(e){var t=this.contextData.getOpacity();if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=e<0?0:e,void(this.globalData.currentGlobalAlpha=t);t*=e<0?0:e,this.contextData.setOpacity(t),this.globalData.currentGlobalAlpha!==t&&(this.canvasContext.globalAlpha=t,this.globalData.currentGlobalAlpha=t)},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(e){this.renderConfig.clearCanvas?(e&&this.canvasContext.save(),this.contextData.push()):this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(e){if(this.renderConfig.clearCanvas){e&&(this.canvasContext.restore(),this.globalData.blendMode="source-over");var t=this.contextData.pop(),n=t.transform,r=t.opacity;this.canvasContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13]),this.globalData.currentGlobalAlpha!==r&&(this.canvasContext.globalAlpha=r,this.globalData.currentGlobalAlpha=r)}else this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var t=this.animationItem.container.style;t.width="100%",t.height="100%";var n="0px 0px 0px";t.transformOrigin=n,t.mozTransformOrigin=n,t.webkitTransformOrigin=n,t["-webkit-transform"]=n,t.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(e,t){var n,r,o,i;if(this.reset(),e?(n=e,r=t,this.canvasContext.canvas.width=n,this.canvasContext.canvas.height=r):(this.animationItem.wrapper&&this.animationItem.container?(n=this.animationItem.wrapper.offsetWidth,r=this.animationItem.wrapper.offsetHeight):(n=this.canvasContext.canvas.width,r=this.canvasContext.canvas.height),this.canvasContext.canvas.width=n*this.renderConfig.dpr,this.canvasContext.canvas.height=r*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var s=this.renderConfig.preserveAspectRatio.split(" "),a=s[1]||"meet",l=s[0]||"xMidYMid",c=l.substr(0,4),u=l.substr(4);o=n/r,(i=this.transformCanvas.w/this.transformCanvas.h)>o&&"meet"===a||i<o&&"slice"===a?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=r/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===c&&(i<o&&"meet"===a||i>o&&"slice"===a)?(n-this.transformCanvas.w*(r/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===c&&(i<o&&"meet"===a||i>o&&"slice"===a)?(n-this.transformCanvas.w*(r/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===u&&(i>o&&"meet"===a||i<o&&"slice"===a)?(r-this.transformCanvas.h*(n/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===u&&(i>o&&"meet"===a||i<o&&"slice"===a)?(r-this.transformCanvas.h*(n/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var e;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),e=(this.layers?this.layers.length:0)-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(e,t){if((this.renderedFrame!==e||!0!==this.renderConfig.clearCanvas||t)&&!this.destroyed&&-1!==e){var n;this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var r=this.layers.length;for(this.completeLayers||this.checkLayers(e),n=0;n<r;n+=1)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(e-this.layers[n].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){var n=this.createItem(this.layers[e],this,this.globalData);t[e]=n,n.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e,t=this.canvasContext;for(t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip(),e=this.layers.length-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var e;for(e=this.layers.length-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var t=this.finalTransform.mat.toCSS();e.transform=t,e.webkitTransform=t}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?((e=createNS("rect")).setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((e=createTag("div")).style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){var n,r=e.length;for(n=0;n<r;n+=1)t=e[n].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var n,r,o,i,s,a=e.sh.v,l=e.transformers,c=a._length;if(!(c<=1)){for(n=0;n<c-1;n+=1)r=this.getTransformedPoint(l,a.v[n]),o=this.getTransformedPoint(l,a.o[n]),i=this.getTransformedPoint(l,a.i[n+1]),s=this.getTransformedPoint(l,a.v[n+1]),this.checkBounds(r,o,i,s,t);a.c&&(r=this.getTransformedPoint(l,a.v[n]),o=this.getTransformedPoint(l,a.o[n]),i=this.getTransformedPoint(l,a.i[0]),s=this.getTransformedPoint(l,a.v[0]),this.checkBounds(r,o,i,s,t))}},HShapeElement.prototype.checkBounds=function(e,t,n,r,o){this.getBoundsOfCurve(e,t,n,r);var i=this.shapeBoundingBox;o.x=bmMin(i.left,o.x),o.xMax=bmMax(i.right,o.xMax),o.y=bmMin(i.top,o.y),o.yMax=bmMax(i.bottom,o.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,n,r){for(var o,i,s,a,l,c,u,d=[[e[0],r[0]],[e[1],r[1]]],h=0;h<2;++h)i=6*e[h]-12*t[h]+6*n[h],o=-3*e[h]+9*t[h]-9*n[h]+3*r[h],s=3*t[h]-3*e[h],i|=0,s|=0,0==(o|=0)&&0===i||(0===o?(a=-s/i)>0&&a<1&&d[h].push(this.calculateF(a,e,t,n,r,h)):(l=i*i-4*s*o)>=0&&((c=(-i+bmSqrt(l))/(2*o))>0&&c<1&&d[h].push(this.calculateF(c,e,t,n,r,h)),(u=(-i-bmSqrt(l))/(2*o))>0&&u<1&&d[h].push(this.calculateF(u,e,t,n,r,h))));this.shapeBoundingBox.left=bmMin.apply(null,d[0]),this.shapeBoundingBox.top=bmMin.apply(null,d[1]),this.shapeBoundingBox.right=bmMax.apply(null,d[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,d[1])},HShapeElement.prototype.calculateF=function(e,t,n,r,o,i){return bmPow(1-e,3)*t[i]+3*bmPow(1-e,2)*e*n[i]+3*(1-e)*bmPow(e,2)*r[i]+bmPow(e,3)*o[i]},HShapeElement.prototype.calculateBoundingBox=function(e,t){var n,r=e.length;for(n=0;n<r;n+=1)e[n]&&e[n].sh?this.calculateShapeBoundingBox(e[n],t):e[n]&&e[n].it?this.calculateBoundingBox(e[n].it,t):e[n]&&e[n].style&&e[n].w&&this.expandStrokeBoundingBox(e[n].w,t)},HShapeElement.prototype.expandStrokeBoundingBox=function(e,t){var n=0;if(e.keyframes){for(var r=0;r<e.keyframes.length;r+=1){var o=e.keyframes[r].s;o>n&&(n=o)}n*=e.mult}else n=e.v*e.mult;t.x-=n,t.xMax+=n,t.y-=n,t.yMax+=n},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var n=!1;if(this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),n=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),n=!0),n||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y){this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var r=this.shapeCont.style,o="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";r.transform=o,r.webkitTransform=o}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style,n=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)";t.fill=n,t.color=n,e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var r,o,i=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",i.fClass)this.innerElem.className=i.fClass;else{t.fontFamily=i.fFamily;var s=e.fWeight,a=e.fStyle;t.fontStyle=a,t.fontWeight=s}var l,c,u,d=e.l;o=d.length;var h,p=this.mHelper,f="",m=0;for(r=0;r<o;r+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?l=this.textPaths[m]:((l=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),l.setAttribute("stroke-linejoin",lineJoinEnum[2]),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[m]?u=(c=this.textSpans[m]).children[0]:((c=createTag("div")).style.lineHeight=0,(u=createNS("svg")).appendChild(l),styleDiv(c)))):this.isMasked?l=this.textPaths[m]?this.textPaths[m]:createNS("text"):this.textSpans[m]?(c=this.textSpans[m],l=this.textPaths[m]):(styleDiv(c=createTag("span")),styleDiv(l=createTag("span")),c.appendChild(l)),this.globalData.fontManager.chars){var g,v=this.globalData.fontManager.getCharData(e.finalText[r],i.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily);if(g=v?v.data:null,p.reset(),g&&g.shapes&&g.shapes.length&&(h=g.shapes[0].it,p.scale(e.finalSize/100,e.finalSize/100),f=this.createPathShape(p,h),l.setAttribute("d",f)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(c),g&&g.shapes){document.body.appendChild(u);var y=u.getBBox();u.setAttribute("width",y.width+2),u.setAttribute("height",y.height+2),u.setAttribute("viewBox",y.x-1+" "+(y.y-1)+" "+(y.width+2)+" "+(y.height+2));var b=u.style,w="translate("+(y.x-1)+"px,"+(y.y-1)+"px)";b.transform=w,b.webkitTransform=w,d[r].yOffset=y.y-1}else u.setAttribute("width",1),u.setAttribute("height",1);c.appendChild(u)}}else if(l.textContent=d[r].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(l);else{this.innerElem.appendChild(c);var x=l.style,E="translate3d(0,"+-e.finalSize/1.2+"px,0)";x.transform=E,x.webkitTransform=E}this.isMasked?this.textSpans[m]=l:this.textSpans[m]=c,this.textSpans[m].style.display="block",this.textPaths[m]=l,m+=1}for(;m<this.textSpans.length;)this.textSpans[m].style.display="none",m+=1},HTextElement.prototype.renderInnerContent=function(){var e;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),e=this.svgElement.style;var t="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";e.transform=t,e.webkitTransform=t}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var n,r,o,i,s,a=0,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;for(r=c.length,n=0;n<r;n+=1)c[n].n?a+=1:(i=this.textSpans[n],s=this.textPaths[n],o=l[a],a+=1,o._mdf.m&&(this.isMasked?i.setAttribute("transform",o.m):(i.style.webkitTransform=o.m,i.style.transform=o.m)),i.style.opacity=o.o,o.sw&&o._mdf.sw&&s.setAttribute("stroke-width",o.sw),o.sc&&o._mdf.sc&&s.setAttribute("stroke",o.sc),o.fc&&o._mdf.fc&&(s.setAttribute("fill",o.fc),s.style.color=o.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var u=this.innerElem.getBBox();if(this.currentBBox.w!==u.width&&(this.currentBBox.w=u.width,this.svgElement.setAttribute("width",u.width)),this.currentBBox.h!==u.height&&(this.currentBBox.h=u.height,this.svgElement.setAttribute("height",u.height)),this.currentBBox.w!==u.width+2||this.currentBBox.h!==u.height+2||this.currentBBox.x!==u.x-1||this.currentBBox.y!==u.y-1){this.currentBBox.w=u.width+2,this.currentBBox.h=u.height+2,this.currentBBox.x=u.x-1,this.currentBBox.y=u.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),e=this.svgElement.style;var d="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";e.transform=d,e.webkitTransform=d}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,t,n,r,o=this.comp.threeDElements.length;for(e=0;e<o;e+=1)if("3d"===(t=this.comp.threeDElements[e]).type){n=t.perspectiveElem.style,r=t.container.style;var i=this.pe.v+"px",s="0px 0px 0px",a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";n.perspective=i,n.webkitPerspective=i,r.transformOrigin=s,r.mozTransformOrigin=s,r.webkitTransformOrigin=s,n.transform=a,n.webkitTransform=a}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e,t,n=this._isFirstFrame;if(this.hierarchy)for(t=this.hierarchy.length,e=0;e<t;e+=1)n=this.hierarchy[e].finalTransform.mProp._mdf||n;if(n||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(e=t=this.hierarchy.length-1;e>=0;e-=1){var r=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-r.p.v[0],-r.p.v[1],r.p.v[2]),this.mat.rotateX(-r.or.v[0]).rotateY(-r.or.v[1]).rotateZ(r.or.v[2]),this.mat.rotateX(-r.rx.v).rotateY(-r.ry.v).rotateZ(r.rz.v),this.mat.scale(1/r.s.v[0],1/r.s.v[1],1/r.s.v[2]),this.mat.translate(r.a.v[0],r.a.v[1],r.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var o;o=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var i=Math.sqrt(Math.pow(o[0],2)+Math.pow(o[1],2)+Math.pow(o[2],2)),s=[o[0]/i,o[1]/i,o[2]/i],a=Math.sqrt(s[2]*s[2]+s[0]*s[0]),l=Math.atan2(s[1],a),c=Math.atan2(s[0],-s[2]);this.mat.rotateY(c).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var u=!this._prevMat.equals(this.mat);if((u||this.pe._mdf)&&this.comp.threeDElements){var d,h,p;for(t=this.comp.threeDElements.length,e=0;e<t;e+=1)if("3d"===(d=this.comp.threeDElements[e]).type){if(u){var f=this.mat.toCSS();(p=d.container.style).transform=f,p.webkitTransform=f}this.pe._mdf&&((h=d.perspectiveElem.style).perspective=this.pe.v+"px",h.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.crossOrigin="anonymous",t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(e,t){var n=e.getBaseElement();if(n){var r=this.layers[t];if(r.ddd&&this.supports3d)this.addTo3dContainer(n,t);else if(this.threeDElements)this.addTo3dContainer(n,t);else{for(var o,i,s=0;s<t;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement&&(i=this.elements[s],o=(this.layers[s].ddd?this.getThreeDContainerByPos(s):i.getBaseElement())||o),s+=1;o?r.ddd&&this.supports3d||this.layerElement.insertBefore(n,o):r.ddd&&this.supports3d||this.layerElement.appendChild(n)}}},HybridRendererBase.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRendererBase.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextLottieElement(e,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(e){for(var t=0,n=this.threeDElements.length;t<n;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(e,t){var n,r,o=createTag("div");styleDiv(o);var i=createTag("div");if(styleDiv(i),"3d"===t){(n=o.style).width=this.globalData.compSize.w+"px",n.height=this.globalData.compSize.h+"px";var s="50% 50%";n.webkitTransformOrigin=s,n.mozTransformOrigin=s,n.transformOrigin=s;var a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(r=i.style).transform=a,r.webkitTransform=a}o.appendChild(i);var l={container:i,perspectiveElem:o,startPos:e,endPos:e,type:t};return this.threeDElements.push(l),l},HybridRendererBase.prototype.build3dContainers=function(){var e,t,n=this.layers.length,r="";for(e=0;e<n;e+=1)this.layers[e].ddd&&3!==this.layers[e].ty?("3d"!==r&&(r="3d",t=this.createThreeDContainer(e,"3d")),t.endPos=Math.max(t.endPos,e)):("2d"!==r&&(r="2d",t=this.createThreeDContainer(e,"2d")),t.endPos=Math.max(t.endPos,e));for(e=(n=this.threeDElements.length)-1;e>=0;e-=1)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(e,t){for(var n=0,r=this.threeDElements.length;n<r;){if(t<=this.threeDElements[n].endPos){for(var o,i=this.threeDElements[n].startPos;i<t;)this.elements[i]&&this.elements[i].getBaseElement&&(o=this.elements[i].getBaseElement()),i+=1;o?this.threeDElements[n].container.insertBefore(e,o):this.threeDElements[n].container.appendChild(e);break}n+=1}},HybridRendererBase.prototype.configAnimation=function(e){var t=createTag("div"),n=this.animationItem.wrapper,r=t.style;r.width=e.w+"px",r.height=e.h+"px",this.resizerElem=t,styleDiv(t),r.transformStyle="flat",r.mozTransformStyle="flat",r.webkitTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),n.appendChild(t),r.overflow="hidden";var o=createNS("svg");o.setAttribute("width","1"),o.setAttribute("height","1"),styleDiv(o),this.resizerElem.appendChild(o);var i=createNS("defs");o.appendChild(i),this.data=e,this.setupGlobalData(e,o),this.globalData.defs=i,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var e,t,n,r,o=this.animationItem.wrapper.offsetWidth,i=this.animationItem.wrapper.offsetHeight,s=o/i;this.globalData.compSize.w/this.globalData.compSize.h>s?(e=o/this.globalData.compSize.w,t=o/this.globalData.compSize.w,n=0,r=(i-this.globalData.compSize.h*(o/this.globalData.compSize.w))/2):(e=i/this.globalData.compSize.h,t=i/this.globalData.compSize.h,n=(o-this.globalData.compSize.w*(i/this.globalData.compSize.h))/2,r=0);var a=this.resizerElem.style;a.webkitTransform="matrix3d("+e+",0,0,0,0,"+t+",0,0,0,0,1,0,"+n+","+r+",0,1)",a.transform=a.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e,t=this.globalData.compSize.w,n=this.globalData.compSize.h,r=this.threeDElements.length;for(e=0;e<r;e+=1){var o=this.threeDElements[e].perspectiveElem.style;o.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(n,2))+"px",o.perspective=o.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(e){var t,n=e.length,r=createTag("div");for(t=0;t<n;t+=1)if(e[t].xt){var o=this.createComp(e[t],r,this.globalData.comp,null);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var n,r=0;r<t;)this.elements[r]&&this.elements[r].getBaseElement&&(n=this.elements[r].getBaseElement()),r+=1;n?this.layerElement.insertBefore(e,n):this.layerElement.appendChild(e)},HCompElement.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};var CompExpressionInterface=function(e){function t(t){for(var n=0,r=e.layers.length;n<r;){if(e.layers[n].nm===t||e.layers[n].ind===t)return e.elements[n].layerInterface;n+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t},Expressions={initExpressions:function(e){var t=0,n=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=function(){t+=1},e.renderer.globalData.popExpression=function(){0==(t-=1)&&function(){var e,t=n.length;for(e=0;e<t;e+=1)n[e].release();n.length=0}()},e.renderer.globalData.registerExpressionProperty=function(e){-1===n.indexOf(e)&&n.push(e)}}},MaskManagerInterface=function(){function e(e,t){this._mask=e,this._data=t}return Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(t){var n,r=createSizedArray(t.viewData.length),o=t.viewData.length;for(n=0;n<o;n+=1)r[n]=new e(t.viewData[n],t.masksProperties[n]);return function(e){for(n=0;n<o;){if(t.masksProperties[n].nm===e)return r[n];n+=1}return null}}}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function n(e,t,n){Object.defineProperty(e,"velocity",{get:function(){return t.getVelocityAtTime(t.comp.currentFrame)}}),e.numKeys=t.keyframes?t.keyframes.length:0,e.key=function(r){if(!e.numKeys)return 0;var o;o="s"in t.keyframes[r-1]?t.keyframes[r-1].s:"e"in t.keyframes[r-2]?t.keyframes[r-2].e:t.keyframes[r-2].s;var i="unidimensional"===n?new Number(o):Object.assign({},o);return i.time=t.keyframes[r-1].t/t.elem.comp.globalData.frameRate,i.value="unidimensional"===n?o[0]:o,i},e.valueAtTime=t.getValueAtTime,e.speedAtTime=t.getSpeedAtTime,e.velocityAtTime=t.getVelocityAtTime,e.propertyGroup=t.propertyGroup}function r(){return e}return function(o){return o?"unidimensional"===o.propType?function(t){t&&"pv"in t||(t=e);var r=1/t.mult,o=t.pv*r,i=new Number(o);return i.value=o,n(i,t,"unidimensional"),function(){return t.k&&t.getValue(),o=t.v*r,i.value!==o&&((i=new Number(o)).value=o,n(i,t,"unidimensional")),i}}(o):function(e){e&&"pv"in e||(e=t);var r=1/e.mult,o=e.data&&e.data.l||e.pv.length,i=createTypedArray("float32",o),s=createTypedArray("float32",o);return i.value=s,n(i,e,"multidimensional"),function(){e.k&&e.getValue();for(var t=0;t<o;t+=1)s[t]=e.v[t]*r,i[t]=s[t];return i}}(o):r}}(),TransformExpressionInterface=function(e){function t(e){switch(e){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity;default:return null}}var n,r,o,i;return Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)}),e.p?i=ExpressionPropertyInterface(e.p):(n=ExpressionPropertyInterface(e.px),r=ExpressionPropertyInterface(e.py),e.pz&&(o=ExpressionPropertyInterface(e.pz))),Object.defineProperty(t,"position",{get:function(){return e.p?i():[n(),r(),o?o():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t},LayerExpressionInterface=function(){function e(e){var t=new Matrix;return void 0!==e?this._elem.finalTransform.mProp.getValueAtTime(e).clone(t):this._elem.finalTransform.mProp.applyToMatrix(t),t}function t(e,t){var n=this.getMatrix(t);return n.props[12]=0,n.props[13]=0,n.props[14]=0,this.applyPoint(n,e)}function n(e,t){var n=this.getMatrix(t);return this.applyPoint(n,e)}function r(e,t){var n=this.getMatrix(t);return n.props[12]=0,n.props[13]=0,n.props[14]=0,this.invertPoint(n,e)}function o(e,t){var n=this.getMatrix(t);return this.invertPoint(n,e)}function i(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(e)}return e.applyToPointArray(t[0],t[1],t[2]||0)}function s(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(e)}return e.inversePoint(t)}function a(e){var t=new Matrix;if(t.reset(),this._elem.finalTransform.mProp.applyToMatrix(t),this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(t);return t.inversePoint(e)}return t.inversePoint(e)}function l(){return[1,1,1,1]}return function(c){var u;function d(e){switch(e){case"ADBE Root Vectors Group":case"Contents":case 2:return d.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return u;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return d.effect;case"ADBE Text Properties":return d.textInterface;default:return null}}d.getMatrix=e,d.invertPoint=s,d.applyPoint=i,d.toWorld=n,d.toWorldVec=t,d.fromWorld=o,d.fromWorldVec=r,d.toComp=n,d.fromComp=a,d.sampleImage=l,d.sourceRectAtTime=c.sourceRectAtTime.bind(c),d._elem=c;var h=getDescriptor(u=TransformExpressionInterface(c.finalTransform.mProp),"anchorPoint");return Object.defineProperties(d,{hasParent:{get:function(){return c.hierarchy.length}},parent:{get:function(){return c.hierarchy[0].layerInterface}},rotation:getDescriptor(u,"rotation"),scale:getDescriptor(u,"scale"),position:getDescriptor(u,"position"),opacity:getDescriptor(u,"opacity"),anchorPoint:h,anchor_point:h,transform:{get:function(){return u}},active:{get:function(){return c.isInRange}}}),d.startTime=c.data.st,d.index=c.data.ind,d.source=c.data.refId,d.height=0===c.data.ty?c.data.h:100,d.width=0===c.data.ty?c.data.w:100,d.inPoint=c.data.ip/c.comp.globalData.frameRate,d.outPoint=c.data.op/c.comp.globalData.frameRate,d._name=c.data.nm,d.registerMaskInterface=function(e){d.mask=new MaskManagerInterface(e,c)},d.registerEffectsInterface=function(e){d.effect=e},d}}(),propertyGroupFactory=function(e,t){return function(n){return(n=void 0===n?1:n)<=0?e:t(n-1)}},PropertyInterface=function(e,t){var n={_name:e};return function(e){return(e=void 0===e?1:e)<=0?n:t(e-1)}},EffectsExpressionInterface=function(){function e(n,r,o,i){function s(e){for(var t=n.ef,r=0,o=t.length;r<o;){if(e===t[r].nm||e===t[r].mn||e===t[r].ix)return 5===t[r].ty?c[r]:c[r]();r+=1}throw new Error}var a,l=propertyGroupFactory(s,o),c=[],u=n.ef.length;for(a=0;a<u;a+=1)5===n.ef[a].ty?c.push(e(n.ef[a],r.effectElements[a],r.effectElements[a].propertyGroup,i)):c.push(t(r.effectElements[a],n.ef[a].ty,i,l));return"ADBE Color Control"===n.mn&&Object.defineProperty(s,"color",{get:function(){return c[0]()}}),Object.defineProperties(s,{numProperties:{get:function(){return n.np}},_name:{value:n.nm},propertyGroup:{value:l}}),s.enabled=0!==n.en,s.active=s.enabled,s}function t(e,t,n,r){var o=ExpressionPropertyInterface(e.p);return e.p.setGroupProperty&&e.p.setGroupProperty(PropertyInterface("",r)),function(){return 10===t?n.comp.compInterface(e.p.v):o()}}return{createEffectsInterface:function(t,n){if(t.effectsManager){var r,o=[],i=t.data.ef,s=t.effectsManager.effectElements.length;for(r=0;r<s;r+=1)o.push(e(i[r],t.effectsManager.effectElements[r],n,t));var a=t.data.ef||[],l=function(e){for(r=0,s=a.length;r<s;){if(e===a[r].nm||e===a[r].mn||e===a[r].ix)return o[r];r+=1}return null};return Object.defineProperty(l,"numProperties",{get:function(){return a.length}}),l}return null}}}(),ShapePathInterface=function(e,t,n){var r=t.sh;function o(e){return"Shape"===e||"shape"===e||"Path"===e||"path"===e||"ADBE Vector Shape"===e||2===e?o.path:null}var i=propertyGroupFactory(o,n);return r.setGroupProperty(PropertyInterface("Path",i)),Object.defineProperties(o,{path:{get:function(){return r.k&&r.getValue(),r}},shape:{get:function(){return r.k&&r.getValue(),r}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:n}}),o},ShapeExpressionInterface=function(){function e(e,s,h){var p,f=[],m=e?e.length:0;for(p=0;p<m;p+=1)"gr"===e[p].ty?f.push(t(e[p],s[p],h)):"fl"===e[p].ty?f.push(n(e[p],s[p],h)):"st"===e[p].ty?f.push(o(e[p],s[p],h)):"tm"===e[p].ty?f.push(i(e[p],s[p],h)):"tr"===e[p].ty||("el"===e[p].ty?f.push(a(e[p],s[p],h)):"sr"===e[p].ty?f.push(l(e[p],s[p],h)):"sh"===e[p].ty?f.push(ShapePathInterface(e[p],s[p],h)):"rc"===e[p].ty?f.push(c(e[p],s[p],h)):"rd"===e[p].ty?f.push(u(e[p],s[p],h)):"rp"===e[p].ty?f.push(d(e[p],s[p],h)):"gf"===e[p].ty?f.push(r(e[p],s[p],h)):f.push((e[p],s[p],function(){return null})));return f}function t(t,n,r){var o=function(e){switch(e){case"ADBE Vectors Group":case"Contents":case 2:return o.content;default:return o.transform}};o.propertyGroup=propertyGroupFactory(o,r);var i=function(t,n,r){var o,i=function(e){for(var t=0,n=o.length;t<n;){if(o[t]._name===e||o[t].mn===e||o[t].propertyIndex===e||o[t].ix===e||o[t].ind===e)return o[t];t+=1}return"number"==typeof e?o[e-1]:null};i.propertyGroup=propertyGroupFactory(i,r),o=e(t.it,n.it,i.propertyGroup),i.numProperties=o.length;var a=s(t.it[t.it.length-1],n.it[n.it.length-1],i.propertyGroup);return i.transform=a,i.propertyIndex=t.cix,i._name=t.nm,i}(t,n,o.propertyGroup),a=s(t.it[t.it.length-1],n.it[n.it.length-1],o.propertyGroup);return o.content=i,o.transform=a,Object.defineProperty(o,"_name",{get:function(){return t.nm}}),o.numProperties=t.np,o.propertyIndex=t.ix,o.nm=t.nm,o.mn=t.mn,o}function n(e,t,n){function r(e){return"Color"===e||"color"===e?r.color:"Opacity"===e||"opacity"===e?r.opacity:null}return Object.defineProperties(r,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",n)),t.o.setGroupProperty(PropertyInterface("Opacity",n)),r}function r(e,t,n){function r(e){return"Start Point"===e||"start point"===e?r.startPoint:"End Point"===e||"end point"===e?r.endPoint:"Opacity"===e||"opacity"===e?r.opacity:null}return Object.defineProperties(r,{startPoint:{get:ExpressionPropertyInterface(t.s)},endPoint:{get:ExpressionPropertyInterface(t.e)},opacity:{get:ExpressionPropertyInterface(t.o)},type:{get:function(){return"a"}},_name:{value:e.nm},mn:{value:e.mn}}),t.s.setGroupProperty(PropertyInterface("Start Point",n)),t.e.setGroupProperty(PropertyInterface("End Point",n)),t.o.setGroupProperty(PropertyInterface("Opacity",n)),r}function o(e,t,n){var r,o=propertyGroupFactory(c,n),i=propertyGroupFactory(l,o);function s(n){Object.defineProperty(l,e.d[n].nm,{get:ExpressionPropertyInterface(t.d.dataProps[n].p)})}var a=e.d?e.d.length:0,l={};for(r=0;r<a;r+=1)s(r),t.d.dataProps[r].p.setGroupProperty(i);function c(e){return"Color"===e||"color"===e?c.color:"Opacity"===e||"opacity"===e?c.opacity:"Stroke Width"===e||"stroke width"===e?c.strokeWidth:null}return Object.defineProperties(c,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},strokeWidth:{get:ExpressionPropertyInterface(t.w)},dash:{get:function(){return l}},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",o)),t.o.setGroupProperty(PropertyInterface("Opacity",o)),t.w.setGroupProperty(PropertyInterface("Stroke Width",o)),c}function i(e,t,n){function r(t){return t===e.e.ix||"End"===t||"end"===t?r.end:t===e.s.ix?r.start:t===e.o.ix?r.offset:null}var o=propertyGroupFactory(r,n);return r.propertyIndex=e.ix,t.s.setGroupProperty(PropertyInterface("Start",o)),t.e.setGroupProperty(PropertyInterface("End",o)),t.o.setGroupProperty(PropertyInterface("Offset",o)),r.propertyIndex=e.ix,r.propertyGroup=n,Object.defineProperties(r,{start:{get:ExpressionPropertyInterface(t.s)},end:{get:ExpressionPropertyInterface(t.e)},offset:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm}}),r.mn=e.mn,r}function s(e,t,n){function r(t){return e.a.ix===t||"Anchor Point"===t?r.anchorPoint:e.o.ix===t||"Opacity"===t?r.opacity:e.p.ix===t||"Position"===t?r.position:e.r.ix===t||"Rotation"===t||"ADBE Vector Rotation"===t?r.rotation:e.s.ix===t||"Scale"===t?r.scale:e.sk&&e.sk.ix===t||"Skew"===t?r.skew:e.sa&&e.sa.ix===t||"Skew Axis"===t?r.skewAxis:null}var o=propertyGroupFactory(r,n);return t.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",o)),t.transform.mProps.p.setGroupProperty(PropertyInterface("Position",o)),t.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",o)),t.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",o)),t.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",o)),t.transform.mProps.sk&&(t.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",o)),t.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",o))),t.transform.op.setGroupProperty(PropertyInterface("Opacity",o)),Object.defineProperties(r,{opacity:{get:ExpressionPropertyInterface(t.transform.mProps.o)},position:{get:ExpressionPropertyInterface(t.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(t.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(t.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(t.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(t.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(t.transform.mProps.sa)},_name:{value:e.nm}}),r.ty="tr",r.mn=e.mn,r.propertyGroup=n,r}function a(e,t,n){function r(t){return e.p.ix===t?r.position:e.s.ix===t?r.size:null}var o=propertyGroupFactory(r,n);r.propertyIndex=e.ix;var i="tm"===t.sh.ty?t.sh.prop:t.sh;return i.s.setGroupProperty(PropertyInterface("Size",o)),i.p.setGroupProperty(PropertyInterface("Position",o)),Object.defineProperties(r,{size:{get:ExpressionPropertyInterface(i.s)},position:{get:ExpressionPropertyInterface(i.p)},_name:{value:e.nm}}),r.mn=e.mn,r}function l(e,t,n){function r(t){return e.p.ix===t?r.position:e.r.ix===t?r.rotation:e.pt.ix===t?r.points:e.or.ix===t||"ADBE Vector Star Outer Radius"===t?r.outerRadius:e.os.ix===t?r.outerRoundness:!e.ir||e.ir.ix!==t&&"ADBE Vector Star Inner Radius"!==t?e.is&&e.is.ix===t?r.innerRoundness:null:r.innerRadius}var o=propertyGroupFactory(r,n),i="tm"===t.sh.ty?t.sh.prop:t.sh;return r.propertyIndex=e.ix,i.or.setGroupProperty(PropertyInterface("Outer Radius",o)),i.os.setGroupProperty(PropertyInterface("Outer Roundness",o)),i.pt.setGroupProperty(PropertyInterface("Points",o)),i.p.setGroupProperty(PropertyInterface("Position",o)),i.r.setGroupProperty(PropertyInterface("Rotation",o)),e.ir&&(i.ir.setGroupProperty(PropertyInterface("Inner Radius",o)),i.is.setGroupProperty(PropertyInterface("Inner Roundness",o))),Object.defineProperties(r,{position:{get:ExpressionPropertyInterface(i.p)},rotation:{get:ExpressionPropertyInterface(i.r)},points:{get:ExpressionPropertyInterface(i.pt)},outerRadius:{get:ExpressionPropertyInterface(i.or)},outerRoundness:{get:ExpressionPropertyInterface(i.os)},innerRadius:{get:ExpressionPropertyInterface(i.ir)},innerRoundness:{get:ExpressionPropertyInterface(i.is)},_name:{value:e.nm}}),r.mn=e.mn,r}function c(e,t,n){function r(t){return e.p.ix===t?r.position:e.r.ix===t?r.roundness:e.s.ix===t||"Size"===t||"ADBE Vector Rect Size"===t?r.size:null}var o=propertyGroupFactory(r,n),i="tm"===t.sh.ty?t.sh.prop:t.sh;return r.propertyIndex=e.ix,i.p.setGroupProperty(PropertyInterface("Position",o)),i.s.setGroupProperty(PropertyInterface("Size",o)),i.r.setGroupProperty(PropertyInterface("Rotation",o)),Object.defineProperties(r,{position:{get:ExpressionPropertyInterface(i.p)},roundness:{get:ExpressionPropertyInterface(i.r)},size:{get:ExpressionPropertyInterface(i.s)},_name:{value:e.nm}}),r.mn=e.mn,r}function u(e,t,n){function r(t){return e.r.ix===t||"Round Corners 1"===t?r.radius:null}var o=propertyGroupFactory(r,n),i=t;return r.propertyIndex=e.ix,i.rd.setGroupProperty(PropertyInterface("Radius",o)),Object.defineProperties(r,{radius:{get:ExpressionPropertyInterface(i.rd)},_name:{value:e.nm}}),r.mn=e.mn,r}function d(e,t,n){function r(t){return e.c.ix===t||"Copies"===t?r.copies:e.o.ix===t||"Offset"===t?r.offset:null}var o=propertyGroupFactory(r,n),i=t;return r.propertyIndex=e.ix,i.c.setGroupProperty(PropertyInterface("Copies",o)),i.o.setGroupProperty(PropertyInterface("Offset",o)),Object.defineProperties(r,{copies:{get:ExpressionPropertyInterface(i.c)},offset:{get:ExpressionPropertyInterface(i.o)},_name:{value:e.nm}}),r.mn=e.mn,r}return function(t,n,r){var o;function i(e){if("number"==typeof e)return 0===(e=void 0===e?1:e)?r:o[e-1];for(var t=0,n=o.length;t<n;){if(o[t]._name===e)return o[t];t+=1}return null}return i.propertyGroup=propertyGroupFactory(i,(function(){return r})),o=e(t,n,i.propertyGroup),i.numProperties=o.length,i._name="Contents",i}}(),TextExpressionInterface=function(e){var t,n;function r(e){return"ADBE Text Document"===e?r.sourceText:null}return Object.defineProperty(r,"sourceText",{get:function(){e.textProperty.getValue();var r=e.textProperty.currentData.t;return r!==t&&(t=e.textProperty.currentData.t,(n=new String(r)).value=r||new String(r),Object.defineProperty(n,"style",{get:function(){return{fillColor:e.textProperty.currentData.fc}}})),n}}),r};function _typeof$2(e){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(e)}var FootageInterface=(dataInterfaceFactory=function(e){function t(e){return"Outline"===e?t.outlineInterface():null}return t._name="Outline",t.outlineInterface=function(e){var t="",n=e.getFootageData();function r(e){if(n[e])return t=e,"object"===_typeof$2(n=n[e])?r:n;var o=e.indexOf(t);if(-1!==o){var i=parseInt(e.substr(o+t.length),10);return"object"===_typeof$2(n=n[i])?r:n}return""}return function(){return t="",n=e.getFootageData(),r}}(e),t},function(e){function t(e){return"Data"===e?t.dataInterface:null}return t._name="Data",t.dataInterface=dataInterfaceFactory(e),t}),dataInterfaceFactory,interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(e){return interfaces[e]||null}function _typeof$1(e){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(e)}function seedRandom(e,t){var n=this,r=256,o="random",i=t.pow(r,6),s=t.pow(2,52),a=2*s,l=r-1;function c(e){var t,n=e.length,o=this,i=0,s=o.i=o.j=0,a=o.S=[];for(n||(e=[n++]);i<r;)a[i]=i++;for(i=0;i<r;i++)a[i]=a[s=l&s+e[i%n]+(t=a[i])],a[s]=t;o.g=function(e){for(var t,n=0,i=o.i,s=o.j,a=o.S;e--;)t=a[i=l&i+1],n=n*r+a[l&(a[i]=a[s=l&s+t])+(a[s]=t)];return o.i=i,o.j=s,n}}function u(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function d(e,t){var n,r=[],o=_typeof$1(e);if(t&&"object"==o)for(n in e)try{r.push(d(e[n],t-1))}catch(e){}return r.length?r:"string"==o?e:e+"\0"}function h(e,t){for(var n,r=e+"",o=0;o<r.length;)t[l&o]=l&(n^=19*t[l&o])+r.charCodeAt(o++);return p(t)}function p(e){return String.fromCharCode.apply(0,e)}t["seed"+o]=function(l,f,m){var g=[],v=h(d((f=!0===f?{entropy:!0}:f||{}).entropy?[l,p(e)]:null===l?function(){try{var t=new Uint8Array(r);return(n.crypto||n.msCrypto).getRandomValues(t),p(t)}catch(t){var o=n.navigator,i=o&&o.plugins;return[+new Date,n,i,n.screen,p(e)]}}():l,3),g),y=new c(g),b=function(){for(var e=y.g(6),t=i,n=0;e<s;)e=(e+n)*r,t*=r,n=y.g(1);for(;e>=a;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|y.g(4)},b.quick=function(){return y.g(4)/4294967296},b.double=b,h(p(y.S),e),(f.pass||m||function(e,n,r,i){return i&&(i.S&&u(i,y),e.state=function(){return u(y,{})}),r?(t[o]=e,n):e})(b,v,"global"in f?f.global:this==t,f.state)},h(t.random(),e)}function initialize$2(e){seedRandom([],e)}var propTypes={SHAPE:"shape"};function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,t){return"number"===e||"boolean"===e||"string"===e||t instanceof Number}function $bm_neg(e){var t=_typeof(e);if("number"===t||"boolean"===t||e instanceof Number)return-e;if($bm_isInstanceOfArray(e)){var n,r=e.length,o=[];for(n=0;n<r;n+=1)o[n]=-e[n];return o}return e.propType?e.v:-e}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,t){var n=_typeof(e),r=_typeof(t);if("string"===n||"string"===r)return e+t;if(isNumerable(n,e)&&isNumerable(r,t))return e+t;if($bm_isInstanceOfArray(e)&&isNumerable(r,t))return(e=e.slice(0))[0]+=t,e;if(isNumerable(n,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e+t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var o=0,i=e.length,s=t.length,a=[];o<i||o<s;)("number"==typeof e[o]||e[o]instanceof Number)&&("number"==typeof t[o]||t[o]instanceof Number)?a[o]=e[o]+t[o]:a[o]=void 0===t[o]?e[o]:e[o]||t[o],o+=1;return a}return 0}var add=sum;function sub(e,t){var n=_typeof(e),r=_typeof(t);if(isNumerable(n,e)&&isNumerable(r,t))return"string"===n&&(e=parseInt(e,10)),"string"===r&&(t=parseInt(t,10)),e-t;if($bm_isInstanceOfArray(e)&&isNumerable(r,t))return(e=e.slice(0))[0]-=t,e;if(isNumerable(n,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e-t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var o=0,i=e.length,s=t.length,a=[];o<i||o<s;)("number"==typeof e[o]||e[o]instanceof Number)&&("number"==typeof t[o]||t[o]instanceof Number)?a[o]=e[o]-t[o]:a[o]=void 0===t[o]?e[o]:e[o]||t[o],o+=1;return a}return 0}function mul(e,t){var n,r,o,i=_typeof(e),s=_typeof(t);if(isNumerable(i,e)&&isNumerable(s,t))return e*t;if($bm_isInstanceOfArray(e)&&isNumerable(s,t)){for(o=e.length,n=createTypedArray("float32",o),r=0;r<o;r+=1)n[r]=e[r]*t;return n}if(isNumerable(i,e)&&$bm_isInstanceOfArray(t)){for(o=t.length,n=createTypedArray("float32",o),r=0;r<o;r+=1)n[r]=e*t[r];return n}return 0}function div(e,t){var n,r,o,i=_typeof(e),s=_typeof(t);if(isNumerable(i,e)&&isNumerable(s,t))return e/t;if($bm_isInstanceOfArray(e)&&isNumerable(s,t)){for(o=e.length,n=createTypedArray("float32",o),r=0;r<o;r+=1)n[r]=e[r]/t;return n}if(isNumerable(i,e)&&$bm_isInstanceOfArray(t)){for(o=t.length,n=createTypedArray("float32",o),r=0;r<o;r+=1)n[r]=e/t[r];return n}return 0}function mod(e,t){return"string"==typeof e&&(e=parseInt(e,10)),"string"==typeof t&&(t=parseInt(t,10)),e%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,t,n){if(t>n){var r=n;n=t,t=r}return Math.min(Math.max(e,t),n)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,t){if("number"==typeof e||e instanceof Number)return t=t||0,Math.abs(e-t);var n;t||(t=helperLengthArray);var r=Math.min(e.length,t.length),o=0;for(n=0;n<r;n+=1)o+=Math.pow(t[n]-e[n],2);return Math.sqrt(o)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t,n,r=e[0],o=e[1],i=e[2],s=Math.max(r,o,i),a=Math.min(r,o,i),l=(s+a)/2;if(s===a)t=0,n=0;else{var c=s-a;switch(n=l>.5?c/(2-s-a):c/(s+a),s){case r:t=(o-i)/c+(o<i?6:0);break;case o:t=(i-r)/c+2;break;case i:t=(r-o)/c+4}t/=6}return[t,n,l,e[3]]}function hue2rgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hslToRgb(e){var t,n,r,o=e[0],i=e[1],s=e[2];if(0===i)t=s,r=s,n=s;else{var a=s<.5?s*(1+i):s+i-s*i,l=2*s-a;t=hue2rgb(l,a,o+1/3),n=hue2rgb(l,a,o),r=hue2rgb(l,a,o-1/3)}return[t,n,r,e[3]]}function linear(e,t,n,r,o){if(void 0!==r&&void 0!==o||(r=t,o=n,t=0,n=1),n<t){var i=n;n=t,t=i}if(e<=t)return r;if(e>=n)return o;var s,a=n===t?0:(e-t)/(n-t);if(!r.length)return r+(o-r)*a;var l=r.length,c=createTypedArray("float32",l);for(s=0;s<l;s+=1)c[s]=r[s]+(o[s]-r[s])*a;return c}function random(e,t){if(void 0===t&&(void 0===e?(e=0,t=1):(t=e,e=void 0)),t.length){var n,r=t.length;e||(e=createTypedArray("float32",r));var o=createTypedArray("float32",r),i=BMMath.random();for(n=0;n<r;n+=1)o[n]=e[n]+i*(t[n]-e[n]);return o}return void 0===e&&(e=0),e+BMMath.random()*(t-e)}function createPath(e,t,n,r){var o,i=e.length,s=shapePool.newElement();s.setPathData(!!r,i);var a,l,c=[0,0];for(o=0;o<i;o+=1)a=t&&t[o]?t[o]:c,l=n&&n[o]?n[o]:c,s.setTripleAt(e[o][0],e[o][1],l[0]+e[o][0],l[1]+e[o][1],a[0]+e[o][0],a[1]+e[o][1],o,!0);return s}function initiateExpression(elem,data,property){function noOp(e){return e}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(e,t){var n,r,o=this.pv.length?this.pv.length:1,i=createTypedArray("float32",o),s=Math.floor(5*time);for(n=0,r=0;n<s;){for(r=0;r<o;r+=1)i[r]+=-t+2*t*BMMath.random();n+=1}var a=5*time,l=a-Math.floor(a),c=createTypedArray("float32",o);if(o>1){for(r=0;r<o;r+=1)c[r]=this.pv[r]+i[r]+(-t+2*t*BMMath.random())*l;return c}return this.pv+i[0]+(-t+2*t*BMMath.random())*l}.bind(this);function loopInDuration(e,t){return loopIn(e,t,!0)}function loopOutDuration(e,t){return loopOut(e,t,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(e,t){var n=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],r=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads;return[-Math.atan2(n[1],n[2])/degToRads,r,0]}function easeOut(e,t,n,r,o){return applyEase(easeOutBez,e,t,n,r,o)}function easeIn(e,t,n,r,o){return applyEase(easeInBez,e,t,n,r,o)}function ease(e,t,n,r,o){return applyEase(easeInOutBez,e,t,n,r,o)}function applyEase(e,t,n,r,o,i){void 0===o?(o=n,i=r):t=(t-n)/(r-n),t>1?t=1:t<0&&(t=0);var s=e(t);if($bm_isInstanceOfArray(o)){var a,l=o.length,c=createTypedArray("float32",l);for(a=0;a<l;a+=1)c[a]=(i[a]-o[a])*s+o[a];return c}return(i-o)*s+o}function nearestKey(e){var t,n,r,o=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(n=-1,(e*=elem.comp.globalData.frameRate)<data.k[0].t)n=1,r=data.k[0].t;else{for(t=0;t<o-1;t+=1){if(e===data.k[t].t){n=t+1,r=data.k[t].t;break}if(e>data.k[t].t&&e<data.k[t+1].t){e-data.k[t].t>data.k[t+1].t-e?(n=t+2,r=data.k[t+1].t):(n=t+1,r=data.k[t].t);break}}-1===n&&(n=t+1,r=data.k[t].t)}else n=0,r=0;var i={};return i.index=n,i.time=r/elem.comp.globalData.frameRate,i}function key(e){var t,n,r;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+e);e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var o=Object.prototype.hasOwnProperty.call(data.k[e],"s")?data.k[e].s:data.k[e-1].e;for(r=o.length,n=0;n<r;n+=1)t[n]=o[n],t.value[n]=o[n];return t}function framesToTime(e,t){return t||(t=elem.comp.globalData.frameRate),e/t}function timeToFrames(e,t){return e||0===e||(e=time),t||(t=elem.comp.globalData.frameRate),e*t}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,t){return"string"==typeof value?void 0===t?value.substring(e):value.substring(e,t):""}function substr(e,t){return"string"==typeof value?void 0===t?value.substr(e):value.substr(e,t):""}function posterizeTime(e){time=0===e?0:Math.floor(time*e)/e,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(e){return value=e,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers={searchExpressions:function(e,t,n){t.x&&(n.k=!0,n.x=!0,n.initiateExpression=ExpressionManager.initiateExpression,n.effectsSequence.push(n.initiateExpression(e,t,n).bind(n)))},getSpeedAtTime:function(e){var t=this.getValueAtTime(e),n=this.getValueAtTime(e+-.01),r=0;if(t.length){var o;for(o=0;o<t.length;o+=1)r+=Math.pow(n[o]-t[o],2);r=100*Math.sqrt(r)}else r=0;return r},getVelocityAtTime:function(e){if(void 0!==this.vel)return this.vel;var t,n,r=-.001,o=this.getValueAtTime(e),i=this.getValueAtTime(e+r);if(o.length)for(t=createTypedArray("float32",o.length),n=0;n<o.length;n+=1)t[n]=(i[n]-o[n])/r;else t=(i-o)/r;return t},getValueAtTime:function(e){return e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(e,this._cachingAtTime),this._cachingAtTime.lastFrame=e),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(e){this.propertyGroup=e}};function addPropertyDecorator(){function e(e,t,n){if(!this.k||!this.keyframes)return this.pv;e=e?e.toLowerCase():"";var r,o,i,s,a,l=this.comp.renderedFrame,c=this.keyframes,u=c[c.length-1].t;if(l<=u)return this.pv;if(n?o=u-(r=t?Math.abs(u-this.elem.comp.globalData.frameRate*t):Math.max(0,u-this.elem.data.ip)):((!t||t>c.length-1)&&(t=c.length-1),r=u-(o=c[c.length-1-t].t)),"pingpong"===e){if(Math.floor((l-o)/r)%2!=0)return this.getValueAtTime((r-(l-o)%r+o)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var d=this.getValueAtTime(o/this.comp.globalData.frameRate,0),h=this.getValueAtTime(u/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((l-o)%r+o)/this.comp.globalData.frameRate,0),f=Math.floor((l-o)/r);if(this.pv.length){for(s=(a=new Array(d.length)).length,i=0;i<s;i+=1)a[i]=(h[i]-d[i])*f+p[i];return a}return(h-d)*f+p}if("continue"===e){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),g=this.getValueAtTime((u-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(a=new Array(m.length)).length,i=0;i<s;i+=1)a[i]=m[i]+(m[i]-g[i])*((l-u)/this.comp.globalData.frameRate)/5e-4;return a}return m+(l-u)/.001*(m-g)}}return this.getValueAtTime(((l-o)%r+o)/this.comp.globalData.frameRate,0)}function t(e,t,n){if(!this.k)return this.pv;e=e?e.toLowerCase():"";var r,o,i,s,a,l=this.comp.renderedFrame,c=this.keyframes,u=c[0].t;if(l>=u)return this.pv;if(n?o=u+(r=t?Math.abs(this.elem.comp.globalData.frameRate*t):Math.max(0,this.elem.data.op-u)):((!t||t>c.length-1)&&(t=c.length-1),r=(o=c[t].t)-u),"pingpong"===e){if(Math.floor((u-l)/r)%2==0)return this.getValueAtTime(((u-l)%r+u)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var d=this.getValueAtTime(u/this.comp.globalData.frameRate,0),h=this.getValueAtTime(o/this.comp.globalData.frameRate,0),p=this.getValueAtTime((r-(u-l)%r+u)/this.comp.globalData.frameRate,0),f=Math.floor((u-l)/r)+1;if(this.pv.length){for(s=(a=new Array(d.length)).length,i=0;i<s;i+=1)a[i]=p[i]-(h[i]-d[i])*f;return a}return p-(h-d)*f}if("continue"===e){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),g=this.getValueAtTime((u+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(a=new Array(m.length)).length,i=0;i<s;i+=1)a[i]=m[i]+(m[i]-g[i])*(u-l)/.001;return a}return m+(m-g)*(u-l)/.001}}return this.getValueAtTime((r-((u-l)%r+u))/this.comp.globalData.frameRate,0)}function n(e,t){if(!this.k)return this.pv;if(e=.5*(e||.4),(t=Math.floor(t||5))<=1)return this.pv;var n,r,o=this.comp.renderedFrame/this.comp.globalData.frameRate,i=o-e,s=t>1?(o+e-i)/(t-1):1,a=0,l=0;for(n=this.pv.length?createTypedArray("float32",this.pv.length):0;a<t;){if(r=this.getValueAtTime(i+a*s),this.pv.length)for(l=0;l<this.pv.length;l+=1)n[l]+=r[l];else n+=r;a+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)n[l]/=t;else n/=t;return n}function r(e){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var t=this._transformCachingAtTime.v;if(t.cloneFromProps(this.pre.props),this.appliedTransformations<1){var n=this.a.getValueAtTime(e);t.translate(-n[0]*this.a.mult,-n[1]*this.a.mult,n[2]*this.a.mult)}if(this.appliedTransformations<2){var r=this.s.getValueAtTime(e);t.scale(r[0]*this.s.mult,r[1]*this.s.mult,r[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var o=this.sk.getValueAtTime(e),i=this.sa.getValueAtTime(e);t.skewFromAxis(-o*this.sk.mult,i*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var s=this.r.getValueAtTime(e);t.rotate(-s*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var a=this.rz.getValueAtTime(e),l=this.ry.getValueAtTime(e),c=this.rx.getValueAtTime(e),u=this.or.getValueAtTime(e);t.rotateZ(-a*this.rz.mult).rotateY(l*this.ry.mult).rotateX(c*this.rx.mult).rotateZ(-u[2]*this.or.mult).rotateY(u[1]*this.or.mult).rotateX(u[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var d=this.px.getValueAtTime(e),h=this.py.getValueAtTime(e);if(this.data.p.z){var p=this.pz.getValueAtTime(e);t.translate(d*this.px.mult,h*this.py.mult,-p*this.pz.mult)}else t.translate(d*this.px.mult,h*this.py.mult,0)}else{var f=this.p.getValueAtTime(e);t.translate(f[0]*this.p.mult,f[1]*this.p.mult,-f[2]*this.p.mult)}return t}function o(){return this.v.clone(new Matrix)}var i=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(e,t,n){var s=i(e,t,n);return s.dynamicProperties.length?s.getValueAtTime=r.bind(s):s.getValueAtTime=o.bind(s),s.setGroupProperty=expressionHelpers.setGroupProperty,s};var s=PropertyFactory.getProp;PropertyFactory.getProp=function(r,o,i,a,l){var c=s(r,o,i,a,l);c.kf?c.getValueAtTime=expressionHelpers.getValueAtTime.bind(c):c.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=e,c.loopIn=t,c.smooth=n,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=1===o.a?o.k.length:0,c.propertyIndex=o.ix;var u=0;return 0!==i&&(u=createTypedArray("float32",1===o.a?o.k[0].s.length:o.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:u},expressionHelpers.searchExpressions(r,o,c),c.k&&l.addDynamicProperty(c),c};var a=ShapePropertyFactory.getConstructorFunction(),l=ShapePropertyFactory.getKeyframedConstructorFunction();function c(){}c.prototype={vertices:function(e,t){this.k&&this.getValue();var n,r=this.v;void 0!==t&&(r=this.getValueAtTime(t,0));var o=r._length,i=r[e],s=r.v,a=createSizedArray(o);for(n=0;n<o;n+=1)a[n]="i"===e||"o"===e?[i[n][0]-s[n][0],i[n][1]-s[n][1]]:[i[n][0],i[n][1]];return a},points:function(e){return this.vertices("v",e)},inTangents:function(e){return this.vertices("i",e)},outTangents:function(e){return this.vertices("o",e)},isClosed:function(){return this.v.c},pointOnPath:function(e,t){var n=this.v;void 0!==t&&(n=this.getValueAtTime(t,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(n));for(var r,o=this._segmentsLength,i=o.lengths,s=o.totalLength*e,a=0,l=i.length,c=0;a<l;){if(c+i[a].addedLength>s){var u=a,d=n.c&&a===l-1?0:a+1,h=(s-c)/i[a].addedLength;r=bez.getPointInSegment(n.v[u],n.v[d],n.o[u],n.i[d],h,i[a]);break}c+=i[a].addedLength,a+=1}return r||(r=n.c?[n.v[0][0],n.v[0][1]]:[n.v[n._length-1][0],n.v[n._length-1][1]]),r},vectorOnPath:function(e,t,n){1==e?e=this.v.c:0==e&&(e=.999);var r=this.pointOnPath(e,t),o=this.pointOnPath(e+.001,t),i=o[0]-r[0],s=o[1]-r[1],a=Math.sqrt(Math.pow(i,2)+Math.pow(s,2));return 0===a?[0,0]:"tangent"===n?[i/a,s/a]:[-s/a,i/a]},tangentOnPath:function(e,t){return this.vectorOnPath(e,t,"tangent")},normalOnPath:function(e,t){return this.vectorOnPath(e,t,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([c],a),extendPrototype([c],l),l.prototype.getValueAtTime=function(e){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<e?this._caching.lastIndex:0,this._cachingAtTime.lastTime=e,this.interpolateShape(e,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},l.prototype.initiateExpression=ExpressionManager.initiateExpression;var u=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(e,t,n,r,o){var i=u(e,t,n,r,o);return i.propertyIndex=t.ix,i.lock=!1,3===n?expressionHelpers.searchExpressions(e,t.pt,i):4===n&&expressionHelpers.searchExpressions(e,t.ks,i),i.k&&e.addDynamicProperty(i),i}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(e,t){var n=this.calculateExpression(t);if(e.t!==n){var r={};return this.copyData(r,e),r.t=n.toString(),r.__complete=!1,r}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),t=this.searchExpressions();return this.kf=e||t,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(e,t){var n,r,o=createNS("feMerge");for(o.setAttribute("result",e),r=0;r<t.length;r+=1)(n=createNS("feMergeNode")).setAttribute("in",t[r]),o.appendChild(n),o.appendChild(n);return o}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(e,t,n,r,o){this.filterManager=t;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=i,i.setAttribute("result",r+"_tint_1"),e.appendChild(i),(i=createNS("feColorMatrix")).setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result",r+"_tint_2"),e.appendChild(i),this.matrixFilter=i;var s=this.createMergeNode(r,[o,r+"_tint_1",r+"_tint_2"]);e.appendChild(s)}function SVGFillFilter(e,t,n,r){this.filterManager=t;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),o.setAttribute("result",r),e.appendChild(o),this.matrixFilter=o}function SVGStrokeEffect(e,t,n){this.initialized=!1,this.filterManager=t,this.elem=n,this.paths=[]}function SVGTritoneFilter(e,t,n,r){this.filterManager=t;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","linearRGB"),o.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.appendChild(o);var i=createNS("feComponentTransfer");i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("result",r),this.matrixFilter=i;var s=createNS("feFuncR");s.setAttribute("type","table"),i.appendChild(s),this.feFuncR=s;var a=createNS("feFuncG");a.setAttribute("type","table"),i.appendChild(a),this.feFuncG=a;var l=createNS("feFuncB");l.setAttribute("type","table"),i.appendChild(l),this.feFuncB=l,e.appendChild(i)}function SVGProLevelsFilter(e,t,n,r){this.filterManager=t;var o=this.filterManager.effectElements,i=createNS("feComponentTransfer");(o[10].p.k||0!==o[10].p.v||o[11].p.k||1!==o[11].p.v||o[12].p.k||1!==o[12].p.v||o[13].p.k||0!==o[13].p.v||o[14].p.k||1!==o[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",i)),(o[17].p.k||0!==o[17].p.v||o[18].p.k||1!==o[18].p.v||o[19].p.k||1!==o[19].p.v||o[20].p.k||0!==o[20].p.v||o[21].p.k||1!==o[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",i)),(o[24].p.k||0!==o[24].p.v||o[25].p.k||1!==o[25].p.v||o[26].p.k||1!==o[26].p.v||o[27].p.k||0!==o[27].p.v||o[28].p.k||1!==o[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",i)),(o[31].p.k||0!==o[31].p.v||o[32].p.k||1!==o[32].p.v||o[33].p.k||1!==o[33].p.v||o[34].p.k||0!==o[34].p.v||o[35].p.k||1!==o[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",i)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(i.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(i)),(o[3].p.k||0!==o[3].p.v||o[4].p.k||1!==o[4].p.v||o[5].p.k||1!==o[5].p.v||o[6].p.k||0!==o[6].p.v||o[7].p.k||1!==o[7].p.v)&&((i=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("result",r),e.appendChild(i),this.feFuncRComposed=this.createFeFunc("feFuncR",i),this.feFuncGComposed=this.createFeFunc("feFuncG",i),this.feFuncBComposed=this.createFeFunc("feFuncB",i))}function SVGDropShadowEffect(e,t,n,r,o){var i=t.container.globalData.renderConfig.filterSize,s=t.data.fs||i;e.setAttribute("x",s.x||i.x),e.setAttribute("y",s.y||i.y),e.setAttribute("width",s.width||i.width),e.setAttribute("height",s.height||i.height),this.filterManager=t;var a=createNS("feGaussianBlur");a.setAttribute("in","SourceAlpha"),a.setAttribute("result",r+"_drop_shadow_1"),a.setAttribute("stdDeviation","0"),this.feGaussianBlur=a,e.appendChild(a);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",r+"_drop_shadow_1"),l.setAttribute("result",r+"_drop_shadow_2"),this.feOffset=l,e.appendChild(l);var c=createNS("feFlood");c.setAttribute("flood-color","#00ff00"),c.setAttribute("flood-opacity","1"),c.setAttribute("result",r+"_drop_shadow_3"),this.feFlood=c,e.appendChild(c);var u=createNS("feComposite");u.setAttribute("in",r+"_drop_shadow_3"),u.setAttribute("in2",r+"_drop_shadow_2"),u.setAttribute("operator","in"),u.setAttribute("result",r+"_drop_shadow_4"),e.appendChild(u);var d=this.createMergeNode(r,[r+"_drop_shadow_4",o]);e.appendChild(d)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+r+" 0"),this.matrixFilter.setAttribute("values",n[0]-t[0]+" 0 0 0 "+t[0]+" "+(n[1]-t[1])+" 0 0 0 "+t[1]+" "+(n[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,n=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+n+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var e,t,n,r,o=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(r=this.elem.maskManager.masksProperties.length,n=0):r=1+(n=this.filterManager.effectElements[0].p.v-1),(t=createNS("g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);n<r;n+=1)e=createNS("path"),t.appendChild(e),this.paths.push({p:e,m:n});if(3===this.filterManager.effectElements[10].p.v){var i=createNS("mask"),s=createElementID();i.setAttribute("id",s),i.setAttribute("mask-type","alpha"),i.appendChild(t),this.elem.globalData.defs.appendChild(i);var a=createNS("g");for(a.setAttribute("mask","url("+getLocationHref()+"#"+s+")");o[0];)a.appendChild(o[0]);this.elem.layerElement.appendChild(a),this.masker=i,t.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(o=this.elem.layerElement.children||this.elem.layerElement.childNodes;o.length;)this.elem.layerElement.removeChild(o[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(e){var t;this.initialized||this.initialize();var n,r,o=this.paths.length;for(t=0;t<o;t+=1)if(-1!==this.paths[t].m&&(n=this.elem.maskManager.viewData[this.paths[t].m],r=this.paths[t].p,(e||this.filterManager._mdf||n.prop._mdf)&&r.setAttribute("d",n.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||n.prop._mdf)){var i;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var s=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),a=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=r.getTotalLength();i="0 0 0 "+l*s+" ";var c,u=l*(a-s),d=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,h=Math.floor(u/d);for(c=0;c<h;c+=1)i+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";i+="0 "+10*l+" 0 0"}else i="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;r.setAttribute("stroke-dasharray",i)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(e||this.filterManager.effectElements[3].p._mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*p[0])+","+bmFloor(255*p[1])+","+bmFloor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v,o=r[0]+" "+n[0]+" "+t[0],i=r[1]+" "+n[1]+" "+t[1],s=r[2]+" "+n[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",o),this.feFuncG.setAttribute("tableValues",i),this.feFuncB.setAttribute("tableValues",s)}},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var n=createNS(e);return n.setAttribute("type","table"),t.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(e,t,n,r,o){for(var i,s,a=0,l=Math.min(e,t),c=Math.max(e,t),u=Array.call(null,{length:256}),d=0,h=o-r,p=t-e;a<=256;)s=(i=a/256)<=l?p<0?o:r:i>=c?p<0?r:o:r+h*Math.pow((i-e)/p,1/n),u[d]=s,d+=1,a+=256/255;return u.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,n=this.filterManager.effectElements;this.feFuncRComposed&&(e||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(t=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(t=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(t=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(t=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(t=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",t))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,r=(this.filterManager.effectElements[2].p.v-90)*degToRads,o=n*Math.cos(r),i=n*Math.sin(r);this.feOffset.setAttribute("dx",o),this.feOffset.setAttribute("dy",i)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,n){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}function SVGGaussianBlurEffect(e,t,n,r){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var o=createNS("feGaussianBlur");o.setAttribute("result",r),e.appendChild(o),this.feGaussianBlur=o}return SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,n=_svgMatteSymbols.length;t<n;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var n=e.layerElement.parentNode;if(n){for(var r,o=n.children,i=0,s=o.length;i<s&&o[i]!==e.layerElement;)i+=1;i<=s-2&&(r=o[i+1]);var a=createNS("use");a.setAttribute("href","#"+t),r?n.insertBefore(a,r):n.appendChild(a)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var n=createElementID(),r=createNS("mask");r.setAttribute("id",t.layerId),r.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var o=e.globalData.defs;o.appendChild(r);var i=createNS("symbol");i.setAttribute("id",n),this.replaceInParent(t,n),i.appendChild(t.layerElement),o.appendChild(i);var s=createNS("use");s.setAttribute("href","#"+n),r.appendChild(s),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,n=0,r=t.length;n<r;)t[n]&&t[n].data.ind===e&&this.setElementAsMask(this.elem,t[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3*this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=3==n?0:t,o=2==n?0:t;this.feGaussianBlur.setAttribute("stdDeviation",r+" "+o);var i=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",i)}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie},module.exports=factory())},6794:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},344:function(e,t,n){var r,o;r=function(){"use strict";var e=function(){o.log(2,"(COMPATIBILITY NOTICE) -> As of ScrollMagic 2.0.0 you need to use 'new ScrollMagic.Controller()' to create a new controller instance. Use 'new ScrollMagic.Scene()' to instance a scene.")};e.version="2.0.8","undefined"!=typeof window&&window.addEventListener("mousewheel",void 0);var t="data-scrollmagic-pin-spacer";e.Controller=function(r){var i,s,a="ScrollMagic.Controller",l="REVERSE",c="PAUSED",u=n.defaults,d=this,h=o.extend({},u,r),p=[],f=!1,m=0,g=c,v=!0,y=0,b=!0,w=function(){h.refreshInterval>0&&(s=window.setTimeout(k,h.refreshInterval))},x=function(){return h.vertical?o.get.scrollTop(h.container):o.get.scrollLeft(h.container)},E=function(){return h.vertical?o.get.height(h.container):o.get.width(h.container)},S=this._setScrollPos=function(e){h.vertical?v?window.scrollTo(o.get.scrollLeft(),e):h.container.scrollTop=e:v?window.scrollTo(e,o.get.scrollTop()):h.container.scrollLeft=e},C=function(){if(b&&f){var e=o.type.Array(f)?f:p.slice(0);f=!1;var t=m,n=(m=d.scrollPos())-t;0!==n&&(g=n>0?"FORWARD":l),g===l&&e.reverse(),e.forEach((function(t,n){T(3,"updating Scene "+(n+1)+"/"+e.length+" ("+p.length+" total)"),t.update(!0)})),0===e.length&&h.loglevel>=3&&T(3,"updating 0 Scenes (nothing added to controller)")}},A=function(){i=o.rAF(C)},_=function(e){T(3,"event fired causing an update:",e.type),"resize"==e.type&&(y=E(),g=c),!0!==f&&(f=!0,A())},k=function(){if(!v&&y!=E()){var e;try{e=new Event("resize",{bubbles:!1,cancelable:!1})}catch(t){(e=document.createEvent("Event")).initEvent("resize",!1,!1)}h.container.dispatchEvent(e)}p.forEach((function(e,t){e.refresh()})),w()},T=this._log=function(e,t){h.loglevel>=e&&(Array.prototype.splice.call(arguments,1,0,"("+a+") ->"),o.log.apply(window,arguments))};this._options=h;var M=function(e){if(e.length<=1)return e;var t=e.slice(0);return t.sort((function(e,t){return e.scrollOffset()>t.scrollOffset()?1:-1})),t};return this.addScene=function(t){if(o.type.Array(t))t.forEach((function(e,t){d.addScene(e)}));else if(t instanceof e.Scene){if(t.controller()!==d)t.addTo(d);else if(p.indexOf(t)<0){for(var n in p.push(t),p=M(p),t.on("shift.controller_sort",(function(){p=M(p)})),h.globalSceneOptions)t[n]&&t[n].call(t,h.globalSceneOptions[n]);T(3,"adding Scene (now "+p.length+" total)")}}else T(1,"ERROR: invalid argument supplied for '.addScene()'");return d},this.removeScene=function(e){if(o.type.Array(e))e.forEach((function(e,t){d.removeScene(e)}));else{var t=p.indexOf(e);t>-1&&(e.off("shift.controller_sort"),p.splice(t,1),T(3,"removing Scene (now "+p.length+" left)"),e.remove())}return d},this.updateScene=function(t,n){return o.type.Array(t)?t.forEach((function(e,t){d.updateScene(e,n)})):n?t.update(!0):!0!==f&&t instanceof e.Scene&&(-1==(f=f||[]).indexOf(t)&&f.push(t),f=M(f),A()),d},this.update=function(e){return _({type:"resize"}),e&&C(),d},this.scrollTo=function(n,r){if(o.type.Number(n))S.call(h.container,n,r);else if(n instanceof e.Scene)n.controller()===d?d.scrollTo(n.scrollOffset(),r):T(2,"scrollTo(): The supplied scene does not belong to this controller. Scroll cancelled.",n);else if(o.type.Function(n))S=n;else{var i=o.get.elements(n)[0];if(i){for(;i.parentNode.hasAttribute(t);)i=i.parentNode;var s=h.vertical?"top":"left",a=o.get.offset(h.container),l=o.get.offset(i);v||(a[s]-=d.scrollPos()),d.scrollTo(l[s]-a[s],r)}else T(2,"scrollTo(): The supplied argument is invalid. Scroll cancelled.",n)}return d},this.scrollPos=function(e){return arguments.length?(o.type.Function(e)?x=e:T(2,"Provided value for method 'scrollPos' is not a function. To change the current scroll position use 'scrollTo()'."),d):x.call(d)},this.info=function(e){var t={size:y,vertical:h.vertical,scrollPos:m,scrollDirection:g,container:h.container,isDocument:v};return arguments.length?void 0!==t[e]?t[e]:void T(1,'ERROR: option "'+e+'" is not available'):t},this.loglevel=function(e){return arguments.length?(h.loglevel!=e&&(h.loglevel=e),d):h.loglevel},this.enabled=function(e){return arguments.length?(b!=e&&(b=!!e,d.updateScene(p,!0)),d):b},this.destroy=function(e){window.clearTimeout(s);for(var t=p.length;t--;)p[t].destroy(e);return h.container.removeEventListener("resize",_),h.container.removeEventListener("scroll",_),o.cAF(i),T(3,"destroyed "+a+" (reset: "+(e?"true":"false")+")"),null},function(){for(var t in h)u.hasOwnProperty(t)||(T(2,'WARNING: Unknown option "'+t+'"'),delete h[t]);if(h.container=o.get.elements(h.container)[0],!h.container)throw T(1,"ERROR creating object "+a+": No valid scroll container supplied"),a+" init failed.";(v=h.container===window||h.container===document.body||!document.body.contains(h.container))&&(h.container=window),y=E(),h.container.addEventListener("resize",_),h.container.addEventListener("scroll",_);var n=parseInt(h.refreshInterval,10);h.refreshInterval=o.type.Number(n)?n:u.refreshInterval,w(),T(3,"added new "+a+" controller (v"+e.version+")")}(),d};var n={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};e.Controller.addOption=function(e,t){n.defaults[e]=t},e.Controller.extend=function(t){var n=this;e.Controller=function(){return n.apply(this,arguments),this.$super=o.extend({},this),t.apply(this,arguments)||this},o.extend(e.Controller,n),e.Controller.prototype=n.prototype,e.Controller.prototype.constructor=e.Controller},e.Scene=function(n){var i,s,a="ScrollMagic.Scene",l="BEFORE",c="DURING",u="AFTER",d=r.defaults,h=this,p=o.extend({},d,n),f=l,m=0,g={start:0,end:0},v=0,y=!0,b={};this.on=function(e,t){return o.type.Function(t)?(e=e.trim().split(" ")).forEach((function(e){var n=e.split("."),r=n[0],o=n[1];"*"!=r&&(b[r]||(b[r]=[]),b[r].push({namespace:o||"",callback:t}))})):w(1,"ERROR when calling '.on()': Supplied callback for '"+e+"' is not a valid function!"),h},this.off=function(e,t){return e?((e=e.trim().split(" ")).forEach((function(e,n){var r=e.split("."),o=r[0],i=r[1]||"";("*"===o?Object.keys(b):[o]).forEach((function(e){for(var n=b[e]||[],r=n.length;r--;){var o=n[r];!o||i!==o.namespace&&"*"!==i||t&&t!=o.callback||n.splice(r,1)}n.length||delete b[e]}))})),h):(w(1,"ERROR: Invalid event name supplied."),h)},this.trigger=function(t,n){if(t){var r=t.trim().split("."),o=r[0],i=r[1],s=b[o];w(3,"event fired:",o,n?"->":"",n||""),s&&s.forEach((function(t,r){i&&i!==t.namespace||t.callback.call(h,new e.Event(o,t.namespace,h,n))}))}else w(1,"ERROR: Invalid event name supplied.");return h},h.on("change.internal",(function(e){"loglevel"!==e.what&&"tweenChanges"!==e.what&&("triggerElement"===e.what?A():"reverse"===e.what&&h.update())})).on("shift.internal",(function(e){S(),h.update()}));var w=this._log=function(e,t){p.loglevel>=e&&(Array.prototype.splice.call(arguments,1,0,"("+a+") ->"),o.log.apply(window,arguments))};this.addTo=function(t){return t instanceof e.Controller?s!=t&&(s&&s.removeScene(h),s=t,T(),C(!0),A(!0),S(),s.info("container").addEventListener("resize",_),t.addScene(h),h.trigger("add",{controller:s}),w(3,"added "+a+" to controller"),h.update()):w(1,"ERROR: supplied argument of 'addTo()' is not a valid ScrollMagic Controller"),h},this.enabled=function(e){return arguments.length?(y!=e&&(y=!!e,h.update(!0)),h):y},this.remove=function(){if(s){s.info("container").removeEventListener("resize",_);var e=s;s=void 0,e.removeScene(h),h.trigger("remove"),w(3,"removed "+a+" from controller")}return h},this.destroy=function(e){return h.trigger("destroy",{reset:e}),h.remove(),h.off("*.*"),w(3,"destroyed "+a+" (reset: "+(e?"true":"false")+")"),null},this.update=function(e){if(s)if(e)if(s.enabled()&&y){var t,n=s.info("scrollPos");t=p.duration>0?(n-g.start)/(g.end-g.start):n>=g.start?1:0,h.trigger("update",{startPos:g.start,endPos:g.end,scrollPos:n}),h.progress(t)}else x&&f===c&&O(!0);else s.updateScene(h,!1);return h},this.refresh=function(){return C(),A(),h},this.progress=function(e){if(arguments.length){var t=!1,n=f,r=s?s.info("scrollDirection"):"PAUSED",o=p.reverse||e>=m;if(0===p.duration?(t=m!=e,f=0==(m=e<1&&o?0:1)?l:c):e<0&&f!==l&&o?(m=0,f=l,t=!0):e>=0&&e<1&&o?(m=e,f=c,t=!0):e>=1&&f!==u?(m=1,f=u,t=!0):f!==c||o||O(),t){var i={progress:m,state:f,scrollDirection:r},a=f!=n,d=function(e){h.trigger(e,i)};a&&n!==c&&(d("enter"),d(n===l?"start":"end")),d("progress"),a&&f!==c&&(d(f===l?"start":"end"),d("leave"))}return h}return m};var x,E,S=function(){g={start:v+p.offset},s&&p.triggerElement&&(g.start-=s.info("size")*p.triggerHook),g.end=g.start+p.duration},C=function(e){if(i){var t="duration";M(t,i.call(h))&&!e&&(h.trigger("change",{what:t,newval:p[t]}),h.trigger("shift",{reason:t}))}},A=function(e){var n=0,r=p.triggerElement;if(s&&(r||v>0)){if(r)if(r.parentNode){for(var i=s.info(),a=o.get.offset(i.container),l=i.vertical?"top":"left";r.parentNode.hasAttribute(t);)r=r.parentNode;var c=o.get.offset(r);i.isDocument||(a[l]-=s.scrollPos()),n=c[l]-a[l]}else w(2,"WARNING: triggerElement was removed from DOM and will be reset to",void 0),h.triggerElement(void 0);var u=n!=v;v=n,u&&!e&&h.trigger("shift",{reason:"triggerElementPosition"})}},_=function(e){p.triggerHook>0&&h.trigger("shift",{reason:"containerResize"})},k=o.extend(r.validate,{duration:function(e){if(o.type.String(e)&&e.match(/^(\.|\d)*\d+%$/)){var t=parseFloat(e)/100;e=function(){return s?s.info("size")*t:0}}if(o.type.Function(e)){i=e;try{e=parseFloat(i.call(h))}catch(t){e=-1}}if(e=parseFloat(e),!o.type.Number(e)||e<0)throw i?(i=void 0,['Invalid return value of supplied function for option "duration":',e]):['Invalid value for option "duration":',e];return e}}),T=function(e){(e=arguments.length?[e]:Object.keys(k)).forEach((function(e,t){var n;if(k[e])try{n=k[e](p[e])}catch(t){n=d[e];var r=o.type.String(t)?[t]:t;o.type.Array(r)?(r[0]="ERROR: "+r[0],r.unshift(1),w.apply(this,r)):w(1,"ERROR: Problem executing validation callback for option '"+e+"':",t.message)}finally{p[e]=n}}))},M=function(e,t){var n=!1,r=p[e];return p[e]!=t&&(p[e]=t,T(e),n=r!=p[e]),n},P=function(e){h[e]||(h[e]=function(t){return arguments.length?("duration"===e&&(i=void 0),M(e,t)&&(h.trigger("change",{what:e,newval:p[e]}),r.shifts.indexOf(e)>-1&&h.trigger("shift",{reason:e})),h):p[e]})};this.controller=function(){return s},this.state=function(){return f},this.scrollOffset=function(){return g.start},this.triggerPosition=function(){var e=p.offset;return s&&(p.triggerElement?e+=v:e+=s.info("size")*h.triggerHook()),e},h.on("shift.internal",(function(e){var t="duration"===e.reason;(f===u&&t||f===c&&0===p.duration)&&O(),t&&R()})).on("progress.internal",(function(e){O()})).on("add.internal",(function(e){R()})).on("destroy.internal",(function(e){h.removePin(e.reset)}));var O=function(e){if(x&&s){var t=s.info(),n=E.spacer.firstChild;if(e||f!==c){var r={position:E.inFlow?"relative":"absolute",top:0,left:0},i=o.css(n,"position")!=r.position;E.pushFollowers?p.duration>0&&(f===u&&0===parseFloat(o.css(E.spacer,"padding-top"))||f===l&&0===parseFloat(o.css(E.spacer,"padding-bottom")))&&(i=!0):r[t.vertical?"top":"left"]=p.duration*m,o.css(n,r),i&&R()}else{"fixed"!=o.css(n,"position")&&(o.css(n,{position:"fixed"}),R());var a=o.get.offset(E.spacer,!0),d=p.reverse||0===p.duration?t.scrollPos-g.start:Math.round(m*p.duration*10)/10;a[t.vertical?"top":"left"]+=d,o.css(E.spacer.firstChild,{top:a.top,left:a.left})}}},R=function(){if(x&&s&&E.inFlow){var e=f===c,t=s.info("vertical"),n=E.spacer.firstChild,r=o.isMarginCollapseType(o.css(E.spacer,"display")),i={};E.relSize.width||E.relSize.autoFullWidth?e?o.css(x,{width:o.get.width(E.spacer)}):o.css(x,{width:"100%"}):(i["min-width"]=o.get.width(t?x:n,!0,!0),i.width=e?i["min-width"]:"auto"),E.relSize.height?e?o.css(x,{height:o.get.height(E.spacer)-(E.pushFollowers?p.duration:0)}):o.css(x,{height:"100%"}):(i["min-height"]=o.get.height(t?n:x,!0,!r),i.height=e?i["min-height"]:"auto"),E.pushFollowers&&(i["padding"+(t?"Top":"Left")]=p.duration*m,i["padding"+(t?"Bottom":"Right")]=p.duration*(1-m)),o.css(E.spacer,i)}},N=function(){s&&x&&f===c&&!s.info("isDocument")&&O()},D=function(){s&&x&&f===c&&((E.relSize.width||E.relSize.autoFullWidth)&&o.get.width(window)!=o.get.width(E.spacer.parentNode)||E.relSize.height&&o.get.height(window)!=o.get.height(E.spacer.parentNode))&&R()},I=function(e){s&&x&&f===c&&!s.info("isDocument")&&(e.preventDefault(),s._setScrollPos(s.info("scrollPos")-((e.wheelDelta||e[s.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-e.detail)))};this.setPin=function(e,n){var r=n&&n.hasOwnProperty("pushFollowers");if(n=o.extend({},{pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"},n),!(e=o.get.elements(e)[0]))return w(1,"ERROR calling method 'setPin()': Invalid pin element supplied."),h;if("fixed"===o.css(e,"position"))return w(1,"ERROR calling method 'setPin()': Pin does not work with elements that are positioned 'fixed'."),h;if(x){if(x===e)return h;h.removePin()}var i=(x=e).parentNode.style.display,s=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];x.parentNode.style.display="none";var a="absolute"!=o.css(x,"position"),l=o.css(x,s.concat(["display"])),c=o.css(x,["width","height"]);x.parentNode.style.display=i,!a&&n.pushFollowers&&(w(2,"WARNING: If the pinned element is positioned absolutely pushFollowers will be disabled."),n.pushFollowers=!1),window.setTimeout((function(){x&&0===p.duration&&r&&n.pushFollowers&&w(2,"WARNING: pushFollowers =",!0,"has no effect, when scene duration is 0.")}),0);var u=x.parentNode.insertBefore(document.createElement("div"),x),d=o.extend(l,{position:a?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});if(a||o.extend(d,o.css(x,["width","height"])),o.css(u,d),u.setAttribute(t,""),o.addClass(u,n.spacerClass),E={spacer:u,relSize:{width:"%"===c.width.slice(-1),height:"%"===c.height.slice(-1),autoFullWidth:"auto"===c.width&&a&&o.isMarginCollapseType(l.display)},pushFollowers:n.pushFollowers,inFlow:a},!x.___origStyle){x.___origStyle={};var f=x.style;s.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]).forEach((function(e){x.___origStyle[e]=f[e]||""}))}return E.relSize.width&&o.css(u,{width:c.width}),E.relSize.height&&o.css(u,{height:c.height}),u.appendChild(x),o.css(x,{position:a?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(E.relSize.width||E.relSize.autoFullWidth)&&o.css(x,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",N),window.addEventListener("resize",N),window.addEventListener("resize",D),x.addEventListener("mousewheel",I),x.addEventListener("DOMMouseScroll",I),w(3,"added pin"),O(),h},this.removePin=function(e){if(x){if(f===c&&O(!0),e||!s){var n=E.spacer.firstChild;if(n.hasAttribute(t)){var r=E.spacer.style,i={};["margin","marginLeft","marginRight","marginTop","marginBottom"].forEach((function(e){i[e]=r[e]||""})),o.css(n,i)}E.spacer.parentNode.insertBefore(n,E.spacer),E.spacer.parentNode.removeChild(E.spacer),x.parentNode.hasAttribute(t)||(o.css(x,x.___origStyle),delete x.___origStyle)}window.removeEventListener("scroll",N),window.removeEventListener("resize",N),window.removeEventListener("resize",D),x.removeEventListener("mousewheel",I),x.removeEventListener("DOMMouseScroll",I),x=void 0,w(3,"removed pin (reset: "+(e?"true":"false")+")")}return h};var B,F=[];return h.on("destroy.internal",(function(e){h.removeClassToggle(e.reset)})),this.setClassToggle=function(e,t){var n=o.get.elements(e);return 0!==n.length&&o.type.String(t)?(F.length>0&&h.removeClassToggle(),B=t,F=n,h.on("enter.internal_class leave.internal_class",(function(e){var t="enter"===e.type?o.addClass:o.removeClass;F.forEach((function(e,n){t(e,B)}))})),h):(w(1,"ERROR calling method 'setClassToggle()': Invalid "+(0===n.length?"element":"classes")+" supplied."),h)},this.removeClassToggle=function(e){return e&&F.forEach((function(e,t){o.removeClass(e,B)})),h.off("start.internal_class end.internal_class"),B=void 0,F=[],h},function(){for(var e in p)d.hasOwnProperty(e)||(w(2,'WARNING: Unknown option "'+e+'"'),delete p[e]);for(var t in d)P(t);T()}(),h};var r={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(e){if(e=parseFloat(e),!o.type.Number(e))throw['Invalid value for option "offset":',e];return e},triggerElement:function(e){if(e=e||void 0){var t=o.get.elements(e)[0];if(!t||!t.parentNode)throw['Element defined in option "triggerElement" was not found:',e];e=t}return e},triggerHook:function(e){var t={onCenter:.5,onEnter:1,onLeave:0};if(o.type.Number(e))e=Math.max(0,Math.min(parseFloat(e),1));else{if(!(e in t))throw['Invalid value for option "triggerHook": ',e];e=t[e]}return e},reverse:function(e){return!!e},loglevel:function(e){if(e=parseInt(e),!o.type.Number(e)||e<0||e>3)throw['Invalid value for option "loglevel":',e];return e}},shifts:["duration","offset","triggerHook"]};e.Scene.addOption=function(t,n,o,i){t in r.defaults?e._util.log(1,"[static] ScrollMagic.Scene -> Cannot add Scene option '"+t+"', because it already exists."):(r.defaults[t]=n,r.validate[t]=o,i&&r.shifts.push(t))},e.Scene.extend=function(t){var n=this;e.Scene=function(){return n.apply(this,arguments),this.$super=o.extend({},this),t.apply(this,arguments)||this},o.extend(e.Scene,n),e.Scene.prototype=n.prototype,e.Scene.prototype.constructor=e.Scene},e.Event=function(e,t,n,r){for(var o in r=r||{})this[o]=r[o];return this.type=e,this.target=this.currentTarget=n,this.namespace=t||"",this.timeStamp=this.timestamp=Date.now(),this};var o=e._util=function(e){var t,n={},r=function(e){return parseFloat(e)||0},o=function(t){return t.currentStyle?t.currentStyle:e.getComputedStyle(t)},i=function(t,n,i,s){if((n=n===document?e:n)===e)s=!1;else if(!f.DomElement(n))return 0;t=t.charAt(0).toUpperCase()+t.substr(1).toLowerCase();var a=(i?n["offset"+t]||n["outer"+t]:n["client"+t]||n["inner"+t])||0;if(i&&s){var l=o(n);a+="Height"===t?r(l.marginTop)+r(l.marginBottom):r(l.marginLeft)+r(l.marginRight)}return a},s=function(e){return e.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))};n.extend=function(e){for(e=e||{},t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e},n.isMarginCollapseType=function(e){return["block","flex","list-item","table","-webkit-box"].indexOf(e)>-1};var a=0,l=["ms","moz","webkit","o"],c=e.requestAnimationFrame,u=e.cancelAnimationFrame;for(t=0;!c&&t<l.length;++t)c=e[l[t]+"RequestAnimationFrame"],u=e[l[t]+"CancelAnimationFrame"]||e[l[t]+"CancelRequestAnimationFrame"];c||(c=function(t){var n=(new Date).getTime(),r=Math.max(0,16-(n-a)),o=e.setTimeout((function(){t(n+r)}),r);return a=n+r,o}),u||(u=function(t){e.clearTimeout(t)}),n.rAF=c.bind(e),n.cAF=u.bind(e);var d=["error","warn","log"],h=e.console||{};for(h.log=h.log||function(){},t=0;t<d.length;t++){var p=d[t];h[p]||(h[p]=h.log)}n.log=function(e){(e>d.length||e<=0)&&(e=d.length);var t=new Date,n=("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)+":"+("00"+t.getMilliseconds()).slice(-3),r=d[e-1],o=Array.prototype.splice.call(arguments,1),i=Function.prototype.bind.call(h[r],h);o.unshift(n),i.apply(h,o)};var f=n.type=function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};f.String=function(e){return"string"===f(e)},f.Function=function(e){return"function"===f(e)},f.Array=function(e){return Array.isArray(e)},f.Number=function(e){return!f.Array(e)&&e-parseFloat(e)+1>=0},f.DomElement=function(e){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?e instanceof HTMLElement||e instanceof SVGElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName};var m=n.get={};return m.elements=function(t){var n=[];if(f.String(t))try{t=document.querySelectorAll(t)}catch(e){return n}if("nodelist"===f(t)||f.Array(t)||t instanceof NodeList)for(var r=0,o=n.length=t.length;r<o;r++){var i=t[r];n[r]=f.DomElement(i)?i:m.elements(i)}else(f.DomElement(t)||t===document||t===e)&&(n=[t]);return n},m.scrollTop=function(t){return t&&"number"==typeof t.scrollTop?t.scrollTop:e.pageYOffset||0},m.scrollLeft=function(t){return t&&"number"==typeof t.scrollLeft?t.scrollLeft:e.pageXOffset||0},m.width=function(e,t,n){return i("width",e,t,n)},m.height=function(e,t,n){return i("height",e,t,n)},m.offset=function(e,t){var n={top:0,left:0};if(e&&e.getBoundingClientRect){var r=e.getBoundingClientRect();n.top=r.top,n.left=r.left,t||(n.top+=m.scrollTop(),n.left+=m.scrollLeft())}return n},n.addClass=function(e,t){t&&(e.classList?e.classList.add(t):e.className+=" "+t)},n.removeClass=function(e,t){t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},n.css=function(e,t){if(f.String(t))return o(e)[s(t)];if(f.Array(t)){var n={},r=o(e);return t.forEach((function(e,t){n[e]=r[s(e)]})),n}for(var i in t){var a=t[i];a==parseFloat(a)&&(a+="px"),e.style[s(i)]=a}},n}(window||{});return e.Scene.prototype.addIndicators=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling addIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},e.Scene.prototype.removeIndicators=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},e.Scene.prototype.setTween=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},e.Scene.prototype.removeTween=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},e.Scene.prototype.setVelocity=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},e.Scene.prototype.removeVelocity=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},e},void 0===(o=r.call(t,n,t,e))||(e.exports=o)},9585:function(e){"use strict";!function(t){const n=2147483647;function r(e){const t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let n=1779033703,r=3144134277,o=1013904242,i=2773480762,s=1359893119,a=2600822924,l=528734635,c=1541459225;const u=new Uint32Array(64);function d(e){let d=0,h=e.length;for(;h>=64;){let p,f,m,g,v,y=n,b=r,w=o,x=i,E=s,S=a,C=l,A=c;for(f=0;f<16;f++)m=d+4*f,u[f]=(255&e[m])<<24|(255&e[m+1])<<16|(255&e[m+2])<<8|255&e[m+3];for(f=16;f<64;f++)p=u[f-2],g=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,p=u[f-15],v=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,u[f]=(g+u[f-7]|0)+(v+u[f-16]|0)|0;for(f=0;f<64;f++)g=(((E>>>6|E<<26)^(E>>>11|E<<21)^(E>>>25|E<<7))+(E&S^~E&C)|0)+(A+(t[f]+u[f]|0)|0)|0,v=((y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10))+(y&b^y&w^b&w)|0,A=C,C=S,S=E,E=x+g|0,x=w,w=b,b=y,y=g+v|0;n=n+y|0,r=r+b|0,o=o+w|0,i=i+x|0,s=s+E|0,a=a+S|0,l=l+C|0,c=c+A|0,d+=64,h-=64}}d(e);let h,p=e.length%64,f=e.length/536870912|0,m=e.length<<3,g=p<56?56:120,v=e.slice(e.length-p,e.length);for(v.push(128),h=p+1;h<g;h++)v.push(0);return v.push(f>>>24&255),v.push(f>>>16&255),v.push(f>>>8&255),v.push(f>>>0&255),v.push(m>>>24&255),v.push(m>>>16&255),v.push(m>>>8&255),v.push(m>>>0&255),d(v),[n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,l>>>24&255,l>>>16&255,l>>>8&255,l>>>0&255,c>>>24&255,c>>>16&255,c>>>8&255,c>>>0&255]}function o(e,t,n){e=e.length<=64?e:r(e);const o=64+t.length+4,i=new Array(o),s=new Array(64);let a,l=[];for(a=0;a<64;a++)i[a]=54;for(a=0;a<e.length;a++)i[a]^=e[a];for(a=0;a<t.length;a++)i[64+a]=t[a];for(a=o-4;a<o;a++)i[a]=0;for(a=0;a<64;a++)s[a]=92;for(a=0;a<e.length;a++)s[a]^=e[a];function c(){for(let e=o-1;e>=o-4;e--){if(i[e]++,i[e]<=255)return;i[e]=0}}for(;n>=32;)c(),l=l.concat(r(s.concat(r(i)))),n-=32;return n>0&&(c(),l=l.concat(r(s.concat(r(i))).slice(0,n))),l}function i(e,t,n,r,o){let i;for(c(e,16*(2*n-1),o,0,16),i=0;i<2*n;i++)l(e,16*i,o,16),a(o,r),c(o,0,e,t+16*i,16);for(i=0;i<n;i++)c(e,t+2*i*16,e,16*i,16);for(i=0;i<n;i++)c(e,t+16*(2*i+1),e,16*(i+n),16)}function s(e,t){return e<<t|e>>>32-t}function a(e,t){c(e,0,t,0,16);for(let e=8;e>0;e-=2)t[4]^=s(t[0]+t[12],7),t[8]^=s(t[4]+t[0],9),t[12]^=s(t[8]+t[4],13),t[0]^=s(t[12]+t[8],18),t[9]^=s(t[5]+t[1],7),t[13]^=s(t[9]+t[5],9),t[1]^=s(t[13]+t[9],13),t[5]^=s(t[1]+t[13],18),t[14]^=s(t[10]+t[6],7),t[2]^=s(t[14]+t[10],9),t[6]^=s(t[2]+t[14],13),t[10]^=s(t[6]+t[2],18),t[3]^=s(t[15]+t[11],7),t[7]^=s(t[3]+t[15],9),t[11]^=s(t[7]+t[3],13),t[15]^=s(t[11]+t[7],18),t[1]^=s(t[0]+t[3],7),t[2]^=s(t[1]+t[0],9),t[3]^=s(t[2]+t[1],13),t[0]^=s(t[3]+t[2],18),t[6]^=s(t[5]+t[4],7),t[7]^=s(t[6]+t[5],9),t[4]^=s(t[7]+t[6],13),t[5]^=s(t[4]+t[7],18),t[11]^=s(t[10]+t[9],7),t[8]^=s(t[11]+t[10],9),t[9]^=s(t[8]+t[11],13),t[10]^=s(t[9]+t[8],18),t[12]^=s(t[15]+t[14],7),t[13]^=s(t[12]+t[15],9),t[14]^=s(t[13]+t[12],13),t[15]^=s(t[14]+t[13],18);for(let n=0;n<16;++n)e[n]+=t[n]}function l(e,t,n,r){for(let o=0;o<r;o++)n[o]^=e[t+o]}function c(e,t,n,r,o){for(;o--;)n[r++]=e[t++]}function u(e){if(!e||"number"!=typeof e.length)return!1;for(let t=0;t<e.length;t++){const n=e[t];if("number"!=typeof n||n%1||n<0||n>=256)return!1}return!0}function d(e,t){if("number"!=typeof e||e%1)throw new Error("invalid "+t);return e}function h(e,t,r,s,a,h,p){if(r=d(r,"N"),s=d(s,"r"),a=d(a,"p"),h=d(h,"dkLen"),0===r||0!=(r&r-1))throw new Error("N must be power of 2");if(r>n/128/s)throw new Error("N too large");if(s>n/128/a)throw new Error("r too large");if(!u(e))throw new Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!u(t))throw new Error("salt must be an array or buffer");t=Array.prototype.slice.call(t);let f=o(e,t,128*a*s);const m=new Uint32Array(32*a*s);for(let e=0;e<m.length;e++){const t=4*e;m[e]=(255&f[t+3])<<24|(255&f[t+2])<<16|(255&f[t+1])<<8|(255&f[t+0])<<0}const g=new Uint32Array(64*s),v=new Uint32Array(32*s*r),y=32*s,b=new Uint32Array(16),w=new Uint32Array(16),x=a*r*2;let E,S,C=0,A=null,_=!1,k=0,T=0;const M=p?parseInt(1e3/s):4294967295,P="undefined"!=typeof setImmediate?setImmediate:setTimeout,O=function(){if(_)return p(new Error("cancelled"),C/x);let t;switch(k){case 0:S=32*T*s,c(m,S,g,0,y),k=1,E=0;case 1:t=r-E,t>M&&(t=M);for(let e=0;e<t;e++)c(g,0,v,(E+e)*y,y),i(g,y,s,b,w);if(E+=t,C+=t,p){const e=parseInt(1e3*C/x);if(e!==A){if(_=p(null,C/x),_)break;A=e}}if(E<r)break;E=0,k=2;case 2:t=r-E,t>M&&(t=M);for(let e=0;e<t;e++){const e=g[16*(2*s-1)]&r-1;l(v,e*y,g,y),i(g,y,s,b,w)}if(E+=t,C+=t,p){const e=parseInt(1e3*C/x);if(e!==A){if(_=p(null,C/x),_)break;A=e}}if(E<r)break;if(c(g,0,m,S,y),T++,T<a){k=0;break}f=[];for(let e=0;e<m.length;e++)f.push(m[e]>>0&255),f.push(m[e]>>8&255),f.push(m[e]>>16&255),f.push(m[e]>>24&255);const n=o(e,f,h);return p&&p(null,1,n),n}p&&P(O)};if(!p)for(;;){const e=O();if(null!=e)return e}O()}const p={scrypt:function(e,t,n,r,o,i,s){return new Promise((function(a,l){let c=0;s&&s(0),h(e,t,n,r,o,i,(function(e,t,n){if(e)l(e);else if(n)s&&1!==c&&s(1),a(new Uint8Array(n));else if(s&&t!==c)return c=t,s(t)}))}))},syncScrypt:function(e,t,n,r,o,i){return new Uint8Array(h(e,t,n,r,o,i))}};e.exports=p}()},7695:()=>{tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})},5009:()=>{!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.ModelManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,(o=String).prototype.isPrototypeOf(n)||(null===(i=r.constructor)||void 0===i?void 0:i.name)===o.name)?"string":t;var n,r,o,i})(t)===e,n=e=>t=>typeof t===e,r=e=>t=>e===t,o=t("string"),i=t("object"),s=t("array"),a=r(null),l=n("boolean"),c=r(void 0),u=e=>!(e=>null==e)(e),d=n("function"),h=n("number"),p=()=>{},f=e=>()=>e,m=e=>e,g=(e,t)=>e===t;function v(e,...t){return(...n)=>{const r=t.concat(n);return e.apply(null,r)}}const y=e=>t=>!e(t),b=e=>e(),w=f(!1),x=f(!0);class E{constructor(e,t){this.tag=e,this.value=t}static some(e){return new E(!0,e)}static none(){return E.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?E.some(e(this.value)):E.none()}bind(e){return this.tag?e(this.value):E.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:E.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return u(e)?E.some(e):E.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}E.singletonNone=new E(!1);const S=Array.prototype.slice,C=Array.prototype.indexOf,A=Array.prototype.push,_=(e,t)=>{return n=e,r=t,C.call(n,r)>-1;var n,r},k=(e,t)=>{for(let n=0,r=e.length;n<r;n++)if(t(e[n],n))return!0;return!1},T=(e,t)=>{const n=[];for(let r=0;r<e;r++)n.push(t(r));return n},M=(e,t)=>{const n=e.length,r=new Array(n);for(let o=0;o<n;o++){const n=e[o];r[o]=t(n,o)}return r},P=(e,t)=>{for(let n=0,r=e.length;n<r;n++)t(e[n],n)},O=(e,t)=>{const n=[],r=[];for(let o=0,i=e.length;o<i;o++){const i=e[o];(t(i,o)?n:r).push(i)}return{pass:n,fail:r}},R=(e,t)=>{const n=[];for(let r=0,o=e.length;r<o;r++){const o=e[r];t(o,r)&&n.push(o)}return n},N=(e,t,n)=>(((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(e,((e,r)=>{n=t(n,e,r)})),n),D=(e,t,n)=>(P(e,((e,r)=>{n=t(n,e,r)})),n),I=(e,t)=>((e,t,n)=>{for(let r=0,o=e.length;r<o;r++){const o=e[r];if(t(o,r))return E.some(o);if(n(o,r))break}return E.none()})(e,t,w),B=(e,t)=>{for(let n=0,r=e.length;n<r;n++)if(t(e[n],n))return E.some(n);return E.none()},F=e=>{const t=[];for(let n=0,r=e.length;n<r;++n){if(!s(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);A.apply(t,e[n])}return t},L=(e,t)=>F(M(e,t)),H=(e,t)=>{for(let n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n))return!1;return!0},z=(e,t)=>{const n={};for(let r=0,o=e.length;r<o;r++){const o=e[r];n[String(o)]=t(o,r)}return n},V=(e,t)=>t>=0&&t<e.length?E.some(e[t]):E.none(),j=e=>V(e,0),U=e=>V(e,e.length-1),G=(e,t)=>{for(let n=0;n<e.length;n++){const r=t(e[n],n);if(r.isSome())return r}return E.none()},q=Object.keys,W=Object.hasOwnProperty,Z=(e,t)=>{const n=q(e);for(let r=0,o=n.length;r<o;r++){const o=n[r];t(e[o],o)}},$=(e,t)=>K(e,((e,n)=>({k:n,v:t(e,n)}))),K=(e,t)=>{const n={};return Z(e,((e,r)=>{const o=t(e,r);n[o.k]=o.v})),n},X=(e,t)=>{const n=[];return Z(e,((e,r)=>{n.push(t(e,r))})),n},Y=e=>X(e,m),J=(e,t)=>W.call(e,t),Q="undefined"!=typeof window?window:Function("return this;")(),ee=(e,t)=>((e,t)=>{let n=null!=t?t:Q;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),te=Object.getPrototypeOf,ne=e=>{const t=ee("ownerDocument.defaultView",e);return i(e)&&((e=>((e,t)=>{const n=((e,t)=>ee(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(te(e).constructor.name))},re=e=>e.dom.nodeName.toLowerCase(),oe=e=>e.dom.nodeType,ie=e=>t=>oe(t)===e,se=e=>8===oe(e)||"#comment"===re(e),ae=e=>le(e)&&ne(e.dom),le=ie(1),ce=ie(3),ue=ie(9),de=ie(11),he=e=>t=>le(t)&&re(t)===e,pe=(e,t,n)=>{if(!(o(n)||l(n)||h(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},fe=(e,t,n)=>{pe(e.dom,t,n)},me=(e,t)=>{const n=e.dom;Z(t,((e,t)=>{pe(n,t,e)}))},ge=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},ve=(e,t)=>E.from(ge(e,t)),ye=(e,t)=>{e.dom.removeAttribute(t)},be=e=>D(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),we=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},xe={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return we(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return we(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return we(n)},fromDom:we,fromPoint:(e,t,n)=>E.from(e.dom.elementFromPoint(t,n)).map(we)},Ee=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Se=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Ce=(e,t)=>{const n=void 0===t?document:t.dom;return Se(n)?E.none():E.from(n.querySelector(e)).map(xe.fromDom)},Ae=(e,t)=>e.dom===t.dom,_e=(e,t)=>{const n=e.dom,r=t.dom;return n!==r&&n.contains(r)},ke=Ee,Te=e=>xe.fromDom(e.dom.ownerDocument),Me=e=>ue(e)?e:Te(e),Pe=e=>E.from(e.dom.parentNode).map(xe.fromDom),Oe=e=>E.from(e.dom.parentElement).map(xe.fromDom),Re=(e,t)=>{const n=d(t)?t:w;let r=e.dom;const o=[];for(;null!==r.parentNode&&void 0!==r.parentNode;){const e=r.parentNode,t=xe.fromDom(e);if(o.push(t),!0===n(t))break;r=e}return o},Ne=e=>E.from(e.dom.previousSibling).map(xe.fromDom),De=e=>E.from(e.dom.nextSibling).map(xe.fromDom),Ie=e=>M(e.dom.childNodes,xe.fromDom),Be=(e,t)=>{const n=e.dom.childNodes;return E.from(n[t]).map(xe.fromDom)},Fe=(e,t)=>{Pe(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},Le=(e,t)=>{De(e).fold((()=>{Pe(e).each((e=>{ze(e,t)}))}),(e=>{Fe(e,t)}))},He=(e,t)=>{const n=(e=>Be(e,0))(e);n.fold((()=>{ze(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},ze=(e,t)=>{e.dom.appendChild(t.dom)},Ve=(e,t)=>{Fe(e,t),ze(t,e)},je=(e,t)=>{P(t,((n,r)=>{const o=0===r?e:t[r-1];Le(o,n)}))},Ue=(e,t)=>{P(t,(t=>{ze(e,t)}))},Ge=e=>{e.dom.textContent="",P(Ie(e),(e=>{qe(e)}))},qe=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},We=e=>{const t=Ie(e);t.length>0&&je(e,t),qe(e)},Ze=(e,t)=>xe.fromDom(e.dom.cloneNode(t)),$e=e=>Ze(e,!1),Ke=e=>Ze(e,!0),Xe=(e,t)=>{const n=xe.fromTag(t),r=be(e);return me(n,r),n},Ye=["tfoot","thead","tbody","colgroup"],Je=(e,t,n)=>({element:e,rowspan:t,colspan:n}),Qe=(e,t,n)=>({element:e,cells:t,section:n}),et=(e,t,n)=>({element:e,isNew:t,isLocked:n}),tt=(e,t,n,r)=>({element:e,cells:t,section:n,isNew:r}),nt=d(Element.prototype.attachShadow)&&d(Node.prototype.getRootNode),rt=f(nt),ot=nt?e=>xe.fromDom(e.dom.getRootNode()):Me,it=e=>xe.fromDom(e.dom.host),st=e=>{const t=ce(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(e=>{const t=ot(e);return de(n=t)&&u(n.dom.host)?E.some(t):E.none();var n})(xe.fromDom(t)).fold((()=>n.body.contains(t)),(r=st,o=it,e=>r(o(e))));var r,o},at=e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return xe.fromDom(t)},lt=(e,t)=>{let n=[];return P(Ie(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(lt(e,t))})),n},ct=(e,t,n)=>((e,n,r)=>R(Re(e,r),(e=>Ee(e,t))))(e,0,n),ut=(e,t)=>((e,n)=>R(Ie(e),(e=>Ee(e,t))))(e),dt=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return Se(n)?[]:M(n.querySelectorAll(e),xe.fromDom)})(t,e);var ht=(e,t,n,r,o)=>e(n,r)?E.some(n):d(o)&&o(n)?E.none():t(n,r,o);const pt=(e,t,n)=>{let r=e.dom;const o=d(n)?n:w;for(;r.parentNode;){r=r.parentNode;const e=xe.fromDom(r);if(t(e))return E.some(e);if(o(e))break}return E.none()},ft=(e,t,n)=>ht(((e,t)=>t(e)),pt,e,t,n),mt=(e,t,n)=>pt(e,(e=>Ee(e,t)),n),gt=(e,t)=>((e,n)=>I(e.dom.childNodes,(e=>{return n=xe.fromDom(e),Ee(n,t);var n})).map(xe.fromDom))(e),vt=(e,t)=>Ce(t,e),yt=(e,t,n)=>ht(((e,t)=>Ee(e,t)),mt,e,t,n),bt=(e,t,n=g)=>e.exists((e=>n(e,t))),wt=e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t},xt=(e,t)=>e?E.some(t):E.none(),Et=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,St=(e,t,n=0,r)=>{const o=e.indexOf(t,n);return-1!==o&&(!!c(r)||o+t.length<=r)},Ct=(e,t)=>Et(e,t,0),At=(e,t)=>Et(e,t,e.length-t.length),_t=(e=>t=>t.replace(e,""))(/^\s+|\s+$/g),kt=e=>e.length>0,Tt=e=>void 0!==e.style&&d(e.style.getPropertyValue),Mt=(e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Tt(e)&&e.style.setProperty(t,n)},Pt=(e,t,n)=>{const r=e.dom;Mt(r,t,n)},Ot=(e,t)=>{const n=e.dom;Z(t,((e,t)=>{Mt(n,t,e)}))},Rt=(e,t)=>{const n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||st(e)?r:Nt(n,t)},Nt=(e,t)=>Tt(e)?e.style.getPropertyValue(t):"",Dt=(e,t)=>{const n=e.dom,r=Nt(n,t);return E.from(r).filter((e=>e.length>0))},It=(e,t)=>{((e,t)=>{Tt(e)&&e.style.removeProperty(t)})(e.dom,t),bt(ve(e,"style").map(_t),"")&&ye(e,"style")},Bt=(e,t,n=0)=>ve(e,t).map((e=>parseInt(e,10))).getOr(n),Ft=(e,t)=>Bt(e,t,1),Lt=e=>he("col")(e)?Bt(e,"span",1)>1:Ft(e,"colspan")>1,Ht=e=>Ft(e,"rowspan")>1,zt=(e,t)=>parseInt(Rt(e,t),10),Vt=f(10),jt=f(10),Ut=(e,t)=>Gt(e,t,x),Gt=(e,t,n)=>L(Ie(e),(e=>Ee(e,t)?n(e)?[e]:[]:Gt(e,t,n))),qt=(e,t)=>((e,t,n=w)=>n(t)?E.none():_(e,re(t))?E.some(t):mt(t,e.join(","),(e=>Ee(e,"table")||n(e))))(["td","th"],e,t),Wt=e=>Ut(e,"th,td"),Zt=e=>Ee(e,"colgroup")?ut(e,"col"):L(Xt(e),(e=>ut(e,"col"))),$t=(e,t)=>yt(e,"table",t),Kt=e=>Ut(e,"tr"),Xt=e=>$t(e).fold(f([]),(e=>ut(e,"colgroup"))),Yt=(e,t)=>M(e,(e=>{if("colgroup"===re(e)){const t=M(Zt(e),(e=>{const t=Bt(e,"span",1);return Je(e,1,t)}));return Qe(e,t,"colgroup")}{const n=M(Wt(e),(e=>{const t=Bt(e,"rowspan",1),n=Bt(e,"colspan",1);return Je(e,t,n)}));return Qe(e,n,t(e))}})),Jt=e=>Pe(e).map((e=>{const t=re(e);return(e=>_(Ye,e))(t)?t:"tbody"})).getOr("tbody"),Qt=e=>{const t=Kt(e),n=[...Xt(e),...t];return Yt(n,Jt)},en=e=>{let t,n=!1;return(...r)=>(n||(n=!0,t=e.apply(null,r)),t)},tn=()=>nn(0,0),nn=(e,t)=>({major:e,minor:t}),rn={nu:nn,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?tn():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const r=e[n];if(r.test(t))return r}})(e,t);if(!n)return{major:0,minor:0};const r=e=>Number(t.replace(n,"$"+e));return nn(r(1),r(2))})(e,n)},unknown:tn},on=(e,t)=>{const n=String(t).toLowerCase();return I(e,(e=>e.search(n)))},sn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,an=e=>t=>St(t,e),ln=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>St(e,"edge/")&&St(e,"chrome")&&St(e,"safari")&&St(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,sn],search:e=>St(e,"chrome")&&!St(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>St(e,"msie")||St(e,"trident")},{name:"Opera",versionRegexes:[sn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:an("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:an("firefox")},{name:"Safari",versionRegexes:[sn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(St(e,"safari")||St(e,"mobile/"))&&St(e,"applewebkit")}],cn=[{name:"Windows",search:an("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>St(e,"iphone")||St(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:an("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:an("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:an("linux"),versionRegexes:[]},{name:"Solaris",search:an("sunos"),versionRegexes:[]},{name:"FreeBSD",search:an("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:an("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],un={browsers:f(ln),oses:f(cn)},dn="Edge",hn="Chromium",pn="Opera",fn="Firefox",mn="Safari",gn=e=>{const t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isEdge:r(dn),isChromium:r(hn),isIE:r("IE"),isOpera:r(pn),isFirefox:r(fn),isSafari:r(mn)}},vn=()=>gn({current:void 0,version:rn.unknown()}),yn=gn,bn=(f(dn),f(hn),f("IE"),f(pn),f(fn),f(mn),"Windows"),wn="Android",xn="Linux",En="macOS",Sn="Solaris",Cn="FreeBSD",An="ChromeOS",_n=e=>{const t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isWindows:r(bn),isiOS:r("iOS"),isAndroid:r(wn),isMacOS:r(En),isLinux:r(xn),isSolaris:r(Sn),isFreeBSD:r(Cn),isChromeOS:r(An)}},kn=()=>_n({current:void 0,version:rn.unknown()}),Tn=_n,Mn=(f(bn),f("iOS"),f(wn),f(xn),f(En),f(Sn),f(Cn),f(An),e=>window.matchMedia(e).matches);let Pn=en((()=>((e,t,n)=>{const r=un.browsers(),o=un.oses(),i=t.bind((e=>((e,t)=>G(t.brands,(t=>{const n=t.brand.toLowerCase();return I(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:rn.nu(parseInt(t.version,10),0)})))})))(r,e))).orThunk((()=>((e,t)=>on(e,t).map((e=>{const n=rn.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(r,e))).fold(vn,yn),s=((e,t)=>on(e,t).map((e=>{const n=rn.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e).fold(kn,Tn),a=((e,t,n,r)=>{const o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,s=e.isiOS()||e.isAndroid(),a=s||r("(pointer:coarse)"),l=o||!i&&s&&r("(min-device-width:768px)"),c=i||s&&!l,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!u;return{isiPad:f(o),isiPhone:f(i),isTablet:f(l),isPhone:f(c),isTouch:f(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:f(u),isDesktop:f(d)}})(s,i,e,n);return{browser:i,os:s,deviceType:a}})(navigator.userAgent,E.from(navigator.userAgentData),Mn)));const On=()=>Pn(),Rn=(e,t)=>{const n=n=>{const r=t(n);if(r<=0||null===r){const t=Rt(n,e);return parseFloat(t)||0}return r},r=(e,t)=>D(t,((t,n)=>{const r=Rt(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o}),0);return{set:(t,n)=>{if(!h(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const r=t.dom;Tt(r)&&(r.style[e]=n+"px")},get:n,getOuter:n,aggregate:r,max:(e,t,n)=>{const o=r(e,n);return t>o?t-o:0}}},Nn=(e,t,n)=>((e,t)=>(e=>{const t=parseFloat(e);return isNaN(t)?E.none():E.some(t)})(e).getOr(t))(Rt(e,t),n),Dn=Rn("width",(e=>e.dom.offsetWidth)),In=e=>Dn.get(e),Bn=e=>Dn.getOuter(e),Fn=e=>((e,t)=>{const n=e.dom,r=n.getBoundingClientRect().width||n.offsetWidth;return"border-box"===t?r:((e,t,n,r)=>t-Nn(e,`padding-${n}`,0)-Nn(e,`padding-${r}`,0)-Nn(e,`border-${n}-width`,0)-Nn(e,`border-${r}-width`,0))(e,r,"left","right")})(e,"content-box"),Ln=(e,t,n)=>{const r=e.cells,o=r.slice(0,t),i=r.slice(t),s=o.concat(n).concat(i);return Vn(e,s)},Hn=(e,t,n)=>Ln(e,t,[n]),zn=(e,t,n)=>{e.cells[t]=n},Vn=(e,t)=>tt(e.element,t,e.section,e.isNew),jn=(e,t)=>e.cells[t],Un=(e,t)=>jn(e,t).element,Gn=e=>e.cells.length,qn=e=>{const t=O(e,(e=>"colgroup"===e.section));return{rows:t.fail,cols:t.pass}},Wn=(e,t,n)=>{const r=M(e.cells,n);return tt(t(e.element),r,e.section,!0)},Zn="data-snooker-locked-cols",$n=e=>ve(e,Zn).bind((e=>E.from(e.match(/\d+/g)))).map((e=>z(e,x))),Kn=e=>{const t=D(qn(e).rows,((e,t)=>(P(t.cells,((t,n)=>{t.isLocked&&(e[n]=!0)})),e)),{}),n=X(t,((e,t)=>parseInt(t,10)));return((e,t)=>{const n=S.call(e,0);return n.sort(void 0),n})(n)},Xn=(e,t)=>e+","+t,Yn=(e,t)=>{const n=L(e.all,(e=>e.cells));return R(n,t)},Jn=e=>{const t={},n=[],r=j(e).map((e=>e.element)).bind($t).bind($n).getOr({});let o=0,i=0,s=0;const{pass:a,fail:l}=O(e,(e=>"colgroup"===e.section));P(l,(e=>{const a=[];P(e.cells,(e=>{let n=0;for(;void 0!==t[Xn(s,n)];)n++;const o=((e,t)=>J(e,t)&&void 0!==e[t]&&null!==e[t])(r,n.toString()),l=((e,t,n,r,o,i)=>({element:e,rowspan:t,colspan:n,row:r,column:o,isLocked:i}))(e.element,e.rowspan,e.colspan,s,n,o);for(let r=0;r<e.colspan;r++)for(let o=0;o<e.rowspan;o++){const e=n+r,a=Xn(s+o,e);t[a]=l,i=Math.max(i,e+1)}a.push(l)})),o++,n.push(Qe(e.element,a,e.section)),s++}));const{columns:c,colgroups:u}=U(a).map((e=>{const t=(e=>{const t={};let n=0;return P(e.cells,(e=>{const r=e.colspan;T(r,(o=>{const i=n+o;t[i]=((e,t,n)=>({element:e,colspan:t,column:n}))(e.element,r,i)})),n+=r})),t})(e),n=((e,t)=>({element:e,columns:t}))(e.element,Y(t));return{colgroups:[n],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}}))),d=((e,t)=>({rows:e,columns:t}))(o,i);return{grid:d,access:t,all:n,columns:c,colgroups:u}},Qn=e=>{const t=Qt(e);return Jn(t)},er=Jn,tr=(e,t,n)=>E.from(e.access[Xn(t,n)]),nr=(e,t,n)=>{const r=Yn(e,(e=>n(t,e.element)));return r.length>0?E.some(r[0]):E.none()},rr=Yn,or=e=>L(e.all,(e=>e.cells)),ir=e=>Y(e.columns),sr=e=>q(e.columns).length>0,ar=(e,t)=>E.from(e.columns[t]),lr=(e,t=x)=>{const n=e.grid,r=T(n.columns,m),o=T(n.rows,m);return M(r,(n=>cr((()=>L(o,(t=>tr(e,t,n).filter((e=>e.column===n)).toArray()))),(e=>1===e.colspan&&t(e.element)),(()=>tr(e,0,n)))))},cr=(e,t,n)=>{const r=e();return I(r,t).orThunk((()=>E.from(r[0]).orThunk(n))).map((e=>e.element))},ur=e=>{const t=e.grid,n=T(t.rows,m),r=T(t.columns,m);return M(n,(t=>cr((()=>L(r,(n=>tr(e,t,n).filter((e=>e.row===t)).fold(f([]),(e=>[e]))))),(e=>1===e.rowspan),(()=>tr(e,t,0)))))},dr=(e,t)=>n=>"rtl"===hr(n)?t:e,hr=e=>"rtl"===Rt(e,"direction")?"rtl":"ltr",pr=Rn("height",(e=>{const t=e.dom;return st(e)?t.getBoundingClientRect().height:t.offsetHeight})),fr=e=>pr.get(e),mr=e=>pr.getOuter(e),gr=(e,t)=>({left:e,top:t,translate:(n,r)=>gr(e+n,t+r)}),vr=gr,yr=(e,t)=>void 0!==e?e:void 0!==t?t:0,br=e=>{const t=e.dom.ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom)return vr(n.offsetLeft,n.offsetTop);const i=yr(null==r?void 0:r.pageYOffset,o.scrollTop),s=yr(null==r?void 0:r.pageXOffset,o.scrollLeft),a=yr(o.clientTop,n.clientTop),l=yr(o.clientLeft,n.clientLeft);return wr(e).translate(s-l,i-a)},wr=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?vr(n.offsetLeft,n.offsetTop):st(e)?(e=>{const t=e.getBoundingClientRect();return vr(t.left,t.top)})(t):vr(0,0)},xr=(e,t)=>({row:e,y:t}),Er=(e,t)=>({col:e,x:t}),Sr=e=>br(e).left+Bn(e),Cr=e=>br(e).left,Ar=(e,t)=>Er(e,Cr(t)),_r=(e,t)=>Er(e,Sr(t)),kr=e=>br(e).top,Tr=(e,t)=>xr(e,kr(t)),Mr=(e,t)=>xr(e,kr(t)+mr(t)),Pr=(e,t,n)=>{if(0===n.length)return[];const r=M(n.slice(1),((t,n)=>t.map((t=>e(n,t))))),o=n[n.length-1].map((e=>t(n.length-1,e)));return r.concat([o])},Or={delta:m,positions:e=>Pr(Tr,Mr,e),edge:kr},Rr=dr({delta:m,edge:Cr,positions:e=>Pr(Ar,_r,e)},{delta:e=>-e,edge:Sr,positions:e=>Pr(_r,Ar,e)}),Nr={delta:(e,t)=>Rr(t).delta(e,t),positions:(e,t)=>Rr(t).positions(e,t),edge:e=>Rr(e).edge(e)},Dr={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Ir=(()=>{const e="[0-9]+",t="[eE][+-]?"+e,n=e=>`(?:${e})?`,r=["Infinity",e+"\\."+n(e)+n(t),"\\."+e+n(t),e+n(t)].join("|");return new RegExp(`^([+-]?(?:${r}))(.*)$`)})(),Br=/(\d+(\.\d+)?)%/,Fr=/(\d+(\.\d+)?)px|em/,Lr=he("col"),Hr=(e,t,n)=>{const r=Oe(e).getOrThunk((()=>at(Te(e))));return t(e)/n(r)*100},zr=(e,t)=>{Pt(e,"width",t+"px")},Vr=(e,t)=>{Pt(e,"width",t+"%")},jr=(e,t)=>{Pt(e,"height",t+"px")},Ur=e=>{const t=(e=>{return Nn(t=e,"height",t.dom.offsetHeight)+"px";var t})(e);return t?((e,t,n,r)=>{const o=parseFloat(e);return At(e,"%")&&"table"!==re(t)?((e,t,n,r)=>{const o=$t(e).map((e=>{const r=n(e);return Math.floor(t/100*r)})).getOr(t);return r(e,o),o})(t,o,n,r):o})(t,e,fr,jr):fr(e)},Gr=(e,t)=>Dt(e,t).orThunk((()=>ve(e,t).map((e=>e+"px")))),qr=e=>Gr(e,"width"),Wr=e=>Hr(e,In,Fn),Zr=e=>{return Lr(e)?In(e):Nn(t=e,"width",t.dom.offsetWidth);var t},$r=e=>((e,t,n)=>n(e)/Ft(e,"rowspan"))(e,0,Ur),Kr=(e,t,n)=>{Pt(e,"width",t+n)},Xr=e=>Hr(e,In,Fn)+"%",Yr=f(Br),Jr=he("col"),Qr=e=>qr(e).getOrThunk((()=>Zr(e)+"px")),eo=e=>{return(t=e,Gr(t,"height")).getOrThunk((()=>$r(e)+"px"));var t},to=(e,t,n,r,o,i)=>e.filter(r).fold((()=>i(((e,t)=>{if(t<0||t>=e.length-1)return E.none();const n=e[t].fold((()=>{const n=(e=>{const t=S.call(e,0);return t.reverse(),t})(e.slice(0,t));return G(n,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>E.some({value:e,delta:0}))),r=e[t+1].fold((()=>{const n=e.slice(t+1);return G(n,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>E.some({value:e,delta:1})));return n.bind((e=>r.map((t=>{const n=t.delta+e.delta;return Math.abs(t.value-e.value)/n}))))})(n,t))),(e=>o(e))),no=(e,t,n,r)=>{const o=lr(e),i=sr(e)?(e=>M(ir(e),(e=>E.from(e.element))))(e):o,s=[E.some(Nr.edge(t))].concat(M(Nr.positions(o,t),(e=>e.map((e=>e.x))))),a=y(Lt);return M(i,((e,t)=>to(e,t,s,a,(e=>{if((e=>{const t=On().browser,n=t.isChromium()||t.isFirefox();return!Jr(e)||n})(e))return n(e);{const e=null!=(i=o[t])?m(i):E.none();return to(e,t,s,a,(e=>r(E.some(In(e)))),r)}var i}),r)))},ro=e=>e.map((e=>e+"px")).getOr(""),oo=(e,t,n)=>no(e,t,Zr,(e=>e.getOrThunk(n.minCellWidth))),io=(e,t,n,r,o)=>{const i=ur(e),s=[E.some(n.edge(t))].concat(M(n.positions(i,t),(e=>e.map((e=>e.y)))));return M(i,((e,t)=>to(e,t,s,y(Ht),r,o)))},so=(e,t)=>()=>st(e)?t(e):parseFloat(Dt(e,"width").getOr("0")),ao=e=>{const t=so(e,(e=>parseFloat(Xr(e)))),n=so(e,In);return{width:t,pixelWidth:n,getWidths:(t,n)=>((e,t,n)=>no(e,t,Wr,(e=>e.fold((()=>n.minCellWidth()),(e=>e/n.pixelWidth()*100)))))(t,e,n),getCellDelta:e=>e/n()*100,singleColumnWidth:(e,t)=>[100-e],minCellWidth:()=>Vt()/n()*100,setElementWidth:Vr,adjustTableWidth:n=>{const r=t();Vr(e,r+n/100*r)},isRelative:!0,label:"percent"}},lo=e=>{const t=so(e,In);return{width:t,pixelWidth:t,getWidths:(t,n)=>oo(t,e,n),getCellDelta:m,singleColumnWidth:(e,t)=>[Math.max(Vt(),e+t)-e],minCellWidth:Vt,setElementWidth:zr,adjustTableWidth:n=>{const r=t()+n;zr(e,r)},isRelative:!1,label:"pixel"}},co=e=>qr(e).fold((()=>(e=>{const t=so(e,In),n=f(0);return{width:t,pixelWidth:t,getWidths:(t,n)=>oo(t,e,n),getCellDelta:n,singleColumnWidth:f([0]),minCellWidth:n,setElementWidth:p,adjustTableWidth:p,isRelative:!0,label:"none"}})(e)),(t=>((e,t)=>null!==Yr().exec(t)?ao(e):lo(e))(e,t))),uo=lo,ho=ao,po=(e,t,n)=>{const r=e[n].element,o=xe.fromTag("td");ze(o,xe.fromTag("br")),(t?ze:He)(r,o)},fo=((e,t)=>{const n=t=>e(t)?E.from(t.dom.nodeValue):E.none();return{get:t=>{if(!e(t))throw new Error("Can only get text value of a text node");return n(t).getOr("")},getOption:n,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})(ce),mo=e=>fo.get(e),go=e=>fo.getOption(e),vo=(e,t)=>fo.set(e,t),yo=e=>"img"===re(e)?1:go(e).fold((()=>Ie(e).length),(e=>e.length)),bo=["img","br"],wo=e=>go(e).filter((e=>0!==e.trim().length||e.indexOf(" ")>-1)).isSome()||_(bo,re(e))||(e=>ae(e)&&"false"===ge(e,"contenteditable"))(e),xo=e=>((e,t)=>{const n=e=>{for(let r=0;r<e.childNodes.length;r++){const o=xe.fromDom(e.childNodes[r]);if(t(o))return E.some(o);const i=n(e.childNodes[r]);if(i.isSome())return i}return E.none()};return n(e.dom)})(e,wo),Eo=e=>So(e,wo),So=(e,t)=>{const n=e=>{const r=Ie(e);for(let e=r.length-1;e>=0;e--){const o=r[e];if(t(o))return E.some(o);const i=n(o);if(i.isSome())return i}return E.none()};return n(e)},Co={scope:["row","col"]},Ao=e=>()=>{const t=xe.fromTag("td",e.dom);return ze(t,xe.fromTag("br",e.dom)),t},_o=e=>()=>xe.fromTag("col",e.dom),ko=e=>()=>xe.fromTag("colgroup",e.dom),To=e=>()=>xe.fromTag("tr",e.dom),Mo=(e,t,n)=>{const r=((e,t)=>{const n=Xe(e,t),r=Ie(Ke(e));return Ue(n,r),n})(e,t);return Z(n,((e,t)=>{null===e?ye(r,t):fe(r,t,e)})),r},Po=e=>e,Oo=(e,t,n)=>{const r=(e,t)=>{((e,t)=>{const n=e.dom,r=t.dom;Tt(n)&&Tt(r)&&(r.style.cssText=n.style.cssText)})(e.element,t),It(t,"height"),1!==e.colspan&&It(t,"width")};return{col:n=>{const o=xe.fromTag(re(n.element),t.dom);return r(n,o),e(n.element,o),o},colgroup:ko(t),row:To(t),cell:o=>{const i=xe.fromTag(re(o.element),t.dom),s=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),a=s.length>0?((e,t,n)=>xo(e).map((r=>{const o=n.join(","),i=ct(r,o,(t=>Ae(t,e)));return N(i,((e,t)=>{const n=$e(t);return ze(e,n),n}),t)})).getOr(t))(o.element,i,s):i;return ze(a,xe.fromTag("br")),r(o,i),((e,t)=>{Z(Co,((n,r)=>ve(e,r).filter((e=>_(n,e))).each((e=>fe(t,r,e)))))})(o.element,i),e(o.element,i),i},replace:Mo,colGap:_o(t),gap:Ao(t)}},Ro=e=>({col:_o(e),colgroup:ko(e),row:To(e),cell:Ao(e),replace:Po,colGap:_o(e),gap:Ao(e)}),No=e=>yt(e,"[contenteditable]"),Do=(e,t=!1)=>st(e)?e.dom.isContentEditable:No(e).fold(f(t),(e=>"true"===Io(e))),Io=e=>e.dom.contentEditable,Bo=e=>xe.fromDom(e.getBody()),Fo=e=>t=>Ae(t,Bo(e)),Lo=e=>{ye(e,"data-mce-style");const t=e=>ye(e,"data-mce-style");P(Wt(e),t),P(Zt(e),t),P(Kt(e),t)},Ho=e=>xe.fromDom(e.selection.getStart()),zo=e=>e.getBoundingClientRect().width,Vo=e=>e.getBoundingClientRect().height,jo=e=>ft(e,he("table")).exists(Do),Uo=(e,t)=>{const n=t.column,r=t.column+t.colspan-1,o=t.row,i=t.row+t.rowspan-1;return n<=e.finishCol&&r>=e.startCol&&o<=e.finishRow&&i>=e.startRow},Go=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,qo=(e,t,n)=>{const r=nr(e,t,Ae),o=nr(e,n,Ae);return r.bind((e=>o.map((t=>{return n=e,r=t,{startRow:Math.min(n.row,r.row),startCol:Math.min(n.column,r.column),finishRow:Math.max(n.row+n.rowspan-1,r.row+r.rowspan-1),finishCol:Math.max(n.column+n.colspan-1,r.column+r.colspan-1)};var n,r}))))},Wo=(e,t,n)=>qo(e,t,n).map((t=>{const n=rr(e,v(Uo,t));return M(n,(e=>e.element))})),Zo=(e,t)=>nr(e,t,((e,t)=>_e(t,e))).map((e=>e.element)),$o=(e,t,n)=>{const r=Xo(e);return Wo(r,t,n)},Ko=(e,t,n,r,o)=>{const i=Xo(e),s=Ae(e,n)?E.some(t):Zo(i,t),a=Ae(e,o)?E.some(r):Zo(i,r);return s.bind((e=>a.bind((t=>Wo(i,e,t)))))},Xo=Qn;var Yo=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Jo=()=>({up:f({selector:mt,closest:yt,predicate:pt,all:Re}),down:f({selector:dt,predicate:lt}),styles:f({get:Rt,getRaw:Dt,set:Pt,remove:It}),attrs:f({get:ge,set:fe,remove:ye,copyTo:(e,t)=>{const n=be(e);me(t,n)}}),insert:f({before:Fe,after:Le,afterAll:je,append:ze,appendAll:Ue,prepend:He,wrap:Ve}),remove:f({unwrap:We,remove:qe}),create:f({nu:xe.fromTag,clone:e=>xe.fromDom(e.dom.cloneNode(!1)),text:xe.fromText}),query:f({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:Ne,nextSibling:De}),property:f({children:Ie,name:re,parent:Pe,document:e=>Me(e).dom,isText:ce,isComment:se,isElement:le,isSpecial:e=>{const t=re(e);return _(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},getLanguage:e=>le(e)?ve(e,"lang"):E.none(),getText:mo,setText:vo,isBoundary:e=>!!le(e)&&("body"===re(e)||_(Yo,re(e))),isEmptyTag:e=>!!le(e)&&_(["br","img","hr","input"],re(e)),isNonEditable:e=>le(e)&&"false"===ge(e,"contenteditable")}),eq:Ae,is:ke});const Qo=(e,t,n,r)=>{const o=t(e,n);return N(r,((n,r)=>{const o=t(e,r);return ei(e,n,o)}),o)},ei=(e,t,n)=>t.bind((t=>n.filter(v(e.eq,t)))),ti=Jo(),ni=(e,t)=>((e,t,n)=>n.length>0?((e,t,n,r)=>r(e,t,n[0],n.slice(1)))(e,t,n,Qo):E.none())(ti,((t,n)=>e(n)),t),ri=e=>mt(e,"table"),oi=(e,t,n)=>{const r=e=>t=>void 0!==n&&n(t)||Ae(t,e);return Ae(e,t)?E.some({boxes:E.some([e]),start:e,finish:t}):ri(e).bind((o=>ri(t).bind((i=>{if(Ae(o,i))return E.some({boxes:$o(o,e,t),start:e,finish:t});if(_e(o,i)){const n=ct(t,"td,th",r(o)),s=n.length>0?n[n.length-1]:t;return E.some({boxes:Ko(o,e,o,t,i),start:e,finish:s})}if(_e(i,o)){const n=ct(e,"td,th",r(i)),s=n.length>0?n[n.length-1]:e;return E.some({boxes:Ko(i,e,o,t,i),start:e,finish:s})}return((e,t,n)=>((e,t,n,r=w)=>{const o=[t].concat(e.up().all(t)),i=[n].concat(e.up().all(n)),s=e=>B(e,r).fold((()=>e),(t=>e.slice(0,t+1))),a=s(o),l=s(i),c=I(a,(t=>k(l,((e,t)=>v(e.eq,t))(e,t))));return{firstpath:a,secondpath:l,shared:c}})(ti,e,t,void 0))(e,t).shared.bind((s=>yt(s,"table",n).bind((n=>{const s=ct(t,"td,th",r(n)),a=s.length>0?s[s.length-1]:t,l=ct(e,"td,th",r(n)),c=l.length>0?l[l.length-1]:e;return E.some({boxes:Ko(n,e,o,t,i),start:c,finish:a})}))))}))))},ii=(e,t)=>{const n=dt(e,t);return n.length>0?E.some(n):E.none()},si=(e,t,n)=>vt(e,t).bind((t=>vt(e,n).bind((e=>ni(ri,[t,e]).map((n=>({first:t,last:e,table:n}))))))),ai=(e,t,n,r,o)=>((e,t)=>I(e,(e=>Ee(e,t))))(e,o).bind((e=>((e,t,n)=>$t(e).bind((r=>((e,t,n,r)=>nr(e,t,Ae).bind((t=>{const o=n>0?t.row+t.rowspan-1:t.row,i=r>0?t.column+t.colspan-1:t.column;return tr(e,o+n,i+r).map((e=>e.element))})))(Xo(r),e,t,n))))(e,t,n).bind((e=>((e,t)=>mt(e,"table").bind((n=>vt(n,t).bind((t=>oi(t,e).bind((e=>e.boxes.map((t=>({boxes:t,start:e.start,finish:e.finish}))))))))))(e,r))))),li=(e,t)=>ii(e,t),ci=(e,t,n)=>si(e,t,n).bind((t=>{const n=t=>Ae(e,t),r="thead,tfoot,tbody,table",o=mt(t.first,r,n),i=mt(t.last,r,n);return o.bind((e=>i.bind((n=>Ae(e,n)?((e,t,n)=>((e,t,n)=>qo(e,t,n).bind((t=>((e,t)=>{let n=!0;const r=v(Go,t);for(let o=t.startRow;o<=t.finishRow;o++)for(let i=t.startCol;i<=t.finishCol;i++)n=n&&tr(e,o,i).exists(r);return n?E.some(t):E.none()})(e,t))))(Xo(e),t,n))(t.table,t.first,t.last):E.none()))))})),ui=m,di=e=>{const t=(e,t)=>ve(e,t).exists((e=>parseInt(e,10)>1));return e.length>0&&H(e,(e=>t(e,"rowspan")||t(e,"colspan")))?E.some(e):E.none()},hi=(e,t,n)=>t.length<=1?E.none():ci(e,n.firstSelectedSelector,n.lastSelectedSelector).map((e=>({bounds:e,cells:t}))),pi="data-mce-selected",fi="td["+pi+"],th["+pi+"]",mi="["+pi+"]",gi="data-mce-first-selected",vi="td["+gi+"],th["+gi+"]",yi="data-mce-last-selected",bi=mi,wi={selected:pi,selectedSelector:fi,firstSelected:gi,firstSelectedSelector:vi,lastSelected:yi,lastSelectedSelector:"td["+yi+"],th["+yi+"]"},xi=(e,t,n)=>({element:n,mergable:hi(t,e,wi),unmergable:di(e),selection:ui(e)}),Ei=e=>(t,n)=>{const r=re(t),o="col"===r||"colgroup"===r?$t(i=t).bind((e=>li(e,wi.firstSelectedSelector))).fold(f(i),(e=>e[0])):t;var i;return yt(o,e,n)},Si=Ei("th,td,caption"),Ci=Ei("th,td"),Ai=e=>{return t=e.model.table.getSelectedCells(),M(t,xe.fromDom);var t},_i=(e,t)=>{e.on("BeforeGetContent",(t=>{const n=n=>{t.preventDefault(),(e=>$t(e[0]).map((e=>{const t=((e,t)=>{const n=e=>Ee(e.element,t),r=Ke(e),o=Qt(r),i=co(e),s=er(o),a=((e,t)=>{const n=e.grid.columns;let r=e.grid.rows,o=n,i=0,s=0;const a=[],l=[];return Z(e.access,(e=>{if(a.push(e),t(e)){l.push(e);const t=e.row,n=t+e.rowspan-1,a=e.column,c=a+e.colspan-1;t<r?r=t:n>i&&(i=n),a<o?o=a:c>s&&(s=c)}})),((e,t,n,r,o,i)=>({minRow:e,minCol:t,maxRow:n,maxCol:r,allCells:o,selectedCells:i}))(r,o,i,s,a,l)})(s,n),l="th:not("+t+"),td:not("+t+")",c=Gt(r,"th,td",(e=>Ee(e,l)));P(c,qe),((e,t,n,r)=>{const o=R(e,(e=>"colgroup"!==e.section)),i=t.grid.columns,s=t.grid.rows;for(let e=0;e<s;e++){let s=!1;for(let a=0;a<i;a++)e<n.minRow||e>n.maxRow||a<n.minCol||a>n.maxCol||(tr(t,e,a).filter(r).isNone()?po(o,s,e):s=!0)}})(o,s,a,n);const u=((e,t,n,r)=>{if(0===r.minCol&&t.grid.columns===r.maxCol+1)return 0;const o=oo(t,e,n),i=D(o,((e,t)=>e+t),0),s=D(o.slice(r.minCol,r.maxCol+1),((e,t)=>e+t),0),a=s/i*n.pixelWidth()-n.pixelWidth();return n.getCellDelta(a)})(e,Qn(e),i,a);return((e,t,n,r)=>{Z(n.columns,(e=>{(e.column<t.minCol||e.column>t.maxCol)&&qe(e.element)}));const o=R(Ut(e,"tr"),(e=>0===e.dom.childElementCount));P(o,qe),t.minCol!==t.maxCol&&t.minRow!==t.maxRow||P(Ut(e,"th,td"),(e=>{ye(e,"rowspan"),ye(e,"colspan")})),ye(e,Zn),ye(e,"data-snooker-col-series"),co(e).adjustTableWidth(r)})(r,a,s,u),r})(e,bi);return Lo(t),[t]})))(n).each((n=>{t.content="text"===t.format?(e=>M(e,(e=>e.dom.innerText)).join(""))(n):((e,t)=>M(t,(t=>e.selection.serializer.serialize(t.dom,{}))).join(""))(e,n)}))};if(!0===t.selection){const t=(e=>R(Ai(e),(e=>Ee(e,wi.selectedSelector))))(e);t.length>=1&&n(t)}})),e.on("BeforeSetContent",(n=>{if(!0===n.selection&&!0===n.paste){const r=Ai(e);j(r).each((r=>{$t(r).each((o=>{const i=R(((e,t)=>{const n=document.createElement("div");return n.innerHTML=e,Ie(xe.fromDom(n))})(n.content),(e=>"meta"!==re(e))),s=he("table");if(1===i.length&&s(i[0])){n.preventDefault();const s=xe.fromDom(e.getDoc()),a=Ro(s),l=((e,t,n)=>({element:e,clipboard:t,generators:n}))(r,i[0],a);t.pasteCells(o,l).each((()=>{e.focus()}))}}))}))}}))},ki=(e,t)=>({element:e,offset:t}),Ti=(e,t,n)=>e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?n(t).bind((t=>Ti(e,t,n).orThunk((()=>E.some(t))))):E.none(),Mi=(e,t)=>e.property().isText(t)?e.property().getText(t).length:e.property().children(t).length,Pi=(e,t)=>{const n=Ti(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(n))return ki(n,Mi(e,n));const r=e.property().children(n);return r.length>0?Pi(e,r[r.length-1]):ki(n,Mi(e,n))},Oi=Pi,Ri=Jo(),Ni=(e,t)=>{if(!Lt(e)){const n=(e=>qr(e).bind((e=>{return t=e,n=["fixed","relative","empty"],E.from(Ir.exec(t)).bind((e=>{const t=Number(e[1]),r=e[2];return((e,t)=>k(t,(t=>k(Dr[t],(t=>e===t)))))(r,n)?E.some({value:t,unit:r}):E.none()}));var t,n})))(e);n.each((n=>{const r=n.value/2;Kr(e,r,n.unit),Kr(t,r,n.unit)}))}},Di=e=>M(e,f(0)),Ii=(e,t,n,r,o)=>o(e.slice(0,t)).concat(r).concat(o(e.slice(n))),Bi=e=>(t,n,r,o)=>{if(e(r)){const e=Math.max(o,t[n]-Math.abs(r)),i=Math.abs(e-t[n]);return r>=0?i:-i}return r},Fi=Bi((e=>e<0)),Li=Bi(x),Hi=()=>{const e=(e,t,n,r)=>{const o=(100+n)/100,i=Math.max(r,(e[t]+n)/o);return M(e,((e,n)=>(n===t?i:e/o)-e))},t=(t,n,r,o,i,s)=>s?e(t,n,o,i):((e,t,n,r,o)=>{const i=Fi(e,t,r,o);return Ii(e,t,n+1,[i,0],Di)})(t,n,r,o,i);return{resizeTable:(e,t)=>e(t),clampTableDelta:Fi,calcLeftEdgeDeltas:t,calcMiddleDeltas:(e,n,r,o,i,s,a)=>t(e,r,o,i,s,a),calcRightEdgeDeltas:(t,n,r,o,i,s)=>{if(s)return e(t,r,o,i);{const e=Fi(t,r,o,i);return Di(t.slice(0,r)).concat([e])}},calcRedestributedWidths:(e,t,n,r)=>{if(r){const r=(t+n)/t,o=M(e,(e=>e/r));return{delta:100*r-100,newSizes:o}}return{delta:n,newSizes:e}}}},zi=()=>{const e=(e,t,n,r,o)=>{const i=Li(e,r>=0?n:t,r,o);return Ii(e,t,n+1,[i,-i],Di)};return{resizeTable:(e,t,n)=>{n&&e(t)},clampTableDelta:(e,t,n,r,o)=>{if(o){if(n>=0)return n;{const t=D(e,((e,t)=>e+t-r),0);return Math.max(-t,n)}}return Fi(e,t,n,r)},calcLeftEdgeDeltas:e,calcMiddleDeltas:(t,n,r,o,i,s)=>e(t,r,o,i,s),calcRightEdgeDeltas:(e,t,n,r,o,i)=>{if(i)return Di(e);{const t=r/e.length;return M(e,f(t))}},calcRedestributedWidths:(e,t,n,r)=>({delta:0,newSizes:e})}},Vi=e=>Qn(e).grid,ji=he("th"),Ui=e=>H(e,(e=>ji(e.element))),Gi=(e,t)=>e&&t?"sectionCells":e?"section":"cells",qi=e=>{const t="thead"===e.section,n=bt(Wi(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||n?{type:"header",subType:Gi(t,n)}:{type:"body"}},Wi=e=>{const t=R(e,(e=>ji(e.element)));return 0===t.length?E.some("td"):t.length===e.length?E.some("th"):E.none()},Zi=(e,t,n)=>et(n(e.element,t),!0,e.isLocked),$i=(e,t)=>e.section!==t?tt(e.element,e.cells,t,e.isNew):e,Ki=()=>({transformRow:$i,transformCell:(e,t,n)=>{const r=n(e.element,t),o="td"!==re(r)?((e,t)=>{const n=Xe(e,"td");Le(e,n);const r=Ie(e);return Ue(n,r),qe(e),n})(r):r;return et(o,e.isNew,e.isLocked)}}),Xi=()=>({transformRow:$i,transformCell:Zi}),Yi=()=>({transformRow:(e,t)=>$i(e,"thead"===t?"tbody":t),transformCell:Zi}),Ji=Ki,Qi=Xi,es=Yi,ts=()=>({transformRow:m,transformCell:Zi}),ns=(e,t,n,r)=>{n===r?ye(e,t):fe(e,t,n)},rs=(e,t,n)=>{U(ut(e,t)).fold((()=>He(e,n)),(e=>Le(e,n)))},os=(e,t)=>{const n=[],r=[],o=e=>M(e,(e=>{e.isNew&&n.push(e.element);const t=e.element;return Ge(t),P(e.cells,(e=>{e.isNew&&r.push(e.element),ns(e.element,"colspan",e.colspan,1),ns(e.element,"rowspan",e.rowspan,1),ze(t,e.element)})),t})),i=e=>L(e,(e=>M(e.cells,(e=>(ns(e.element,"span",e.colspan,1),e.element))))),s=(t,n)=>{const r=((e,t)=>{const n=gt(e,t).getOrThunk((()=>{const n=xe.fromTag(t,Te(e).dom);return"thead"===t?rs(e,"caption,colgroup",n):"colgroup"===t?rs(e,"caption",n):ze(e,n),n}));return Ge(n),n})(e,n),s=("colgroup"===n?i:o)(t);Ue(r,s)},a=(t,n)=>{t.length>0?s(t,n):(t=>{gt(e,t).each(qe)})(n)},l=[],c=[],u=[],d=[];return P(t,(e=>{switch(e.section){case"thead":l.push(e);break;case"tbody":c.push(e);break;case"tfoot":u.push(e);break;case"colgroup":d.push(e)}})),a(d,"colgroup"),a(l,"thead"),a(c,"tbody"),a(u,"tfoot"),{newRows:n,newCells:r}},is=(e,t)=>{if(0===e.length)return 0;const n=e[0];return B(e,(e=>!t(n.element,e.element))).getOr(e.length)},ss=(e,t)=>{const n=M(e,(e=>M(e.cells,w)));return M(e,((r,o)=>{const i=L(r.cells,((r,i)=>{if(!1===n[o][i]){const u=((e,t,n,r)=>{const o=((e,t)=>e[t])(e,t),i="colgroup"===o.section,s=is(o.cells.slice(n),r),a=i?1:is(((e,t)=>M(e,(e=>jn(e,t))))(e.slice(t),n),r);return{colspan:s,rowspan:a}})(e,o,i,t);return((e,t,r,o)=>{for(let i=e;i<e+r;i++)for(let e=t;e<t+o;e++)n[i][e]=!0})(o,i,u.rowspan,u.colspan),[(s=r.element,a=u.rowspan,l=u.colspan,c=r.isNew,{element:s,rowspan:a,colspan:l,isNew:c})]}return[];var s,a,l,c}));return((e,t,n,r)=>({element:e,cells:t,section:n,isNew:r}))(r.element,i,r.section,r.isNew)}))},as=(e,t,n)=>{const r=[];P(e.colgroups,(o=>{const i=[];for(let r=0;r<e.grid.columns;r++){const o=ar(e,r).map((e=>et(e.element,n,!1))).getOrThunk((()=>et(t.colGap(),!0,!1)));i.push(o)}r.push(tt(o.element,i,"colgroup",n))}));for(let o=0;o<e.grid.rows;o++){const i=[];for(let r=0;r<e.grid.columns;r++){const s=tr(e,o,r).map((e=>et(e.element,n,e.isLocked))).getOrThunk((()=>et(t.gap(),!0,!1)));i.push(s)}const s=e.all[o],a=tt(s.element,i,s.section,n);r.push(a)}return r},ls=e=>ss(e,Ae),cs=(e,t)=>G(e.all,(e=>I(e.cells,(e=>Ae(t,e.element))))),us=(e,t,n)=>{const r=M(t.selection,(t=>qt(t).bind((t=>cs(e,t))).filter(n))),o=wt(r);return xt(o.length>0,o)},ds=(e,t,n,r,o)=>(i,s,a,l)=>{const c=Qn(i),u=E.from(null==l?void 0:l.section).getOrThunk(ts);return t(c,s).map((t=>{const n=((e,t)=>as(e,t,!1))(c,a),r=e(n,t,Ae,o(a),u),i=Kn(r.grid);return{info:t,grid:ls(r.grid),cursor:r.cursor,lockedColumns:i}})).bind((e=>{const t=os(i,e.grid),o=E.from(null==l?void 0:l.sizing).getOrThunk((()=>co(i))),s=E.from(null==l?void 0:l.resize).getOrThunk(zi);return n(i,e.grid,e.info,{sizing:o,resize:s,section:u}),r(i),ye(i,Zn),e.lockedColumns.length>0&&fe(i,Zn,e.lockedColumns.join(",")),E.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))},hs=(e,t)=>us(e,t,x).map((e=>({cells:e,generators:t.generators,clipboard:t.clipboard}))),ps=(e,t)=>us(e,t,x),fs=(e,t)=>us(e,t,(e=>!e.isLocked)),ms=(e,t)=>H(t,(t=>((e,t)=>cs(e,t).exists((e=>!e.isLocked)))(e,t))),gs=(e,t,n,r)=>{const o=qn(e).rows;let i=!0;for(let e=0;e<o.length;e++)for(let s=0;s<Gn(o[0]);s++){const a=o[e],l=jn(a,s),c=n(l.element,t);c&&!i?zn(a,s,et(r(),!0,l.isLocked)):c&&(i=!1)}return e},vs=e=>{const t=t=>t(e),n=f(e),r=()=>o,o={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:x,isError:w,map:t=>bs.value(t(e)),mapError:r,bind:t,exists:t,forall:t,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:t=>{t(e)},toOptional:()=>E.some(e)};return o},ys=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:w,isError:x,map:t,mapError:t=>bs.error(t(e)),bind:t,exists:w,forall:x,getOr:m,or:m,getOrThunk:b,orThunk:b,getOrDie:(r=String(e),()=>{throw new Error(r)}),each:p,toOptional:E.none};var r;return n},bs={value:vs,error:ys,fromOption:(e,t)=>e.fold((()=>ys(t)),vs)},ws=(e,t)=>({rowDelta:0,colDelta:Gn(e[0])-Gn(t[0])}),xs=(e,t)=>({rowDelta:e.length-t.length,colDelta:0}),Es=(e,t,n,r)=>{const o="colgroup"===t.section?n.col:n.cell;return T(e,(e=>et(o(),!0,r(e))))},Ss=(e,t,n,r)=>{const o=e[e.length-1];return e.concat(T(t,(()=>{const e="colgroup"===o.section?n.colgroup:n.row,t=Wn(o,e,m),i=Es(t.cells.length,t,n,(e=>J(r,e.toString())));return Vn(t,i)})))},Cs=(e,t,n,r)=>M(e,(e=>{const o=Es(t,e,n,w);return Ln(e,r,o)})),As=(e,t,n)=>{const r=t.colDelta<0?Cs:m,o=t.rowDelta<0?Ss:m,i=Kn(e),s=Gn(e[0]),a=k(i,(e=>e===s-1)),l=r(e,Math.abs(t.colDelta),n,a?s-1:s),c=Kn(l);return o(l,Math.abs(t.rowDelta),n,z(c,x))},_s=(e,t,n,r)=>{const o=v(r,jn(e[t],n).element),i=e[t];return e.length>1&&Gn(i)>1&&(n>0&&o(Un(i,n-1))||n<i.cells.length-1&&o(Un(i,n+1))||t>0&&o(Un(e[t-1],n))||t<e.length-1&&o(Un(e[t+1],n)))},ks=(e,t,n)=>R(n,(n=>n>=e.column&&n<=Gn(t[0])+e.column)),Ts=(e,t,n,r,o)=>{((e,t,n,r)=>{t>0&&t<e[0].cells.length&&P(e,(e=>{const o=e.cells[t-1];let i=0;const s=r();for(;e.cells.length>t+i&&n(o.element,e.cells[t+i].element);)zn(e,t+i,et(s,!0,e.cells[t+i].isLocked)),i++}))})(t,e,o,r.cell);const i=xs(n,t),s=As(n,i,r),a=xs(t,s),l=As(t,a,r);return M(l,((t,n)=>Ln(t,e,s[n].cells)))},Ms=(e,t,n,r,o)=>{((e,t,n,r)=>{const o=qn(e).rows;if(t>0&&t<o.length){const e=((e,t)=>D(e,((e,n)=>k(e,(e=>t(e.element,n.element)))?e:e.concat([n])),[]))(o[t-1].cells,n);P(e,(e=>{let i=E.none();for(let s=t;s<o.length;s++)for(let t=0;t<Gn(o[0]);t++){const a=o[s],l=jn(a,t);n(l.element,e.element)&&(i.isNone()&&(i=E.some(r())),i.each((e=>{zn(a,t,et(e,!0,l.isLocked))})))}}))}})(t,e,o,r.cell);const i=Kn(t),s=ws(t,n),a={...s,colDelta:s.colDelta-i.length},l=As(t,a,r),{cols:c,rows:u}=qn(l),d=Kn(l),h=ws(n,t),p={...h,colDelta:h.colDelta+d.length},f=(g=r,v=d,M(n,(e=>D(v,((t,n)=>{const r=Es(1,e,g,x)[0];return Hn(t,n,r)}),e)))),m=As(f,p,r);var g,v;return[...c,...u.slice(0,e),...m,...u.slice(e,u.length)]},Ps=(e,t,n,r,o)=>{const{rows:i,cols:s}=qn(e),a=i.slice(0,t),l=i.slice(t);return[...s,...a,((e,t,n,r)=>Wn(e,(e=>r(e,n)),t))(i[n],((e,n)=>t>0&&t<i.length&&r(Un(i[t-1],n),Un(i[t],n))?jn(i[t],n):et(o(e.element,r),!0,e.isLocked)),r,o),...l]},Os=(e,t,n,r,o)=>M(e,(e=>{const i=t>0&&t<Gn(e)&&r(Un(e,t-1),Un(e,t)),s=((e,t,n,r,o,i,s)=>{if("colgroup"!==n&&r)return jn(e,t);{const t=jn(e,o);return et(s(t.element,i),!0,!1)}})(e,t,e.section,i,n,r,o);return Hn(e,t,s)})),Rs=(e,t,n,r)=>((e,t,n,r)=>void 0!==Un(e[t],n)&&t>0&&r(Un(e[t-1],n),Un(e[t],n)))(e,t,n,r)||((e,t,n)=>t>0&&n(Un(e,t-1),Un(e,t)))(e[t],n,r),Ns=(e,t,n,r)=>{const o=e=>(e=>"row"===e?Ht(t):Lt(t))(e)?`${e}group`:e;return e?ji(t)?o(n):null:r&&ji(t)?o("row"===n?"col":"row"):null},Ds=(e,t,n)=>et(n(e.element,t),!0,e.isLocked),Is=(e,t,n,r,o,i,s)=>M(e,((e,a)=>((e,l)=>{const c=e.cells,u=M(c,((e,l)=>{if((e=>k(t,(t=>n(e.element,t.element))))(e)){const t=s(e,a,l)?o(e,n,r):e;return i(t,a,l).each((e=>{var n,r;n=t.element,r={scope:E.from(e)},Z(r,((e,t)=>{e.fold((()=>{ye(n,t)}),(e=>{pe(n.dom,t,e)}))}))})),t}return e}));return tt(e.element,u,e.section,e.isNew)})(e))),Bs=(e,t,n)=>L(e,((r,o)=>Rs(e,o,t,n)?[]:[jn(r,t)])),Fs=(e,t,n,r,o)=>{const i=qn(e).rows,s=L(t,(e=>Bs(i,e,r))),a=M(i,(e=>Ui(e.cells))),l=((e,t)=>H(t,m)&&Ui(e)?x:(e,n,r)=>!("th"===re(e.element)&&t[n]))(s,a),c=((e,t)=>(n,r)=>E.some(Ns(e,n.element,"row",t[r])))(n,a);return Is(e,s,r,o,Ds,c,l)},Ls=(e,t,n,r)=>{const o=qn(e).rows,i=M(t,(e=>jn(o[e.row],e.column)));return Is(e,i,n,r,Ds,E.none,x)},Hs=e=>{if(!s(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return P(e,((r,o)=>{const i=q(r);if(1!==i.length)throw new Error("one and only one name per case");const a=i[0],l=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!s(l))throw new Error("case arguments must be an array");t.push(a),n[a]=(...n)=>{const r=n.length;if(r!==l.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+l.length+" ("+l+"), got "+r);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,n)},match:e=>{const r=q(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));if(!H(t,(e=>_(r,e))))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:a,params:n})}}}})),n},zs={...Hs([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Vs=(e,t,n)=>{let r=0;for(let o=e;o<t;o++)r+=void 0!==n[o]?n[o]:0;return r},js=(e,t)=>{const n=or(e);return M(n,(e=>{const n=Vs(e.row,e.row+e.rowspan,t);return{element:e.element,height:n,rowspan:e.rowspan}}))},Us=(e,t,n)=>{const r=((e,t)=>sr(e)?((e,t)=>{const n=ir(e);return M(n,((e,n)=>({element:e.element,width:t[n],colspan:e.colspan})))})(e,t):((e,t)=>{const n=or(e);return M(n,(e=>{const n=Vs(e.column,e.column+e.colspan,t);return{element:e.element,width:n,colspan:e.colspan}}))})(e,t))(e,t);P(r,(e=>{n.setElementWidth(e.element,e.width)}))},Gs=(e,t,n,r,o)=>{const i=Qn(e),s=o.getCellDelta(t),a=o.getWidths(i,o),l=n===i.grid.columns-1,c=r.clampTableDelta(a,n,s,o.minCellWidth(),l),u=((e,t,n,r,o)=>{const i=e.slice(0),s=((e,t)=>0===e.length?zs.none():1===e.length?zs.only(0):0===t?zs.left(0,1):t===e.length-1?zs.right(t-1,t):t>0&&t<e.length-1?zs.middle(t-1,t,t+1):zs.none())(e,t),a=f(M(i,f(0)));return s.fold(a,(e=>r.singleColumnWidth(i[e],n)),((e,t)=>o.calcLeftEdgeDeltas(i,e,t,n,r.minCellWidth(),r.isRelative)),((e,t,s)=>o.calcMiddleDeltas(i,e,t,s,n,r.minCellWidth(),r.isRelative)),((e,t)=>o.calcRightEdgeDeltas(i,e,t,n,r.minCellWidth(),r.isRelative)))})(a,n,c,o,r),d=M(u,((e,t)=>e+a[t]));Us(i,d,o),r.resizeTable(o.adjustTableWidth,c,l)},qs=e=>D(e,((e,t)=>k(e,(e=>e.column===t.column))?e:e.concat([t])),[]).sort(((e,t)=>e.column-t.column)),Ws=he("col"),Zs=he("colgroup"),$s=e=>"tr"===re(e)||Zs(e),Ks=e=>({element:e,colspan:Bt(e,"colspan",1),rowspan:Bt(e,"rowspan",1)}),Xs=e=>ve(e,"scope").map((e=>e.substr(0,3))),Ys=(e,t=Ks)=>{const n=n=>{if($s(n))return Zs((o={element:n}).element)?e.colgroup(o):e.row(o);{const o=n,i=(t=>Ws(t.element)?e.col(t):e.cell(t))(t(o));return r=E.some({item:o,replacement:i}),i}var o};let r=E.none();return{getOrInit:(e,t)=>r.fold((()=>n(e)),(r=>t(e,r.item)?r.replacement:n(e)))}},Js=e=>t=>{const n=[],r=r=>{const o="td"===e?{scope:null}:{},i=t.replace(r,e,o);return n.push({item:r,sub:i}),i};return{replaceOrInit:(e,t)=>{if($s(e)||Ws(e))return e;{const o=e;return((e,t)=>I(n,(n=>t(n.item,e))))(o,t).fold((()=>r(o)),(n=>t(e,n.item)?n.sub:r(o)))}}}},Qs=e=>({unmerge:t=>{const n=Xs(t);return n.each((e=>fe(t,"scope",e))),()=>{const r=e.cell({element:t,colspan:1,rowspan:1});return It(r,"width"),It(t,"width"),n.each((e=>fe(r,"scope",e))),r}},merge:e=>(It(e[0],"width"),(()=>{const t=wt(M(e,Xs));if(0===t.length)return E.none();{const e=t[0],n=["row","col"];return k(t,(t=>t!==e&&_(n,t)))?E.none():E.from(e)}})().fold((()=>ye(e[0],"scope")),(t=>fe(e[0],"scope",t+"group"))),f(e[0]))}),ea=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ta=Jo(),na=e=>((e,t)=>{const n=e.property().name(t);return _(ea,n)})(ta,e),ra=e=>((e,t)=>{const n=e.property().name(t);return _(["ol","ul"],n)})(ta,e),oa=e=>{const t=he("br"),n=e=>Eo(e).bind((n=>{const r=De(n).map((e=>!!na(e)||!!((e,t)=>_(["br","img","hr","input"],e.property().name(t)))(ta,e)&&"img"!==re(e))).getOr(!1);return Pe(n).map((o=>{return!0===r||("li"===re(i=o)||pt(i,ra).isSome())||t(n)||na(o)&&!Ae(e,o)?[]:[xe.fromTag("br")];var i}))})).getOr([]),r=(()=>{const r=L(e,(e=>{const r=Ie(e);return(e=>H(e,(e=>t(e)||ce(e)&&0===mo(e).trim().length)))(r)?[]:r.concat(n(e))}));return 0===r.length?[xe.fromTag("br")]:r})();Ge(e[0]),Ue(e[0],r)},ia=e=>Do(e,!0),sa=e=>{0===Wt(e).length&&qe(e)},aa=(e,t)=>({grid:e,cursor:t}),la=(e,t,n)=>{const r=((e,t,n)=>{var r,o;const i=qn(e).rows;return E.from(null===(o=null===(r=i[t])||void 0===r?void 0:r.cells[n])||void 0===o?void 0:o.element).filter(ia).orThunk((()=>(e=>G(e,(e=>G(e.cells,(e=>{const t=e.element;return xt(ia(t),t)})))))(i)))})(e,t,n);return aa(e,r)},ca=e=>D(e,((e,t)=>k(e,(e=>e.row===t.row))?e:e.concat([t])),[]).sort(((e,t)=>e.row-t.row)),ua=(e,t)=>(n,r,o,i,s)=>{const a=ca(r),l=M(a,(e=>e.row)),c=((e,t,n,r,o,i,s)=>{const{cols:a,rows:l}=qn(e),c=l[t[0]],u=L(t,(e=>((e,t,n)=>{const r=e[t];return L(r.cells,((r,o)=>Rs(e,t,o,n)?[]:[r]))})(l,e,o))),d=M(c.cells,((e,t)=>Ui(Bs(l,t,o)))),h=[...l];P(t,(e=>{h[e]=s.transformRow(l[e],n)}));const p=[...a,...h],f=((e,t)=>H(t,m)&&Ui(e.cells)?x:(e,n,r)=>!("th"===re(e.element)&&t[r]))(c,d),g=((e,t)=>(n,r,o)=>E.some(Ns(e,n.element,"col",t[o])))(r,d);return Is(p,u,o,i,s.transformCell,g,f)})(n,l,e,t,o,i.replaceOrInit,s);return la(c,r[0].row,r[0].column)},da=ua("thead",!0),ha=ua("tbody",!1),pa=ua("tfoot",!1),fa=(e,t,n)=>{const r=((e,t)=>Yt(e,(()=>t)))(e,n.section),o=er(r);return as(o,t,!0)},ma=(e,t,n,r)=>((e,t,n,r)=>{const o=er(t),i=r.getWidths(o,r);Us(o,i,r)})(0,t,0,r.sizing),ga=(e,t,n,r)=>((e,t,n,r,o)=>{const i=er(t),s=r.getWidths(i,r),a=r.pixelWidth(),{newSizes:l,delta:c}=o.calcRedestributedWidths(s,a,n.pixelDelta,r.isRelative);Us(i,l,r),r.adjustTableWidth(c)})(0,t,n,r.sizing,r.resize),va=(e,t)=>k(t,(e=>0===e.column&&e.isLocked)),ya=(e,t)=>k(t,(t=>t.column+t.colspan>=e.grid.columns&&t.isLocked)),ba=(e,t)=>{const n=lr(e),r=qs(t);return D(r,((e,t)=>e+n[t.column].map(Bn).getOr(0)),0)},wa=e=>(t,n)=>ps(t,n).filter((n=>!(e?va:ya)(t,n))).map((e=>({details:e,pixelDelta:ba(t,e)}))),xa=e=>(t,n)=>hs(t,n).filter((n=>!(e?va:ya)(t,n.cells))),Ea=Js("th"),Sa=Js("td"),Ca=ds(((e,t,n,r)=>{const o=t[0].row,i=ca(t),s=N(i,((e,t)=>({grid:Ps(e.grid,o,t.row+e.delta,n,r.getOrInit),delta:e.delta+1})),{grid:e,delta:0}).grid;return la(s,o,t[0].column)}),ps,p,p,Ys),Aa=ds(((e,t,n,r)=>{const o=ca(t),i=o[o.length-1],s=i.row+i.rowspan,a=N(o,((e,t)=>Ps(e,s,t.row,n,r.getOrInit)),e);return la(a,s,t[0].column)}),ps,p,p,Ys),_a=ds(((e,t,n,r)=>{const o=t.details,i=qs(o),s=i[0].column,a=N(i,((e,t)=>({grid:Os(e.grid,s,t.column+e.delta,n,r.getOrInit),delta:e.delta+1})),{grid:e,delta:0}).grid;return la(a,o[0].row,s)}),wa(!0),ga,p,Ys),ka=ds(((e,t,n,r)=>{const o=t.details,i=o[o.length-1],s=i.column+i.colspan,a=qs(o),l=N(a,((e,t)=>Os(e,s,t.column,n,r.getOrInit)),e);return la(l,o[0].row,s)}),wa(!1),ga,p,Ys),Ta=ds(((e,t,n,r)=>{const o=qs(t.details),i=((e,t)=>L(e,(e=>{const n=e.cells,r=N(t,((e,t)=>t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e),n);return r.length>0?[tt(e.element,r,e.section,e.isNew)]:[]})))(e,M(o,(e=>e.column))),s=i.length>0?i[0].cells.length-1:0;return la(i,o[0].row,Math.min(o[0].column,s))}),((e,t)=>fs(e,t).map((t=>({details:t,pixelDelta:-ba(e,t)})))),ga,sa,Ys),Ma=ds(((e,t,n,r)=>{const o=ca(t),i=((e,t,n)=>{const{rows:r,cols:o}=qn(e);return[...o,...r.slice(0,t),...r.slice(n+1)]})(e,o[0].row,o[o.length-1].row),s=i.length>0?i.length-1:0;return la(i,Math.min(t[0].row,s),t[0].column)}),ps,p,sa,Ys),Pa=ds(((e,t,n,r)=>{const o=qs(t),i=M(o,(e=>e.column)),s=Fs(e,i,!0,n,r.replaceOrInit);return la(s,t[0].row,t[0].column)}),fs,p,p,Ea),Oa=ds(((e,t,n,r)=>{const o=qs(t),i=M(o,(e=>e.column)),s=Fs(e,i,!1,n,r.replaceOrInit);return la(s,t[0].row,t[0].column)}),fs,p,p,Sa),Ra=ds(da,fs,p,p,Ea),Na=ds(ha,fs,p,p,Sa),Da=ds(pa,fs,p,p,Sa),Ia=ds(((e,t,n,r)=>{const o=Ls(e,t,n,r.replaceOrInit);return la(o,t[0].row,t[0].column)}),fs,p,p,Ea),Ba=ds(((e,t,n,r)=>{const o=Ls(e,t,n,r.replaceOrInit);return la(o,t[0].row,t[0].column)}),fs,p,p,Sa),Fa=ds(((e,t,n,r)=>{const o=t.cells;oa(o);const i=((e,t,n,r)=>{const o=qn(e).rows;if(0===o.length)return e;for(let e=t.startRow;e<=t.finishRow;e++)for(let n=t.startCol;n<=t.finishCol;n++){const t=o[e],i=jn(t,n).isLocked;zn(t,n,et(r(),!1,i))}return e})(e,t.bounds,0,r.merge(o));return aa(i,E.from(o[0]))}),((e,t)=>((e,t)=>t.mergable)(0,t).filter((t=>ms(e,t.cells)))),ma,p,Qs),La=ds(((e,t,n,r)=>{const o=N(t,((e,t)=>gs(e,t,n,r.unmerge(t))),e);return aa(o,E.from(t[0]))}),((e,t)=>((e,t)=>t.unmergable)(0,t).filter((t=>ms(e,t)))),ma,p,Qs),Ha=ds(((e,t,n,r)=>{const o=((e,t)=>{const n=Qn(e);return as(n,t,!0)})(t.clipboard,t.generators);var i,s;return((e,t,n,r,o)=>{const i=Kn(t),s=((e,t,n)=>{const r=Gn(t[0]),o=qn(t).cols.length+e.row,i=T(r-e.column,(t=>t+e.column));return{row:o,column:I(i,(e=>H(n,(t=>t!==e)))).getOr(r-1)}})(e,t,i),a=qn(n).rows,l=ks(s,a,i),c=((e,t,n)=>{if(e.row>=t.length||e.column>Gn(t[0]))return bs.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column);const r=t.slice(e.row),o=r[0].cells.slice(e.column),i=Gn(n[0]),s=n.length;return bs.value({rowDelta:r.length-s,colDelta:o.length-i})})(s,t,a);return c.map((e=>{const n={...e,colDelta:e.colDelta-l.length},i=As(t,n,r),c=Kn(i),u=ks(s,a,c);return((e,t,n,r,o,i)=>{const s=e.row,a=e.column,l=s+n.length,c=a+Gn(n[0])+i.length,u=z(i,x);for(let e=s;e<l;e++){let i=0;for(let l=a;l<c;l++){if(u[l]){i++;continue}_s(t,e,l,o)&&gs(t,Un(t[e],l),o,r.cell);const c=l-a-i,d=jn(n[e-s],c),h=d.element,p=r.replace(h);zn(t[e],l,et(p,!0,d.isLocked))}}return t})(s,i,a,r,o,u)}))})((i=t.row,s=t.column,{row:i,column:s}),e,o,t.generators,n).fold((()=>aa(e,E.some(t.element))),(e=>la(e,t.row,t.column)))}),((e,t)=>qt(t.element).bind((n=>cs(e,n).map((e=>({...e,generators:t.generators,clipboard:t.clipboard})))))),ma,p,Ys),za=ds(((e,t,n,r)=>{const o=qn(e).rows,i=t.cells[0].column,s=o[t.cells[0].row],a=fa(t.clipboard,t.generators,s),l=Ts(i,e,a,t.generators,n);return la(l,t.cells[0].row,t.cells[0].column)}),xa(!0),p,p,Ys),Va=ds(((e,t,n,r)=>{const o=qn(e).rows,i=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,s=o[t.cells[0].row],a=fa(t.clipboard,t.generators,s),l=Ts(i,e,a,t.generators,n);return la(l,t.cells[0].row,t.cells[0].column)}),xa(!1),p,p,Ys),ja=ds(((e,t,n,r)=>{const o=qn(e).rows,i=t.cells[0].row,s=o[i],a=fa(t.clipboard,t.generators,s),l=Ms(i,e,a,t.generators,n);return la(l,t.cells[0].row,t.cells[0].column)}),hs,p,p,Ys),Ua=ds(((e,t,n,r)=>{const o=qn(e).rows,i=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,s=o[t.cells[0].row],a=fa(t.clipboard,t.generators,s),l=Ms(i,e,a,t.generators,n);return la(l,t.cells[0].row,t.cells[0].column)}),hs,p,p,Ys),Ga=(e,t)=>{const n=Qn(e);return ps(n,t).bind((e=>{const t=e[e.length-1],r=e[0].column,o=t.column+t.colspan,i=F(M(n.all,(e=>R(e.cells,(e=>e.column>=r&&e.column<o)))));return Wi(i)})).getOr("")},qa=(e,t)=>{const n=Qn(e);return ps(n,t).bind(Wi).getOr("")},Wa=(e,t)=>{const n=Qn(e);return ps(n,t).bind((e=>{const t=e[e.length-1],r=e[0].row,o=t.row+t.rowspan;return(e=>{const t=M(e,(e=>qi(e).type)),n=_(t,"header"),r=_(t,"footer");if(n||r){const e=_(t,"body");return!n||e||r?n||e||!r?E.none():E.some("footer"):E.some("header")}return E.some("body")})(n.all.slice(r,o))})).getOr("")},Za=(e,t)=>e.dispatch("NewRow",{node:t}),$a=(e,t)=>e.dispatch("NewCell",{node:t}),Ka=(e,t,n)=>{e.dispatch("TableModified",{...n,table:t})},Xa={structure:!1,style:!0},Ya={structure:!0,style:!1},Ja={structure:!0,style:!0},Qa=e=>t=>t.options.get(e),el="100%",tl=e=>{var t;const n=e.dom,r=null!==(t=n.getParent(e.selection.getStart(),n.isBlock))&&void 0!==t?t:e.getBody();return Fn(xe.fromDom(r))+"px"},nl=e=>E.from(e.options.get("table_clone_elements")),rl=Qa("table_header_type"),ol=Qa("table_column_resizing"),il=e=>"preservetable"===ol(e),sl=e=>"resizetable"===ol(e),al=Qa("table_sizing_mode"),ll=e=>"relative"===al(e),cl=e=>"fixed"===al(e),ul=e=>"responsive"===al(e),dl=Qa("table_resize_bars"),hl=Qa("table_style_by_css"),pl=e=>{const t=e.options,n=t.get("table_default_attributes");return t.isSet("table_default_attributes")?n:((e,t)=>ul(e)||hl(e)?t:cl(e)?{...t,width:tl(e)}:{...t,width:el})(e,n)},fl=Qa("table_use_colgroups"),ml=(e,t)=>ll(e)?ho(t):cl(e)?uo(t):co(t),gl=(e,t,n)=>{const r=e=>"table"===re(Bo(e)),o=nl(e),i=sl(e)?p:Ni,s=t=>{switch(rl(e)){case"section":return Ji();case"sectionCells":return Qi();case"cells":return es();default:return((e,t)=>{var n;switch((n=Qn(e),G(n.all,(e=>{const t=qi(e);return"header"===t.type?E.from(t.subType):E.none()}))).getOr(t)){case"section":return Ki();case"sectionCells":return Xi();case"cells":return Yi()}})(t,"section")}},a=(r,i,a,l)=>(c,u,d=!1)=>{Lo(c);const h=xe.fromDom(e.getDoc()),p=Oo(a,h,o),f={sizing:ml(e,c),resize:sl(e)?Hi():zi(),section:s(c)};return i(c)?r(c,u,p,f).bind((r=>{t.refresh(c.dom),P(r.newRows,(t=>{Za(e,t.dom)})),P(r.newCells,(t=>{$a(e,t.dom)}));const o=((t,r)=>r.cursor.fold((()=>{const r=Wt(t);return j(r).filter(st).map((r=>{n.clearSelectedCells(t.dom);const o=e.dom.createRng();return o.selectNode(r.dom),e.selection.setRng(o),fe(r,"data-mce-selected","1"),o}))}),(r=>{const o=Oi(Ri,r),i=e.dom.createRng();return i.setStart(o.element.dom,o.offset),i.setEnd(o.element.dom,o.offset),e.selection.setRng(i),n.clearSelectedCells(t.dom),E.some(i)})))(c,r);return st(c)&&(Lo(c),d||Ka(e,c.dom,l)),o.map((e=>({rng:e,effect:l})))})):E.none()},l=a(Ma,(t=>!r(e)||Vi(t).rows>1),p,Ya),c=a(Ta,(t=>!r(e)||Vi(t).columns>1),p,Ya);return{deleteRow:l,deleteColumn:c,insertRowsBefore:a(Ca,x,p,Ya),insertRowsAfter:a(Aa,x,p,Ya),insertColumnsBefore:a(_a,x,i,Ya),insertColumnsAfter:a(ka,x,i,Ya),mergeCells:a(Fa,x,p,Ya),unmergeCells:a(La,x,p,Ya),pasteColsBefore:a(za,x,p,Ya),pasteColsAfter:a(Va,x,p,Ya),pasteRowsBefore:a(ja,x,p,Ya),pasteRowsAfter:a(Ua,x,p,Ya),pasteCells:a(Ha,x,p,Ja),makeCellsHeader:a(Ia,x,p,Ya),unmakeCellsHeader:a(Ba,x,p,Ya),makeColumnsHeader:a(Pa,x,p,Ya),unmakeColumnsHeader:a(Oa,x,p,Ya),makeRowsHeader:a(Ra,x,p,Ya),makeRowsBody:a(Na,x,p,Ya),makeRowsFooter:a(Da,x,p,Ya),getTableRowType:Wa,getTableCellType:qa,getTableColType:Ga}},vl=(e,t,n)=>{const r=Bt(e,t,1);1===n||r<=1?ye(e,t):fe(e,t,Math.min(n,r))},yl=(e,t)=>n=>{const r=n.column+n.colspan-1,o=n.column;return r>=e&&o<t},bl=Hs([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),wl=(e,t,n)=>{const r=n.substring(0,n.length-e.length),o=parseFloat(r);return r===o.toString()?t(o):bl.invalid(n)},xl={...bl,from:e=>At(e,"%")?wl("%",bl.percent,e):At(e,"px")?wl("px",bl.pixels,e):bl.invalid(e)},El=(e,t,n)=>{const r=xl.from(n),o=H(e,(e=>"0px"===e))?((e,t)=>{const n=e.fold((()=>f("")),(e=>f(e/t+"px")),(()=>f(100/t+"%")));return T(t,n)})(r,e.length):((e,t,n)=>e.fold((()=>t),(e=>((e,t,n)=>{const r=n/t;return M(e,(e=>xl.from(e).fold((()=>e),(e=>e*r+"px"),(e=>e/100*n+"px"))))})(t,n,e)),(e=>((e,t)=>M(e,(e=>xl.from(e).fold((()=>e),(e=>e/t*100+"%"),(e=>e+"%")))))(t,n))))(r,e,t);return Al(o)},Sl=(e,t)=>0===e.length?t:N(e,((e,t)=>xl.from(t).fold(f(0),m,m)+e),0),Cl=(e,t)=>xl.from(e).fold(f(e),(e=>e+t+"px"),(e=>e+t+"%")),Al=e=>{if(0===e.length)return e;const t=N(e,((e,t)=>{const n=xl.from(t).fold((()=>({value:t,remainder:0})),(e=>((e,t)=>{const n=Math.floor(e);return{value:n+"px",remainder:e-n}})(e)),(e=>({value:e+"%",remainder:0})));return{output:[n.value].concat(e.output),remainder:e.remainder+n.remainder}}),{output:[],remainder:0}),n=t.output;return n.slice(0,n.length-1).concat([Cl(n[n.length-1],Math.round(t.remainder))])},_l=xl.from,kl=e=>_l(e).fold(f("px"),f("px"),f("%")),Tl=(e,t,n)=>{const r=Qn(e),o=r.all,i=or(r),s=ir(r);t.each((t=>{const n=kl(t),o=In(e),a=((e,t)=>no(e,t,Qr,ro))(r,e),l=El(a,o,t);sr(r)?((e,t,n)=>{P(t,((t,r)=>{const o=Sl([e[r]],Vt());Pt(t.element,"width",o+n)}))})(l,s,n):((e,t,n)=>{P(t,(t=>{const r=e.slice(t.column,t.colspan+t.column),o=Sl(r,Vt());Pt(t.element,"width",o+n)}))})(l,i,n),Pt(e,"width",t)})),n.each((t=>{const n=kl(t),s=fr(e),a=((e,t,n)=>io(e,t,n,eo,ro))(r,e,Or);((e,t,n,r)=>{P(n,(t=>{const n=e.slice(t.row,t.rowspan+t.row),o=Sl(n,jt());Pt(t.element,"height",o+r)})),P(t,((t,n)=>{Pt(t.element,"height",e[n])}))})(El(a,s,t),o,i,n),Pt(e,"height",t)}))},Ml=e=>qr(e).exists((e=>Br.test(e))),Pl=e=>qr(e).exists((e=>Fr.test(e))),Ol=e=>qr(e).isNone(),Rl=e=>{ye(e,"width")},Nl=e=>{const t=Xr(e);Tl(e,E.some(t),E.none()),Rl(e)},Dl=e=>{const t=(e=>In(e)+"px")(e);Tl(e,E.some(t),E.none()),Rl(e)},Il=e=>{It(e,"width");const t=Zt(e),n=t.length>0?t:Wt(e);P(n,(e=>{It(e,"width"),Rl(e)})),Rl(e)},Bl={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Fl=(e,t,n,r)=>T(e,(e=>((e,t,n,r)=>{const o=xe.fromTag("tr");for(let i=0;i<e;i++){const e=xe.fromTag(r<t||i<n?"th":"td");i<n&&fe(e,"scope","row"),r<t&&fe(e,"scope","col"),ze(e,xe.fromTag("br")),ze(o,e)}return o})(t,n,r,e))),Ll=(e,t)=>{e.selection.select(t.dom,!0),e.selection.collapse(!0)},Hl=(e,t,n,r,i)=>{const s=(e=>{const t=e.options,n=t.get("table_default_styles");return t.isSet("table_default_styles")?n:((e,t)=>ul(e)||!hl(e)?t:cl(e)?{...t,width:tl(e)}:{...t,width:el})(e,n)})(e),a={styles:s,attributes:pl(e),colGroups:fl(e)};return e.undoManager.ignore((()=>{const o=((e,t,n,r,o,i=Bl)=>{const s=xe.fromTag("table"),a="cells"!==o;Ot(s,i.styles),me(s,i.attributes),i.colGroups&&ze(s,(e=>{const t=xe.fromTag("colgroup");return T(e,(()=>ze(t,xe.fromTag("col")))),t})(t));const l=Math.min(e,n);if(a&&n>0){const e=xe.fromTag("thead");ze(s,e);const i=Fl(n,t,"sectionCells"===o?l:0,r);Ue(e,i)}const c=xe.fromTag("tbody");ze(s,c);const u=Fl(a?e-l:e,t,a?0:n,r);return Ue(c,u),s})(n,t,i,r,rl(e),a);fe(o,"data-mce-id","__mce");const s=(e=>{const t=xe.fromTag("div"),n=xe.fromDom(e.dom.cloneNode(!0));return ze(t,n),(e=>e.dom.innerHTML)(t)})(o);e.insertContent(s),e.addVisual()})),vt(Bo(e),'table[data-mce-id="__mce"]').map((t=>(cl(e)?Dl(t):ul(e)?Il(t):(ll(e)||(e=>o(e)&&-1!==e.indexOf("%"))(s.width))&&Nl(t),Lo(t),ye(t,"data-mce-id"),((e,t)=>{P(dt(t,"tr"),(t=>{Za(e,t.dom),P(dt(t,"th,td"),(t=>{$a(e,t.dom)}))}))})(e,t),((e,t)=>{vt(t,"td,th").each(v(Ll,e))})(e,t),t.dom))).getOrNull()};var zl=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Vl="x-tinymce/dom-table-",jl=Vl+"rows",Ul=Vl+"columns",Gl=e=>{const t=zl.FakeClipboardItem(e);zl.write([t])},ql=e=>{var t;const n=null!==(t=zl.read())&&void 0!==t?t:[];return G(n,(t=>E.from(t.getType(e))))},Wl=e=>{ql(e).isSome()&&zl.clear()},Zl=e=>{e.fold(Kl,(e=>Gl({[jl]:e})))},$l=()=>ql(jl),Kl=()=>Wl(jl),Xl=e=>{e.fold(Jl,(e=>Gl({[Ul]:e})))},Yl=()=>ql(Ul),Jl=()=>Wl(Ul),Ql=e=>Si(Ho(e),Fo(e)).filter(jo),ec=(e,t)=>{const n=Fo(e),r=e=>$t(e,n),s=t=>(e=>Ci(Ho(e),Fo(e)).filter(jo))(e).bind((e=>r(e).map((n=>t(n,e))))),a=t=>{e.focus()},l=(t,n=!1)=>s(((r,o)=>{const i=xi(Ai(e),r,o);t(r,i,n).each(a)})),c=()=>s(((t,n)=>((e,t,n)=>{const r=Qn(e);return ps(r,t).bind((e=>{const t=as(r,n,!1),o=qn(t).rows.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),i=L(o,(e=>{const t=R(e.cells,(e=>!e.isLocked));return t.length>0?[{...e,cells:t}]:[]})),s=ls(i);return xt(s.length>0,s)})).map((e=>M(e,(e=>{const t=$e(e.element);return P(e.cells,(e=>{const n=Ke(e.element);ns(n,"colspan",e.colspan,1),ns(n,"rowspan",e.rowspan,1),ze(t,n)})),t}))))})(t,xi(Ai(e),t,n),Oo(p,xe.fromDom(e.getDoc()),E.none())))),u=()=>s(((t,n)=>((e,t)=>{const n=Qn(e);return fs(n,t).map((e=>{const t=e[e.length-1],r=e[0].column,o=t.column+t.colspan,i=((e,t,n)=>{if(sr(e)){const r=R(ir(e),yl(t,n)),o=M(r,(e=>{const r=Ke(e.element);return vl(r,"span",n-t),r})),i=xe.fromTag("colgroup");return Ue(i,o),[i]}return[]})(n,r,o),s=((e,t,n)=>M(e.all,(e=>{const r=R(e.cells,yl(t,n)),o=M(r,(e=>{const r=Ke(e.element);return vl(r,"colspan",n-t),r})),i=xe.fromTag("tr");return Ue(i,o),i})))(n,r,o);return[...i,...s]}))})(t,xi(Ai(e),t,n)))),d=(t,n)=>n().each((n=>{const r=M(n,(e=>Ke(e)));s(((n,o)=>{const i=Ro(xe.fromDom(e.getDoc())),s=((e,t,n,r)=>({selection:ui(e),clipboard:n,generators:r}))(Ai(e),0,r,i);t(n,s).each(a)}))})),f=e=>(t,n)=>((e,t)=>J(e,t)?E.from(e[t]):E.none())(n,"type").each((t=>{l(e(t),n.no_events)}));Z({mceTableSplitCells:()=>l(t.unmergeCells),mceTableMergeCells:()=>l(t.mergeCells),mceTableInsertRowBefore:()=>l(t.insertRowsBefore),mceTableInsertRowAfter:()=>l(t.insertRowsAfter),mceTableInsertColBefore:()=>l(t.insertColumnsBefore),mceTableInsertColAfter:()=>l(t.insertColumnsAfter),mceTableDeleteCol:()=>l(t.deleteColumn),mceTableDeleteRow:()=>l(t.deleteRow),mceTableCutCol:()=>u().each((e=>{Xl(e),l(t.deleteColumn)})),mceTableCutRow:()=>c().each((e=>{Zl(e),l(t.deleteRow)})),mceTableCopyCol:()=>u().each((e=>Xl(e))),mceTableCopyRow:()=>c().each((e=>Zl(e))),mceTablePasteColBefore:()=>d(t.pasteColsBefore,Yl),mceTablePasteColAfter:()=>d(t.pasteColsAfter,Yl),mceTablePasteRowBefore:()=>d(t.pasteRowsBefore,$l),mceTablePasteRowAfter:()=>d(t.pasteRowsAfter,$l),mceTableDelete:()=>Ql(e).each((t=>{$t(t,n).filter(y(n)).each((t=>{const n=xe.fromText("");if(Le(t,n),qe(t),e.dom.isEmpty(e.getBody()))e.setContent(""),e.selection.setCursorLocation();else{const t=e.dom.createRng();t.setStart(n.dom,0),t.setEnd(n.dom,0),e.selection.setRng(t),e.nodeChanged()}}))})),mceTableCellToggleClass:(t,n)=>{s((t=>{const r=Ai(e),o=H(r,(t=>e.formatter.match("tablecellclass",{value:n},t.dom))),i=o?e.formatter.remove:e.formatter.apply;P(r,(e=>i("tablecellclass",{value:n},e.dom))),Ka(e,t.dom,Xa)}))},mceTableToggleClass:(t,n)=>{s((t=>{e.formatter.toggle("tableclass",{value:n},t.dom),Ka(e,t.dom,Xa)}))},mceTableToggleCaption:()=>{Ql(e).each((t=>{$t(t,n).each((n=>{gt(n,"caption").fold((()=>{const t=xe.fromTag("caption");ze(t,xe.fromText("Caption")),((e,t,n)=>{Be(e,0).fold((()=>{ze(e,t)}),(e=>{Fe(e,t)}))})(n,t),e.selection.setCursorLocation(t.dom,0)}),(r=>{he("caption")(t)&&Ce("td",n).each((t=>e.selection.setCursorLocation(t.dom,0))),qe(r)})),Ka(e,n.dom,Ya)}))}))},mceTableSizingMode:(t,r)=>(t=>Ql(e).each((r=>{ul(e)||cl(e)||ll(e)||$t(r,n).each((n=>{"relative"!==t||Ml(n)?"fixed"!==t||Pl(n)?"responsive"!==t||Ol(n)||Il(n):Dl(n):Nl(n),Lo(n),Ka(e,n.dom,Ya)}))})))(r),mceTableCellType:f((e=>"th"===e?t.makeCellsHeader:t.unmakeCellsHeader)),mceTableColType:f((e=>"th"===e?t.makeColumnsHeader:t.unmakeColumnsHeader)),mceTableRowType:f((e=>{switch(e){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}}))},((t,n)=>e.addCommand(n,t))),e.addCommand("mceInsertTable",((t,n)=>{((e,t,n,r={})=>{const o=e=>h(e)&&e>0;if(o(t)&&o(n)){const o=r.headerRows||0,i=r.headerColumns||0;return Hl(e,n,t,i,o)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(e,n.rows,n.columns,n.options)})),e.addCommand("mceTableApplyCellStyle",((t,n)=>{const s=e=>"tablecell"+e.toLowerCase().replace("-","");if(!i(n))return;const a=R(Ai(e),jo);if(0===a.length)return;const l=((e,t)=>{const n={};return((e,t,n,r)=>{Z(e,((e,o)=>{(t(e,o)?n:r)(e,o)}))})(e,t,(e=>(t,n)=>{e[n]=t})(n),p),n})(n,((t,n)=>e.formatter.has(s(n))&&o(t)));(e=>{for(const t in e)if(W.call(e,t))return!1;return!0})(l)||(Z(l,((t,n)=>{const r=s(n);P(a,(n=>{""===t?e.formatter.remove(r,{value:null},n.dom,!0):e.formatter.apply(r,{value:t},n.dom)}))})),r(a[0]).each((t=>Ka(e,t.dom,Xa))))}))},tc=Hs([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),nc={before:tc.before,on:tc.on,after:tc.after,cata:(e,t,n,r)=>e.fold(t,n,r),getStart:e=>e.fold(m,m,m)},rc=(e,t)=>({selection:e,kill:t}),oc=(e,t)=>{const n=e.document.createRange();return n.selectNode(t.dom),n},ic=(e,t)=>{const n=e.document.createRange();return sc(n,t),n},sc=(e,t)=>e.selectNodeContents(t.dom),ac=(e,t,n)=>{const r=e.document.createRange();var o;return o=r,t.fold((e=>{o.setStartBefore(e.dom)}),((e,t)=>{o.setStart(e.dom,t)}),(e=>{o.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))})(r,n),r},lc=(e,t,n,r,o)=>{const i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(r.dom,o),i},cc=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),uc=Hs([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),dc=(e,t,n)=>t(xe.fromDom(n.startContainer),n.startOffset,xe.fromDom(n.endContainer),n.endOffset),hc=(e,t)=>{const n=((e,t)=>t.match({domRange:e=>({ltr:f(e),rtl:E.none}),relative:(t,n)=>({ltr:en((()=>ac(e,t,n))),rtl:en((()=>E.some(ac(e,n,t))))}),exact:(t,n,r,o)=>({ltr:en((()=>lc(e,t,n,r,o))),rtl:en((()=>E.some(lc(e,r,o,t,n))))})}))(e,t);return((e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter((e=>!1===e.collapsed)).map((e=>uc.rtl(xe.fromDom(e.endContainer),e.endOffset,xe.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>dc(0,uc.ltr,n))):dc(0,uc.ltr,n)})(0,n)},pc=(e,t)=>hc(e,t).match({ltr:(t,n,r,o)=>{const i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(r.dom,o),i},rtl:(t,n,r,o)=>{const i=e.document.createRange();return i.setStart(r.dom,o),i.setEnd(t.dom,n),i}});uc.ltr,uc.rtl;const fc=(e,t,n,r)=>({start:e,soffset:t,finish:n,foffset:r}),mc=(e,t,n,r)=>({start:nc.on(e,t),finish:nc.on(n,r)}),gc=(e,t)=>{const n=pc(e,t);return fc(xe.fromDom(n.startContainer),n.startOffset,xe.fromDom(n.endContainer),n.endOffset)},vc=mc,yc=(e,t,n,r,o)=>Ae(n,r)?E.none():oi(n,r,t).bind((t=>{const r=t.boxes.getOr([]);return r.length>1?(o(e,r,t.start,t.finish),E.some(rc(E.some(vc(n,0,n,yo(n))),!0))):E.none()})),bc=(e,t)=>({item:e,mode:t}),wc=(e,t,n,r=xc)=>e.property().parent(t).map((e=>bc(e,r))),xc=(e,t,n,r=Ec)=>n.sibling(e,t).map((e=>bc(e,r))),Ec=(e,t,n,r=Ec)=>{const o=e.property().children(t);return n.first(o).map((e=>bc(e,r)))},Sc=[{current:wc,next:xc,fallback:E.none()},{current:xc,next:Ec,fallback:E.some(wc)},{current:Ec,next:Ec,fallback:E.some(xc)}],Cc=(e,t,n,r,o=Sc)=>I(o,(e=>e.current===n)).bind((n=>n.current(e,t,r,n.next).orThunk((()=>n.fallback.bind((n=>Cc(e,t,n,r))))))),Ac=(e,t,n,r,o,i)=>Cc(e,t,r,o).bind((t=>i(t.item)?E.none():n(t.item)?E.some(t.item):Ac(e,t.item,n,t.mode,o,i))),_c=e=>t=>0===e.property().children(t).length,kc=(e,t,n,r)=>Ac(e,t,n,xc,{sibling:(e,t)=>e.query().prevSibling(t),first:e=>e.length>0?E.some(e[e.length-1]):E.none()},r),Tc=(e,t,n,r)=>Ac(e,t,n,xc,{sibling:(e,t)=>e.query().nextSibling(t),first:e=>e.length>0?E.some(e[0]):E.none()},r),Mc=Jo(),Pc=(e,t)=>((e,t,n)=>kc(e,t,_c(e),n))(Mc,e,t),Oc=(e,t)=>((e,t,n)=>Tc(e,t,_c(e),n))(Mc,e,t),Rc=Hs([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Nc=e=>yt(e,"tr"),Dc={...Rc,verify:(e,t,n,r,o,i,s)=>yt(r,"td,th",s).bind((n=>yt(t,"td,th",s).map((t=>Ae(n,t)?Ae(r,n)&&yo(n)===o?i(t):Rc.none("in same cell"):ni(Nc,[n,t]).fold((()=>((e,t,n)=>{const r=e.getRect(t),o=e.getRect(n);return o.right>r.left&&o.left<r.right})(e,t,n)?Rc.success():i(t)),(e=>i(t))))))).getOr(Rc.none("default")),cata:(e,t,n,r,o)=>e.fold(t,n,r,o)},Ic=he("br"),Bc=(e,t,n)=>t(e,n).bind((e=>ce(e)&&0===mo(e).trim().length?Bc(e,t,n):E.some(e))),Fc=(e,t,n,r)=>((e,t)=>Be(e,t).filter(Ic).orThunk((()=>Be(e,t-1).filter(Ic))))(t,n).bind((t=>r.traverse(t).fold((()=>Bc(t,r.gather,e).map(r.relative)),(e=>(e=>Pe(e).bind((t=>{const n=Ie(t);return((e,t)=>B(e,v(Ae,t)))(n,e).map((r=>((e,t,n,r)=>({parent:e,children:t,element:n,index:r}))(t,n,e,r)))})))(e).map((e=>nc.on(e.parent,e.index))))))),Lc=(e,t)=>({left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}),Hc=(e,t)=>({left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}),zc=(e,t,n)=>({left:e.left+t,top:e.top+n,right:e.right+t,bottom:e.bottom+n}),Vc=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom}),jc=(e,t)=>E.some(e.getRect(t)),Uc=(e,t,n)=>le(t)?jc(e,t).map(Vc):ce(t)?((e,t,n)=>n>=0&&n<yo(t)?e.getRangedRect(t,n,t,n+1):n>0?e.getRangedRect(t,n-1,t,n):E.none())(e,t,n).map(Vc):E.none(),Gc=(e,t)=>le(t)?jc(e,t).map(Vc):ce(t)?e.getRangedRect(t,0,t,yo(t)).map(Vc):E.none(),qc=Hs([{none:[]},{retry:["caret"]}]),Wc=(e,t,n)=>ft(t,na).fold(w,(t=>Gc(e,t).exists((e=>((e,t)=>e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right)(n,e))))),Zc={point:e=>e.bottom,adjuster:(e,t,n,r,o)=>{const i=Lc(o,5);return Math.abs(n.bottom-r.bottom)<1||n.top>o.bottom?qc.retry(i):n.top===o.bottom?qc.retry(Lc(o,1)):Wc(e,t,o)?qc.retry(zc(i,5,0)):qc.none()},move:Lc,gather:Oc},$c=(e,t,n,r,o)=>0===o?E.some(r):((e,t,n)=>e.elementFromPoint(t,n).filter((e=>"table"===re(e))).isSome())(e,r.left,t.point(r))?((e,t,n,r,o)=>$c(e,t,n,t.move(r,5),o))(e,t,n,r,o-1):e.situsFromPoint(r.left,t.point(r)).bind((i=>i.start.fold(E.none,(i=>Gc(e,i).bind((s=>t.adjuster(e,i,s,n,r).fold(E.none,(r=>$c(e,t,n,r,o-1))))).orThunk((()=>E.some(r)))),E.none))),Kc=(e,t,n)=>{const r=e.move(n,5),o=$c(t,e,n,r,100).getOr(r);return((e,t,n)=>e.point(t)>n.getInnerHeight()?E.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?E.some(-e.point(t)):E.none())(e,o,t).fold((()=>t.situsFromPoint(o.left,e.point(o))),(n=>(t.scrollBy(0,n),t.situsFromPoint(o.left,e.point(o)-n))))},Xc={tryUp:v(Kc,{point:e=>e.top,adjuster:(e,t,n,r,o)=>{const i=Hc(o,5);return Math.abs(n.top-r.top)<1||n.bottom<o.top?qc.retry(i):n.bottom===o.top?qc.retry(Hc(o,1)):Wc(e,t,o)?qc.retry(zc(i,5,0)):qc.none()},move:Hc,gather:Pc}),tryDown:v(Kc,Zc),getJumpSize:f(5)},Yc=(e,t,n)=>e.getSelection().bind((r=>((e,t,n,r)=>{const o=Ic(t)?((e,t,n)=>n.traverse(t).orThunk((()=>Bc(t,n.gather,e))).map(n.relative))(e,t,r):Fc(e,t,n,r);return o.map((e=>({start:e,finish:e})))})(t,r.finish,r.foffset,n).fold((()=>E.some(ki(r.finish,r.foffset))),(o=>{const i=e.fromSitus(o);return s=Dc.verify(e,r.finish,r.foffset,i.finish,i.foffset,n.failure,t),Dc.cata(s,(e=>E.none()),(()=>E.none()),(e=>E.some(ki(e,0))),(e=>E.some(ki(e,yo(e)))));var s})))),Jc=(e,t,n,r,o,i)=>0===i?E.none():tu(e,t,n,r,o).bind((s=>{const a=e.fromSitus(s),l=Dc.verify(e,n,r,a.finish,a.foffset,o.failure,t);return Dc.cata(l,(()=>E.none()),(()=>E.some(s)),(s=>Ae(n,s)&&0===r?Qc(e,n,r,Hc,o):Jc(e,t,s,0,o,i-1)),(s=>Ae(n,s)&&r===yo(s)?Qc(e,n,r,Lc,o):Jc(e,t,s,yo(s),o,i-1)))})),Qc=(e,t,n,r,o)=>Uc(e,t,n).bind((t=>eu(e,o,r(t,Xc.getJumpSize())))),eu=(e,t,n)=>{const r=On().browser;return r.isChromium()||r.isSafari()||r.isFirefox()?t.retry(e,n):E.none()},tu=(e,t,n,r,o)=>Uc(e,n,r).bind((t=>eu(e,o,t))),nu=(e,t,n,r,o)=>yt(r,"td,th",t).bind((r=>yt(r,"table",t).bind((i=>((e,t)=>pt(e,(e=>Pe(e).exists((e=>Ae(e,t)))),void 0).isSome())(o,i)?((e,t,n)=>Yc(e,t,n).bind((r=>Jc(e,t,r.element,r.offset,n,20).map(e.fromSitus))))(e,t,n).bind((e=>yt(e.finish,"td,th",t).map((t=>({start:r,finish:t,range:e}))))):E.none())))),ru=(e,t,n,r,o,i)=>i(r,t).orThunk((()=>nu(e,t,n,r,o).map((e=>{const t=e.range;return rc(E.some(vc(t.start,t.soffset,t.finish,t.foffset)),!0)})))),ou=(e,t)=>yt(e,"tr",t).bind((e=>yt(e,"table",t).bind((n=>{const r=dt(n,"tr");return Ae(e,r[0])?((e,t,n)=>kc(Mc,e,(e=>Eo(e).isSome()),n))(n,0,t).map((e=>{const t=yo(e);return rc(E.some(vc(e,t,e,t)),!0)})):E.none()})))),iu=(e,t)=>yt(e,"tr",t).bind((e=>yt(e,"table",t).bind((n=>{const r=dt(n,"tr");return Ae(e,r[r.length-1])?((e,t,n)=>Tc(Mc,e,(e=>xo(e).isSome()),n))(n,0,t).map((e=>rc(E.some(vc(e,0,e,0)),!0))):E.none()})))),su=(e,t,n,r,o,i,s)=>nu(e,n,r,o,i).bind((e=>yc(t,n,e.start,e.finish,s))),au=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},lu=()=>{const e=(e=>{const t=au(E.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(E.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(E.some(e))}}})(p);return{...e,on:t=>e.get().each(t)}},cu=(e,t)=>yt(e,"td,th",t),uu=e=>Oe(e).exists(Do),du={traverse:De,gather:Oc,relative:nc.before,retry:Xc.tryDown,failure:Dc.failedDown},hu={traverse:Ne,gather:Pc,relative:nc.before,retry:Xc.tryUp,failure:Dc.failedUp},pu=e=>t=>t===e,fu=pu(38),mu=pu(40),gu=e=>e>=37&&e<=40,vu={isBackward:pu(37),isForward:pu(39)},yu={isBackward:pu(39),isForward:pu(37)},bu=Hs([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),wu={domRange:bu.domRange,relative:bu.relative,exact:bu.exact,exactFromRange:e=>bu.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>xe.fromDom(e.startContainer),relative:(e,t)=>nc.getStart(e),exact:(e,t,n,r)=>e}))(e);return xe.fromDom(Me(t).dom.defaultView)},range:fc},xu=document.caretPositionFromPoint?(e,t,n)=>{var r,o;return E.from(null===(o=(r=e.dom).caretPositionFromPoint)||void 0===o?void 0:o.call(r,t,n)).bind((t=>{if(null===t.offsetNode)return E.none();const n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),E.some(n)}))}:document.caretRangeFromPoint?(e,t,n)=>{var r,o;return E.from(null===(o=(r=e.dom).caretRangeFromPoint)||void 0===o?void 0:o.call(r,t,n))}:E.none,Eu=(e,t)=>{const n=re(e);return"input"===n?nc.after(e):_(["br","img"],n)?0===t?nc.before(e):nc.after(e):nc.on(e,t)},Su=e=>E.from(e.getSelection()),Cu=(e,t)=>{Su(e).each((e=>{e.removeAllRanges(),e.addRange(t)}))},Au=(e,t,n,r,o)=>{const i=lc(e,t,n,r,o);Cu(e,i)},_u=(e,t)=>hc(e,t).match({ltr:(t,n,r,o)=>{Au(e,t,n,r,o)},rtl:(t,n,r,o)=>{Su(e).each((i=>{if(i.setBaseAndExtent)i.setBaseAndExtent(t.dom,n,r.dom,o);else if(i.extend)try{((e,t,n,r,o,i)=>{t.collapse(n.dom,r),t.extend(o.dom,i)})(0,i,t,n,r,o)}catch(i){Au(e,r,o,t,n)}else Au(e,r,o,t,n)}))}}),ku=(e,t,n,r,o)=>{const i=((e,t,n,r)=>{const o=Eu(e,t),i=Eu(n,r);return wu.relative(o,i)})(t,n,r,o);_u(e,i)},Tu=(e,t,n)=>{const r=((e,t)=>{const n=e.fold(nc.before,Eu,nc.after),r=t.fold(nc.before,Eu,nc.after);return wu.relative(n,r)})(t,n);_u(e,r)},Mu=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return E.some(fc(xe.fromDom(t.startContainer),t.startOffset,xe.fromDom(n.endContainer),n.endOffset))}return E.none()},Pu=e=>{if(null===e.anchorNode||null===e.focusNode)return Mu(e);{const t=xe.fromDom(e.anchorNode),n=xe.fromDom(e.focusNode);return((e,t,n,r)=>{const o=((e,t,n,r)=>{const o=Te(e).dom.createRange();return o.setStart(e.dom,t),o.setEnd(n.dom,r),o})(e,t,n,r),i=Ae(e,n)&&t===r;return o.collapsed&&!i})(t,e.anchorOffset,n,e.focusOffset)?E.some(fc(t,e.anchorOffset,n,e.focusOffset)):Mu(e)}},Ou=(e,t,n=!0)=>{const r=(n?ic:oc)(e,t);Cu(e,r)},Ru=e=>(e=>Su(e).filter((e=>e.rangeCount>0)).bind(Pu))(e).map((e=>wu.exact(e.start,e.soffset,e.finish,e.foffset))),Nu=e=>({elementFromPoint:(t,n)=>xe.fromPoint(xe.fromDom(e.document),t,n),getRect:e=>e.dom.getBoundingClientRect(),getRangedRect:(t,n,r,o)=>{const i=wu.exact(t,n,r,o);return((e,t)=>(e=>{const t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?E.some(n).map(cc):E.none()})(pc(e,t)))(e,i)},getSelection:()=>Ru(e).map((t=>gc(e,t))),fromSitus:t=>{const n=wu.relative(t.start,t.finish);return gc(e,n)},situsFromPoint:(t,n)=>((e,t,n)=>((e,t,n)=>{const r=xe.fromDom(e.document);return xu(r,t,n).map((e=>fc(xe.fromDom(e.startContainer),e.startOffset,xe.fromDom(e.endContainer),e.endOffset)))})(e,t,n))(e,t,n).map((e=>mc(e.start,e.soffset,e.finish,e.foffset))),clearSelection:()=>{(e=>{Su(e).each((e=>e.removeAllRanges()))})(e)},collapseSelection:(t=!1)=>{Ru(e).each((n=>n.fold((e=>e.collapse(t)),((n,r)=>{const o=t?n:r;Tu(e,o,o)}),((n,r,o,i)=>{const s=t?n:o,a=t?r:i;ku(e,s,a,s,a)}))))},setSelection:t=>{ku(e,t.start,t.soffset,t.finish,t.foffset)},setRelativeSelection:(t,n)=>{Tu(e,t,n)},selectNode:t=>{Ou(e,t,!1)},selectContents:t=>{Ou(e,t)},getInnerHeight:()=>e.innerHeight,getScrollY:()=>(e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return vr(n,r)})(xe.fromDom(e.document)).top,scrollBy:(t,n)=>{((e,t,n)=>{const r=(void 0!==n?n.dom:document).defaultView;r&&r.scrollBy(e,t)})(t,n,xe.fromDom(e.document))}}),Du=(e,t)=>({rows:e,cols:t}),Iu=e=>ft(e,ae).exists(Do),Bu=(e,t)=>Iu(e)||Iu(t),Fu=e=>void 0!==e.dom.classList,Lu=(e,t)=>((e,t,n)=>{const r=((e,t)=>{const n=ge(e,t);return void 0===n||""===n?[]:n.split(" ")})(e,t).concat([n]);return fe(e,t,r.join(" ")),!0})(e,"class",t),Hu=(e,t)=>{Fu(e)?e.dom.classList.add(t):Lu(e,t)},zu=(e,t)=>Fu(e)&&e.dom.classList.contains(t),Vu=()=>({tag:"none"}),ju=e=>({tag:"multiple",elements:e}),Uu=e=>({tag:"single",element:e}),Gu=e=>{const t=xe.fromDom((e=>{if(rt()&&u(e.target)){const t=xe.fromDom(e.target);if(le(t)&&u(t.dom.shadowRoot)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return j(t)}}return E.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),r=()=>e.preventDefault(),o=(i=r,s=n,(...e)=>i(s.apply(null,e)));var i,s;return((e,t,n,r,o,i,s)=>({target:e,x:t,y:n,stop:r,prevent:o,kill:i,raw:s}))(t,e.clientX,e.clientY,n,r,o,e)},qu=(e,t,n,r)=>{e.dom.removeEventListener(t,n,r)},Wu=x,Zu=(e,t,n)=>((e,t,n,r)=>((e,t,n,r,o)=>{const i=((e,t)=>n=>{e(n)&&t(Gu(n))})(n,r);return e.dom.addEventListener(t,i,o),{unbind:v(qu,e,t,i,o)}})(e,t,n,r,!1))(e,t,Wu,n),$u=Gu,Ku=e=>!zu(xe.fromDom(e.target),"ephox-snooker-resizer-bar"),Xu=(e,t)=>{const n=(o=wi.selectedSelector,{get:()=>li(xe.fromDom(e.getBody()),o).fold((()=>Ci(Ho(e),Fo(e)).fold(Vu,Uu)),ju)}),r=((e,t,n)=>{const r=t=>{ye(t,e.selected),ye(t,e.firstSelected),ye(t,e.lastSelected)},o=t=>{fe(t,e.selected,"1")},i=e=>{s(e),n()},s=t=>{const n=dt(t,`${e.selectedSelector},${e.firstSelectedSelector},${e.lastSelectedSelector}`);P(n,r)};return{clearBeforeUpdate:s,clear:i,selectRange:(n,r,s,a)=>{i(n),P(r,o),fe(s,e.firstSelected,"1"),fe(a,e.lastSelected,"1"),t(r,s,a)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}})(wi,((t,n,r)=>{$t(n).each((o=>{const i=nl(e),s=Oo(p,xe.fromDom(e.getDoc()),i),a=((e,t,n)=>{const r=Qn(e);return ps(r,t).map((e=>{const t=as(r,n,!1),{rows:o}=qn(t),i=((e,t)=>{const n=e.slice(0,t[t.length-1].row+1),r=ls(n);return L(r,(e=>{const n=e.cells.slice(0,t[t.length-1].column+1);return M(n,(e=>e.element))}))})(o,e),s=((e,t)=>{const n=e.slice(t[0].row+t[0].rowspan-1,e.length),r=ls(n);return L(r,(e=>{const n=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length);return M(n,(e=>e.element))}))})(o,e);return{upOrLeftCells:i,downOrRightCells:s}}))})(o,{selection:Ai(e)},s);((e,t,n,r,o)=>{e.dispatch("TableSelectionChange",{cells:t,start:n,finish:r,otherCells:o})})(e,t,n,r,a)}))}),(()=>(e=>{e.dispatch("TableSelectionClear")})(e)));var o;return e.on("init",(n=>{const o=e.getWin(),i=Bo(e),s=Fo(e),a=((e,t,n,r)=>{const o=((e,t,n,r)=>{const o=lu(),i=o.clear,s=i=>{o.on((o=>{r.clearBeforeUpdate(t),cu(i.target,n).each((s=>{oi(o,s,n).each((n=>{const o=n.boxes.getOr([]);if(1===o.length){const n=o[0],s="false"===Io(n),a=bt(No(i.target),n,Ae);s&&a&&(r.selectRange(t,o,n,n),e.selectContents(n))}else o.length>1&&(r.selectRange(t,o,n.start,n.finish),e.selectContents(s))}))}))}))};return{clearstate:i,mousedown:e=>{r.clear(t),cu(e.target,n).filter(uu).each(o.set)},mouseover:e=>{s(e)},mouseup:e=>{s(e),i()}}})(Nu(e),t,n,r);return{clearstate:o.clearstate,mousedown:o.mousedown,mouseover:o.mouseover,mouseup:o.mouseup}})(o,i,s,r),l=((e,t,n,r)=>{const o=Nu(e),i=()=>(r.clear(t),E.none());return{keydown:(e,s,a,l,c,u)=>{const d=e.raw,h=d.which,p=!0===d.shiftKey,f=ii(t,r.selectedSelector).fold((()=>(gu(h)&&!p&&r.clearBeforeUpdate(t),gu(h)&&p&&!Bu(s,l)?E.none:mu(h)&&p?v(su,o,t,n,du,l,s,r.selectRange):fu(h)&&p?v(su,o,t,n,hu,l,s,r.selectRange):mu(h)?v(ru,o,n,du,l,s,iu):fu(h)?v(ru,o,n,hu,l,s,ou):E.none)),(e=>{const n=n=>()=>{const i=G(n,(n=>((e,t,n,r,o)=>ai(r,e,t,o.firstSelectedSelector,o.lastSelectedSelector).map((e=>(o.clearBeforeUpdate(n),o.selectRange(n,e.boxes,e.start,e.finish),e.boxes))))(n.rows,n.cols,t,e,r)));return i.fold((()=>si(t,r.firstSelectedSelector,r.lastSelectedSelector).map((e=>{const n=mu(h)||u.isForward(h)?nc.after:nc.before;return o.setRelativeSelection(nc.on(e.first,0),n(e.table)),r.clear(t),rc(E.none(),!0)}))),(e=>E.some(rc(E.none(),!0))))};return gu(h)&&p&&!Bu(s,l)?E.none:mu(h)&&p?n([Du(1,0)]):fu(h)&&p?n([Du(-1,0)]):u.isBackward(h)&&p?n([Du(0,-1),Du(-1,0)]):u.isForward(h)&&p?n([Du(0,1),Du(1,0)]):gu(h)&&!p?i:E.none}));return f()},keyup:(e,o,i,s,a)=>ii(t,r.selectedSelector).fold((()=>{const l=e.raw,c=l.which;return!0===l.shiftKey&&gu(c)&&Bu(o,s)?((e,t,n,r,o,i,s)=>Ae(n,o)&&r===i?E.none():yt(n,"td,th",t).bind((n=>yt(o,"td,th",t).bind((r=>yc(e,t,n,r,s))))))(t,n,o,i,s,a,r.selectRange):E.none()}),E.none)}})(o,i,s,r),c=((e,t,n,r)=>{const o=Nu(e);return(e,i)=>{r.clearBeforeUpdate(t),oi(e,i,n).each((e=>{const n=e.boxes.getOr([]);r.selectRange(t,n,e.start,e.finish),o.selectContents(i),o.collapseSelection()}))}})(o,i,s,r);e.on("TableSelectorChange",(e=>c(e.start,e.finish)));const u=(t,n)=>{(e=>!0===e.raw.shiftKey)(t)&&(n.kill&&t.kill(),n.selection.each((t=>{const n=wu.relative(t.start,t.finish),r=pc(o,n);e.selection.setRng(r)})))},d=e=>0===e.button,h=(()=>{const e=au(xe.fromDom(i)),t=au(0);return{touchEnd:n=>{const r=xe.fromDom(n.target);if(he("td")(r)||he("th")(r)){const o=e.get(),i=t.get();Ae(o,r)&&n.timeStamp-i<300&&(n.preventDefault(),c(r,r))}e.set(r),t.set(n.timeStamp)}}})();e.on("dragstart",(e=>{a.clearstate()})),e.on("mousedown",(e=>{d(e)&&Ku(e)&&a.mousedown($u(e))})),e.on("mouseover",(e=>{var t;void 0!==(t=e).buttons&&0==(1&t.buttons)||!Ku(e)||a.mouseover($u(e))})),e.on("mouseup",(e=>{d(e)&&Ku(e)&&a.mouseup($u(e))})),e.on("touchend",h.touchEnd),e.on("keyup",(t=>{const n=$u(t);if(n.raw.shiftKey&&gu(n.raw.which)){const t=e.selection.getRng(),r=xe.fromDom(t.startContainer),o=xe.fromDom(t.endContainer);l.keyup(n,r,t.startOffset,o,t.endOffset).each((e=>{u(n,e)}))}})),e.on("keydown",(n=>{const r=$u(n);t.hide();const o=e.selection.getRng(),i=xe.fromDom(o.startContainer),s=xe.fromDom(o.endContainer),a=dr(vu,yu)(xe.fromDom(e.selection.getStart()));l.keydown(r,i,o.startOffset,s,o.endOffset,a).each((e=>{u(r,e)})),t.show()})),e.on("NodeChange",(()=>{const t=e.selection,n=xe.fromDom(t.getStart()),o=xe.fromDom(t.getEnd());ni($t,[n,o]).fold((()=>r.clear(i)),p)}))})),e.on("PreInit",(()=>{e.serializer.addTempAttr(wi.firstSelected),e.serializer.addTempAttr(wi.lastSelected)})),{getSelectedCells:()=>((e,t,n,r)=>{switch(e.tag){case"none":return t();case"single":return(e=>[e.dom])(e.element);case"multiple":return(e=>M(e,(e=>e.dom)))(e.elements)}})(n.get(),f([])),clearSelectedCells:e=>r.clear(xe.fromDom(e))}},Yu=e=>{let t=[];return{bind:e=>{if(void 0===e)throw new Error("Event bind error: undefined handler");t.push(e)},unbind:e=>{t=R(t,(t=>t!==e))},trigger:(...n)=>{const r={};P(e,((e,t)=>{r[e]=n[t]})),P(t,(e=>{e(r)}))}}},Ju=e=>({registry:$(e,(e=>({bind:e.bind,unbind:e.unbind}))),trigger:$(e,(e=>e.trigger))}),Qu=e=>e.slice(0).sort(),ed=(e,t)=>{const n=R(t,(t=>!_(e,t)));n.length>0&&(e=>{throw new Error("Unsupported keys for object: "+Qu(e).join(", "))})(n)},td=e=>((e,t)=>((e,t,n)=>{if(0===t.length)throw new Error("You must specify at least one required field.");return((e,t)=>{if(!s(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");P(t,(t=>{if(!o(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")}))})("required",t),(e=>{const t=Qu(e);I(t,((e,n)=>n<t.length-1&&e===t[n+1])).each((e=>{throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}))})(t),r=>{const o=q(r);H(t,(e=>_(o,e)))||((e,t)=>{throw new Error("All required keys ("+Qu(e).join(", ")+") were not specified. Specified keys were: "+Qu(t).join(", ")+".")})(t,o),e(t,o);const i=R(t,(e=>!n.validate(r[e],e)));return i.length>0&&((e,t)=>{throw new Error("All values need to be of type: "+t+". Keys ("+Qu(e).join(", ")+") were not.")})(i,n.label),r}})(e,t,{validate:d,label:"function"}))(ed,e),nd=td(["compare","extract","mutate","sink"]),rd=td(["element","start","stop","destroy"]),od=td(["forceDrop","drop","move","delayDrop"]),id=()=>{const e=(()=>{const e=Ju({move:Yu(["info"])});return{onEvent:p,reset:p,events:e.registry}})(),t=(()=>{let e=E.none();const t=Ju({move:Yu(["info"])});return{onEvent:(n,r)=>{r.extract(n).each((n=>{const o=((t,n)=>{const r=e.map((e=>t.compare(e,n)));return e=E.some(n),r})(r,n);o.each((e=>{t.trigger.move(e)}))}))},reset:()=>{e=E.none()},events:t.registry}})();let n=e;return{on:()=>{n.reset(),n=t},off:()=>{n.reset(),n=e},isOn:()=>n===t,onEvent:(e,t)=>{n.onEvent(e,t)},events:t.events}},sd=e=>{const t=e.replace(/\./g,"-");return{resolve:e=>t+"-"+e}},ad=sd("ephox-dragster").resolve;var ld=nd({compare:(e,t)=>vr(t.left-e.left,t.top-e.top),extract:e=>E.some(vr(e.x,e.y)),sink:(e,t)=>{const n=(e=>{const t={layerClass:ad("blocker"),...e},n=xe.fromTag("div");return fe(n,"role","presentation"),Ot(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Hu(n,ad("blocker")),Hu(n,t.layerClass),{element:f(n),destroy:()=>{qe(n)}}})(t),r=Zu(n.element(),"mousedown",e.forceDrop),o=Zu(n.element(),"mouseup",e.drop),i=Zu(n.element(),"mousemove",e.move),s=Zu(n.element(),"mouseout",e.delayDrop);return rd({element:n.element,start:e=>{ze(e,n.element())},stop:()=>{qe(n.element())},destroy:()=>{n.destroy(),o.unbind(),i.unbind(),s.unbind(),r.unbind()}})},mutate:(e,t)=>{e.mutate(t.left,t.top)}});const cd=sd("ephox-snooker").resolve,ud=cd("resizer-bar"),dd=cd("resizer-rows"),hd=cd("resizer-cols"),pd=e=>{const t=dt(e.parent(),"."+ud);P(t,qe)},fd=(e,t,n)=>{const r=e.origin();P(t,(t=>{t.each((t=>{const o=n(r,t);Hu(o,ud),ze(e.parent(),o)}))}))},md=(e,t,n,r,o)=>{const i=br(n),s=t.isResizable,a=r.length>0?Or.positions(r,n):[],l=a.length>0?((e,t)=>L(e.all,((e,n)=>t(e.element)?[n]:[])))(e,s):[];((e,t,n,r)=>{fd(e,t,((e,t)=>{const o=((e,t,n,r,o)=>{const i=xe.fromTag("div");return Ot(i,{position:"absolute",left:t+"px",top:n-3.5+"px",height:"7px",width:r+"px"}),me(i,{"data-row":e,role:"presentation"}),i})(t.row,n.left-e.left,t.y-e.top,r);return Hu(o,dd),o}))})(t,R(a,((e,t)=>k(l,(e=>t===e)))),i,Bn(n));const c=o.length>0?Nr.positions(o,n):[],u=c.length>0?((e,t)=>{const n=[];return T(e.grid.columns,(r=>{ar(e,r).map((e=>e.element)).forall(t)&&n.push(r)})),R(n,(n=>{const r=rr(e,(e=>e.column===n));return H(r,(e=>t(e.element)))}))})(e,s):[];((e,t,n,r)=>{fd(e,t,((e,t)=>{const o=((e,t,n,r,o)=>{const i=xe.fromTag("div");return Ot(i,{position:"absolute",left:t-3.5+"px",top:n+"px",height:o+"px",width:"7px"}),me(i,{"data-column":e,role:"presentation"}),i})(t.col,t.x-e.left,n.top-e.top,0,r);return Hu(o,hd),o}))})(t,R(c,((e,t)=>k(u,(e=>t===e)))),i,mr(n))},gd=(e,t)=>{if(pd(e),e.isResizable(t)){const n=Qn(t),r=ur(n),o=lr(n);md(n,e,t,r,o)}},vd=(e,t)=>{const n=dt(e.parent(),"."+ud);P(n,t)},yd=e=>{vd(e,(e=>{Pt(e,"display","none")}))},bd=e=>{vd(e,(e=>{Pt(e,"display","block")}))},wd=cd("resizer-bar-dragging"),xd=e=>{const t=(()=>{const e=Ju({drag:Yu(["xDelta","yDelta","target"])});let t=E.none();const n=(()=>{const e=Ju({drag:Yu(["xDelta","yDelta"])});return{mutate:(t,n)=>{e.trigger.drag(t,n)},events:e.registry}})();return n.events.drag.bind((n=>{t.each((t=>{e.trigger.drag(n.xDelta,n.yDelta,t)}))})),{assign:e=>{t=E.some(e)},get:()=>t,mutate:n.mutate,events:e.registry}})(),n=((e,t={})=>{var n;return((e,t,n)=>{let r=!1;const o=Ju({start:Yu([]),stop:Yu([])}),i=id(),s=()=>{u.stop(),i.isOn()&&(i.off(),o.trigger.stop())},l=((e,t)=>{let n=null;const r=()=>{a(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...t)=>{r(),n=setTimeout((()=>{n=null,e.apply(null,t)}),200)}}})(s);i.events.move.bind((n=>{t.mutate(e,n.info)}));const c=e=>(...t)=>{r&&e.apply(null,t)},u=t.sink(od({forceDrop:s,drop:c(s),move:c((e=>{l.cancel(),i.onEvent(e,t)})),delayDrop:c(l.throttle)}),n);return{element:u.element,go:e=>{u.start(e),i.on(),o.trigger.start()},on:()=>{r=!0},off:()=>{r=!1},isActive:()=>r,destroy:()=>{u.destroy()},events:o.registry}})(e,null!==(n=t.mode)&&void 0!==n?n:ld,t)})(t,{});let r=E.none();const o=(e,t)=>E.from(ge(e,t));t.events.drag.bind((e=>{o(e.target,"data-row").each((t=>{const n=zt(e.target,"top");Pt(e.target,"top",n+e.yDelta+"px")})),o(e.target,"data-column").each((t=>{const n=zt(e.target,"left");Pt(e.target,"left",n+e.xDelta+"px")}))}));const i=(e,t)=>zt(e,t)-Bt(e,"data-initial-"+t,0);n.events.stop.bind((()=>{t.get().each((t=>{r.each((n=>{o(t,"data-row").each((e=>{const r=i(t,"top");ye(t,"data-initial-top"),d.trigger.adjustHeight(n,r,parseInt(e,10))})),o(t,"data-column").each((e=>{const r=i(t,"left");ye(t,"data-initial-left"),d.trigger.adjustWidth(n,r,parseInt(e,10))})),gd(e,n)}))}))}));const s=(r,o)=>{d.trigger.startAdjust(),t.assign(r),fe(r,"data-initial-"+o,zt(r,o)),Hu(r,wd),Pt(r,"opacity","0.2"),n.go(e.parent())},l=Zu(e.parent(),"mousedown",(e=>{var t;t=e.target,zu(t,dd)&&s(e.target,"top"),(e=>zu(e,hd))(e.target)&&s(e.target,"left")})),c=t=>Ae(t,e.view()),u=Zu(e.view(),"mouseover",(t=>{var o;(o=t.target,yt(o,"table",c).filter(Do)).fold((()=>{st(t.target)&&pd(e)}),(t=>{n.isActive()&&(r=E.some(t),gd(e,t))}))})),d=Ju({adjustHeight:Yu(["table","delta","row"]),adjustWidth:Yu(["table","delta","column"]),startAdjust:Yu([])});return{destroy:()=>{l.unbind(),u.unbind(),n.destroy(),pd(e)},refresh:t=>{gd(e,t)},on:n.on,off:n.off,hideBars:v(yd,e),showBars:v(bd,e),events:d.registry}},Ed=(e,t,n)=>{const r=Or,o=Nr,i=xd(e),s=Ju({beforeResize:Yu(["table","type"]),afterResize:Yu(["table","type"]),startDrag:Yu([])});return i.events.adjustHeight.bind((e=>{const t=e.table;s.trigger.beforeResize(t,"row");((e,t,n,r)=>{const o=Qn(e),i=((e,t,n)=>io(e,t,n,$r,(e=>e.getOrThunk(jt))))(o,e,r),s=M(i,((e,r)=>n===r?Math.max(t+e,jt()):e)),a=js(o,s),l=((e,t)=>M(e.all,((e,n)=>({element:e.element,height:t[n]}))))(o,s);P(l,(e=>{jr(e.element,e.height)})),P(a,(e=>{jr(e.element,e.height)}));const c=N(s,((e,t)=>e+t),0);jr(e,c)})(t,r.delta(e.delta,t),e.row,r),s.trigger.afterResize(t,"row")})),i.events.startAdjust.bind((e=>{s.trigger.startDrag()})),i.events.adjustWidth.bind((e=>{const r=e.table;s.trigger.beforeResize(r,"col");const i=o.delta(e.delta,r),a=n(r);Gs(r,i,e.column,t,a),s.trigger.afterResize(r,"col")})),{on:i.on,off:i.off,refreshBars:i.refresh,hideBars:i.hideBars,showBars:i.showBars,destroy:i.destroy,events:s.registry}},Sd=e=>u(e)&&"TABLE"===e.nodeName,Cd="bar-",Ad=e=>"false"!==ge(e,"data-mce-resize"),_d=e=>{const t=lu(),n=lu(),r=lu();let o,i;const s=t=>ml(e,t),a=()=>il(e)?zi():Hi();return e.on("init",(()=>{const o=((e,t)=>e.inline?((e,t,n)=>({parent:f(t),view:f(e),origin:f(vr(0,0)),isResizable:n}))(xe.fromDom(e.getBody()),(()=>{const e=xe.fromTag("div");return Ot(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),ze(at(xe.fromDom(document)),e),e})(),t):((e,t)=>{const n=ue(e)?(e=>xe.fromDom(Me(e).dom.documentElement))(e):e;return{parent:f(n),view:f(e),origin:f(vr(0,0)),isResizable:t}})(xe.fromDom(e.getDoc()),t))(e,Ad);if(r.set(o),(e=>{const t=e.options.get("object_resizing");return _(t.split(","),"table")})(e)&&dl(e)){const r=a(),i=Ed(o,r,s);i.on(),i.events.startDrag.bind((n=>{t.set(e.selection.getRng())})),i.events.beforeResize.bind((t=>{const n=t.table.dom;((e,t,n,r,o)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:r,origin:o})})(e,n,zo(n),Vo(n),Cd+t.type)})),i.events.afterResize.bind((n=>{const r=n.table,o=r.dom;Lo(r),t.on((t=>{e.selection.setRng(t),e.focus()})),((e,t,n,r,o)=>{e.dispatch("ObjectResized",{target:t,width:n,height:r,origin:o})})(e,o,zo(o),Vo(o),Cd+n.type),e.undoManager.add()})),n.set(i)}})),e.on("ObjectResizeStart",(t=>{const n=t.target;if(Sd(n)){const r=xe.fromDom(n);P(e.dom.select(".mce-clonedresizable"),(t=>{e.dom.addClass(t,"mce-"+ol(e)+"-columns")})),!Pl(r)&&cl(e)?Dl(r):!Ml(r)&&ll(e)&&Nl(r),Ol(r)&&Ct(t.origin,Cd)&&Nl(r),o=t.width,i=ul(e)?"":((e,t)=>{const n=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return E.from(n).filter(kt)})(e,n).getOr("")}})),e.on("ObjectResized",(t=>{const n=t.target;if(Sd(n)){const r=xe.fromDom(n),l=t.origin;Ct(l,"corner-")&&((t,n,r)=>{const l=At(n,"e");if(""===i&&Nl(t),r!==o&&""!==i){Pt(t,"width",i);const n=a(),c=s(t),u=il(e)||l?(e=>Vi(e).columns)(t)-1:0;Gs(t,r-o,u,n,c)}else if((e=>/^(\d+(\.\d+)?)%$/.test(e))(i)){const e=parseFloat(i.replace("%",""));Pt(t,"width",r*e/o+"%")}(e=>/^(\d+(\.\d+)?)px$/.test(e))(i)&&(e=>{const t=Qn(e);sr(t)||P(Wt(e),(e=>{const t=Rt(e,"width");Pt(e,"width",t),ye(e,"width")}))})(t)})(r,l,t.width),Lo(r),Ka(e,r.dom,Xa)}})),e.on("SwitchMode",(()=>{n.on((t=>{e.mode.isReadOnly()?t.hideBars():t.showBars()}))})),e.on("dragstart dragend",(e=>{n.on((t=>{"dragstart"===e.type?(t.hideBars(),t.off()):(t.on(),t.showBars())}))})),e.on("remove",(()=>{n.on((e=>{e.destroy()})),r.on((t=>{((e,t)=>{e.inline&&qe(t.parent())})(e,t)}))})),{refresh:e=>{n.on((t=>t.refreshBars(xe.fromDom(e))))},hide:()=>{n.on((e=>e.hideBars()))},show:()=>{n.on((e=>e.showBars()))}}},kd=e=>{(e=>{const t=e.options.register;t("table_clone_elements",{processor:"string[]"}),t("table_use_colgroups",{processor:"boolean",default:!0}),t("table_header_type",{processor:e=>{const t=_(["section","cells","sectionCells","auto"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),t("table_sizing_mode",{processor:"string",default:"auto"}),t("table_default_attributes",{processor:"object",default:{border:"1"}}),t("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),t("table_column_resizing",{processor:e=>{const t=_(["preservetable","resizetable"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),t("table_resize_bars",{processor:"boolean",default:!0}),t("table_style_by_css",{processor:"boolean",default:!0})})(e);const t=_d(e),n=Xu(e,t),r=gl(e,t,n);return ec(e,r),((e,t)=>{const n=Fo(e),r=t=>Ci(Ho(e)).bind((r=>$t(r,n).map((n=>{const o=xi(Ai(e),n,r);return t(n,o)})))).getOr("");Z({mceTableRowType:()=>r(t.getTableRowType),mceTableCellType:()=>r(t.getTableCellType),mceTableColType:()=>r(t.getTableColType)},((t,n)=>e.addQueryValueHandler(n,t)))})(e,r),_i(e,r),{getSelectedCells:n.getSelectedCells,clearSelectedCells:n.clearSelectedCells}};e.add("dom",(e=>({table:kd(e)})))}()},2510:()=>{!function(){"use strict";const e=Object.getPrototypeOf,t=(e,t,n)=>{var r;return!!n(e,t.prototype)||(null===(r=e.constructor)||void 0===r?void 0:r.name)===t.name},n=e=>n=>(e=>{const n=typeof e;return null===e?"null":"object"===n&&Array.isArray(e)?"array":"object"===n&&t(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":n})(n)===e,r=e=>t=>typeof t===e,o=e=>t=>e===t,i=n("string"),s=n("object"),a=n=>((n,r)=>s(n)&&t(n,r,((t,n)=>e(t)===n)))(n,Object),l=n("array"),c=o(null),u=r("boolean"),d=o(void 0),h=e=>null==e,p=e=>!h(e),f=r("function"),m=r("number"),g=(e,t)=>{if(l(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},v=()=>{},y=e=>()=>e(),b=(e,t)=>(...n)=>e(t.apply(null,n)),w=e=>()=>e,x=e=>e,E=(e,t)=>e===t;function S(e,...t){return(...n)=>{const r=t.concat(n);return e.apply(null,r)}}const C=e=>t=>!e(t),A=e=>()=>{throw new Error(e)},_=e=>e(),k=w(!1),T=w(!0);class M{constructor(e,t){this.tag=e,this.value=t}static some(e){return new M(!0,e)}static none(){return M.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?M.some(e(this.value)):M.none()}bind(e){return this.tag?e(this.value):M.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:M.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return p(e)?M.some(e):M.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}M.singletonNone=new M(!1);const P=Array.prototype.slice,O=Array.prototype.indexOf,R=Array.prototype.push,N=(e,t)=>O.call(e,t),D=(e,t)=>{const n=N(e,t);return-1===n?M.none():M.some(n)},I=(e,t)=>N(e,t)>-1,B=(e,t)=>{for(let n=0,r=e.length;n<r;n++)if(t(e[n],n))return!0;return!1},F=(e,t)=>{const n=[];for(let r=0;r<e;r++)n.push(t(r));return n},L=(e,t)=>{const n=[];for(let r=0;r<e.length;r+=t){const o=P.call(e,r,r+t);n.push(o)}return n},H=(e,t)=>{const n=e.length,r=new Array(n);for(let o=0;o<n;o++){const n=e[o];r[o]=t(n,o)}return r},z=(e,t)=>{for(let n=0,r=e.length;n<r;n++)t(e[n],n)},V=(e,t)=>{const n=[],r=[];for(let o=0,i=e.length;o<i;o++){const i=e[o];(t(i,o)?n:r).push(i)}return{pass:n,fail:r}},j=(e,t)=>{const n=[];for(let r=0,o=e.length;r<o;r++){const o=e[r];t(o,r)&&n.push(o)}return n},U=(e,t,n)=>(((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(e,((e,r)=>{n=t(n,e,r)})),n),G=(e,t,n)=>(z(e,((e,r)=>{n=t(n,e,r)})),n),q=(e,t)=>((e,t,n)=>{for(let r=0,o=e.length;r<o;r++){const o=e[r];if(t(o,r))return M.some(o);if(n(o,r))break}return M.none()})(e,t,k),W=(e,t)=>{for(let n=0,r=e.length;n<r;n++)if(t(e[n],n))return M.some(n);return M.none()},Z=e=>{const t=[];for(let n=0,r=e.length;n<r;++n){if(!l(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);R.apply(t,e[n])}return t},$=(e,t)=>Z(H(e,t)),K=(e,t)=>{for(let n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n))return!1;return!0},X=e=>{const t=P.call(e,0);return t.reverse(),t},Y=(e,t)=>j(e,(e=>!I(t,e))),J=(e,t)=>{const n={};for(let r=0,o=e.length;r<o;r++){const o=e[r];n[String(o)]=t(o,r)}return n},Q=e=>[e],ee=(e,t)=>{const n=P.call(e,0);return n.sort(t),n},te=(e,t)=>t>=0&&t<e.length?M.some(e[t]):M.none(),ne=e=>te(e,0),re=e=>te(e,e.length-1),oe=f(Array.from)?Array.from:e=>P.call(e),ie=(e,t)=>{for(let n=0;n<e.length;n++){const r=t(e[n],n);if(r.isSome())return r}return M.none()},se=Object.keys,ae=Object.hasOwnProperty,le=(e,t)=>{const n=se(e);for(let r=0,o=n.length;r<o;r++){const o=n[r];t(e[o],o)}},ce=(e,t)=>ue(e,((e,n)=>({k:n,v:t(e,n)}))),ue=(e,t)=>{const n={};return le(e,((e,r)=>{const o=t(e,r);n[o.k]=o.v})),n},de=e=>(t,n)=>{e[n]=t},he=(e,t,n,r)=>{le(e,((e,o)=>{(t(e,o)?n:r)(e,o)}))},pe=(e,t)=>{const n={};return he(e,t,de(n),v),n},fe=(e,t)=>{const n=[];return le(e,((e,r)=>{n.push(t(e,r))})),n},me=(e,t)=>{const n=se(e);for(let r=0,o=n.length;r<o;r++){const o=n[r],i=e[o];if(t(i,o,e))return M.some(i)}return M.none()},ge=e=>fe(e,x),ve=(e,t)=>ye(e,t)?M.from(e[t]):M.none(),ye=(e,t)=>ae.call(e,t),be=(e,t)=>ye(e,t)&&void 0!==e[t]&&null!==e[t],we=(e,t,n=E)=>e.exists((e=>n(e,t))),xe=e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t},Ee=(e,t,n)=>e.isSome()&&t.isSome()?M.some(n(e.getOrDie(),t.getOrDie())):M.none(),Se=(e,t)=>null!=e?M.some(t(e)):M.none(),Ce=(e,t)=>e?M.some(t):M.none(),Ae=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,_e=(e,t)=>Te(e,t)?((e,t)=>e.substring(t))(e,t.length):e,ke=(e,t,n=0,r)=>{const o=e.indexOf(t,n);return-1!==o&&(!!d(r)||o+t.length<=r)},Te=(e,t)=>Ae(e,t,0),Me=(e,t)=>Ae(e,t,e.length-t.length),Pe=(Mn=/^\s+|\s+$/g,e=>e.replace(Mn,"")),Oe=e=>e.length>0,Re=e=>void 0!==e.style&&f(e.style.getPropertyValue),Ne=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},De=(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return Ne(n.childNodes[0])},Ie=(e,t)=>{const n=(t||document).createElement(e);return Ne(n)},Be=(e,t)=>{const n=(t||document).createTextNode(e);return Ne(n)},Fe=Ne,Le="undefined"!=typeof window?window:Function("return this;")(),He=(e,t)=>((e,t)=>{let n=null!=t?t:Le;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),ze=Object.getPrototypeOf,Ve=e=>{const t=He("ownerDocument.defaultView",e);return s(e)&&((e=>((e,t)=>{const n=((e,t)=>He(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(ze(e).constructor.name))},je=e=>e.dom.nodeName.toLowerCase(),Ue=e=>t=>(e=>e.dom.nodeType)(t)===e,Ge=e=>qe(e)&&Ve(e.dom),qe=Ue(1),We=Ue(3),Ze=Ue(9),$e=Ue(11),Ke=e=>t=>qe(t)&&je(t)===e,Xe=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Ye=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Je=(e,t)=>e.dom===t.dom,Qe=(e,t)=>{const n=e.dom,r=t.dom;return n!==r&&n.contains(r)},et=e=>Fe(e.dom.ownerDocument),tt=e=>Ze(e)?e:et(e),nt=e=>Fe(tt(e).dom.documentElement),rt=e=>Fe(tt(e).dom.defaultView),ot=e=>M.from(e.dom.parentNode).map(Fe),it=e=>M.from(e.dom.parentElement).map(Fe),st=e=>M.from(e.dom.offsetParent).map(Fe),at=e=>H(e.dom.childNodes,Fe),lt=(e,t)=>{const n=e.dom.childNodes;return M.from(n[t]).map(Fe)},ct=e=>lt(e,0),ut=(e,t)=>({element:e,offset:t}),dt=(e,t)=>{const n=at(e);return n.length>0&&t<n.length?ut(n[t],0):ut(e,t)},ht=e=>$e(e)&&p(e.dom.host),pt=f(Element.prototype.attachShadow)&&f(Node.prototype.getRootNode),ft=w(pt),mt=pt?e=>Fe(e.dom.getRootNode()):tt,gt=e=>ht(e)?e:Fe(tt(e).dom.body),vt=e=>{const t=mt(e);return ht(t)?M.some(t):M.none()},yt=e=>Fe(e.dom.host),bt=e=>{const t=We(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return vt(Fe(t)).fold((()=>n.body.contains(t)),(r=bt,o=yt,e=>r(o(e))));var r,o},wt=()=>xt(Fe(document)),xt=e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return Fe(t)},Et=(e,t,n)=>{if(!(i(n)||u(n)||m(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},St=(e,t,n)=>{Et(e.dom,t,n)},Ct=(e,t)=>{const n=e.dom;le(t,((e,t)=>{Et(n,t,e)}))},At=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},_t=(e,t)=>M.from(At(e,t)),kt=(e,t)=>{const n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Tt=(e,t)=>{e.dom.removeAttribute(t)},Mt=(e,t,n)=>{if(!i(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Re(e)&&e.style.setProperty(t,n)},Pt=(e,t)=>{Re(e)&&e.style.removeProperty(t)},Ot=(e,t,n)=>{const r=e.dom;Mt(r,t,n)},Rt=(e,t)=>{const n=e.dom;le(t,((e,t)=>{Mt(n,t,e)}))},Nt=(e,t)=>{const n=e.dom;le(t,((e,t)=>{e.fold((()=>{Pt(n,t)}),(e=>{Mt(n,t,e)}))}))},Dt=(e,t)=>{const n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||bt(e)?r:It(n,t)},It=(e,t)=>Re(e)?e.style.getPropertyValue(t):"",Bt=(e,t)=>{const n=e.dom,r=It(n,t);return M.from(r).filter((e=>e.length>0))},Ft=e=>{const t={},n=e.dom;if(Re(n))for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t[r]=n.style[r]}return t},Lt=(e,t,n)=>{const r=Ie(e);return Ot(r,t,n),Bt(r,t).isSome()},Ht=(e,t)=>{const n=e.dom;Pt(n,t),we(_t(e,"style").map(Pe),"")&&Tt(e,"style")},zt=e=>e.dom.offsetWidth,Vt=(e,t)=>{const n=n=>{const r=t(n);if(r<=0||null===r){const t=Dt(n,e);return parseFloat(t)||0}return r},r=(e,t)=>G(t,((t,n)=>{const r=Dt(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o}),0);return{set:(t,n)=>{if(!m(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const r=t.dom;Re(r)&&(r.style[e]=n+"px")},get:n,getOuter:n,aggregate:r,max:(e,t,n)=>{const o=r(e,n);return t>o?t-o:0}}},jt=Vt("height",(e=>{const t=e.dom;return bt(e)?t.getBoundingClientRect().height:t.offsetHeight})),Ut=e=>jt.get(e),Gt=e=>jt.getOuter(e),qt=(e,t)=>({left:e,top:t,translate:(n,r)=>qt(e+n,t+r)}),Wt=qt,Zt=(e,t)=>void 0!==e?e:void 0!==t?t:0,$t=e=>{const t=e.dom.ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom)return Wt(n.offsetLeft,n.offsetTop);const i=Zt(null==r?void 0:r.pageYOffset,o.scrollTop),s=Zt(null==r?void 0:r.pageXOffset,o.scrollLeft),a=Zt(o.clientTop,n.clientTop),l=Zt(o.clientLeft,n.clientLeft);return Kt(e).translate(s-l,i-a)},Kt=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?Wt(n.offsetLeft,n.offsetTop):bt(e)?(e=>{const t=e.getBoundingClientRect();return Wt(t.left,t.top)})(t):Wt(0,0)},Xt=Vt("width",(e=>e.dom.offsetWidth)),Yt=e=>Xt.get(e),Jt=e=>Xt.getOuter(e),Qt=e=>{let t,n=!1;return(...r)=>(n||(n=!0,t=e.apply(null,r)),t)},en=()=>tn(0,0),tn=(e,t)=>({major:e,minor:t}),nn={nu:tn,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?en():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const r=e[n];if(r.test(t))return r}})(e,t);if(!n)return{major:0,minor:0};const r=e=>Number(t.replace(n,"$"+e));return tn(r(1),r(2))})(e,n)},unknown:en},rn=(e,t)=>{const n=String(t).toLowerCase();return q(e,(e=>e.search(n)))},on=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,sn=e=>t=>ke(t,e),an=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>ke(e,"edge/")&&ke(e,"chrome")&&ke(e,"safari")&&ke(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,on],search:e=>ke(e,"chrome")&&!ke(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>ke(e,"msie")||ke(e,"trident")},{name:"Opera",versionRegexes:[on,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:sn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:sn("firefox")},{name:"Safari",versionRegexes:[on,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(ke(e,"safari")||ke(e,"mobile/"))&&ke(e,"applewebkit")}],ln=[{name:"Windows",search:sn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>ke(e,"iphone")||ke(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:sn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:sn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:sn("linux"),versionRegexes:[]},{name:"Solaris",search:sn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:sn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:sn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],cn={browsers:w(an),oses:w(ln)},un="Edge",dn="Chromium",hn="Opera",pn="Firefox",fn="Safari",mn=e=>{const t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isEdge:r(un),isChromium:r(dn),isIE:r("IE"),isOpera:r(hn),isFirefox:r(pn),isSafari:r(fn)}},gn=()=>mn({current:void 0,version:nn.unknown()}),vn=mn,yn=(w(un),w(dn),w("IE"),w(hn),w(pn),w(fn),"Windows"),bn="Android",wn="Linux",xn="macOS",En="Solaris",Sn="FreeBSD",Cn="ChromeOS",An=e=>{const t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isWindows:r(yn),isiOS:r("iOS"),isAndroid:r(bn),isMacOS:r(xn),isLinux:r(wn),isSolaris:r(En),isFreeBSD:r(Sn),isChromeOS:r(Cn)}},_n=()=>An({current:void 0,version:nn.unknown()}),kn=An,Tn=(w(yn),w("iOS"),w(bn),w(wn),w(xn),w(En),w(Sn),w(Cn),e=>window.matchMedia(e).matches);var Mn;let Pn=Qt((()=>((e,t,n)=>{const r=cn.browsers(),o=cn.oses(),i=t.bind((e=>((e,t)=>ie(t.brands,(t=>{const n=t.brand.toLowerCase();return q(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:nn.nu(parseInt(t.version,10),0)})))})))(r,e))).orThunk((()=>((e,t)=>rn(e,t).map((e=>{const n=nn.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(r,e))).fold(gn,vn),s=((e,t)=>rn(e,t).map((e=>{const n=nn.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e).fold(_n,kn),a=((e,t,n,r)=>{const o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,s=e.isiOS()||e.isAndroid(),a=s||r("(pointer:coarse)"),l=o||!i&&s&&r("(min-device-width:768px)"),c=i||s&&!l,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!u;return{isiPad:w(o),isiPhone:w(i),isTablet:w(l),isPhone:w(c),isTouch:w(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:w(u),isDesktop:w(d)}})(s,i,e,n);return{browser:i,os:s,deviceType:a}})(navigator.userAgent,M.from(navigator.userAgentData),Tn)));const On=()=>Pn(),Rn=e=>{const t=Fe((e=>{if(ft()&&p(e.target)){const t=Fe(e.target);if(qe(t)&&(e=>p(e.dom.shadowRoot))(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return ne(t)}}return M.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),r=()=>e.preventDefault(),o=b(r,n);return((e,t,n,r,o,i,s)=>({target:e,x:t,y:n,stop:r,prevent:o,kill:i,raw:s}))(t,e.clientX,e.clientY,n,r,o,e)},Nn=(e,t,n,r,o)=>{const i=((e,t)=>n=>{e(n)&&t(Rn(n))})(n,r);return e.dom.addEventListener(t,i,o),{unbind:S(Dn,e,t,i,o)}},Dn=(e,t,n,r)=>{e.dom.removeEventListener(t,n,r)},In=(e,t)=>{ot(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},Bn=(e,t)=>{const n=(e=>M.from(e.dom.nextSibling).map(Fe))(e);n.fold((()=>{ot(e).each((e=>{Ln(e,t)}))}),(e=>{In(e,t)}))},Fn=(e,t)=>{ct(e).fold((()=>{Ln(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},Ln=(e,t)=>{e.dom.appendChild(t.dom)},Hn=(e,t)=>{z(t,(t=>{Ln(e,t)}))},zn=e=>{e.dom.textContent="",z(at(e),(e=>{Vn(e)}))},Vn=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},jn=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return Wt(n,r)},Un=(e,t,n)=>{const r=(void 0!==n?n.dom:document).defaultView;r&&r.scrollTo(e,t)},Gn=(e,t,n,r)=>({x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}),qn=e=>{const t=void 0===e?window:e,n=t.document,r=jn(Fe(n));return(e=>{const t=void 0===e?window:e;return On().browser.isFirefox()?M.none():M.from(t.visualViewport)})(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,o=e.clientHeight;return Gn(r.left,r.top,n,o)}),(e=>Gn(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)))},Wn=()=>Fe(document),Zn=(e,t)=>e.view(t).fold(w([]),(t=>{const n=e.owner(t),r=Zn(e,n);return[t].concat(r)}));var $n=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?M.none():M.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(Fe)},owner:e=>et(e)});const Kn=e=>{const t=Wn(),n=jn(t),r=((e,t)=>{const n=t.owner(e),r=Zn(t,n);return M.some(r)})(e,$n);return r.fold(S($t,e),(t=>{const r=Kt(e),o=U(t,((e,t)=>{const n=Kt(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return Wt(o.left+r.left+n.left,o.top+r.top+n.top)}))},Xn=(e,t,n,r)=>({x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}),Yn=e=>{const t=$t(e),n=Jt(e),r=Gt(e);return Xn(t.left,t.top,n,r)},Jn=e=>{const t=Kn(e),n=Jt(e),r=Gt(e);return Xn(t.left,t.top,n,r)},Qn=(e,t)=>{const n=Math.max(e.x,t.x),r=Math.max(e.y,t.y),o=Math.min(e.right,t.right),i=Math.min(e.bottom,t.bottom);return Xn(n,r,o-n,i-r)},er=()=>qn(window);var tr=tinymce.util.Tools.resolve("tinymce.ThemeManager");const nr=e=>{const t=t=>t(e),n=w(e),r=()=>o,o={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:T,isError:k,map:t=>or.value(t(e)),mapError:r,bind:t,exists:t,forall:t,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:t=>{t(e)},toOptional:()=>M.some(e)};return o},rr=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:k,isError:T,map:t,mapError:t=>or.error(t(e)),bind:t,exists:k,forall:T,getOr:x,or:x,getOrThunk:_,orThunk:_,getOrDie:A(String(e)),each:v,toOptional:M.none};return n},or={value:nr,error:rr,fromOption:(e,t)=>e.fold((()=>rr(t)),nr)};var ir;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(ir||(ir={}));const sr=(e,t,n)=>e.stype===ir.Error?t(e.serror):n(e.svalue),ar=e=>({stype:ir.Value,svalue:e}),lr=e=>({stype:ir.Error,serror:e}),cr=ar,ur=lr,dr=sr,hr=(e,t,n,r)=>({tag:"field",key:e,newKey:t,presence:n,prop:r}),pr=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},fr=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let r=0;r<t.length;r++){const o=t[r];for(const t in o)ye(o,t)&&(n[t]=e(n[t],o[t]))}return n},mr=fr(((e,t)=>a(e)&&a(t)?mr(e,t):t)),gr=fr(((e,t)=>t)),vr=e=>({tag:"defaultedThunk",process:e}),yr=e=>vr(w(e)),br=e=>({tag:"mergeWithThunk",process:e}),wr=e=>{const t=(e=>{const t=[],n=[];return z(e,(e=>{sr(e,(e=>n.push(e)),(e=>t.push(e)))})),{values:t,errors:n}})(e);return t.errors.length>0?(n=t.errors,b(ur,Z)(n)):cr(t.values);var n},xr=e=>s(e)&&se(e).length>100?" removed due to size":JSON.stringify(e,null,2),Er=(e,t)=>ur([{path:e,getErrorInfo:t}]),Sr=e=>({extract:(t,n)=>((e,t)=>e.stype===ir.Error?t(e.serror):e)(e(n),(e=>((e,t)=>Er(e,w(t)))(t,e))),toString:w("val")}),Cr=Sr(cr),Ar=(e,t,n,r)=>r(ve(e,t).getOrThunk((()=>n(e)))),_r=(e,t,n,r,o)=>{const i=e=>o.extract(t.concat([r]),e),s=e=>e.fold((()=>cr(M.none())),(e=>((e,t)=>e.stype===ir.Value?{stype:ir.Value,svalue:t(e.svalue)}:e)(o.extract(t.concat([r]),e),M.some)));switch(e.tag){case"required":return((e,t,n,r)=>ve(t,n).fold((()=>((e,t,n)=>Er(e,(()=>'Could not find valid *required* value for "'+t+'" in '+xr(n))))(e,n,t)),r))(t,n,r,i);case"defaultedThunk":return Ar(n,r,e.process,i);case"option":return((e,t,n)=>n(ve(e,t)))(n,r,s);case"defaultedOptionThunk":return((e,t,n,r)=>r(ve(e,t).map((t=>!0===t?n(e):t))))(n,r,e.process,s);case"mergeWithThunk":return Ar(n,r,w({}),(t=>{const r=mr(e.process(n),t);return i(r)}))}},kr=e=>({extract:(t,n)=>e().extract(t,n),toString:()=>e().toString()}),Tr=e=>se(pe(e,p)),Mr=e=>{const t=Pr(e),n=U(e,((e,t)=>pr(t,(t=>mr(e,{[t]:!0})),w(e))),{});return{extract:(e,r)=>{const o=u(r)?[]:Tr(r),i=j(o,(e=>!be(n,e)));return 0===i.length?t.extract(e,r):((e,t)=>Er(e,(()=>"There are unsupported fields: ["+t.join(", ")+"] specified")))(e,i)},toString:t.toString}},Pr=e=>({extract:(t,n)=>((e,t,n)=>{const r={},o=[];for(const i of n)pr(i,((n,i,s,a)=>{const l=_r(s,e,t,n,a);dr(l,(e=>{o.push(...e)}),(e=>{r[i]=e}))}),((e,n)=>{r[e]=n(t)}));return o.length>0?ur(o):cr(r)})(t,n,e),toString:()=>{const t=H(e,(e=>pr(e,((e,t,n,r)=>e+" -> "+r.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"}}),Or=e=>({extract:(t,n)=>{const r=H(n,((n,r)=>e.extract(t.concat(["["+r+"]"]),n)));return wr(r)},toString:()=>"array("+e.toString()+")"}),Rr=(e,t)=>{const n=void 0!==t?t:x;return{extract:(t,r)=>{const o=[];for(const i of e){const e=i.extract(t,r);if(e.stype===ir.Value)return{stype:ir.Value,svalue:n(e.svalue)};o.push(e)}return wr(o)},toString:()=>"oneOf("+H(e,(e=>e.toString())).join(", ")+")"}},Nr=(e,t)=>({extract:(n,r)=>{const o=se(r),i=((t,n)=>Or(Sr(e)).extract(t,n))(n,o);return((e,t)=>e.stype===ir.Value?t(e.svalue):e)(i,(e=>{const o=H(e,(e=>hr(e,e,{tag:"required",process:{}},t)));return Pr(o).extract(n,r)}))},toString:()=>"setOf("+t.toString()+")"}),Dr=b(Or,Pr),Ir=w(Cr),Br=(e,t)=>Sr((n=>{const r=typeof n;return e(n)?cr(n):ur(`Expected type: ${t} but got: ${r}`)})),Fr=Br(m,"number"),Lr=Br(i,"string"),Hr=Br(u,"boolean"),zr=Br(f,"function"),Vr=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((t=>Vr(e[t])));default:return!1}},jr=Sr((e=>Vr(e)?cr(e):ur("Expected value to be acceptable for sending via postMessage"))),Ur=(e,t)=>({extract:(n,r)=>ve(r,e).fold((()=>((e,t)=>Er(e,(()=>'Choice schema did not contain choice key: "'+t+'"')))(n,e)),(e=>((e,t,n,r)=>ve(n,r).fold((()=>((e,t,n)=>Er(e,(()=>'The chosen schema: "'+n+'" did not exist in branches: '+xr(t))))(e,n,r)),(n=>n.extract(e.concat(["branch: "+r]),t))))(n,r,t,e))),toString:()=>"chooseOn("+e+"). Possible values: "+se(t)}),Gr=e=>Sr((t=>e(t).fold(ur,cr))),qr=(e,t)=>Nr((t=>e(t).fold(lr,ar)),t),Wr=(e,t,n)=>{return r=((e,t,n)=>((e,t)=>e.stype===ir.Error?{stype:ir.Error,serror:t(e.serror)}:e)(t.extract([e],n),(e=>({input:n,errors:e}))))(e,t,n),sr(r,or.error,or.value);var r},Zr=e=>e.fold((e=>{throw new Error(Kr(e))}),x),$r=(e,t,n)=>Zr(Wr(e,t,n)),Kr=e=>"Errors: \n"+(e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:w("... (only showing first ten failures)")}]):e;return H(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))})(e.errors).join("\n")+"\n\nInput object: "+xr(e.input),Xr=(e,t)=>Ur(e,ce(t,Pr)),Yr=(e,t)=>((e,t)=>{const n=Qt(t);return{extract:(e,t)=>n().extract(e,t),toString:()=>n().toString()}})(0,t),Jr=hr,Qr=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),eo=e=>Gr((t=>I(e,t)?or.value(t):or.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`))),to=e=>Jr(e,e,{tag:"required",process:{}},Ir()),no=(e,t)=>Jr(e,e,{tag:"required",process:{}},t),ro=e=>no(e,Fr),oo=e=>no(e,Lr),io=(e,t)=>Jr(e,e,{tag:"required",process:{}},eo(t)),so=e=>no(e,zr),ao=(e,t)=>Jr(e,e,{tag:"required",process:{}},Pr(t)),lo=(e,t)=>Jr(e,e,{tag:"required",process:{}},Dr(t)),co=(e,t)=>Jr(e,e,{tag:"required",process:{}},Or(t)),uo=e=>Jr(e,e,{tag:"option",process:{}},Ir()),ho=(e,t)=>Jr(e,e,{tag:"option",process:{}},t),po=e=>ho(e,Fr),fo=e=>ho(e,Lr),mo=(e,t)=>ho(e,eo(t)),go=e=>ho(e,zr),vo=(e,t)=>ho(e,Or(t)),yo=(e,t)=>ho(e,Pr(t)),bo=(e,t)=>Jr(e,e,yr(t),Ir()),wo=(e,t,n)=>Jr(e,e,yr(t),n),xo=(e,t)=>wo(e,t,Fr),Eo=(e,t)=>wo(e,t,Lr),So=(e,t,n)=>wo(e,t,eo(n)),Co=(e,t)=>wo(e,t,Hr),Ao=(e,t)=>wo(e,t,zr),_o=(e,t,n)=>wo(e,t,Or(n)),ko=(e,t,n)=>wo(e,t,Pr(n)),To=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Mo=e=>{if(!l(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return z(e,((r,o)=>{const i=se(r);if(1!==i.length)throw new Error("one and only one name per case");const s=i[0],a=r[s];if(void 0!==n[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!l(a))throw new Error("case arguments must be an array");t.push(s),n[s]=(...n)=>{const r=n.length;if(r!==a.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+a.length+" ("+a+"), got "+r);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,n)},match:e=>{const r=se(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));if(!K(t,(e=>I(r,e))))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[s].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:s,params:n})}}}})),n};Mo([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Po=(e,t)=>((e,t)=>({[e]:t}))(e,t),Oo=e=>(e=>{const t={};return z(e,(e=>{t[e.key]=e.value})),t})(e),Ro=e=>f(e)?e:k,No=(e,t,n)=>{let r=e.dom;const o=Ro(n);for(;r.parentNode;){r=r.parentNode;const e=Fe(r),n=t(e);if(n.isSome())return n;if(o(e))break}return M.none()},Do=(e,t,n)=>{const r=t(e),o=Ro(n);return r.orThunk((()=>o(e)?M.none():No(e,t,o)))},Io=(e,t)=>Je(e.element,t.event.target),Bo={can:T,abort:k,run:v},Fo=e=>{if(!be(e,"can")&&!be(e,"abort")&&!be(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return{...Bo,...e}},Lo=w,Ho=Lo("touchstart"),zo=Lo("touchmove"),Vo=Lo("touchend"),jo=Lo("touchcancel"),Uo=Lo("mousedown"),Go=Lo("mousemove"),qo=Lo("mouseout"),Wo=Lo("mouseup"),Zo=Lo("mouseover"),$o=Lo("focusin"),Ko=Lo("focusout"),Xo=Lo("keydown"),Yo=Lo("keyup"),Jo=Lo("input"),Qo=Lo("change"),ei=Lo("click"),ti=Lo("transitioncancel"),ni=Lo("transitionend"),ri=Lo("transitionstart"),oi=Lo("selectstart"),ii=e=>w("alloy."+e),si={tap:ii("tap")},ai=ii("focus"),li=ii("blur.post"),ci=ii("paste.post"),ui=ii("receive"),di=ii("execute"),hi=ii("focus.item"),pi=si.tap,fi=ii("longpress"),mi=ii("sandbox.close"),gi=ii("typeahead.cancel"),vi=ii("system.init"),yi=ii("system.touchmove"),bi=ii("system.touchend"),wi=ii("system.scroll"),xi=ii("system.resize"),Ei=ii("system.attached"),Si=ii("system.detached"),Ci=ii("system.dismissRequested"),Ai=ii("system.repositionRequested"),_i=ii("focusmanager.shifted"),ki=ii("slotcontainer.visibility"),Ti=ii("system.external.element.scroll"),Mi=ii("change.tab"),Pi=ii("dismiss.tab"),Oi=ii("highlight"),Ri=ii("dehighlight"),Ni=(e,t)=>{Fi(e,e.element,t,{})},Di=(e,t,n)=>{Fi(e,e.element,t,n)},Ii=e=>{Ni(e,di())},Bi=(e,t,n)=>{Fi(e,t,n,{})},Fi=(e,t,n,r)=>{const o={target:t,...r};e.getSystem().triggerEvent(n,t,o)},Li=(e,t,n,r)=>{e.getSystem().triggerEvent(n,t,r.event)},Hi=e=>Oo(e),zi=(e,t)=>({key:e,value:Fo({abort:t})}),Vi=e=>({key:e,value:Fo({run:(e,t)=>{t.event.prevent()}})}),ji=(e,t)=>({key:e,value:Fo({run:t})}),Ui=(e,t,n)=>({key:e,value:Fo({run:(e,r)=>{t.apply(void 0,[e,r].concat(n))}})}),Gi=e=>t=>({key:e,value:Fo({run:(e,n)=>{Io(e,n)&&t(e,n)}})}),qi=(e,t,n)=>((e,t)=>ji(e,((n,r)=>{n.getSystem().getByUid(t).each((t=>{Li(t,t.element,e,r)}))})))(e,t.partUids[n]),Wi=(e,t)=>ji(e,((e,n)=>{const r=n.event,o=e.getSystem().getByDom(r.target).getOrThunk((()=>Do(r.target,(t=>e.getSystem().getByDom(t).toOptional()),k).getOr(e)));t(e,o,n)})),Zi=e=>ji(e,((e,t)=>{t.cut()})),$i=e=>ji(e,((e,t)=>{t.stop()})),Ki=(e,t)=>Gi(e)(t),Xi=Gi(Ei()),Yi=Gi(Si()),Ji=Gi(vi()),Qi=(is=di(),e=>ji(is,e)),es=e=>e.dom.innerHTML,ts=(e,t)=>{const n=et(e).dom,r=Fe(n.createDocumentFragment()),o=((e,t)=>{const n=(t||document).createElement("div");return n.innerHTML=e,at(Fe(n))})(t,n);Hn(r,o),zn(e),Ln(e,r)},ns=e=>ht(e)?"#shadow-root":(e=>{const t=Ie("div"),n=Fe(e.dom.cloneNode(!0));return Ln(t,n),es(t)})((e=>((e,t)=>Fe(e.dom.cloneNode(!1)))(e))(e)),rs=e=>ns(e),os=Hi([((e,t)=>({key:e,value:Fo({can:(e,t)=>{const n=t.event,r=n.originator,o=n.target;return!((e,t,n)=>Je(t,e.element)&&!Je(t,n))(e,r,o)||(console.warn(ai()+" did not get interpreted by the desired target. \nOriginator: "+rs(r)+"\nTarget: "+rs(o)+"\nCheck the "+ai()+" event handlers"),!1)}})}))(ai())]);var is,ss=Object.freeze({__proto__:null,events:os});let as=0;const ls=e=>{const t=(new Date).getTime(),n=Math.floor(1e9*Math.random());return as++,e+"_"+n+as+String(t)},cs=w("alloy-id-"),us=w("data-alloy-id"),ds=cs(),hs=us(),ps=(e,t)=>{Object.defineProperty(e.dom,hs,{value:t,writable:!0})},fs=e=>{const t=qe(e)?e.dom[hs]:null;return M.from(t)},ms=e=>ls(e),gs=x,vs=e=>{const t=t=>`The component must be in a context to execute: ${t}`+(e?"\n"+rs(e().element)+" is not in context.":""),n=e=>()=>{throw new Error(t(e))},r=e=>()=>{console.warn(t(e))};return{debugInfo:w("fake"),triggerEvent:r("triggerEvent"),triggerFocus:r("triggerFocus"),triggerEscape:r("triggerEscape"),broadcast:r("broadcast"),broadcastOn:r("broadcastOn"),broadcastEvent:r("broadcastEvent"),build:n("build"),buildOrPatch:n("buildOrPatch"),addToWorld:n("addToWorld"),removeFromWorld:n("removeFromWorld"),addToGui:n("addToGui"),removeFromGui:n("removeFromGui"),getByUid:n("getByUid"),getByDom:n("getByDom"),isConnected:k}},ys=vs(),bs=e=>H(e,(e=>Me(e,"/*")?e.substring(0,e.length-"/*".length):e)),ws=(e,t)=>{const n=e.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:bs(i)}),e},xs=ls("alloy-premade"),Es=e=>(Object.defineProperty(e.element.dom,xs,{value:e.uid,writable:!0}),Po(xs,e)),Ss=e=>ve(e,xs),Cs=e=>((e,t)=>{const n=t.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:bs(i.slice(1))}),e})(((t,...n)=>e(t.getApis(),t,...n)),e),As={init:()=>_s({readState:w("No State required")})},_s=e=>e,ks=(e,t)=>{const n={};return le(e,((e,r)=>{le(e,((e,o)=>{const i=ve(n,o).getOr([]);n[o]=i.concat([t(r,e)])}))})),n},Ts=e=>({classes:d(e.classes)?[]:e.classes,attributes:d(e.attributes)?{}:e.attributes,styles:d(e.styles)?{}:e.styles}),Ms=e=>e.cHandler,Ps=(e,t)=>({name:e,handler:t}),Os=(e,t)=>{const n={};return z(e,(e=>{n[e.name()]=e.handlers(t)})),n},Rs=(e,t,n)=>{const r=t[n];return r?((e,t,n,r)=>{try{const o=ee(n,((n,o)=>{const i=n[t],s=o[t],a=r.indexOf(i),l=r.indexOf(s);if(-1===a)throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===l)throw new Error("The ordering for "+e+" does not have an entry for "+s+".\nOrder specified: "+JSON.stringify(r,null,2));return a<l?-1:l<a?1:0}));return or.value(o)}catch(e){return or.error([e])}})("Event: "+n,"name",e,r).map((e=>(e=>{const t=((e,t)=>(...t)=>G(e,((e,n)=>e&&(e=>e.can)(n).apply(void 0,t)),!0))(e),n=((e,t)=>(...t)=>G(e,((e,n)=>e||(e=>e.abort)(n).apply(void 0,t)),!1))(e);return{can:t,abort:n,run:(...t)=>{z(e,(e=>{e.run.apply(void 0,t)}))}}})(H(e,(e=>e.handler))))):((e,t)=>or.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(H(t,(e=>e.name)),null,2)]))(n,e)},Ns=(e,t)=>((e,t)=>{const n=(e=>{const t=[],n=[];return z(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{n.push(e)}))})),{errors:t,values:n}})(e);return n.errors.length>0?(r=n.errors,or.error(Z(r))):((e,t)=>0===e.length?or.value(t):or.value(mr(t,gr.apply(void 0,e))))(n.values,t);var r})(fe(e,((e,n)=>(1===e.length?or.value(e[0].handler):Rs(e,t,n)).map((r=>{const o=(e=>{const t=(e=>f(e)?{can:T,abort:k,run:e}:e)(e);return(e,n,...r)=>{const o=[e,n].concat(r);t.abort.apply(void 0,o)?n.stop():t.can.apply(void 0,o)&&t.run.apply(void 0,o)}})(r),i=e.length>1?j(t[n],(t=>B(e,(e=>e.name===t)))).join(" > "):e[0].name;return Po(n,((e,t)=>({handler:e,purpose:t}))(o,i))})))),{}),Ds="alloy.base.behaviour",Is=Pr([Jr("dom","dom",{tag:"required",process:{}},Pr([to("tag"),bo("styles",{}),bo("classes",[]),bo("attributes",{}),uo("value"),uo("innerHtml")])),to("components"),to("uid"),bo("events",{}),bo("apis",{}),Jr("eventOrder","eventOrder",(aa={[di()]:["disabling",Ds,"toggling","typeaheadevents"],[ai()]:[Ds,"focusing","keying"],[vi()]:[Ds,"disabling","toggling","representing"],[Jo()]:[Ds,"representing","streaming","invalidating"],[Si()]:[Ds,"representing","item-events","tooltipping"],[Uo()]:["focusing",Ds,"item-type-events"],[Ho()]:["focusing",Ds,"item-type-events"],[Zo()]:["item-type-events","tooltipping"],[ui()]:["receiving","reflecting","tooltipping"]},br(w(aa))),Ir()),uo("domModification")]),Bs=e=>e.events,Fs=(e,t)=>{const n=At(e,t);return void 0===n||""===n?[]:n.split(" ")},Ls=e=>void 0!==e.dom.classList,Hs=e=>Fs(e,"class"),zs=(e,t)=>{Ls(e)?e.dom.classList.add(t):((e,t)=>{((e,t,n)=>{const r=Fs(e,t).concat([n]);St(e,t,r.join(" "))})(e,"class",t)})(e,t)},Vs=(e,t)=>{Ls(e)?e.dom.classList.remove(t):((e,t)=>{((e,t,n)=>{const r=j(Fs(e,t),(e=>e!==n));r.length>0?St(e,t,r.join(" ")):Tt(e,t)})(e,"class",t)})(e,t),(e=>{0===(Ls(e)?e.dom.classList:Hs(e)).length&&Tt(e,"class")})(e)},js=(e,t)=>Ls(e)&&e.dom.classList.contains(t),Us=(e,t)=>{z(t,(t=>{zs(e,t)}))},Gs=(e,t)=>{z(t,(t=>{Vs(e,t)}))},qs=(e,t)=>K(t,(t=>js(e,t))),Ws=e=>e.dom.value,Zs=(e,t)=>{if(void 0===t)throw new Error("Value.set was undefined");e.dom.value=t},$s=(e,t,n)=>{n.fold((()=>Ln(e,t)),(e=>{Je(e,t)||(In(e,t),Vn(e))}))},Ks=(e,t,n)=>{const r=H(t,n),o=at(e);return z(o.slice(r.length),Vn),r},Xs=(e,t,n,r)=>{const o=lt(e,t),i=r(n,o),s=((e,t,n)=>lt(e,t).map((e=>{if(n.exists((t=>!Je(t,e)))){const t=n.map(je).getOr("span"),r=Ie(t);return In(e,r),r}return e})))(e,t,o);return $s(e,i.element,s),i},Ys=(e,t)=>{const n=se(e),r=se(t),o=Y(r,n),i=((e,n)=>{const r={},o={};return he(e,((e,n)=>!ye(t,n)||e!==t[n]),de(r),de(o)),{t:r,f:o}})(e).t;return{toRemove:o,toSet:i}},Js=(e,t)=>{const{class:n,style:r,...o}=(e=>G(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}))(t),{toSet:i,toRemove:s}=Ys(e.attributes,o),a=Ft(t),{toSet:l,toRemove:c}=Ys(e.styles,a),u=(e=>Ls(e)?(e=>{const t=e.dom.classList,n=new Array(t.length);for(let e=0;e<t.length;e++){const r=t.item(e);null!==r&&(n[e]=r)}return n})(e):Hs(e))(t),d=Y(u,e.classes),h=Y(e.classes,u);return z(s,(e=>Tt(t,e))),Ct(t,i),Us(t,h),Gs(t,d),z(c,(e=>Ht(t,e))),Rt(t,l),e.innerHtml.fold((()=>{const n=e.domChildren;((e,t)=>{Ks(e,t,((t,n)=>{const r=lt(e,n);return $s(e,t,r),t}))})(t,n)}),(e=>{ts(t,e)})),(()=>{const n=t,r=e.value.getOrUndefined();r!==Ws(n)&&Zs(n,null!=r?r:"")})(),t},Qs=e=>{const t=(e=>{const t=ve(e,"behaviours").getOr({});return $(se(t),(e=>{const n=t[e];return p(n)?[n.me]:[]}))})(e);return((e,t)=>((e,t)=>{const n=H(t,(e=>yo(e.name(),[to("config"),bo("state",As)]))),r=Wr("component.behaviours",Pr(n),e.behaviours).fold((t=>{throw new Error(Kr(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),x);return{list:t,data:ce(r,(e=>{const t=e.map((e=>({config:e.config,state:e.state.init(e.config)})));return w(t)}))}})(e,t))(e,t)},ea=(e,t)=>{const n=()=>h,r=To(ys),o=Zr((e=>Wr("custom.definition",Is,e))(e)),i=Qs(e),s=(e=>e.list)(i),a=(e=>e.data)(i),l=((e,t,n)=>{const r={...(o=e).dom,uid:o.uid,domChildren:H(o.components,(e=>e.element))};var o;const i=(e=>e.domModification.fold((()=>Ts({})),Ts))(e),s={"alloy.base.modification":i},a=t.length>0?((e,t,n,r)=>{const o={...t};z(n,(t=>{o[t.name()]=t.exhibit(e,r)}));const i=ks(o,((e,t)=>({name:e,modification:t}))),s=e=>U(e,((e,t)=>({...t.modification,...e})),{}),a=U(i.classes,((e,t)=>t.modification.concat(e)),[]),l=s(i.attributes),c=s(i.styles);return Ts({classes:a,attributes:l,styles:c})})(n,s,t,r):i;return l=r,c=a,{...l,attributes:{...l.attributes,...c.attributes},styles:{...l.styles,...c.styles},classes:l.classes.concat(c.classes)};var l,c})(o,s,a),c=((e,t)=>{const n=t.filter((t=>je(t)===e.tag&&!(e=>e.innerHtml.isSome()&&e.domChildren.length>0)(e)&&!(e=>ye(e.dom,xs))(t))).bind((t=>((e,t)=>{try{const n=Js(e,t);return M.some(n)}catch(e){return M.none()}})(e,t))).getOrThunk((()=>(e=>{const t=Ie(e.tag);Ct(t,e.attributes),Us(t,e.classes),Rt(t,e.styles),e.innerHtml.each((e=>ts(t,e)));const n=e.domChildren;return Hn(t,n),e.value.each((e=>{Zs(t,e)})),t})(e)));return ps(n,e.uid),n})(l,t),u=((e,t,n)=>{const r={"alloy.base.behaviour":Bs(e)};return((e,t,n,r)=>{const o=((e,t,n)=>{const r={...n,...Os(t,e)};return ks(r,Ps)})(e,n,r);return Ns(o,t)})(n,e.eventOrder,t,r).getOrDie()})(o,s,a),d=To(o.components),h={uid:e.uid,getSystem:r.get,config:t=>{const n=a;return(f(n[t.name()])?n[t.name()]:()=>{throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))})()},hasConfigured:e=>f(a[e.name()]),spec:e,readState:e=>a[e]().map((e=>e.state.readState())).getOr("not enabled"),getApis:()=>o.apis,connect:e=>{r.set(e)},disconnect:()=>{r.set(vs(n))},element:c,syncComponents:()=>{const e=at(c),t=$(e,(e=>r.get().getByDom(e).fold((()=>[]),Q)));d.set(t)},components:d.get,events:u};return h},ta=e=>{const t=Be(e);return na({element:t})},na=e=>{const t=$r("external.component",Mr([to("element"),uo("uid")]),e),n=To(vs()),r=t.uid.getOrThunk((()=>ms("external")));ps(t.element,r);const o={uid:r,getSystem:n.get,config:M.none,hasConfigured:k,connect:e=>{n.set(e)},disconnect:()=>{n.set(vs((()=>o)))},getApis:()=>({}),element:t.element,spec:e,readState:w("No state"),syncComponents:v,components:w([]),events:{}};return Es(o)},ra=ms,oa=(e,t)=>Ss(e).getOrThunk((()=>((e,t)=>{const{events:n,...r}=gs(e),o=((e,t)=>{const n=ve(e,"components").getOr([]);return t.fold((()=>H(n,ia)),(e=>H(n,((t,n)=>oa(t,lt(e,n))))))})(r,t),i={...r,events:{...ss,...n},components:o};return or.value(ea(i,t))})((e=>ye(e,"uid"))(e)?e:{uid:ra(""),...e},t).getOrDie())),ia=e=>oa(e,M.none()),sa=Es;var aa,la=(e,t,n,r,o)=>e(n,r)?M.some(n):f(o)&&o(n)?M.none():t(n,r,o);const ca=(e,t,n)=>{let r=e.dom;const o=f(n)?n:k;for(;r.parentNode;){r=r.parentNode;const e=Fe(r);if(t(e))return M.some(e);if(o(e))break}return M.none()},ua=(e,t,n)=>la(((e,t)=>t(e)),ca,e,t,n),da=(e,t,n)=>ua(e,t,n).isSome(),ha=(e,t,n)=>ca(e,(e=>Xe(e,t)),n),pa=(e,t)=>((e,n)=>q(e.dom.childNodes,(e=>{return n=Fe(e),Xe(n,t);var n})).map(Fe))(e),fa=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return Ye(n)?M.none():M.from(n.querySelector(e)).map(Fe)})(t,e),ma=(e,t,n)=>la(((e,t)=>Xe(e,t)),ha,e,t,n),ga="aria-controls",va=()=>{const e=ls(ga);return{id:e,link:t=>{St(t,ga,e)},unlink:e=>{Tt(e,ga)}}},ya=(e,t)=>da(t,(t=>Je(t,e.element)),k)||((e,t)=>(e=>ua(e,(e=>{if(!qe(e))return!1;const t=At(e,"id");return void 0!==t&&t.indexOf(ga)>-1})).bind((e=>{const t=At(e,"id"),n=mt(e);return fa(n,`[${ga}="${t}"]`)})))(t).exists((t=>ya(e,t))))(e,t);var ba;!function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"}(ba||(ba={}));const wa=To({}),xa=["alloy/data/Fields","alloy/debugging/Debugging"],Ea=(e,t,n)=>((e,t,n)=>{switch(ve(wa.get(),e).orThunk((()=>{const t=se(wa.get());return ie(t,(t=>e.indexOf(t)>-1?M.some(wa.get()[t]):M.none()))})).getOr(ba.NORMAL)){case ba.NORMAL:return n(Sa());case ba.LOGGING:{const r=((e,t)=>{const n=[],r=(new Date).getTime();return{logEventCut:(e,t,r)=>{n.push({outcome:"cut",target:t,purpose:r})},logEventStopped:(e,t,r)=>{n.push({outcome:"stopped",target:t,purpose:r})},logNoParent:(e,t,r)=>{n.push({outcome:"no-parent",target:t,purpose:r})},logEventNoHandlers:(e,t)=>{n.push({outcome:"no-handlers-left",target:t})},logEventResponse:(e,t,r)=>{n.push({outcome:"response",purpose:r,target:t})},write:()=>{const o=(new Date).getTime();I(["mousemove","mouseover","mouseout",vi()],e)||console.log(e,{event:e,time:o-r,target:t.dom,sequence:H(n,(e=>I(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+rs(e.target)+")":e.outcome))})}}})(e,t),o=n(r);return r.write(),o}case ba.STOP:return!0}})(e,t,n),Sa=w({logEventCut:v,logEventStopped:v,logNoParent:v,logEventNoHandlers:v,logEventResponse:v,write:v}),Ca=w([to("menu"),to("selectedMenu")]),Aa=w([to("item"),to("selectedItem")]);w(Pr(Aa().concat(Ca())));const _a=w(Pr(Aa())),ka=ao("initSize",[to("numColumns"),to("numRows")]),Ta=()=>ao("markers",[to("backgroundMenu")].concat(Ca()).concat(Aa())),Ma=e=>ao("markers",H(e,to)),Pa=(e,t,n)=>((()=>{const e=new Error;if(void 0!==e.stack){const t=e.stack.split("\n");q(t,(e=>e.indexOf("alloy")>0&&!B(xa,(t=>e.indexOf(t)>-1)))).getOr("unknown")}})(),Jr(t,t,n,Gr((e=>or.value(((...t)=>e.apply(void 0,t))))))),Oa=e=>Pa(0,e,yr(v)),Ra=e=>Pa(0,e,yr(M.none)),Na=e=>Pa(0,e,{tag:"required",process:{}}),Da=e=>Pa(0,e,{tag:"required",process:{}}),Ia=(e,t)=>Qr(e,w(t)),Ba=e=>Qr(e,x),Fa=w(ka),La=(e,t,n,r,o,i,s,a=!1)=>({x:e,y:t,bubble:n,direction:r,placement:o,restriction:i,label:`${s}-${o}`,alwaysFit:a}),Ha=Mo([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),za=Ha.southeast,Va=Ha.southwest,ja=Ha.northeast,Ua=Ha.northwest,Ga=Ha.south,qa=Ha.north,Wa=Ha.east,Za=Ha.west,$a=(e,t,n,r)=>{const o=e+t;return o>r?n:o<n?r:o},Ka=(e,t,n)=>Math.min(Math.max(e,t),n),Xa=(e,t)=>J(["left","right","top","bottom"],(n=>ve(t,n).map((t=>((e,t)=>{switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}})(e,t))))),Ya="layout",Ja=e=>e.x,Qa=(e,t)=>e.x+e.width/2-t.width/2,el=(e,t)=>e.x+e.width-t.width,tl=(e,t)=>e.y-t.height,nl=e=>e.y+e.height,rl=(e,t)=>e.y+e.height/2-t.height/2,ol=(e,t,n)=>La(Ja(e),nl(e),n.southeast(),za(),"southeast",Xa(e,{left:1,top:3}),Ya),il=(e,t,n)=>La(el(e,t),nl(e),n.southwest(),Va(),"southwest",Xa(e,{right:0,top:3}),Ya),sl=(e,t,n)=>La(Ja(e),tl(e,t),n.northeast(),ja(),"northeast",Xa(e,{left:1,bottom:2}),Ya),al=(e,t,n)=>La(el(e,t),tl(e,t),n.northwest(),Ua(),"northwest",Xa(e,{right:0,bottom:2}),Ya),ll=(e,t,n)=>La(Qa(e,t),tl(e,t),n.north(),qa(),"north",Xa(e,{bottom:2}),Ya),cl=(e,t,n)=>La(Qa(e,t),nl(e),n.south(),Ga(),"south",Xa(e,{top:3}),Ya),ul=(e,t,n)=>La((e=>e.x+e.width)(e),rl(e,t),n.east(),Wa(),"east",Xa(e,{left:0}),Ya),dl=(e,t,n)=>La(((e,t)=>e.x-t.width)(e,t),rl(e,t),n.west(),Za(),"west",Xa(e,{right:1}),Ya),hl=()=>[ol,il,sl,al,cl,ll,ul,dl],pl=()=>[il,ol,al,sl,cl,ll,ul,dl],fl=()=>[sl,al,ol,il,ll,cl],ml=()=>[al,sl,il,ol,ll,cl],gl=()=>[ol,il,sl,al,cl,ll],vl=()=>[il,ol,al,sl,cl,ll];var yl=Object.freeze({__proto__:null,events:e=>Hi([ji(ui(),((t,n)=>{const r=e.channels,o=se(r),i=n,s=((e,t)=>t.universal?e:j(e,(e=>I(t.channels,e))))(o,i);z(s,(e=>{const n=r[e],o=n.schema,s=$r("channel["+e+"] data\nReceiver: "+rs(t.element),o,i.data);n.onReceive(t,s)}))}))])}),bl=[no("channels",qr(or.value,Mr([Na("onReceive"),bo("schema",Ir())])))];const wl=(e,t,n)=>Ji(((r,o)=>{n(r,e,t)})),xl=e=>({key:e,value:void 0}),El=(e,t,n,r,o,i,s)=>{const a=e=>be(e,n)?e[n]():M.none(),l=ce(o,((e,t)=>((e,t,n)=>((e,t,n)=>{const r=n.toString(),o=r.indexOf(")")+1,i=r.indexOf("("),s=r.substring(i+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:bs(s.slice(0,1).concat(s.slice(3)))}),e})(((r,...o)=>{const i=[r].concat(o);return r.config({name:w(e)}).fold((()=>{throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)}),(e=>{const n=Array.prototype.slice.call(i,1);return t.apply(void 0,[r,e.config,e.state].concat(n))}))}),n,t))(n,e,t))),c={...ce(i,((e,t)=>ws(e,t))),...l,revoke:S(xl,n),config:t=>{const r=$r(n+"-config",e,t);return{key:n,value:{config:r,me:c,configAsRaw:Qt((()=>$r(n+"-config",e,t))),initialConfig:t,state:s}}},schema:w(t),exhibit:(e,t)=>Ee(a(e),ve(r,"exhibit"),((e,n)=>n(t,e.config,e.state))).getOrThunk((()=>Ts({}))),name:w(n),handlers:e=>a(e).map((e=>ve(r,"events").getOr((()=>({})))(e.config,e.state))).getOr({})};return c},Sl=e=>Oo(e),Cl=Mr([to("fields"),to("name"),bo("active",{}),bo("apis",{}),bo("state",As),bo("extra",{})]),Al=e=>{const t=$r("Creating behaviour: "+e.name,Cl,e);return((e,t,n,r,o,i)=>{const s=Mr(e),a=yo(t,[("config",l=e,ho("config",Mr(l)))]);var l;return El(s,a,t,n,r,o,i)})(t.fields,t.name,t.active,t.apis,t.extra,t.state)},_l=Mr([to("branchKey"),to("branches"),to("name"),bo("active",{}),bo("apis",{}),bo("state",As),bo("extra",{})]),kl=e=>{const t=$r("Creating behaviour: "+e.name,_l,e);return((e,t,n,r,o,i)=>{const s=e,a=yo(t,[ho("config",e)]);return El(s,a,t,n,r,o,i)})(Xr(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},Tl=w(void 0),Ml=Al({fields:bl,name:"receiving",active:yl});var Pl=Object.freeze({__proto__:null,exhibit:(e,t)=>Ts({classes:[],styles:t.useFixed()?{}:{position:"relative"}})});const Ol=e=>e.dom.focus(),Rl=e=>e.dom.blur(),Nl=e=>{const t=mt(e).dom;return e.dom===t.activeElement},Dl=(e=Wn())=>M.from(e.dom.activeElement).map(Fe),Il=e=>Dl(mt(e)).filter((t=>e.dom.contains(t.dom))),Bl=(e,t)=>{const n=mt(t),r=Dl(n).bind((e=>{const n=t=>Je(e,t);return n(t)?M.some(t):((e,t)=>{const n=e=>{for(let r=0;r<e.childNodes.length;r++){const o=Fe(e.childNodes[r]);if(t(o))return M.some(o);const i=n(e.childNodes[r]);if(i.isSome())return i}return M.none()};return n(e.dom)})(t,n)})),o=e(t);return r.each((e=>{Dl(n).filter((t=>Je(t,e))).fold((()=>{Ol(e)}),v)})),o},Fl=(e,t,n,r,o)=>{const i=e=>e+"px";return{position:e,left:t.map(i),top:n.map(i),right:r.map(i),bottom:o.map(i)}},Ll=(e,t)=>{Nt(e,(e=>({...e,position:M.some(e.position)}))(t))},Hl=Mo([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),zl=(e,t,n,r,o,i)=>{const s=t.rect,a=s.x-n,l=s.y-r,c=o-(a+s.width),u=i-(l+s.height),d=M.some(a),h=M.some(l),p=M.some(c),f=M.some(u),m=M.none();return t.direction.fold((()=>Fl(e,d,h,m,m)),(()=>Fl(e,m,h,p,m)),(()=>Fl(e,d,m,m,f)),(()=>Fl(e,m,m,p,f)),(()=>Fl(e,d,h,m,m)),(()=>Fl(e,d,m,m,f)),(()=>Fl(e,d,h,m,m)),(()=>Fl(e,m,h,p,m)))},Vl=(e,t)=>e.fold((()=>{const e=t.rect;return Fl("absolute",M.some(e.x),M.some(e.y),M.none(),M.none())}),((e,n,r,o)=>zl("absolute",t,e,n,r,o)),((e,n,r,o)=>zl("fixed",t,e,n,r,o))),jl=(e,t)=>{const n=S(Kn,t),r=e.fold(n,n,(()=>{const e=jn();return Kn(t).translate(-e.left,-e.top)})),o=Jt(t),i=Gt(t);return Xn(r.left,r.top,o,i)},Ul=(e,t)=>t.fold((()=>e.fold(er,er,Xn)),(t=>e.fold(w(t),w(t),(()=>{const n=Gl(e,t.x,t.y);return Xn(n.left,n.top,t.width,t.height)})))),Gl=(e,t,n)=>{const r=Wt(t,n);return e.fold(w(r),w(r),(()=>{const e=jn();return r.translate(-e.left,-e.top)}))};Hl.none;const ql=Hl.relative,Wl=Hl.fixed,Zl="data-alloy-placement",$l=e=>_t(e,Zl),Kl=Mo([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Xl=(e,t,n,r)=>{const o=e.bubble,i=o.offset,s=((e,t,n)=>{const r=(r,o)=>t[r].map((t=>{const i="top"===r||"bottom"===r,s=i?n.top:n.left,a=("left"===r||"top"===r?Math.max:Math.min)(t,o)+s;return i?Ka(a,e.y,e.bottom):Ka(a,e.x,e.right)})).getOr(o),o=r("left",e.x),i=r("top",e.y),s=r("right",e.right),a=r("bottom",e.bottom);return Xn(o,i,s-o,a-i)})(r,e.restriction,i),a=e.x+i.left,l=e.y+i.top,c=Xn(a,l,t,n),{originInBounds:u,sizeInBounds:d,visibleW:h,visibleH:p}=((e,t)=>{const{x:n,y:r,right:o,bottom:i}=t,{x:s,y:a,right:l,bottom:c,width:u,height:d}=e;return{originInBounds:s>=n&&s<=o&&a>=r&&a<=i,sizeInBounds:l<=o&&l>=n&&c<=i&&c>=r,visibleW:Math.min(u,s>=n?o-s:l-n),visibleH:Math.min(d,a>=r?i-a:c-r)}})(c,s),f=u&&d,m=f?c:((e,t)=>{const{x:n,y:r,right:o,bottom:i}=t,{x:s,y:a,width:l,height:c}=e,u=Math.max(n,o-l),d=Math.max(r,i-c),h=Ka(s,n,u),p=Ka(a,r,d),f=Math.min(h+l,o)-h,m=Math.min(p+c,i)-p;return Xn(h,p,f,m)})(c,s),g=m.width>0&&m.height>0,{maxWidth:v,maxHeight:y}=((e,t,n)=>{const r=w(t.bottom-n.y),o=w(n.bottom-t.y),i=((e,t,n,r)=>e.fold(t,t,r,r,t,r,n,n))(e,o,o,r),s=w(t.right-n.x),a=w(n.right-t.x),l=((e,t,n,r)=>e.fold(t,r,t,r,n,n,t,r))(e,a,a,s);return{maxWidth:l,maxHeight:i}})(e.direction,m,r),b={rect:m,maxHeight:y,maxWidth:v,direction:e.direction,placement:e.placement,classes:{on:o.classesOn,off:o.classesOff},layout:e.label,testY:l};return f||e.alwaysFit?Kl.fit(b):Kl.nofit(b,h,p,g)},Yl=e=>{const t=To(M.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(M.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(M.some(e))}}},Jl=()=>Yl((e=>e.unbind())),Ql=()=>{const e=Yl(v);return{...e,on:t=>e.get().each(t)}},ec=T,tc=(e,t,n)=>((e,t,n,r)=>Nn(e,t,n,r,!1))(e,t,ec,n),nc=(e,t,n)=>((e,t,n,r)=>Nn(e,t,n,r,!0))(e,t,ec,n),rc=Rn,oc=["top","bottom","right","left"],ic="data-alloy-transition-timer",sc=(e,t,n,r,o,s)=>{const a=((e,t,n)=>n.exists((n=>{const r=e.mode;return"all"===r||n[r]!==t[r]})))(r,o,s);if(a||((e,t)=>qs(e,t.classes))(e,r)){Ot(e,"position",n.position);const s=jl(t,e),l=Vl(t,{...o,rect:s}),c=J(oc,(e=>l[e]));((e,t)=>{const n=e=>parseFloat(e).toFixed(3);return me(t,((t,r)=>!((e,t,n=E)=>Ee(e,t,n).getOr(e.isNone()&&t.isNone()))(e[r].map(n),t.map(n)))).isSome()})(n,c)&&(Nt(e,c),a&&((e,t)=>{Us(e,t.classes),_t(e,ic).each((t=>{clearTimeout(parseInt(t,10)),Tt(e,ic)})),((e,t)=>{const n=Jl(),r=Jl();let o;const s=t=>{var n;const r=null!==(n=t.raw.pseudoElement)&&void 0!==n?n:"";return Je(t.target,e)&&!Oe(r)&&I(oc,t.raw.propertyName)},a=i=>{if(h(i)||s(i)){n.clear(),r.clear();const s=null==i?void 0:i.raw.type;(h(s)||s===ni())&&(clearTimeout(o),Tt(e,ic),Gs(e,t.classes))}},l=tc(e,ri(),(t=>{s(t)&&(l.unbind(),n.set(tc(e,ni(),a)),r.set(tc(e,ti(),a)))})),c=(e=>{const t=t=>{const n=Dt(e,t).split(/\s*,\s*/);return j(n,Oe)},n=e=>{if(i(e)&&/^[\d.]+/.test(e)){const t=parseFloat(e);return Me(e,"ms")?t:1e3*t}return 0},r=t("transition-delay"),o=t("transition-duration");return G(o,((e,t,o)=>{const i=n(r[o])+n(t);return Math.max(e,i)}),0)})(e);requestAnimationFrame((()=>{o=setTimeout(a,c+17),St(e,ic,o)}))})(e,t)})(e,r),zt(e))}else Gs(e,r.classes)},ac=(e,t)=>{((e,t)=>{const n=jt.max(e,t,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Ot(e,"max-height",n+"px")})(e,Math.floor(t))},lc=w(((e,t)=>{ac(e,t),Rt(e,{"overflow-x":"hidden","overflow-y":"auto"})})),cc=w(((e,t)=>{ac(e,t)})),uc=(e,t,n)=>void 0===e[t]?n:e[t],dc=(e,t,n,r)=>{const o=((e,t,n,r)=>{Ht(t,"max-height"),Ht(t,"max-width");const o={width:Jt(i=t),height:Gt(i)};var i;return((e,t,n,r,o,i)=>{const s=r.width,a=r.height,l=(t,l,c,u,d)=>{const h=t(n,r,o,e,i),p=Xl(h,s,a,i);return p.fold(w(p),((e,t,n,r)=>(d===r?n>u||t>c:!d&&r)?p:Kl.nofit(l,c,u,d)))};return G(t,((e,t)=>{const n=S(l,t);return e.fold(w(e),n)}),Kl.nofit({rect:n,maxHeight:r.height,maxWidth:r.width,direction:za(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:n.y},-1,-1,!1)).fold(x,x)})(t,r.preference,e,o,n,r.bounds)})(e,t,n,r);return((e,t,n)=>{const r=Vl(n.origin,t);n.transition.each((o=>{sc(e,n.origin,r,o,t,n.lastPlacement)})),Ll(e,r)})(t,o,r),((e,t)=>{((e,t)=>{St(e,Zl,t)})(e,t.placement)})(t,o),((e,t)=>{const n=t.classes;Gs(e,n.off),Us(e,n.on)})(t,o),((e,t,n)=>{(0,n.maxHeightFunction)(e,t.maxHeight)})(t,o,r),((e,t,n)=>{(0,n.maxWidthFunction)(e,t.maxWidth)})(t,o,r),{layout:o.layout,placement:o.placement}},hc=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],pc=(e,t,n,r=1)=>{const o=e*r,i=t*r,s=e=>ve(n,e).getOr([]),a=(e,t,n)=>{const r=Y(hc,n);return{offset:Wt(e,t),classesOn:$(n,s),classesOff:$(r,s)}};return{southeast:()=>a(-e,t,["top","alignLeft"]),southwest:()=>a(e,t,["top","alignRight"]),south:()=>a(-e/2,t,["top","alignCentre"]),northeast:()=>a(-e,-t,["bottom","alignLeft"]),northwest:()=>a(e,-t,["bottom","alignRight"]),north:()=>a(-e/2,-t,["bottom","alignCentre"]),east:()=>a(e,-t/2,["valignCentre","left"]),west:()=>a(-e,-t/2,["valignCentre","right"]),insetNortheast:()=>a(o,i,["top","alignLeft","inset"]),insetNorthwest:()=>a(-o,i,["top","alignRight","inset"]),insetNorth:()=>a(-o/2,i,["top","alignCentre","inset"]),insetSoutheast:()=>a(o,-i,["bottom","alignLeft","inset"]),insetSouthwest:()=>a(-o,-i,["bottom","alignRight","inset"]),insetSouth:()=>a(-o/2,-i,["bottom","alignCentre","inset"]),insetEast:()=>a(-o,-i/2,["valignCentre","right","inset"]),insetWest:()=>a(o,-i/2,["valignCentre","left","inset"])}},fc=()=>pc(0,0,{}),mc=x,gc=(e,t)=>n=>"rtl"===vc(n)?t:e,vc=e=>"rtl"===Dt(e,"direction")?"rtl":"ltr";var yc;!function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"}(yc||(yc={}));const bc="data-alloy-vertical-dir",wc=e=>da(e,(e=>qe(e)&&At(e,"data-alloy-vertical-dir")===yc.BottomToTop)),xc=()=>yo("layouts",[to("onLtr"),to("onRtl"),uo("onBottomLtr"),uo("onBottomRtl")]),Ec=(e,t,n,r,o,i,s)=>{const a=s.map(wc).getOr(!1),l=t.layouts.map((t=>t.onLtr(e))),c=t.layouts.map((t=>t.onRtl(e))),u=a?t.layouts.bind((t=>t.onBottomLtr.map((t=>t(e))))).or(l).getOr(o):l.getOr(n),d=a?t.layouts.bind((t=>t.onBottomRtl.map((t=>t(e))))).or(c).getOr(i):c.getOr(r);return gc(u,d)(e)};var Sc=[to("hotspot"),uo("bubble"),bo("overrides",{}),xc(),Ia("placement",((e,t,n)=>{const r=t.hotspot,o=jl(n,r.element),i=Ec(e.element,t,gl(),vl(),fl(),ml(),M.some(t.hotspot.element));return M.some(mc({anchorBox:o,bubble:t.bubble.getOr(fc()),overrides:t.overrides,layouts:i}))}))],Cc=[to("x"),to("y"),bo("height",0),bo("width",0),bo("bubble",fc()),bo("overrides",{}),xc(),Ia("placement",((e,t,n)=>{const r=Gl(n,t.x,t.y),o=Xn(r.left,r.top,t.width,t.height),i=Ec(e.element,t,hl(),pl(),hl(),pl(),M.none());return M.some(mc({anchorBox:o,bubble:t.bubble,overrides:t.overrides,layouts:i}))}))];const Ac=Mo([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),_c=e=>e.fold(x,((e,t,n)=>e.translate(-t,-n))),kc=e=>e.fold(x,x),Tc=e=>G(e,((e,t)=>e.translate(t.left,t.top)),Wt(0,0)),Mc=e=>{const t=H(e,kc);return Tc(t)},Pc=Ac.screen,Oc=Ac.absolute,Rc=(e,t,n)=>{const r=et(e.element),o=jn(r),i=((e,t,n)=>{const r=rt(n.root).dom;return M.from(r.frameElement).map(Fe).filter((t=>{const n=et(t),r=et(e.element);return Je(n,r)})).map($t)})(e,0,n).getOr(o);return Oc(i,o.left,o.top)},Nc=(e,t,n,r)=>{const o=Pc(Wt(e,t));return M.some(((e,t,n)=>({point:e,width:t,height:n}))(o,n,r))},Dc=(e,t,n,r,o)=>e.map((e=>{const i=[t,e.point],s=(a=()=>Mc(i),l=()=>Mc(i),c=()=>(e=>{const t=H(e,_c);return Tc(t)})(i),r.fold(a,l,c));var a,l,c;const u=(f=s.left,m=s.top,g=e.width,v=e.height,{x:f,y:m,width:g,height:v}),d=n.showAbove?fl():gl(),h=n.showAbove?ml():vl(),p=Ec(o,n,d,h,d,h,M.none());var f,m,g,v;return mc({anchorBox:u,bubble:n.bubble.getOr(fc()),overrides:n.overrides,layouts:p})}));var Ic=[to("node"),to("root"),uo("bubble"),xc(),bo("overrides",{}),bo("showAbove",!1),Ia("placement",((e,t,n)=>{const r=Rc(e,0,t);return t.node.filter(bt).bind((o=>{const i=o.dom.getBoundingClientRect(),s=Nc(i.left,i.top,i.width,i.height),a=t.node.getOr(e.element);return Dc(s,r,t,n,a)}))}))];const Bc=(e,t,n,r)=>({start:e,soffset:t,finish:n,foffset:r}),Fc=Mo([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Lc=(Fc.before,Fc.on,Fc.after,e=>e.fold(x,x,x)),Hc=Mo([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),zc={domRange:Hc.domRange,relative:Hc.relative,exact:Hc.exact,exactFromRange:e=>Hc.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>Fe(e.startContainer),relative:(e,t)=>Lc(e),exact:(e,t,n,r)=>e}))(e);return rt(t)},range:Bc},Vc=(e,t,n)=>{const r=e.document.createRange();var o;return o=r,t.fold((e=>{o.setStartBefore(e.dom)}),((e,t)=>{o.setStart(e.dom,t)}),(e=>{o.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))})(r,n),r},jc=(e,t,n,r,o)=>{const i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(r.dom,o),i},Uc=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Gc=Mo([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),qc=(e,t,n)=>t(Fe(n.startContainer),n.startOffset,Fe(n.endContainer),n.endOffset),Wc=(e,t)=>((e,t)=>{const n=((e,t)=>t.match({domRange:e=>({ltr:w(e),rtl:M.none}),relative:(t,n)=>({ltr:Qt((()=>Vc(e,t,n))),rtl:Qt((()=>M.some(Vc(e,n,t))))}),exact:(t,n,r,o)=>({ltr:Qt((()=>jc(e,t,n,r,o))),rtl:Qt((()=>M.some(jc(e,r,o,t,n))))})}))(e,t);return((e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter((e=>!1===e.collapsed)).map((e=>Gc.rtl(Fe(e.endContainer),e.endOffset,Fe(e.startContainer),e.startOffset))).getOrThunk((()=>qc(0,Gc.ltr,n))):qc(0,Gc.ltr,n)})(0,n)})(e,t).match({ltr:(t,n,r,o)=>{const i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(r.dom,o),i},rtl:(t,n,r,o)=>{const i=e.document.createRange();return i.setStart(r.dom,o),i.setEnd(t.dom,n),i}});Gc.ltr,Gc.rtl;const Zc=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return Ye(n)?[]:H(n.querySelectorAll(e),Fe)})(t,e),$c=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return M.some(Bc(Fe(t.startContainer),t.startOffset,Fe(n.endContainer),n.endOffset))}return M.none()},Kc=e=>{if(null===e.anchorNode||null===e.focusNode)return $c(e);{const t=Fe(e.anchorNode),n=Fe(e.focusNode);return((e,t,n,r)=>{const o=((e,t,n,r)=>{const o=et(e).dom.createRange();return o.setStart(e.dom,t),o.setEnd(n.dom,r),o})(e,t,n,r),i=Je(e,n)&&t===r;return o.collapsed&&!i})(t,e.anchorOffset,n,e.focusOffset)?M.some(Bc(t,e.anchorOffset,n,e.focusOffset)):$c(e)}},Xc=(e,t)=>(e=>{const t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?M.some(n).map(Uc):M.none()})(Wc(e,t)),Yc=((e,t)=>{const n=t=>e(t)?M.from(t.dom.nodeValue):M.none();return{get:t=>{if(!e(t))throw new Error("Can only get text value of a text node");return n(t).getOr("")},getOption:n,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})(We),Jc=(e,t)=>({element:e,offset:t}),Qc=(e,t)=>We(e)?Jc(e,t):((e,t)=>{const n=at(e);if(0===n.length)return Jc(e,t);if(t<n.length)return Jc(n[t],0);{const e=n[n.length-1],t=We(e)?(e=>Yc.get(e))(e).length:at(e).length;return Jc(e,t)}})(e,t),eu=(e,t)=>t.getSelection.getOrThunk((()=>()=>(e=>(e=>M.from(e.getSelection()))(e).filter((e=>e.rangeCount>0)).bind(Kc))(e)))().map((e=>{const t=Qc(e.start,e.soffset),n=Qc(e.finish,e.foffset);return zc.range(t.element,t.offset,n.element,n.offset)}));var tu=[uo("getSelection"),to("root"),uo("bubble"),xc(),bo("overrides",{}),bo("showAbove",!1),Ia("placement",((e,t,n)=>{const r=rt(t.root).dom,o=Rc(e,0,t),i=eu(r,t).bind((e=>{const t=((e,t)=>(e=>{const t=e.getBoundingClientRect();return t.width>0||t.height>0?M.some(t).map(Uc):M.none()})(Wc(e,t)))(r,zc.exactFromRange(e)).orThunk((()=>{const t=Be("\ufeff");In(e.start,t);const n=Xc(r,zc.exact(t,0,t,1));return Vn(t),n}));return t.bind((e=>Nc(e.left,e.top,e.width,e.height)))})),s=eu(r,t).bind((e=>qe(e.start)?M.some(e.start):it(e.start))).getOr(e.element);return Dc(i,o,t,n,s)}))];const nu="link-layout",ru=e=>e.x+e.width,ou=(e,t)=>e.x-t.width,iu=(e,t)=>e.y-t.height+e.height,su=e=>e.y,au=(e,t,n)=>La(ru(e),su(e),n.southeast(),za(),"southeast",Xa(e,{left:0,top:2}),nu),lu=(e,t,n)=>La(ou(e,t),su(e),n.southwest(),Va(),"southwest",Xa(e,{right:1,top:2}),nu),cu=(e,t,n)=>La(ru(e),iu(e,t),n.northeast(),ja(),"northeast",Xa(e,{left:0,bottom:3}),nu),uu=(e,t,n)=>La(ou(e,t),iu(e,t),n.northwest(),Ua(),"northwest",Xa(e,{right:1,bottom:3}),nu),du=()=>[au,lu,cu,uu],hu=()=>[lu,au,uu,cu];var pu=[to("item"),xc(),bo("overrides",{}),Ia("placement",((e,t,n)=>{const r=jl(n,t.item.element),o=Ec(e.element,t,du(),hu(),du(),hu(),M.none());return M.some(mc({anchorBox:r,bubble:fc(),overrides:t.overrides,layouts:o}))}))],fu=Xr("type",{selection:tu,node:Ic,hotspot:Sc,submenu:pu,makeshift:Cc});const mu=[co("classes",Lr),So("mode","all",["all","layout","placement"])],gu=[bo("useFixed",k),uo("getBounds")],vu=[no("anchor",fu),yo("transition",mu)],yu=(e,t,n,r,o,i)=>{const s=$r("placement.info",Pr(vu),o),a=s.anchor,l=r.element,c=n.get(r.uid);Bl((()=>{Ot(l,"position","fixed");const o=Bt(l,"visibility");Ot(l,"visibility","hidden");const u=t.useFixed()?(()=>{const e=document.documentElement;return Wl(0,0,e.clientWidth,e.clientHeight)})():(e=>{const t=$t(e.element),n=e.element.dom.getBoundingClientRect();return ql(t.left,t.top,n.width,n.height)})(e);a.placement(e,a,u).each((e=>{const o=i.orThunk((()=>t.getBounds.map(_))),a=((e,t,n,r,o,i)=>((e,t,n,r,o,i,s,a)=>{const l=uc(s,"maxHeightFunction",lc()),c=uc(s,"maxWidthFunction",v),u=e.anchorBox,d=e.origin,h={bounds:Ul(d,i),origin:d,preference:r,maxHeightFunction:l,maxWidthFunction:c,lastPlacement:o,transition:a};return dc(u,t,n,h)})(((e,t)=>((e,t)=>({anchorBox:e,origin:t}))(e,t))(t.anchorBox,e),r.element,t.bubble,t.layouts,o,n,t.overrides,i))(u,e,o,r,c,s.transition);n.set(r.uid,a)})),o.fold((()=>{Ht(l,"visibility")}),(e=>{Ot(l,"visibility",e)})),Bt(l,"left").isNone()&&Bt(l,"top").isNone()&&Bt(l,"right").isNone()&&Bt(l,"bottom").isNone()&&we(Bt(l,"position"),"fixed")&&Ht(l,"position")}),l)};var bu=Object.freeze({__proto__:null,position:(e,t,n,r,o)=>{const i=M.none();yu(e,t,n,r,o,i)},positionWithinBounds:yu,getMode:(e,t,n)=>t.useFixed()?"fixed":"absolute",reset:(e,t,n,r)=>{const o=r.element;z(["position","left","right","top","bottom"],(e=>Ht(o,e))),(e=>{Tt(e,Zl)})(o),n.clear(r.uid)}});const wu=Al({fields:gu,name:"positioning",active:Pl,apis:bu,state:Object.freeze({__proto__:null,init:()=>{let e={};return _s({readState:()=>e,clear:t=>{p(t)?delete e[t]:e={}},set:(t,n)=>{e[t]=n},get:t=>ve(e,t)})}})}),xu=e=>e.getSystem().isConnected(),Eu=e=>{Ni(e,Si());const t=e.components();z(t,Eu)},Su=e=>{const t=e.components();z(t,Su),Ni(e,Ei())},Cu=(e,t)=>{e.getSystem().addToWorld(t),bt(e.element)&&Su(t)},Au=e=>{Eu(e),e.getSystem().removeFromWorld(e)},_u=(e,t)=>{Ln(e.element,t.element)},ku=(e,t)=>{Tu(e,t,Ln)},Tu=(e,t,n)=>{e.getSystem().addToWorld(t),n(e.element,t.element),bt(e.element)&&Su(t),e.syncComponents()},Mu=e=>{Eu(e),Vn(e.element),e.getSystem().removeFromWorld(e)},Pu=e=>{const t=ot(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()));Mu(e),t.each((e=>{e.syncComponents()}))},Ou=e=>{const t=e.components();z(t,Mu),zn(e.element),e.syncComponents()},Ru=(e,t)=>{Du(e,t,Ln)},Nu=(e,t)=>{Du(e,t,Bn)},Du=(e,t,n)=>{n(e,t.element);const r=at(t.element);z(r,(e=>{t.getByDom(e).each(Su)}))},Iu=e=>{const t=at(e.element);z(t,(t=>{e.getByDom(t).each(Eu)})),Vn(e.element)},Bu=(e,t,n,r)=>{n.get().each((t=>{Ou(e)}));const o=t.getAttachPoint(e);ku(o,e);const i=e.getSystem().build(r);return ku(e,i),n.set(i),i},Fu=(e,t,n,r)=>{const o=Bu(e,t,n,r);return t.onOpen(e,o),o},Lu=(e,t,n)=>{n.get().each((r=>{Ou(e),Pu(e),t.onClose(e,r),n.clear()}))},Hu=(e,t,n)=>n.isOpen(),zu=(e,t,n)=>{const r=t.getAttachPoint(e);Ot(e.element,"position",wu.getMode(r)),((e,t,n,r)=>{Bt(e.element,t).fold((()=>{Tt(e.element,n)}),(t=>{St(e.element,n,t)})),Ot(e.element,t,"hidden")})(e,"visibility",t.cloakVisibilityAttr)},Vu=(e,t,n)=>{(e=>B(["top","left","right","bottom"],(t=>Bt(e,t).isSome())))(e.element)||Ht(e.element,"position"),((e,t,n)=>{_t(e.element,n).fold((()=>Ht(e.element,t)),(n=>Ot(e.element,t,n)))})(e,"visibility",t.cloakVisibilityAttr)};var ju=Object.freeze({__proto__:null,cloak:zu,decloak:Vu,open:Fu,openWhileCloaked:(e,t,n,r,o)=>{zu(e,t),Fu(e,t,n,r),o(),Vu(e,t)},close:Lu,isOpen:Hu,isPartOf:(e,t,n,r)=>Hu(0,0,n)&&n.get().exists((n=>t.isPartOf(e,n,r))),getState:(e,t,n)=>n.get(),setContent:(e,t,n,r)=>n.get().map((()=>Bu(e,t,n,r)))}),Uu=Object.freeze({__proto__:null,events:(e,t)=>Hi([ji(mi(),((n,r)=>{Lu(n,e,t)}))])}),Gu=[Oa("onOpen"),Oa("onClose"),to("isPartOf"),to("getAttachPoint"),bo("cloakVisibilityAttr","data-precloak-visibility")],qu=Object.freeze({__proto__:null,init:()=>{const e=Ql(),t=w("not-implemented");return _s({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}});const Wu=Al({fields:Gu,name:"sandboxing",active:Uu,apis:ju,state:qu}),Zu=w("dismiss.popups"),$u=w("reposition.popups"),Ku=w("mouse.released"),Xu=Mr([bo("isExtraPart",k),yo("fireEventInstead",[bo("event",Ci())])]),Yu=e=>{const t=$r("Dismissal",Xu,e);return{[Zu()]:{schema:Mr([to("target")]),onReceive:(e,n)=>{Wu.isOpen(e)&&(Wu.isPartOf(e,n.target)||t.isExtraPart(e,n.target)||t.fireEventInstead.fold((()=>Wu.close(e)),(t=>Ni(e,t.event))))}}}},Ju=Mr([yo("fireEventInstead",[bo("event",Ai())]),so("doReposition")]),Qu=e=>{const t=$r("Reposition",Ju,e);return{[$u()]:{onReceive:e=>{Wu.isOpen(e)&&t.fireEventInstead.fold((()=>t.doReposition(e)),(t=>Ni(e,t.event)))}}}},ed=(e,t,n)=>{t.store.manager.onLoad(e,t,n)},td=(e,t,n)=>{t.store.manager.onUnload(e,t,n)};var nd=Object.freeze({__proto__:null,onLoad:ed,onUnload:td,setValue:(e,t,n,r)=>{t.store.manager.setValue(e,t,n,r)},getValue:(e,t,n)=>t.store.manager.getValue(e,t,n),getState:(e,t,n)=>n}),rd=Object.freeze({__proto__:null,events:(e,t)=>{const n=e.resetOnDom?[Xi(((n,r)=>{ed(n,e,t)})),Yi(((n,r)=>{td(n,e,t)}))]:[wl(e,t,ed)];return Hi(n)}});const od=()=>{const e=To(null);return _s({set:e.set,get:e.get,isNotSet:()=>null===e.get(),clear:()=>{e.set(null)},readState:()=>({mode:"memory",value:e.get()})})},id=()=>{const e=To({}),t=To({});return _s({readState:()=>({mode:"dataset",dataByValue:e.get(),dataByText:t.get()}),lookup:n=>ve(e.get(),n).orThunk((()=>ve(t.get(),n))),update:n=>{const r=e.get(),o=t.get(),i={},s={};z(n,(e=>{i[e.value]=e,ve(e,"meta").each((t=>{ve(t,"text").each((t=>{s[t]=e}))}))})),e.set({...r,...i}),t.set({...o,...s})},clear:()=>{e.set({}),t.set({})}})};var sd=Object.freeze({__proto__:null,memory:od,dataset:id,manual:()=>_s({readState:v}),init:e=>e.store.manager.state(e)});const ad=(e,t,n,r)=>{const o=t.store;n.update([r]),o.setValue(e,r),t.onSetValue(e,r)};var ld=[uo("initialValue"),to("getFallbackEntry"),to("getDataKey"),to("setValue"),Ia("manager",{setValue:ad,getValue:(e,t,n)=>{const r=t.store,o=r.getDataKey(e);return n.lookup(o).getOrThunk((()=>r.getFallbackEntry(o)))},onLoad:(e,t,n)=>{t.store.initialValue.each((r=>{ad(e,t,n,r)}))},onUnload:(e,t,n)=>{n.clear()},state:id})],cd=[to("getValue"),bo("setValue",v),uo("initialValue"),Ia("manager",{setValue:(e,t,n,r)=>{t.store.setValue(e,r),t.onSetValue(e,r)},getValue:(e,t,n)=>t.store.getValue(e),onLoad:(e,t,n)=>{t.store.initialValue.each((n=>{t.store.setValue(e,n)}))},onUnload:v,state:As.init})],ud=[uo("initialValue"),Ia("manager",{setValue:(e,t,n,r)=>{n.set(r),t.onSetValue(e,r)},getValue:(e,t,n)=>n.get(),onLoad:(e,t,n)=>{t.store.initialValue.each((e=>{n.isNotSet()&&n.set(e)}))},onUnload:(e,t,n)=>{n.clear()},state:od})],dd=[wo("store",{mode:"memory"},Xr("mode",{memory:ud,manual:cd,dataset:ld})),Oa("onSetValue"),bo("resetOnDom",!1)];const hd=Al({fields:dd,name:"representing",active:rd,apis:nd,extra:{setValueFrom:(e,t)=>{const n=hd.getValue(t);hd.setValue(e,n)}},state:sd}),pd=(e,t)=>ko(e,{},H(t,(t=>{return n=t.name(),r="Cannot configure "+t.name()+" for "+e,Jr(n,n,{tag:"option",process:{}},Sr((e=>ur("The field: "+n+" is forbidden. "+r))));var n,r})).concat([Qr("dump",x)])),fd=e=>e.dump,md=(e,t)=>({...Sl(t),...e.dump}),gd=pd,vd=md,yd="placeholder",bd=Mo([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),wd=e=>ye(e,"uiType"),xd=(e,t,n,r)=>((e,t,n,r)=>wd(n)&&n.uiType===yd?((e,t,n,r)=>e.exists((e=>e!==n.owner))?bd.single(!0,w(n)):ve(r,n.name).fold((()=>{throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+se(r)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(e=>e.replace())))(e,0,n,r):bd.single(!1,w(n)))(e,0,n,r).fold(((o,i)=>{const s=wd(n)?i(t,n.config,n.validated):i(t),a=ve(s,"components").getOr([]),l=$(a,(n=>xd(e,t,n,r)));return[{...s,components:l}]}),((e,r)=>{if(wd(n)){const e=r(t,n.config,n.validated);return n.validated.preprocess.getOr(x)(e)}return r(t)})),Ed=bd.single,Sd=bd.multiple,Cd=w(yd),Ad=Mo([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),_d=bo("factory",{sketch:x}),kd=bo("schema",[]),Td=to("name"),Md=Jr("pname","pname",vr((e=>"<alloy."+ls(e.name)+">")),Ir()),Pd=Qr("schema",(()=>[uo("preprocess")])),Od=bo("defaults",w({})),Rd=bo("overrides",w({})),Nd=Pr([_d,kd,Td,Md,Od,Rd]),Dd=Pr([_d,kd,Td,Od,Rd]),Id=Pr([_d,kd,Td,Md,Od,Rd]),Bd=Pr([_d,Pd,Td,to("unit"),Md,Od,Rd]),Fd=e=>e.fold(M.some,M.none,M.some,M.some),Ld=e=>{const t=e=>e.name;return e.fold(t,t,t,t)},Hd=(e,t)=>n=>{const r=$r("Converting part type",t,n);return e(r)},zd=Hd(Ad.required,Nd),Vd=Hd(Ad.external,Dd),jd=Hd(Ad.optional,Id),Ud=Hd(Ad.group,Bd),Gd=w("entirety");var qd=Object.freeze({__proto__:null,required:zd,external:Vd,optional:jd,group:Ud,asNamedPart:Fd,name:Ld,asCommon:e=>e.fold(x,x,x,x),original:Gd});const Wd=(e,t,n,r)=>mr(t.defaults(e,n,r),n,{uid:e.partUids[t.name]},t.overrides(e,n,r)),Zd=(e,t)=>{const n={};return z(t,(t=>{Fd(t).each((t=>{const r=$d(e,t.pname);n[t.name]=n=>{const o=$r("Part: "+t.name+" in "+e,Pr(t.schema),n);return{...r,config:n,validated:o}}}))})),n},$d=(e,t)=>({uiType:Cd(),owner:e,name:t}),Kd=(e,t,n)=>({uiType:Cd(),owner:e,name:t,config:n,validated:{}}),Xd=e=>$(e,(e=>e.fold(M.none,M.some,M.none,M.none).map((e=>ao(e.name,e.schema.concat([Ba(Gd())])))).toArray())),Yd=e=>H(e,Ld),Jd=(e,t,n)=>((e,t,n)=>{const r={},o={};return z(n,(e=>{e.fold((e=>{r[e.pname]=Ed(!0,((t,n,r)=>e.factory.sketch(Wd(t,e,n,r))))}),(e=>{const n=t.parts[e.name];o[e.name]=w(e.factory.sketch(Wd(t,e,n[Gd()]),n))}),(e=>{r[e.pname]=Ed(!1,((t,n,r)=>e.factory.sketch(Wd(t,e,n,r))))}),(e=>{r[e.pname]=Sd(!0,((t,n,r)=>{const o=t[e.name];return H(o,(n=>e.factory.sketch(mr(e.defaults(t,n,r),n,e.overrides(t,n)))))}))}))})),{internals:w(r),externals:w(o)}})(0,t,n),Qd=(e,t,n)=>((e,t,n,r)=>{const o=ce(r,((e,t)=>((e,t)=>{let n=!1;return{name:w(e),required:()=>t.fold(((e,t)=>e),((e,t)=>e)),used:()=>n,replace:()=>{if(n)throw new Error("Trying to use the same placeholder more than once: "+e);return n=!0,t}}})(t,e))),i=((e,t,n,r)=>$(n,(n=>xd(e,t,n,r))))(e,t,n,o);return le(o,(n=>{if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))})),i})(M.some(e),t,t.components,n),eh=(e,t,n)=>{const r=t.partUids[n];return e.getSystem().getByUid(r).toOptional()},th=(e,t,n)=>eh(e,t,n).getOrDie("Could not find part: "+n),nh=(e,t,n)=>{const r={},o=t.partUids,i=e.getSystem();return z(n,(e=>{r[e]=w(i.getByUid(o[e]))})),r},rh=(e,t)=>{const n=e.getSystem();return ce(t.partUids,((e,t)=>w(n.getByUid(e))))},oh=e=>se(e.partUids),ih=(e,t,n)=>{const r={},o=t.partUids,i=e.getSystem();return z(n,(e=>{r[e]=w(i.getByUid(o[e]).getOrDie())})),r},sh=(e,t)=>{const n=Yd(t);return Oo(H(n,(t=>({key:t,value:e+"-"+t}))))},ah=e=>Jr("partUids","partUids",br((t=>sh(t.uid,e))),Ir());var lh=Object.freeze({__proto__:null,generate:Zd,generateOne:Kd,schemas:Xd,names:Yd,substitutes:Jd,components:Qd,defaultUids:sh,defaultUidsSchema:ah,getAllParts:rh,getAllPartNames:oh,getPart:eh,getPartOrDie:th,getParts:nh,getPartsOrDie:ih});const ch=(e,t,n,r,o)=>{const i=((e,t)=>(e.length>0?[ao("parts",e)]:[]).concat([to("uid"),bo("dom",{}),bo("components",[]),Ba("originalSpec"),bo("debug.sketcher",{})]).concat(t))(r,o);return $r(e+" [SpecSchema]",Mr(i.concat(t)),n)},uh=(e,t,n,r,o)=>{const i=dh(o),s=Xd(n),a=ah(n),l=ch(e,t,i,s,[a]),c=Jd(0,l,n);return r(l,Qd(e,l,c.internals()),i,c.externals())},dh=e=>(e=>ye(e,"uid"))(e)?e:{...e,uid:ms("uid")},hh=Mr([to("name"),to("factory"),to("configFields"),bo("apis",{}),bo("extraApis",{})]),ph=Mr([to("name"),to("factory"),to("configFields"),to("partFields"),bo("apis",{}),bo("extraApis",{})]),fh=e=>{const t=$r("Sketcher for "+e.name,hh,e),n=ce(t.apis,Cs),r=ce(t.extraApis,((e,t)=>ws(e,t)));return{name:t.name,configFields:t.configFields,sketch:e=>((e,t,n,r)=>{const o=dh(r);return n(ch(e,t,o,[],[]),o)})(t.name,t.configFields,t.factory,e),...n,...r}},mh=e=>{const t=$r("Sketcher for "+e.name,ph,e),n=Zd(t.name,t.partFields),r=ce(t.apis,Cs),o=ce(t.extraApis,((e,t)=>ws(e,t)));return{name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:e=>uh(t.name,t.configFields,t.partFields,t.factory,e),parts:n,...r,...o}},gh=e=>Ke("input")(e)&&"radio"!==At(e,"type")||Ke("textarea")(e);var vh=Object.freeze({__proto__:null,getCurrent:(e,t,n)=>t.find(e)});const yh=[to("find")],bh=Al({fields:yh,name:"composing",apis:vh}),wh=["input","button","textarea","select"],xh=(e,t,n)=>{(t.disabled()?kh:Th)(e,t)},Eh=(e,t)=>!0===t.useNative&&I(wh,je(e.element)),Sh=e=>{St(e.element,"disabled","disabled")},Ch=e=>{Tt(e.element,"disabled")},Ah=e=>{St(e.element,"aria-disabled","true")},_h=e=>{St(e.element,"aria-disabled","false")},kh=(e,t,n)=>{t.disableClass.each((t=>{zs(e.element,t)})),(Eh(e,t)?Sh:Ah)(e),t.onDisabled(e)},Th=(e,t,n)=>{t.disableClass.each((t=>{Vs(e.element,t)})),(Eh(e,t)?Ch:_h)(e),t.onEnabled(e)},Mh=(e,t)=>Eh(e,t)?(e=>kt(e.element,"disabled"))(e):(e=>"true"===At(e.element,"aria-disabled"))(e);var Ph=Object.freeze({__proto__:null,enable:Th,disable:kh,isDisabled:Mh,onLoad:xh,set:(e,t,n,r)=>{(r?kh:Th)(e,t)}}),Oh=Object.freeze({__proto__:null,exhibit:(e,t)=>Ts({classes:t.disabled()?t.disableClass.toArray():[]}),events:(e,t)=>Hi([zi(di(),((t,n)=>Mh(t,e))),wl(e,t,xh)])}),Rh=[Ao("disabled",k),bo("useNative",!0),uo("disableClass"),Oa("onDisabled"),Oa("onEnabled")];const Nh=Al({fields:Rh,name:"disabling",active:Oh,apis:Ph}),Dh=(e,t,n,r)=>{const o=Zc(e.element,"."+t.highlightClass);z(o,(n=>{B(r,(e=>Je(e.element,n)))||(Vs(n,t.highlightClass),e.getSystem().getByDom(n).each((n=>{t.onDehighlight(e,n),Ni(n,Ri())})))}))},Ih=(e,t,n,r)=>{Dh(e,t,0,[r]),Bh(e,t,n,r)||(zs(r.element,t.highlightClass),t.onHighlight(e,r),Ni(r,Oi()))},Bh=(e,t,n,r)=>js(r.element,t.highlightClass),Fh=(e,t,n)=>fa(e.element,"."+t.itemClass).bind((t=>e.getSystem().getByDom(t).toOptional())),Lh=(e,t,n)=>{const r=Zc(e.element,"."+t.itemClass);return(r.length>0?M.some(r[r.length-1]):M.none()).bind((t=>e.getSystem().getByDom(t).toOptional()))},Hh=(e,t,n,r)=>{const o=Zc(e.element,"."+t.itemClass);return W(o,(e=>js(e,t.highlightClass))).bind((t=>{const n=$a(t,r,0,o.length-1);return e.getSystem().getByDom(o[n]).toOptional()}))},zh=(e,t,n)=>{const r=Zc(e.element,"."+t.itemClass);return xe(H(r,(t=>e.getSystem().getByDom(t).toOptional())))};var Vh=Object.freeze({__proto__:null,dehighlightAll:(e,t,n)=>Dh(e,t,0,[]),dehighlight:(e,t,n,r)=>{Bh(e,t,n,r)&&(Vs(r.element,t.highlightClass),t.onDehighlight(e,r),Ni(r,Ri()))},highlight:Ih,highlightFirst:(e,t,n)=>{Fh(e,t).each((r=>{Ih(e,t,n,r)}))},highlightLast:(e,t,n)=>{Lh(e,t).each((r=>{Ih(e,t,n,r)}))},highlightAt:(e,t,n,r)=>{((e,t,n,r)=>{const o=Zc(e.element,"."+t.itemClass);return M.from(o[r]).fold((()=>or.error(new Error("No element found with index "+r))),e.getSystem().getByDom)})(e,t,0,r).fold((e=>{throw e}),(r=>{Ih(e,t,n,r)}))},highlightBy:(e,t,n,r)=>{const o=zh(e,t);q(o,r).each((r=>{Ih(e,t,n,r)}))},isHighlighted:Bh,getHighlighted:(e,t,n)=>fa(e.element,"."+t.highlightClass).bind((t=>e.getSystem().getByDom(t).toOptional())),getFirst:Fh,getLast:Lh,getPrevious:(e,t,n)=>Hh(e,t,0,-1),getNext:(e,t,n)=>Hh(e,t,0,1),getCandidates:zh}),jh=[to("highlightClass"),to("itemClass"),Oa("onHighlight"),Oa("onDehighlight")];const Uh=Al({fields:jh,name:"highlighting",apis:Vh}),Gh=[8],qh=[9],Wh=[13],Zh=[27],$h=[32],Kh=[37],Xh=[38],Yh=[39],Jh=[40],Qh=(e,t,n)=>{const r=X(e.slice(0,t)),o=X(e.slice(t+1));return q(r.concat(o),n)},ep=(e,t,n)=>{const r=X(e.slice(0,t));return q(r,n)},tp=(e,t,n)=>{const r=e.slice(0,t),o=e.slice(t+1);return q(o.concat(r),n)},np=(e,t,n)=>{const r=e.slice(t+1);return q(r,n)},rp=e=>t=>{const n=t.raw;return I(e,n.which)},op=e=>t=>K(e,(e=>e(t))),ip=e=>!0===e.raw.shiftKey,sp=e=>!0===e.raw.ctrlKey,ap=C(ip),lp=(e,t)=>({matches:e,classification:t}),cp=(e,t,n)=>{t.exists((e=>n.exists((t=>Je(t,e)))))||Di(e,_i(),{prevFocus:t,newFocus:n})},up=()=>{const e=e=>Il(e.element);return{get:e,set:(t,n)=>{const r=e(t);t.getSystem().triggerFocus(n,t.element);const o=e(t);cp(t,r,o)}}},dp=()=>{const e=e=>Uh.getHighlighted(e).map((e=>e.element));return{get:e,set:(t,n)=>{const r=e(t);t.getSystem().getByDom(n).fold(v,(e=>{Uh.highlight(t,e)}));const o=e(t);cp(t,r,o)}}};var hp;!function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"}(hp||(hp={}));const pp=(e,t,n,r,o)=>{const i=(e,t,n,r,o)=>{return(i=n(e,t,r,o),s=t.event,q(i,(e=>e.matches(s))).map((e=>e.classification))).bind((n=>n(e,t,r,o)));var i,s},s={schema:()=>e.concat([bo("focusManager",up()),wo("focusInside","onFocus",Gr((e=>I(["onFocus","onEnterOrSpace","onApi"],e)?or.value(e):or.error("Invalid value for focusInside")))),Ia("handler",s),Ia("state",t),Ia("sendFocusIn",o)]),processKey:i,toEvents:(e,t)=>{const s=e.focusInside!==hp.OnFocusMode?M.none():o(e).map((n=>ji(ai(),((r,o)=>{n(r,e,t),o.stop()})))),a=[ji(Xo(),((r,s)=>{i(r,s,n,e,t).fold((()=>{((n,r)=>{const i=rp($h.concat(Wh))(r.event);e.focusInside===hp.OnEnterOrSpaceMode&&i&&Io(n,r)&&o(e).each((o=>{o(n,e,t),r.stop()}))})(r,s)}),(e=>{s.stop()}))})),ji(Yo(),((n,o)=>{i(n,o,r,e,t).each((e=>{o.stop()}))}))];return Hi(s.toArray().concat(a))}};return s},fp=e=>{const t=[uo("onEscape"),uo("onEnter"),bo("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),bo("firstTabstop",0),bo("useTabstopAt",T),uo("visibilitySelector")].concat([e]),n=(e,t)=>{const n=e.visibilitySelector.bind((e=>ma(t,e))).getOr(t);return Ut(n)>0},r=(e,t,r)=>{((e,t)=>{const r=Zc(e.element,t.selector),o=j(r,(e=>n(t,e)));return M.from(o[t.firstTabstop])})(e,t).each((n=>{t.focusManager.set(e,n)}))},o=(e,t,r,o)=>{const i=Zc(e.element,r.selector);return((e,t)=>t.focusManager.get(e).bind((e=>ma(e,t.selector))))(e,r).bind((t=>W(i,S(Je,t)).bind((t=>((e,t,r,o,i)=>i(t,r,(e=>((e,t)=>n(e,t)&&e.useTabstopAt(t))(o,e))).fold((()=>o.cyclic?M.some(!0):M.none()),(t=>(o.focusManager.set(e,t),M.some(!0)))))(e,i,t,r,o)))))},i=w([lp(op([ip,rp(qh)]),((e,t,n)=>{const r=n.cyclic?Qh:ep;return o(e,0,n,r)})),lp(rp(qh),((e,t,n)=>{const r=n.cyclic?tp:np;return o(e,0,n,r)})),lp(op([ap,rp(Wh)]),((e,t,n)=>n.onEnter.bind((n=>n(e,t)))))]),s=w([lp(rp(Zh),((e,t,n)=>n.onEscape.bind((n=>n(e,t)))))]);return pp(t,As.init,i,s,(()=>M.some(r)))};var mp=fp(Qr("cyclic",k)),gp=fp(Qr("cyclic",T));const vp=(e,t,n)=>gh(n)&&rp($h)(t.event)?M.none():((e,t,n)=>(Bi(e,n,di()),M.some(!0)))(e,0,n),yp=(e,t)=>M.some(!0),bp=[bo("execute",vp),bo("useSpace",!1),bo("useEnter",!0),bo("useControlEnter",!1),bo("useDown",!1)],wp=(e,t,n)=>n.execute(e,t,e.element);var xp=pp(bp,As.init,((e,t,n,r)=>{const o=n.useSpace&&!gh(e.element)?$h:[],i=n.useEnter?Wh:[],s=n.useDown?Jh:[],a=o.concat(i).concat(s);return[lp(rp(a),wp)].concat(n.useControlEnter?[lp(op([sp,rp(Wh)]),wp)]:[])}),((e,t,n,r)=>n.useSpace&&!gh(e.element)?[lp(rp($h),yp)]:[]),(()=>M.none()));const Ep=()=>{const e=Ql();return _s({readState:()=>e.get().map((e=>({numRows:String(e.numRows),numColumns:String(e.numColumns)}))).getOr({numRows:"?",numColumns:"?"}),setGridSize:(t,n)=>{e.set({numRows:t,numColumns:n})},getNumRows:()=>e.get().map((e=>e.numRows)),getNumColumns:()=>e.get().map((e=>e.numColumns))})};var Sp=Object.freeze({__proto__:null,flatgrid:Ep,init:e=>e.state(e)});const Cp=e=>(t,n,r,o)=>{const i=e(t.element);return Tp(i,t,n,r,o)},Ap=(e,t)=>{const n=gc(e,t);return Cp(n)},_p=(e,t)=>{const n=gc(t,e);return Cp(n)},kp=e=>(t,n,r,o)=>Tp(e,t,n,r,o),Tp=(e,t,n,r,o)=>r.focusManager.get(t).bind((n=>e(t.element,n,r,o))).map((e=>(r.focusManager.set(t,e),!0))),Mp=kp,Pp=kp,Op=kp,Rp=e=>!(e=>e.offsetWidth<=0&&e.offsetHeight<=0)(e.dom),Np=(e,t,n)=>{const r=Zc(e,n);return((e,n)=>W(e,(e=>Je(e,t))).map((t=>({index:t,candidates:e}))))(j(r,Rp))},Dp=(e,t)=>W(e,(e=>Je(t,e))),Ip=(e,t,n,r)=>r(Math.floor(t/n),t%n).bind((t=>{const r=t.row*n+t.column;return r>=0&&r<e.length?M.some(e[r]):M.none()})),Bp=(e,t,n,r,o)=>Ip(e,t,r,((t,i)=>{const s=t===n-1?e.length-t*r:r,a=$a(i,o,0,s-1);return M.some({row:t,column:a})})),Fp=(e,t,n,r,o)=>Ip(e,t,r,((t,i)=>{const s=$a(t,o,0,n-1),a=s===n-1?e.length-s*r:r,l=Ka(i,0,a-1);return M.some({row:s,column:l})})),Lp=[to("selector"),bo("execute",vp),Ra("onEscape"),bo("captureTab",!1),Fa()],Hp=(e,t,n)=>{fa(e.element,t.selector).each((n=>{t.focusManager.set(e,n)}))},zp=e=>(t,n,r,o)=>Np(t,n,r.selector).bind((t=>e(t.candidates,t.index,o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns)))),Vp=(e,t,n)=>n.captureTab?M.some(!0):M.none(),jp=zp(((e,t,n,r)=>Bp(e,t,n,r,-1))),Up=zp(((e,t,n,r)=>Bp(e,t,n,r,1))),Gp=zp(((e,t,n,r)=>Fp(e,t,n,r,-1))),qp=zp(((e,t,n,r)=>Fp(e,t,n,r,1))),Wp=w([lp(rp(Kh),Ap(jp,Up)),lp(rp(Yh),_p(jp,Up)),lp(rp(Xh),Mp(Gp)),lp(rp(Jh),Pp(qp)),lp(op([ip,rp(qh)]),Vp),lp(op([ap,rp(qh)]),Vp),lp(rp($h.concat(Wh)),((e,t,n,r)=>((e,t)=>t.focusManager.get(e).bind((e=>ma(e,t.selector))))(e,n).bind((r=>n.execute(e,t,r)))))]),Zp=w([lp(rp(Zh),((e,t,n)=>n.onEscape(e,t))),lp(rp($h),yp)]);var $p=pp(Lp,Ep,Wp,Zp,(()=>M.some(Hp)));const Kp=(e,t,n,r,o)=>{const i=(e,t,n)=>o(e,t,r,0,n.length-1,n[t],(t=>{return r=n[t],"button"===je(r)&&"disabled"===At(r,"disabled")?i(e,t,n):M.from(n[t]);var r}));return Np(e,n,t).bind((e=>{const t=e.index,n=e.candidates;return i(t,t,n)}))},Xp=(e,t,n,r)=>Kp(e,t,n,r,((e,t,n,r,o,i,s)=>{const a=Ka(t+n,r,o);return a===e?M.from(i):s(a)})),Yp=(e,t,n,r)=>Kp(e,t,n,r,((e,t,n,r,o,i,s)=>{const a=$a(t,n,r,o);return a===e?M.none():s(a)})),Jp=[to("selector"),bo("getInitial",M.none),bo("execute",vp),Ra("onEscape"),bo("executeOnMove",!1),bo("allowVertical",!0),bo("allowHorizontal",!0),bo("cycles",!0)],Qp=(e,t,n)=>((e,t)=>t.focusManager.get(e).bind((e=>ma(e,t.selector))))(e,n).bind((r=>n.execute(e,t,r))),ef=(e,t,n)=>{t.getInitial(e).orThunk((()=>fa(e.element,t.selector))).each((n=>{t.focusManager.set(e,n)}))},tf=(e,t,n)=>(n.cycles?Yp:Xp)(e,n.selector,t,-1),nf=(e,t,n)=>(n.cycles?Yp:Xp)(e,n.selector,t,1),rf=e=>(t,n,r,o)=>e(t,n,r,o).bind((()=>r.executeOnMove?Qp(t,n,r):M.some(!0))),of=w([lp(rp($h),yp),lp(rp(Zh),((e,t,n)=>n.onEscape(e,t)))]);var sf=pp(Jp,As.init,((e,t,n,r)=>{const o=[...n.allowHorizontal?Kh:[]].concat(n.allowVertical?Xh:[]),i=[...n.allowHorizontal?Yh:[]].concat(n.allowVertical?Jh:[]);return[lp(rp(o),rf(Ap(tf,nf))),lp(rp(i),rf(_p(tf,nf))),lp(rp(Wh),Qp),lp(rp($h),Qp)]}),of,(()=>M.some(ef)));const af=(e,t,n)=>M.from(e[t]).bind((e=>M.from(e[n]).map((e=>({rowIndex:t,columnIndex:n,cell:e}))))),lf=(e,t,n,r)=>{const o=e[t].length,i=$a(n,r,0,o-1);return af(e,t,i)},cf=(e,t,n,r)=>{const o=$a(n,r,0,e.length-1),i=e[o].length,s=Ka(t,0,i-1);return af(e,o,s)},uf=(e,t,n,r)=>{const o=e[t].length,i=Ka(n+r,0,o-1);return af(e,t,i)},df=(e,t,n,r)=>{const o=Ka(n+r,0,e.length-1),i=e[o].length,s=Ka(t,0,i-1);return af(e,o,s)},hf=[ao("selectors",[to("row"),to("cell")]),bo("cycles",!0),bo("previousSelector",M.none),bo("execute",vp)],pf=(e,t,n)=>{t.previousSelector(e).orThunk((()=>{const n=t.selectors;return fa(e.element,n.cell)})).each((n=>{t.focusManager.set(e,n)}))},ff=(e,t)=>(n,r,o)=>{const i=o.cycles?e:t;return ma(r,o.selectors.row).bind((e=>{const t=Zc(e,o.selectors.cell);return Dp(t,r).bind((t=>{const r=Zc(n,o.selectors.row);return Dp(r,e).bind((e=>{const n=((e,t)=>H(e,(e=>Zc(e,t.selectors.cell))))(r,o);return i(n,e,t).map((e=>e.cell))}))}))}))},mf=ff(((e,t,n)=>lf(e,t,n,-1)),((e,t,n)=>uf(e,t,n,-1))),gf=ff(((e,t,n)=>lf(e,t,n,1)),((e,t,n)=>uf(e,t,n,1))),vf=ff(((e,t,n)=>cf(e,n,t,-1)),((e,t,n)=>df(e,n,t,-1))),yf=ff(((e,t,n)=>cf(e,n,t,1)),((e,t,n)=>df(e,n,t,1))),bf=w([lp(rp(Kh),Ap(mf,gf)),lp(rp(Yh),_p(mf,gf)),lp(rp(Xh),Mp(vf)),lp(rp(Jh),Pp(yf)),lp(rp($h.concat(Wh)),((e,t,n)=>Il(e.element).bind((r=>n.execute(e,t,r)))))]),wf=w([lp(rp($h),yp)]);var xf=pp(hf,As.init,bf,wf,(()=>M.some(pf)));const Ef=[to("selector"),bo("execute",vp),bo("moveOnTab",!1)],Sf=(e,t,n)=>n.focusManager.get(e).bind((r=>n.execute(e,t,r))),Cf=(e,t,n)=>{fa(e.element,t.selector).each((n=>{t.focusManager.set(e,n)}))},Af=(e,t,n)=>Yp(e,n.selector,t,-1),_f=(e,t,n)=>Yp(e,n.selector,t,1),kf=w([lp(rp(Xh),Op(Af)),lp(rp(Jh),Op(_f)),lp(op([ip,rp(qh)]),((e,t,n,r)=>n.moveOnTab?Op(Af)(e,t,n,r):M.none())),lp(op([ap,rp(qh)]),((e,t,n,r)=>n.moveOnTab?Op(_f)(e,t,n,r):M.none())),lp(rp(Wh),Sf),lp(rp($h),Sf)]),Tf=w([lp(rp($h),yp)]);var Mf=pp(Ef,As.init,kf,Tf,(()=>M.some(Cf)));const Pf=[Ra("onSpace"),Ra("onEnter"),Ra("onShiftEnter"),Ra("onLeft"),Ra("onRight"),Ra("onTab"),Ra("onShiftTab"),Ra("onUp"),Ra("onDown"),Ra("onEscape"),bo("stopSpaceKeyup",!1),uo("focusIn")];var Of=pp(Pf,As.init,((e,t,n)=>[lp(rp($h),n.onSpace),lp(op([ap,rp(Wh)]),n.onEnter),lp(op([ip,rp(Wh)]),n.onShiftEnter),lp(op([ip,rp(qh)]),n.onShiftTab),lp(op([ap,rp(qh)]),n.onTab),lp(rp(Xh),n.onUp),lp(rp(Jh),n.onDown),lp(rp(Kh),n.onLeft),lp(rp(Yh),n.onRight),lp(rp($h),n.onSpace)]),((e,t,n)=>[...n.stopSpaceKeyup?[lp(rp($h),yp)]:[],lp(rp(Zh),n.onEscape)]),(e=>e.focusIn));const Rf=mp.schema(),Nf=gp.schema(),Df=sf.schema(),If=$p.schema(),Bf=xf.schema(),Ff=xp.schema(),Lf=Mf.schema(),Hf=Of.schema(),zf=kl({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:Rf,cyclic:Nf,flow:Df,flatgrid:If,matrix:Bf,execution:Ff,menu:Lf,special:Hf}),name:"keying",active:{events:(e,t)=>e.handler.toEvents(e,t)},apis:{focusIn:(e,t,n)=>{t.sendFocusIn(t).fold((()=>{e.getSystem().triggerFocus(e.element,e.element)}),(r=>{r(e,t,n)}))},setGridSize:(e,t,n,r,o)=>{(e=>be(e,"setGridSize"))(n)?n.setGridSize(r,o):console.error("Layout does not support setGridSize")}},state:Sp}),Vf=(e,t)=>{Bl((()=>{((e,t,n)=>{const r=e.components();(e=>{z(e.components(),(e=>Vn(e.element))),zn(e.element),e.syncComponents()})(e);const o=n(t),i=Y(r,o);z(i,(t=>{Eu(t),e.getSystem().removeFromWorld(t)})),z(o,(t=>{xu(t)?_u(e,t):(e.getSystem().addToWorld(t),_u(e,t),bt(e.element)&&Su(t))})),e.syncComponents()})(e,t,(()=>H(t,e.getSystem().build)))}),e.element)},jf=(e,t)=>{Bl((()=>{((n,r,o)=>{const i=n.components(),s=$(r,(e=>Ss(e).toArray()));z(i,(e=>{I(s,e)||Au(e)}));const a=((e,t,n)=>Ks(e,t,((t,r)=>Xs(e,r,t,n))))(e.element,t,e.getSystem().buildOrPatch),l=Y(i,a);z(l,(e=>{xu(e)&&Au(e)})),z(a,(e=>{xu(e)||Cu(n,e)})),n.syncComponents()})(e,t)}),e.element)},Uf=(e,t,n,r)=>{Au(t);const o=Xs(e.element,n,r,e.getSystem().buildOrPatch);Cu(e,o),e.syncComponents()},Gf=(e,t,n)=>{const r=e.getSystem().build(n);Tu(e,r,t)},qf=(e,t,n,r)=>{Pu(t),Gf(e,((e,t)=>((e,t,n)=>{lt(e,n).fold((()=>{Ln(e,t)}),(e=>{In(e,t)}))})(e,t,n)),r)},Wf=(e,t)=>e.components(),Zf=(e,t,n,r,o)=>{const i=Wf(e);return M.from(i[r]).map((n=>(o.fold((()=>Pu(n)),(o=>{(t.reuseDom?Uf:qf)(e,n,r,o)})),n)))};var $f=Object.freeze({__proto__:null,append:(e,t,n,r)=>{Gf(e,Ln,r)},prepend:(e,t,n,r)=>{Gf(e,Fn,r)},remove:(e,t,n,r)=>{const o=Wf(e),i=q(o,(e=>Je(r.element,e.element)));i.each(Pu)},replaceAt:Zf,replaceBy:(e,t,n,r,o)=>{const i=Wf(e);return W(i,r).bind((n=>Zf(e,t,0,n,o)))},set:(e,t,n,r)=>(t.reuseDom?jf:Vf)(e,r),contents:Wf});const Kf=Al({fields:[Co("reuseDom",!0)],name:"replacing",apis:$f}),Xf=(e,t)=>{const n=((e,t)=>{const n=Hi(t);return Al({fields:[to("enabled")],name:e,active:{events:w(n)}})})(e,t);return{key:e,value:{config:{},me:n,configAsRaw:w({}),initialConfig:{},state:As}}},Yf=(e,t)=>{t.ignore||(Ol(e.element),t.onFocus(e))};var Jf=Object.freeze({__proto__:null,focus:Yf,blur:(e,t)=>{t.ignore||Rl(e.element)},isFocused:e=>Nl(e.element)}),Qf=Object.freeze({__proto__:null,exhibit:(e,t)=>{const n=t.ignore?{}:{attributes:{tabindex:"-1"}};return Ts(n)},events:e=>Hi([ji(ai(),((t,n)=>{Yf(t,e),n.stop()}))].concat(e.stopMousedown?[ji(Uo(),((e,t)=>{t.event.prevent()}))]:[]))}),em=[Oa("onFocus"),bo("stopMousedown",!1),bo("ignore",!1)];const tm=Al({fields:em,name:"focusing",active:Qf,apis:Jf}),nm=(e,t,n,r)=>{const o=n.get();n.set(r),((e,t,n)=>{t.toggleClass.each((t=>{n.get()?zs(e.element,t):Vs(e.element,t)}))})(e,t,n),((e,t,n)=>{const r=t.aria;r.update(e,r,n.get())})(e,t,n),o!==r&&t.onToggled(e,r)},rm=(e,t,n)=>{nm(e,t,n,!n.get())},om=(e,t,n)=>{nm(e,t,n,t.selected)};var im=Object.freeze({__proto__:null,onLoad:om,toggle:rm,isOn:(e,t,n)=>n.get(),on:(e,t,n)=>{nm(e,t,n,!0)},off:(e,t,n)=>{nm(e,t,n,!1)},set:nm}),sm=Object.freeze({__proto__:null,exhibit:()=>Ts({}),events:(e,t)=>{const n=(r=e,o=t,i=rm,Qi((e=>{i(e,r,o)})));var r,o,i;const s=wl(e,t,om);return Hi(Z([e.toggleOnExecute?[n]:[],[s]]))}});const am=(e,t,n)=>{St(e.element,"aria-expanded",n)};var lm=[bo("selected",!1),uo("toggleClass"),bo("toggleOnExecute",!0),Oa("onToggled"),wo("aria",{mode:"none"},Xr("mode",{pressed:[bo("syncWithExpanded",!1),Ia("update",((e,t,n)=>{St(e.element,"aria-pressed",n),t.syncWithExpanded&&am(e,0,n)}))],checked:[Ia("update",((e,t,n)=>{St(e.element,"aria-checked",n)}))],expanded:[Ia("update",am)],selected:[Ia("update",((e,t,n)=>{St(e.element,"aria-selected",n)}))],none:[Ia("update",v)]}))];const cm=Al({fields:lm,name:"toggling",active:sm,apis:im,state:(!1,{init:()=>{const e=To(false);return{get:()=>e.get(),set:t=>e.set(t),clear:()=>e.set(false),readState:()=>e.get()}}})});const um=()=>{const e=(e,t)=>{t.stop(),Ii(e)};return[ji(ei(),e),ji(pi(),e),Zi(Ho()),Zi(Uo())]},dm=e=>Hi(Z([e.map((e=>Qi(((t,n)=>{e(t),n.stop()})))).toArray(),um()])),hm="alloy.item-hover",pm="alloy.item-focus",fm="alloy.item-toggled",mm=e=>{(Il(e.element).isNone()||tm.isFocused(e))&&(tm.isFocused(e)||tm.focus(e),Di(e,hm,{item:e}))},gm=e=>{Di(e,pm,{item:e})},vm=w(hm),ym=w(pm),bm=w(fm),wm=e=>e.toggling.map((e=>e.exclusive?"menuitemradio":"menuitemcheckbox")).getOr("menuitem"),xm=[to("data"),to("components"),to("dom"),bo("hasSubmenu",!1),uo("toggling"),gd("itemBehaviours",[cm,tm,zf,hd]),bo("ignoreFocus",!1),bo("domModification",{}),Ia("builder",(e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:wm(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:vd(e.itemBehaviours,[e.toggling.fold(cm.revoke,(e=>cm.config((e=>({aria:{mode:"checked"},...pe(e,((e,t)=>"exclusive"!==t)),onToggled:(t,n)=>{f(e.onToggled)&&e.onToggled(t,n),((e,t)=>{Di(e,fm,{item:e,state:t})})(t,n)}}))(e)))),tm.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:e=>{gm(e)}}),zf.config({mode:"execution"}),hd.config({store:{mode:"memory",initialValue:e.data}}),Xf("item-type-events",[...um(),ji(Zo(),mm),ji(hi(),tm.focus)])]),components:e.components,eventOrder:e.eventOrder}))),bo("eventOrder",{})],Em=[to("dom"),to("components"),Ia("builder",(e=>({dom:e.dom,components:e.components,events:Hi([$i(hi())])})))],Sm=w("item-widget"),Cm=w([zd({name:"widget",overrides:e=>({behaviours:Sl([hd.config({store:{mode:"manual",getValue:t=>e.data,setValue:v}})])})})]),Am=[to("uid"),to("data"),to("components"),to("dom"),bo("autofocus",!1),bo("ignoreFocus",!1),gd("widgetBehaviours",[hd,tm,zf]),bo("domModification",{}),ah(Cm()),Ia("builder",(e=>{const t=Jd(Sm(),e,Cm()),n=Qd(Sm(),e,t.internals()),r=t=>eh(t,e,"widget").map((e=>(zf.focusIn(e),e))),o=(t,n)=>gh(n.event.target)?M.none():e.autofocus?(n.setSource(t.element),M.none()):M.none();return{dom:e.dom,components:n,domModification:e.domModification,events:Hi([Qi(((e,t)=>{r(e).each((e=>{t.stop()}))})),ji(Zo(),mm),ji(hi(),((t,n)=>{e.autofocus?r(t):tm.focus(t)}))]),behaviours:vd(e.widgetBehaviours,[hd.config({store:{mode:"memory",initialValue:e.data}}),tm.config({ignore:e.ignoreFocus,onFocus:e=>{gm(e)}}),zf.config({mode:"special",focusIn:e.autofocus?e=>{r(e)}:Tl(),onLeft:o,onRight:o,onEscape:(t,n)=>tm.isFocused(t)||e.autofocus?e.autofocus?(n.setSource(t.element),M.none()):M.none():(tm.focus(t),M.some(!0))})])}}))],_m=Xr("type",{widget:Am,item:xm,separator:Em}),km=w([Ud({factory:{sketch:e=>{const t=$r("menu.spec item",_m,e);return t.builder(t)}},name:"items",unit:"item",defaults:(e,t)=>ye(t,"uid")?t:{...t,uid:ms("item")},overrides:(e,t)=>({type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),Tm=w([to("value"),to("items"),to("dom"),to("components"),bo("eventOrder",{}),pd("menuBehaviours",[Uh,hd,bh,zf]),wo("movement",{mode:"menu",moveOnTab:!0},Xr("mode",{grid:[Fa(),Ia("config",((e,t)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager})))],matrix:[Ia("config",((e,t)=>({mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},previousSelector:t.previousSelector,focusManager:e.focusManager}))),to("rowSelector"),bo("previousSelector",M.none)],menu:[bo("moveOnTab",!0),Ia("config",((e,t)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager})))]})),no("markers",_a()),bo("fakeFocus",!1),bo("focusManager",up()),Oa("onHighlight"),Oa("onDehighlight")]),Mm=w("alloy.menu-focus"),Pm=mh({name:"Menu",configFields:Tm(),partFields:km(),factory:(e,t,n,r)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:md(e.menuBehaviours,[Uh.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),hd.config({store:{mode:"memory",initialValue:e.value}}),bh.config({find:M.some}),zf.config(e.movement.config(e,e.movement))]),events:Hi([ji(ym(),((e,t)=>{const n=t.event;e.getSystem().getByDom(n.target).each((n=>{Uh.highlight(e,n),t.stop(),Di(e,Mm(),{menu:e,item:n})}))})),ji(vm(),((e,t)=>{const n=t.event.item;Uh.highlight(e,n)})),ji(bm(),((e,t)=>{const{item:n,state:r}=t.event;r&&"menuitemradio"===At(n.element,"role")&&((e,t)=>{const n=Zc(e.element,'[role="menuitemradio"][aria-checked="true"]');z(n,(n=>{Je(n,t.element)||e.getSystem().getByDom(n).each((e=>{cm.off(e)}))}))})(e,n)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}})}),Om=(e,t,n,r)=>ve(n,r).bind((r=>ve(e,r).bind((r=>{const o=Om(e,t,n,r);return M.some([r].concat(o))})))).getOr([]),Rm=e=>"prepared"===e.type?M.some(e.menu):M.none(),Nm=()=>{const e=To({}),t=To({}),n=To({}),r=Ql(),o=To({}),i=e=>s(e).bind(Rm),s=e=>ve(t.get(),e),a=t=>ve(e.get(),t);return{setMenuBuilt:(e,n)=>{t.set({...t.get(),[e]:{type:"prepared",menu:n}})},setContents:(i,s,a,l)=>{r.set(i),e.set(a),t.set(s),o.set(l);const c=((e,t)=>{const n={};le(e,((e,t)=>{z(e,(e=>{n[e]=t}))}));const r=t,o=ue(t,((e,t)=>({k:e,v:t}))),i=ce(o,((e,t)=>[t].concat(Om(n,r,o,t))));return ce(n,(e=>ve(i,e).getOr([e])))})(l,a);n.set(c)},expand:t=>ve(e.get(),t).map((e=>{const r=ve(n.get(),t).getOr([]);return[e].concat(r)})),refresh:e=>ve(n.get(),e),collapse:e=>ve(n.get(),e).bind((e=>e.length>1?M.some(e.slice(1)):M.none())),lookupMenu:s,lookupItem:a,otherMenus:e=>{const t=o.get();return Y(se(t),e)},getPrimary:()=>r.get().bind(i),getMenus:()=>t.get(),clear:()=>{e.set({}),t.set({}),n.set({}),r.clear()},isClear:()=>r.get().isNone(),getTriggeringPath:(t,o)=>{const s=j(a(t).toArray(),(e=>i(e).isSome()));return ve(n.get(),t).bind((t=>{const n=X(s.concat(t));return(e=>{const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(!r.isSome())return M.none();t.push(r.getOrDie())}return M.some(t)})($(n,((t,s)=>((t,n,r)=>i(t).bind((o=>(t=>me(e.get(),((e,n)=>e===t)))(t).bind((e=>n(e).map((e=>({triggeredMenu:o,triggeringItem:e,triggeringPath:r}))))))))(t,o,n.slice(0,s+1)).fold((()=>we(r.get(),t)?[]:[M.none()]),(e=>[M.some(e)])))))}))}}},Dm=Rm,Im=ls("tiered-menu-item-highlight"),Bm=ls("tiered-menu-item-dehighlight");var Fm;!function(e){e[e.HighlightMenuAndItem=0]="HighlightMenuAndItem",e[e.HighlightJustMenu=1]="HighlightJustMenu",e[e.HighlightNone=2]="HighlightNone"}(Fm||(Fm={}));const Lm=w("collapse-item"),Hm=fh({name:"TieredMenu",configFields:[Da("onExecute"),Da("onEscape"),Na("onOpenMenu"),Na("onOpenSubmenu"),Oa("onRepositionMenu"),Oa("onCollapseMenu"),bo("highlightOnOpen",Fm.HighlightMenuAndItem),ao("data",[to("primary"),to("menus"),to("expansions")]),bo("fakeFocus",!1),Oa("onHighlightItem"),Oa("onDehighlightItem"),Oa("onHover"),Ta(),to("dom"),bo("navigateOnHover",!0),bo("stayInDom",!1),pd("tmenuBehaviours",[zf,Uh,bh,Kf]),bo("eventOrder",{})],apis:{collapseMenu:(e,t)=>{e.collapseMenu(t)},highlightPrimary:(e,t)=>{e.highlightPrimary(t)},repositionMenus:(e,t)=>{e.repositionMenus(t)}},factory:(e,t)=>{const n=Ql(),r=Nm(),o=e=>hd.getValue(e).value,i=t=>ce(e.data.menus,((e,t)=>$(e.items,(e=>"separator"===e.type?[]:[e.data.value])))),s=Uh.highlight,a=(t,n)=>{s(t,n),Uh.getHighlighted(n).orThunk((()=>Uh.getFirst(n))).each((r=>{e.fakeFocus?Uh.highlight(n,r):Bi(t,r.element,hi())}))},l=(e,t)=>xe(H(t,(t=>e.lookupMenu(t).bind((e=>"prepared"===e.type?M.some(e.menu):M.none()))))),c=(t,n,r)=>{const o=l(n,n.otherMenus(r));z(o,(n=>{Gs(n.element,[e.markers.backgroundMenu]),e.stayInDom||Kf.remove(t,n)}))},u=(t,r)=>{const i=(t=>n.get().getOrThunk((()=>{const r={},i=Zc(t.element,`.${e.markers.item}`),s=j(i,(e=>"true"===At(e,"aria-haspopup")));return z(s,(e=>{t.getSystem().getByDom(e).each((e=>{const t=o(e);r[t]=e}))})),n.set(r),r})))(t);le(i,((e,t)=>{const n=I(r,t);St(e.element,"aria-expanded",n)}))},d=(t,n,r)=>M.from(r[0]).bind((o=>n.lookupMenu(o).bind((o=>{if("notbuilt"===o.type)return M.none();{const i=o.menu,s=l(n,r.slice(1));return z(s,(t=>{zs(t.element,e.markers.backgroundMenu)})),bt(i.element)||Kf.append(t,sa(i)),Gs(i.element,[e.markers.backgroundMenu]),a(t,i),c(t,n,r),M.some(i)}}))));let h;!function(e){e[e.HighlightSubmenu=0]="HighlightSubmenu",e[e.HighlightParent=1]="HighlightParent"}(h||(h={}));const p=(t,n,i=h.HighlightSubmenu)=>{if(n.hasConfigured(Nh)&&Nh.isDisabled(n))return M.some(n);{const s=o(n);return r.expand(s).bind((o=>(u(t,o),M.from(o[0]).bind((s=>r.lookupMenu(s).bind((a=>{const l=((e,t,n)=>{if("notbuilt"===n.type){const o=e.getSystem().build(n.nbMenu());return r.setMenuBuilt(t,o),o}return n.menu})(t,s,a);return bt(l.element)||Kf.append(t,sa(l)),e.onOpenSubmenu(t,n,l,X(o)),i===h.HighlightSubmenu?(Uh.highlightFirst(l),d(t,r,o)):(Uh.dehighlightAll(l),M.some(n))})))))))}},f=(t,n)=>{const i=o(n);return r.collapse(i).bind((o=>(u(t,o),d(t,r,o).map((r=>(e.onCollapseMenu(t,n,r),r))))))},m=t=>(n,r)=>ma(r.getSource(),`.${e.markers.item}`).bind((e=>n.getSystem().getByDom(e).toOptional().bind((e=>t(n,e).map(T))))),g=Hi([ji(Mm(),((e,t)=>{const n=t.event.item;r.lookupItem(o(n)).each((()=>{const n=t.event.menu;Uh.highlight(e,n);const i=o(t.event.item);r.refresh(i).each((t=>c(e,r,t)))}))})),Qi(((t,n)=>{const r=n.event.target;t.getSystem().getByDom(r).each((n=>{0===o(n).indexOf("collapse-item")&&f(t,n),p(t,n,h.HighlightSubmenu).fold((()=>{e.onExecute(t,n)}),v)}))})),Xi(((t,n)=>{(t=>{const n=((t,n,r)=>ce(r,((r,o)=>{const i=()=>Pm.sketch({...r,value:o,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(e,t)=>{Di(e,Im,{menuComp:e,itemComp:t})},onDehighlight:(e,t)=>{Di(e,Bm,{menuComp:e,itemComp:t})},focusManager:e.fakeFocus?dp():up()});return o===n?{type:"prepared",menu:t.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}})))(t,e.data.primary,e.data.menus),o=i();return r.setContents(e.data.primary,n,e.data.expansions,o),r.getPrimary()})(t).each((n=>{Kf.append(t,sa(n)),e.onOpenMenu(t,n),e.highlightOnOpen===Fm.HighlightMenuAndItem?a(t,n):e.highlightOnOpen===Fm.HighlightJustMenu&&s(t,n)}))})),ji(Im,((t,n)=>{e.onHighlightItem(t,n.event.menuComp,n.event.itemComp)})),ji(Bm,((t,n)=>{e.onDehighlightItem(t,n.event.menuComp,n.event.itemComp)})),...e.navigateOnHover?[ji(vm(),((t,n)=>{const i=n.event.item;((e,t)=>{const n=o(t);r.refresh(n).bind((t=>(u(e,t),d(e,r,t))))})(t,i),p(t,i,h.HighlightParent),e.onHover(t,i)}))]:[]]),y=e=>Uh.getHighlighted(e).bind(Uh.getHighlighted),b={collapseMenu:e=>{y(e).each((t=>{f(e,t)}))},highlightPrimary:e=>{r.getPrimary().each((t=>{a(e,t)}))},repositionMenus:t=>{const n=r.getPrimary().bind((e=>y(t).bind((e=>{const t=o(e),n=ge(r.getMenus()),i=xe(H(n,Dm));return r.getTriggeringPath(t,(e=>((e,t,n)=>ie(t,(e=>{if(!e.getSystem().isConnected())return M.none();const t=Uh.getCandidates(e);return q(t,(e=>o(e)===n))})))(0,i,e)))})).map((t=>({primary:e,triggeringPath:t})))));n.fold((()=>{(e=>M.from(e.components()[0]).filter((e=>"menu"===At(e.element,"role"))))(t).each((n=>{e.onRepositionMenu(t,n,[])}))}),(({primary:n,triggeringPath:r})=>{e.onRepositionMenu(t,n,r)}))}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:md(e.tmenuBehaviours,[zf.config({mode:"special",onRight:m(((e,t)=>gh(t.element)?M.none():p(e,t,h.HighlightSubmenu))),onLeft:m(((e,t)=>gh(t.element)?M.none():f(e,t))),onEscape:m(((t,n)=>f(t,n).orThunk((()=>e.onEscape(t,n).map((()=>t)))))),focusIn:(e,t)=>{r.getPrimary().each((t=>{Bi(e,t.element,hi())}))}}),Uh.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),bh.config({find:e=>Uh.getHighlighted(e)}),Kf.config({})]),eventOrder:e.eventOrder,apis:b,events:g}},extraApis:{tieredData:(e,t,n)=>({primary:e,menus:t,expansions:n}),singleData:(e,t)=>({primary:e,menus:Po(e,t),expansions:{}}),collapseItem:e=>({value:ls(Lm()),meta:{text:e}})}}),zm=fh({name:"InlineView",configFields:[to("lazySink"),Oa("onShow"),Oa("onHide"),go("onEscape"),pd("inlineBehaviours",[Wu,hd,Ml]),yo("fireDismissalEventInstead",[bo("event",Ci())]),yo("fireRepositionEventInstead",[bo("event",Ai())]),bo("getRelated",M.none),bo("isExtraPart",k),bo("eventOrder",M.none)],factory:(e,t)=>{const n=(t,n,r,o)=>{const i=e.lazySink(t).getOrDie();Wu.openWhileCloaked(t,n,(()=>wu.positionWithinBounds(i,t,r,o()))),hd.setValue(t,M.some({mode:"position",config:r,getBounds:o}))},r=(t,n,r,o)=>{const i=((e,t,n,r,o)=>{const i=()=>e.lazySink(t),s="horizontal"===r.type?{layouts:{onLtr:()=>gl(),onRtl:()=>vl()}}:{},a=e=>(e=>2===e.length)(e)?s:{};return Hm.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightOnOpen:r.menu.highlightOnOpen,fakeFocus:r.menu.fakeFocus,onEscape:()=>(Wu.close(t),e.onEscape.map((e=>e(t))),M.some(!0)),onExecute:()=>M.some(!0),onOpenMenu:(e,t)=>{wu.positionWithinBounds(i().getOrDie(),t,n,o())},onOpenSubmenu:(e,t,n,r)=>{const o=i().getOrDie();wu.position(o,n,{anchor:{type:"submenu",item:t,...a(r)}})},onRepositionMenu:(e,t,r)=>{const s=i().getOrDie();wu.positionWithinBounds(s,t,n,o()),z(r,(e=>{const t=a(e.triggeringPath);wu.position(s,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem,...t}})}))}})})(e,t,n,r,o);Wu.open(t,i),hd.setValue(t,M.some({mode:"menu",menu:i}))},o=t=>{Wu.isOpen(t)&&hd.getValue(t).each((n=>{switch(n.mode){case"menu":Wu.getState(t).each(Hm.repositionMenus);break;case"position":const r=e.lazySink(t).getOrDie();wu.positionWithinBounds(r,t,n.config,n.getBounds())}}))},i={setContent:(e,t)=>{Wu.setContent(e,t)},showAt:(e,t,r)=>{const o=M.none;n(e,t,r,o)},showWithinBounds:n,showMenuAt:(e,t,n)=>{r(e,t,n,M.none)},showMenuWithinBounds:r,hide:e=>{Wu.isOpen(e)&&(hd.setValue(e,M.none()),Wu.close(e))},getContent:e=>Wu.getState(e),reposition:o,isOpen:Wu.isOpen};return{uid:e.uid,dom:e.dom,behaviours:md(e.inlineBehaviours,[Wu.config({isPartOf:(t,n,r)=>ya(n,r)||((t,n)=>e.getRelated(t).exists((e=>ya(e,n))))(t,r),getAttachPoint:t=>e.lazySink(t).getOrDie(),onOpen:t=>{e.onShow(t)},onClose:t=>{e.onHide(t)}}),hd.config({store:{mode:"memory",initialValue:M.none()}}),Ml.config({channels:{...Yu({isExtraPart:t.isExtraPart,...e.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...Qu({...e.fireRepositionEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({}),doReposition:o})}})]),eventOrder:e.eventOrder,apis:i}},apis:{showAt:(e,t,n,r)=>{e.showAt(t,n,r)},showWithinBounds:(e,t,n,r,o)=>{e.showWithinBounds(t,n,r,o)},showMenuAt:(e,t,n,r)=>{e.showMenuAt(t,n,r)},showMenuWithinBounds:(e,t,n,r,o)=>{e.showMenuWithinBounds(t,n,r,o)},hide:(e,t)=>{e.hide(t)},isOpen:(e,t)=>e.isOpen(t),getContent:(e,t)=>e.getContent(t),setContent:(e,t,n)=>{e.setContent(t,n)},reposition:(e,t)=>{e.reposition(t)}}});var Vm=tinymce.util.Tools.resolve("tinymce.util.Delay");const jm=fh({name:"Button",factory:e=>{const t=dm(e.action),n=e.dom.tag,r=t=>ve(e.dom,"attributes").bind((e=>ve(e,t)));return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:vd(e.buttonBehaviours,[tm.config({}),zf.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:"button"===n?{type:r("type").getOr("button"),...r("role").map((e=>({role:e}))).getOr({})}:{role:e.role.getOr(r("role").getOr("button"))}},eventOrder:e.eventOrder}},configFields:[bo("uid",void 0),to("dom"),bo("components",[]),gd("buttonBehaviours",[tm,zf]),uo("action"),uo("role"),bo("eventOrder",{})]}),Um=e=>{const t=(e=>void 0!==e.uid)(e)&&be(e,"uid")?e.uid:ms("memento");return{get:e=>e.getSystem().getByUid(t).getOrDie(),getOpt:e=>e.getSystem().getByUid(t).toOptional(),asSpec:()=>({...e,uid:t})}};var Gm=tinymce.util.Tools.resolve("tinymce.util.I18n");const qm={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},Wm="temporary-placeholder",Zm=e=>()=>ve(e,Wm).getOr("!not found!"),$m=(e,t)=>{const n=e.toLowerCase();if(Gm.isRtl()){const e=((e,t)=>Me(e,t)?e:((e,t)=>e+t)(e,t))(n,"-rtl");return ye(t,e)?e:n}return n},Km=(e,t)=>ve(t,$m(e,t)),Xm=(e,t)=>{const n=t();return Km(e,n).getOrThunk(Zm(n))},Ym=()=>Xf("add-focusable",[Xi((e=>{pa(e.element,"svg").each((e=>St(e,"focusable","false")))}))]),Jm=(e,t,n,r)=>{var o,i;const s=(e=>!!Gm.isRtl()&&ye(qm,e))(t)?["tox-icon--flip"]:[],a=ve(n,$m(t,n)).or(r).getOrThunk(Zm(n));return{dom:{tag:e.tag,attributes:null!==(o=e.attributes)&&void 0!==o?o:{},classes:e.classes.concat(s),innerHtml:a},behaviours:Sl([...null!==(i=e.behaviours)&&void 0!==i?i:[],Ym()])}},Qm=(e,t,n,r=M.none())=>Jm(t,e,n(),r),eg={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},tg=fh({name:"Notification",factory:e=>{const t=Um({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:Sl([Kf.config({})])}),n=e=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${e}%`}}}),r=e=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${e}%`}}),o=Um({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:Sl([Kf.config({})])}),i={updateProgress:(e,t)=>{e.getSystem().isConnected()&&o.getOpt(e).each((e=>{Kf.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(t)]},r(t)])}))},updateText:(e,n)=>{if(e.getSystem().isConnected()){const r=t.get(e);Kf.set(r,[ta(n)])}}},s=Z([e.icon.toArray(),e.level.toArray(),e.level.bind((e=>M.from(eg[e]))).toArray()]),a=Um(jm.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Qm("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:t=>{e.onAction(t)}})),l=((e,t,n)=>{const r=n(),o=q(e,(e=>ye(r,$m(e,r))));return Jm({tag:"div",classes:["tox-notification__icon"]},o.getOr(Wm),r,M.none())})(s,0,e.iconProvider),c=[l,{dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:Sl([Kf.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((e=>["tox-notification","tox-notification--in",`tox-notification--${e}`])).getOr(["tox-notification","tox-notification--in"])},behaviours:Sl([tm.config({}),Xf("notification-events",[ji($o(),(e=>{a.getOpt(e).each(tm.focus)}))])]),components:c.concat(e.progress?[o.asSpec()]:[]).concat(e.closeButton?[a.asSpec()]:[]),apis:i}},configFields:[uo("level"),to("progress"),uo("icon"),to("onAction"),to("text"),to("iconProvider"),to("translationProvider"),Co("closeButton",!0)],apis:{updateProgress:(e,t,n)=>{e.updateProgress(t,n)},updateText:(e,t,n)=>{e.updateText(t,n)}}});var ng,rg,og=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ig=tinymce.util.Tools.resolve("tinymce.EditorManager"),sg=tinymce.util.Tools.resolve("tinymce.Env");!function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"}(ng||(ng={})),function(e){e.auto="auto",e.top="top",e.bottom="bottom"}(rg||(rg={}));const ag=e=>t=>t.options.get(e),lg=e=>t=>M.from(e(t)),cg=e=>{const t=sg.deviceType.isPhone(),n=sg.deviceType.isTablet()||t,r=e.options.register,o=e=>i(e)||!1===e,s=e=>i(e)||m(e);r("skin",{processor:e=>i(e)||!1===e,default:"oxide"}),r("skin_url",{processor:"string"}),r("height",{processor:s,default:Math.max(e.getElement().offsetHeight,400)}),r("width",{processor:s,default:og.DOM.getStyle(e.getElement(),"width")}),r("min_height",{processor:"number",default:100}),r("min_width",{processor:"number"}),r("max_height",{processor:"number"}),r("max_width",{processor:"number"}),r("style_formats",{processor:"object[]"}),r("style_formats_merge",{processor:"boolean",default:!1}),r("style_formats_autohide",{processor:"boolean",default:!1}),r("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),r("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),r("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),r("font_size_input_default_unit",{processor:"string",default:"pt"}),r("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),r("content_langs",{processor:"object[]"}),r("removed_menuitems",{processor:"string",default:""}),r("menubar",{processor:e=>i(e)||u(e),default:!t}),r("menu",{processor:"object",default:{}}),r("toolbar",{processor:e=>u(e)||i(e)||l(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),F(9,(e=>{r("toolbar"+(e+1),{processor:"string"})})),r("toolbar_mode",{processor:"string",default:n?"scrolling":"floating"}),r("toolbar_groups",{processor:"object",default:{}}),r("toolbar_location",{processor:"string",default:rg.auto}),r("toolbar_persist",{processor:"boolean",default:!1}),r("toolbar_sticky",{processor:"boolean",default:e.inline}),r("toolbar_sticky_offset",{processor:"number",default:0}),r("fixed_toolbar_container",{processor:"string",default:""}),r("fixed_toolbar_container_target",{processor:"object"}),r("ui_mode",{processor:"string",default:"combined"}),r("file_picker_callback",{processor:"function"}),r("file_picker_validator_handler",{processor:"function"}),r("file_picker_types",{processor:"string"}),r("typeahead_urls",{processor:"boolean",default:!0}),r("anchor_top",{processor:o,default:"#top"}),r("anchor_bottom",{processor:o,default:"#bottom"}),r("draggable_modal",{processor:"boolean",default:!1}),r("statusbar",{processor:"boolean",default:!0}),r("elementpath",{processor:"boolean",default:!0}),r("branding",{processor:"boolean",default:!0}),r("promotion",{processor:"boolean",default:!0}),r("resize",{processor:e=>"both"===e||u(e),default:!sg.deviceType.isTouch()}),r("sidebar_show",{processor:"string"})},ug=ag("readonly"),dg=ag("height"),hg=ag("width"),pg=lg(ag("min_width")),fg=lg(ag("min_height")),mg=lg(ag("max_width")),gg=lg(ag("max_height")),vg=lg(ag("style_formats")),yg=ag("style_formats_merge"),bg=ag("style_formats_autohide"),wg=ag("content_langs"),xg=ag("removed_menuitems"),Eg=ag("toolbar_mode"),Sg=ag("toolbar_groups"),Cg=ag("toolbar_location"),Ag=ag("fixed_toolbar_container"),_g=ag("fixed_toolbar_container_target"),kg=ag("toolbar_persist"),Tg=ag("toolbar_sticky_offset"),Mg=ag("menubar"),Pg=ag("toolbar"),Og=ag("file_picker_callback"),Rg=ag("file_picker_validator_handler"),Ng=ag("font_size_input_default_unit"),Dg=ag("file_picker_types"),Ig=ag("typeahead_urls"),Bg=ag("anchor_top"),Fg=ag("anchor_bottom"),Lg=ag("draggable_modal"),Hg=ag("statusbar"),zg=ag("elementpath"),Vg=ag("branding"),jg=ag("resize"),Ug=ag("paste_as_text"),Gg=ag("sidebar_show"),qg=ag("promotion"),Wg=e=>!1===e.options.get("skin"),Zg=e=>!1!==e.options.get("menubar"),$g=e=>{const t=e.options.get("skin_url");if(Wg(e))return t;if(t)return e.documentBaseURI.toAbsolute(t);{const t=e.options.get("skin");return ig.baseURL+"/skins/ui/"+t}},Kg=e=>e.options.get("line_height_formats").split(" "),Xg=e=>{const t=Pg(e),n=i(t),r=l(t)&&t.length>0;return!Jg(e)&&(r||n||!0===t)},Yg=e=>{const t=F(9,(t=>e.options.get("toolbar"+(t+1)))),n=j(t,i);return Ce(n.length>0,n)},Jg=e=>Yg(e).fold((()=>{const t=Pg(e);return g(t,i)&&t.length>0}),T),Qg=e=>Cg(e)===rg.bottom,ev=e=>{var t;if(!e.inline)return M.none();const n=null!==(t=Ag(e))&&void 0!==t?t:"";if(n.length>0)return fa(wt(),n);const r=_g(e);return p(r)?M.some(Fe(r)):M.none()},tv=e=>e.inline&&ev(e).isSome(),nv=e=>ev(e).getOrThunk((()=>gt(mt(Fe(e.getElement()))))),rv=e=>e.inline&&!Zg(e)&&!Xg(e)&&!Jg(e),ov=e=>(e.options.get("toolbar_sticky")||e.inline)&&!tv(e)&&!rv(e),iv=e=>!tv(e)&&"split"===e.options.get("ui_mode"),sv=e=>{const t=e.options.get("menu");return ce(t,(e=>({...e,items:e.items})))};var av=Object.freeze({__proto__:null,get ToolbarMode(){return ng},get ToolbarLocation(){return rg},register:cg,getSkinUrl:$g,isReadOnly:ug,isSkinDisabled:Wg,getHeightOption:dg,getWidthOption:hg,getMinWidthOption:pg,getMinHeightOption:fg,getMaxWidthOption:mg,getMaxHeightOption:gg,getUserStyleFormats:vg,shouldMergeStyleFormats:yg,shouldAutoHideStyleFormats:bg,getLineHeightFormats:Kg,getContentLanguages:wg,getRemovedMenuItems:xg,isMenubarEnabled:Zg,isMultipleToolbars:Jg,isToolbarEnabled:Xg,isToolbarPersist:kg,getMultipleToolbarsOption:Yg,getUiContainer:nv,useFixedContainer:tv,isSplitUiMode:iv,getToolbarMode:Eg,isDraggableModal:Lg,isDistractionFree:rv,isStickyToolbar:ov,getStickyToolbarOffset:Tg,getToolbarLocation:Cg,isToolbarLocationBottom:Qg,getToolbarGroups:Sg,getMenus:sv,getMenubar:Mg,getToolbar:Pg,getFilePickerCallback:Og,getFilePickerTypes:Dg,useTypeaheadUrls:Ig,getAnchorTop:Bg,getAnchorBottom:Fg,getFilePickerValidatorHandler:Rg,getFontSizeInputDefaultUnit:Ng,useStatusBar:Hg,useElementPath:zg,promotionEnabled:qg,useBranding:Vg,getResize:jg,getPasteAsText:Ug,getSidebarShow:Gg});const lv="[data-mce-autocompleter]",cv=e=>ma(e,lv);var uv;!function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"}(uv||(uv={}));var dv=uv;const hv="tox-menu-nav__js",pv="tox-collection__item",fv="tox-swatch",mv={normal:hv,color:fv},gv="tox-collection__item--enabled",vv="tox-collection__item-icon",yv="tox-collection__item-label",bv="tox-collection__item-caret",wv="tox-collection__item--active",xv="tox-collection__item-container",Ev="tox-collection__item-container--row",Sv=e=>ve(mv,e).getOr(hv),Cv=e=>"color"===e?"tox-swatches":"tox-menu",Av=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:Cv(e),tieredMenu:"tox-tiered-menu"}),_v=e=>{const t=Av(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:Sv(e)}},kv=(e,t,n)=>{const r=Av(n);return{tag:"div",classes:Z([[r.menu,`tox-menu-${t}-column`],e?[r.hasIcons]:[]])}},Tv=[Pm.parts.items({})],Mv=(e,t,n)=>{const r=Av(n);return{dom:{tag:"div",classes:Z([[r.tieredMenu]])},markers:_v(n)}},Pv=w([uo("data"),bo("inputAttributes",{}),bo("inputStyles",{}),bo("tag","input"),bo("inputClasses",[]),Oa("onSetValue"),bo("styles",{}),bo("eventOrder",{}),pd("inputBehaviours",[hd,tm]),bo("selectOnFocus",!0)]),Ov=e=>Sl([tm.config({onFocus:e.selectOnFocus?e=>{const t=e.element,n=Ws(t);t.dom.setSelectionRange(0,n.length)}:v})]),Rv=e=>({...Ov(e),...md(e.inputBehaviours,[hd.config({store:{mode:"manual",...e.data.map((e=>({initialValue:e}))).getOr({}),getValue:e=>Ws(e.element),setValue:(e,t)=>{Ws(e.element)!==t&&Zs(e.element,t)}},onSetValue:e.onSetValue})])}),Nv=e=>({tag:e.tag,attributes:{type:"text",...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),Dv=fh({name:"Input",configFields:Pv(),factory:(e,t)=>({uid:e.uid,dom:Nv(e),components:[],behaviours:Rv(e),eventOrder:e.eventOrder})}),Iv=ls("refetch-trigger-event"),Bv=ls("redirect-menu-item-interaction"),Fv="tox-menu__searcher",Lv=e=>fa(e.element,`.${Fv}`).bind((t=>e.getSystem().getByDom(t).toOptional())),Hv=Lv,zv=e=>({fetchPattern:hd.getValue(e),selectionStart:e.element.dom.selectionStart,selectionEnd:e.element.dom.selectionEnd}),Vv=e=>{const t=(e,t)=>(t.cut(),M.none()),n=(e,t)=>{const n={interactionEvent:t.event,eventType:t.event.raw.type};return Di(e,Bv,n),M.some(!0)},r="searcher-events";return{dom:{tag:"div",classes:[pv]},components:[Dv.sketch({inputClasses:[Fv,"tox-textfield"],inputAttributes:{...e.placeholder.map((t=>({placeholder:e.i18n(t)}))).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Sl([Xf(r,[ji(Jo(),(e=>{Ni(e,Iv)})),ji(Xo(),((e,t)=>{"Escape"===t.event.raw.key&&t.stop()}))]),zf.config({mode:"special",onLeft:t,onRight:t,onSpace:t,onEnter:n,onEscape:n,onUp:n,onDown:n})]),eventOrder:{keydown:[r,zf.name()]}})]}},jv="tox-collection--results__js",Uv=e=>{var t;return e.dom?{...e,dom:{...e.dom,attributes:{...null!==(t=e.dom.attributes)&&void 0!==t?t:{},id:ls("aria-item-search-result-id"),"aria-selected":"false"}}}:e},Gv=(e,t)=>n=>{const r=L(n,t);return H(r,(t=>({dom:e,components:t})))},qv=(e,t)=>{const n=[];let r=[];return z(e,((e,o)=>{t(e,o)?(r.length>0&&n.push(r),r=[],(ye(e.dom,"innerHtml")||e.components&&e.components.length>0)&&r.push(e)):r.push(e)})),r.length>0&&n.push(r),H(n,(e=>({dom:{tag:"div",classes:["tox-collection__group"]},components:e})))},Wv=(e,t,n)=>Pm.parts.items({preprocess:r=>{const o=H(r,n);return"auto"!==e&&e>1?Gv({tag:"div",classes:["tox-collection__group"]},e)(o):qv(o,((e,n)=>"separator"===t[n].type))}}),Zv=(e,t,n=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[Wv(e,t,x)]}),$v=e=>B(e,(e=>"icon"in e&&void 0!==e.icon)),Kv=e=>(console.error(Kr(e)),console.log(e),M.none()),Xv=(e,t,n,r,o)=>{const i=(s=n,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Pm.parts.items({preprocess:e=>qv(e,((e,t)=>"separator"===s[t].type))})]});var s;return{value:e,dom:i.dom,components:i.components,items:n}},Yv=(e,t,n,r,o)=>{if("color"===o.menuType){const t=(e=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Pm.parts.items({preprocess:"auto"!==e?Gv({tag:"div",classes:["tox-swatches__row"]},e):x})]}]}))(r);return{value:e,dom:t.dom,components:t.components,items:n}}if("normal"===o.menuType&&"auto"===r){const t=Zv(r,n);return{value:e,dom:t.dom,components:t.components,items:n}}if("normal"===o.menuType||"searchable"===o.menuType){const t="searchable"!==o.menuType?Zv(r,n):"search-with-field"===o.searchMode.searchMode?((e,t,n)=>{const r=ls("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[Vv({i18n:Gm.translate,placeholder:n.placeholder}),{dom:{tag:"div",classes:[...1===e?["tox-collection--list"]:["tox-collection--grid"],jv],attributes:{id:r}},components:[Wv(e,t,Uv)]}]}})(r,n,o.searchMode):((e,t,n=!0)=>{const r=ls("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",jv].concat(1===e?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:r}},components:[Wv(e,t,Uv)]}})(r,n);return{value:e,dom:t.dom,components:t.components,items:n}}if("listpreview"===o.menuType&&"auto"!==r){const t=(e=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Pm.parts.items({preprocess:Gv({tag:"div",classes:["tox-collection__group"]},e)})]}))(r);return{value:e,dom:t.dom,components:t.components,items:n}}return{value:e,dom:kv(t,r,o.menuType),components:Tv,items:n}},Jv=oo("type"),Qv=oo("name"),ey=oo("label"),ty=oo("text"),ny=oo("title"),ry=oo("icon"),oy=oo("value"),iy=so("fetch"),sy=so("getSubmenuItems"),ay=so("onAction"),ly=so("onItemAction"),cy=Ao("onSetup",(()=>v)),uy=fo("name"),dy=fo("text"),hy=fo("icon"),py=fo("tooltip"),fy=fo("label"),my=fo("shortcut"),gy=go("select"),vy=Co("active",!1),yy=Co("borderless",!1),by=Co("enabled",!0),wy=Co("primary",!1),xy=e=>bo("columns",e),Ey=bo("meta",{}),Sy=Ao("onAction",v),Cy=e=>Eo("type",e),Ay=e=>Jr("name","name",vr((()=>ls(`${e}-name`))),Lr),_y=Pr([Jv,dy]),ky=Pr([Cy("autocompleteitem"),vy,by,Ey,oy,dy,hy]),Ty=[by,py,hy,dy,cy],My=Pr([Jv,ay].concat(Ty)),Py=e=>Wr("toolbarbutton",My,e),Oy=[vy].concat(Ty),Ry=Pr(Oy.concat([Jv,ay])),Ny=e=>Wr("ToggleButton",Ry,e),Dy=[Ao("predicate",k),So("scope","node",["node","editor"]),So("position","selection",["node","selection","line"])],Iy=Ty.concat([Cy("contextformbutton"),wy,ay,Qr("original",x)]),By=Oy.concat([Cy("contextformbutton"),wy,ay,Qr("original",x)]),Fy=Ty.concat([Cy("contextformbutton")]),Ly=Oy.concat([Cy("contextformtogglebutton")]),Hy=Xr("type",{contextformbutton:Iy,contextformtogglebutton:By}),zy=Pr([Cy("contextform"),Ao("initValue",w("")),fy,co("commands",Hy),ho("launch",Xr("type",{contextformbutton:Fy,contextformtogglebutton:Ly}))].concat(Dy)),Vy=Pr([Cy("contexttoolbar"),oo("items")].concat(Dy)),jy=[Jv,oo("src"),fo("alt"),_o("classes",[],Lr)],Uy=Pr(jy),Gy=[Jv,ty,uy,_o("classes",["tox-collection__item-label"],Lr)],qy=Pr(Gy),Wy=kr((()=>Ur("type",{cardimage:Uy,cardtext:qy,cardcontainer:Zy}))),Zy=Pr([Jv,Eo("direction","horizontal"),Eo("align","left"),Eo("valign","middle"),co("items",Wy)]),$y=[by,dy,my,("menuitem",Jr("value","value",vr((()=>ls("menuitem-value"))),Ir())),Ey];const Ky=Pr([Jv,fy,co("items",Wy),cy,Sy].concat($y)),Xy=Pr([Jv,vy,hy].concat($y)),Yy=[Jv,oo("fancytype"),Sy],Jy=[bo("initData",{})].concat(Yy),Qy=[go("select"),ko("initData",{},[Co("allowCustomColors",!0),Eo("storageKey","default"),vo("colors",Ir())])].concat(Yy),eb=Xr("fancytype",{inserttable:Jy,colorswatch:Qy}),tb=Pr([Jv,cy,Sy,hy].concat($y)),nb=Pr([Jv,sy,cy,hy].concat($y)),rb=Pr([Jv,hy,vy,cy,ay].concat($y)),ob=(e,t,n)=>{const r=Zc(e.element,"."+n);if(r.length>0){const e=W(r,(e=>{const n=e.dom.getBoundingClientRect().top,o=r[0].dom.getBoundingClientRect().top;return Math.abs(n-o)>t})).getOr(r.length);return M.some({numColumns:e,numRows:Math.ceil(r.length/e)})}return M.none()},ib=e=>((e,t)=>Sl([Xf(e,t)]))(ls("unnamed-events"),e),sb=ls("tooltip.exclusive"),ab=ls("tooltip.show"),lb=ls("tooltip.hide"),cb=(e,t,n)=>{e.getSystem().broadcastOn([sb],{})};var ub=Object.freeze({__proto__:null,hideAllExclusive:cb,setComponents:(e,t,n,r)=>{n.getTooltip().each((e=>{e.getSystem().isConnected()&&Kf.set(e,r)}))}}),db=Object.freeze({__proto__:null,events:(e,t)=>{const n=n=>{t.getTooltip().each((r=>{Pu(r),e.onHide(n,r),t.clearTooltip()})),t.clearTimer()};return Hi(Z([[ji(ab,(n=>{t.resetTimer((()=>{(n=>{if(!t.isShowing()){cb(n);const r=e.lazySink(n).getOrDie(),o=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Hi("normal"===e.mode?[ji(Zo(),(e=>{Ni(n,ab)})),ji(qo(),(e=>{Ni(n,lb)}))]:[]),behaviours:Sl([Kf.config({})])});t.setTooltip(o),ku(r,o),e.onShow(n,o),wu.position(r,o,{anchor:e.anchor(n)})}})(n)}),e.delay)})),ji(lb,(r=>{t.resetTimer((()=>{n(r)}),e.delay)})),ji(ui(),((e,t)=>{const r=t;r.universal||I(r.channels,sb)&&n(e)})),Yi((e=>{n(e)}))],"normal"===e.mode?[ji($o(),(e=>{Ni(e,ab)})),ji(li(),(e=>{Ni(e,lb)})),ji(Zo(),(e=>{Ni(e,ab)})),ji(qo(),(e=>{Ni(e,lb)}))]:[ji(Oi(),((e,t)=>{Ni(e,ab)})),ji(Ri(),(e=>{Ni(e,lb)}))]]))}}),hb=[to("lazySink"),to("tooltipDom"),bo("exclusive",!0),bo("tooltipComponents",[]),bo("delay",300),So("mode","normal",["normal","follow-highlight"]),bo("anchor",(e=>({type:"hotspot",hotspot:e,layouts:{onLtr:w([cl,ll,ol,sl,il,al]),onRtl:w([cl,ll,ol,sl,il,al])}}))),Oa("onHide"),Oa("onShow")],pb=Object.freeze({__proto__:null,init:()=>{const e=Ql(),t=Ql(),n=()=>{e.on(clearTimeout)},r=w("not-implemented");return _s({getTooltip:t.get,isShowing:t.isSet,setTooltip:t.set,clearTooltip:t.clear,clearTimer:n,resetTimer:(t,r)=>{n(),e.set(setTimeout(t,r))},readState:r})}});const fb=Al({fields:hb,name:"tooltipping",active:db,state:pb,apis:ub}),mb="silver.readonly",gb=Pr([("readonly",no("readonly",Hr))]);const vb=(e,t)=>{const n=e.mainUi.outerContainer.element,r=[e.mainUi.mothership,...e.uiMotherships];t&&z(r,(e=>{e.broadcastOn([Zu()],{target:n})})),z(r,(e=>{e.broadcastOn([mb],{readonly:t})}))},yb=(e,t)=>{e.on("init",(()=>{e.mode.isReadOnly()&&vb(t,!0)})),e.on("SwitchMode",(()=>vb(t,e.mode.isReadOnly()))),ug(e)&&e.mode.set("readonly")},bb=()=>Ml.config({channels:{[mb]:{schema:gb,onReceive:(e,t)=>{Nh.set(e,t.readonly)}}}}),wb=e=>Nh.config({disabled:e}),xb=e=>Nh.config({disabled:e,disableClass:"tox-tbtn--disabled"}),Eb=e=>Nh.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1}),Sb=(e,t)=>{const n=e.getApi(t);return e=>{e(n)}},Cb=(e,t)=>Xi((n=>{Sb(e,n)((n=>{const r=e.onSetup(n);f(r)&&t.set(r)}))})),Ab=(e,t)=>Yi((n=>Sb(e,n)(t.get()))),_b=(e,t)=>Qi(((n,r)=>{Sb(e,n)(e.onAction),e.triggersSubmenu||t!==dv.CLOSE_ON_EXECUTE||(n.getSystem().isConnected()&&Ni(n,mi()),r.stop())})),kb={[di()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Tb=xe,Mb=(e,t,n,r)=>{const o=To(v);return{type:"item",dom:t.dom,components:Tb(t.optComponents),data:e.data,eventOrder:kb,hasSubmenu:e.triggersSubmenu,itemBehaviours:Sl([Xf("item-events",[_b(e,n),Cb(e,o),Ab(e,o)]),(i=()=>!e.enabled||r.isDisabled(),Nh.config({disabled:i,disableClass:"tox-collection__item--state-disabled"})),bb(),Kf.config({})].concat(e.itemBehaviours))};var i},Pb=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}}),Ob=e=>{const t=sg.os.isMacOS()||sg.os.isiOS(),n=t?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},r=e.split("+"),o=H(r,(e=>{const t=e.toLowerCase().trim();return ye(n,t)?n[t]:e}));return t?o.join(""):o.join("+")},Rb=(e,t,n=[vv])=>Qm(e,{tag:"div",classes:n},t),Nb=e=>({dom:{tag:"div",classes:[yv]},components:[ta(Gm.translate(e))]}),Db=(e,t)=>({dom:{tag:"div",classes:t,innerHtml:e}}),Ib=(e,t)=>({dom:{tag:"div",classes:[yv]},components:[{dom:{tag:e.tag,styles:e.styles},components:[ta(Gm.translate(t))]}]}),Bb=e=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[ta(Ob(e))]}),Fb=e=>Rb("checkmark",e,["tox-collection__item-checkmark"]),Lb=e=>{const t=e.map((e=>({attributes:{title:Gm.translate(e)}}))).getOr({});return{tag:"div",classes:[hv,pv],...t}},Hb=(e,t,n,r=M.none())=>"color"===e.presets?((e,t,n)=>{const r=e.ariaLabel,o=e.value,i=e.iconContent.map((e=>((e,t,n)=>{const r=t();return Km(e,r).or(n).getOrThunk(Zm(r))})(e,t.icons,n)));return{dom:(()=>{const e=fv,n=i.getOr(""),s=r.map((e=>({title:t.translate(e)}))).getOr({}),a={tag:"div",attributes:s,classes:[e]};return"custom"===o?{...a,tag:"button",classes:[...a.classes,"tox-swatches__picker-btn"],innerHtml:n}:"remove"===o?{...a,classes:[...a.classes,"tox-swatch--remove"],innerHtml:n}:p(o)?{...a,attributes:{...a.attributes,"data-mce-color":o},styles:{"background-color":o},innerHtml:n}:a})(),optComponents:[]}})(e,t,r):((e,t,n,r)=>{const o={tag:"div",classes:[vv]},i=n?e.iconContent.map((e=>Qm(e,o,t.icons,r))).orThunk((()=>M.some({dom:o}))):M.none(),s=e.checkMark,a=M.from(e.meta).fold((()=>Nb),(e=>ye(e,"style")?S(Ib,e.style):Nb)),l=e.htmlContent.fold((()=>e.textContent.map(a)),(e=>M.some(Db(e,[yv]))));return{dom:Lb(e.ariaLabel),optComponents:[i,l,e.shortcutContent.map(Bb),s,e.caret]}})(e,t,n,r),zb=(e,t)=>ve(e,"tooltipWorker").map((e=>[fb.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:e=>({type:"submenu",item:e,overrides:{maxHeightFunction:cc}}),mode:"follow-highlight",onShow:(t,n)=>{e((e=>{fb.setComponents(t,[na({element:Fe(e)})])}))}})])).getOr([]),Vb=(e,t)=>{const n=(e=>og.DOM.encode(e))(Gm.translate(e));if(t.length>0){const e=new RegExp((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(t),"gi");return n.replace(e,(e=>`<span class="tox-autocompleter-highlight">${e}</span>`))}return n},jb=(e,t)=>H(e,(e=>{switch(e.type){case"cardcontainer":return((e,t)=>{const n="vertical"===e.direction?"tox-collection__item-container--column":Ev,r="left"===e.align?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[xv,n,r,(()=>{switch(e.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:t}})(e,jb(e.items,t));case"cardimage":return((e,t,n)=>({dom:{tag:"img",classes:t,attributes:{src:e,alt:n.getOr("")}}}))(e.src,e.classes,e.alt);case"cardtext":const n=e.name.exists((e=>I(t.cardText.highlightOn,e))),r=n?M.from(t.cardText.matchText).getOr(""):"";return Db(Vb(e.text,r),e.classes)}})),Ub=Zd(Sm(),Cm()),Gb=e=>({value:$b(e)}),qb=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Wb=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Zb=e=>qb.test(e)||Wb.test(e),$b=e=>_e(e,"#").toUpperCase(),Kb=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Xb=e=>{const t=Kb(e.red)+Kb(e.green)+Kb(e.blue);return Gb(t)},Yb=Math.min,Jb=Math.max,Qb=Math.round,ew=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,tw=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,nw=(e,t,n,r)=>({red:e,green:t,blue:n,alpha:r}),rw=e=>{const t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},ow=e=>{let t,n,r;const o=(e.hue||0)%360;let i=e.saturation/100,s=e.value/100;if(i=Jb(0,Yb(i,1)),s=Jb(0,Yb(s,1)),0===i)return t=n=r=Qb(255*s),nw(t,n,r,1);const a=o/60,l=s*i,c=l*(1-Math.abs(a%2-1)),u=s-l;switch(Math.floor(a)){case 0:t=l,n=c,r=0;break;case 1:t=c,n=l,r=0;break;case 2:t=0,n=l,r=c;break;case 3:t=0,n=c,r=l;break;case 4:t=c,n=0,r=l;break;case 5:t=l,n=0,r=c;break;default:t=n=r=0}return t=Qb(255*(t+u)),n=Qb(255*(n+u)),r=Qb(255*(r+u)),nw(t,n,r,1)},iw=e=>{const t=(e=>{const t=(e=>{const t=e.value.replace(qb,((e,t,n,r)=>t+t+n+n+r+r));return{value:t}})(e),n=Wb.exec(t.value);return null===n?["FFFFFF","FF","FF","FF"]:n})(e),n=parseInt(t[1],16),r=parseInt(t[2],16),o=parseInt(t[3],16);return nw(n,r,o,1)},sw=(e,t,n,r)=>{const o=parseInt(e,10),i=parseInt(t,10),s=parseInt(n,10),a=parseFloat(r);return nw(o,i,s,a)},aw=e=>{if("transparent"===e)return M.some(nw(0,0,0,0));const t=ew.exec(e);if(null!==t)return M.some(sw(t[1],t[2],t[3],"1"));const n=tw.exec(e);return null!==n?M.some(sw(n[1],n[2],n[3],n[4])):M.none()},lw=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,cw=nw(255,0,0,1),uw=(e,t)=>{e.dispatch("ResizeContent",t)},dw=(e,t)=>{e.dispatch("TextColorChange",t)},hw=(e,t)=>e.dispatch("ResolveName",{name:t.nodeName.toLowerCase(),target:t});var pw=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const fw={},mw=e=>ve(fw,e).getOrThunk((()=>{const t=`tinymce-custom-colors-${e}`,n=pw.getItem(t);if(h(n)){const e=pw.getItem("tinymce-custom-colors");pw.setItem(t,p(e)?e:"[]")}const r=((e,t=10)=>{const n=pw.getItem(e),r=i(n)?JSON.parse(n):[],o=t-(s=r).length<0?s.slice(0,t):s;var s;const a=e=>{o.splice(e,1)};return{add:n=>{D(o,n).each(a),o.unshift(n),o.length>t&&o.pop(),pw.setItem(e,JSON.stringify(o))},state:()=>o.slice(0)}})(t,10);return fw[e]=r,r})),gw=(e,t)=>{mw(e).add(t)},vw=(e,t,n)=>({hue:e,saturation:t,value:n}),yw=e=>{let t=0,n=0,r=0;const o=e.red/255,i=e.green/255,s=e.blue/255,a=Math.min(o,Math.min(i,s)),l=Math.max(o,Math.max(i,s));return a===l?(r=a,vw(0,0,100*r)):(t=o===a?3:s===a?1:5,t=60*(t-(o===a?i-s:s===a?o-i:s-o)/(l-a)),n=(l-a)/l,r=l,vw(Math.round(t),Math.round(100*n),Math.round(100*r)))},bw=e=>Xb(ow(e)),ww=e=>{return(t=e,Zb(t)?M.some({value:$b(t)}):M.none()).orThunk((()=>aw(e).map(Xb))).getOrThunk((()=>{const t=document.createElement("canvas");t.height=1,t.width=1;const n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.fillStyle="#FFFFFF",n.fillStyle=e,n.fillRect(0,0,1,1);const r=n.getImageData(0,0,1,1).data,o=r[0],i=r[1],s=r[2],a=r[3];return Xb(nw(o,i,s,a))}));var t},xw="forecolor",Ew="hilitecolor",Sw=e=>Math.max(5,Math.ceil(Math.sqrt(e))),Cw=(e,t)=>{const n=Sw(t),r=_w("color_cols")(e);return 5===n?r:n},Aw=e=>{const t=[];for(let n=0;n<e.length;n+=2)t.push({text:e[n+1],value:"#"+ww(e[n]).value,icon:"checkmark",type:"choiceitem"});return t},_w=e=>t=>t.options.get(e),kw="#000000",Tw=(e,t)=>{const n=((e,t)=>t===xw?_w("color_cols_foreground")(e):t===Ew?_w("color_cols_background")(e):_w("color_cols")(e))(e,t);return n>0?n:5},Mw=_w("custom_colors"),Pw=(e,t)=>t===xw&&e.options.isSet("color_map_foreground")?_w("color_map_foreground")(e):t===Ew&&e.options.isSet("color_map_background")?_w("color_map_background")(e):_w("color_map")(e),Ow=_w("color_default_foreground"),Rw=_w("color_default_background"),Nw=(e,t)=>{const n=Fe(e.selection.getStart()),r="hilitecolor"===t?Do(n,(e=>{if(qe(e)){const t=Dt(e,"background-color");return Ce(aw(t).exists((e=>0!==e.alpha)),t)}return M.none()})).getOr("rgba(0, 0, 0, 0)"):Dt(n,"color");return aw(r).map((e=>"#"+Xb(e).value))},Dw=e=>{const t="choiceitem",n={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[n,{type:t,text:"Custom color",icon:"color-picker",value:"custom"}]:[n]},Iw=(e,t,n,r)=>{"custom"===n?jw(e)((n=>{n.each((n=>{gw(t,n),e.execCommand("mceApplyTextcolor",t,n),r(n)}))}),Nw(e,t).getOr(kw)):"remove"===n?(r(""),e.execCommand("mceRemoveTextcolor",t)):(r(n),e.execCommand("mceApplyTextcolor",t,n))},Bw=(e,t,n)=>e.concat((e=>H(mw(e).state(),(e=>({type:"choiceitem",text:e,icon:"checkmark",value:e}))))(t).concat(Dw(n))),Fw=(e,t,n)=>r=>{r(Bw(e,t,n))},Lw=(e,t,n)=>{const r="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(r,n)},Hw=(e,t)=>n=>{const r=Nw(e,t);return we(r,n.toUpperCase())},zw=(e,t,n,r,o)=>{e.ui.registry.addSplitButton(t,{tooltip:r,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:Hw(e,n),columns:Tw(e,n),fetch:Fw(Pw(e,n),n,Mw(e)),onAction:t=>{Iw(e,n,o.get(),v)},onItemAction:(r,i)=>{Iw(e,n,i,(n=>{o.set(n),dw(e,{name:t,color:n})}))},onSetup:n=>{Lw(n,t,o.get());const r=e=>{e.name===t&&Lw(n,e.name,e.color)};return e.on("TextColorChange",r),()=>{e.off("TextColorChange",r)}}})},Vw=(e,t,n,r,o)=>{e.ui.registry.addNestedMenuItem(t,{text:r,icon:"forecolor"===t?"text-color":"highlight-bg-color",onSetup:e=>(Lw(e,t,o.get()),v),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:Hw(e,n),initData:{storageKey:n},onAction:r=>{Iw(e,n,r.value,(n=>{o.set(n),dw(e,{name:t,color:n})}))}}]})},jw=e=>(t,n)=>{let r=!1;const o={colorpicker:n};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onAction:(e,t)=>{"hex-valid"===t.name&&(r=t.value)},onSubmit:n=>{const o=n.getData().colorpicker;r?(t(M.from(o)),n.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",o]))},onClose:v,onCancel:()=>{t(M.none())}})},Uw=(e,t,n,r,o,i,s,a)=>{const l=$v(t),c=Gw(t,n,r,"color"!==o?"normal":"color",i,s,a);return Yv(e,l,c,r,{menuType:o})},Gw=(e,t,n,r,o,i,s)=>xe(H(e,(a=>{return"choiceitem"===a.type?(l=a,Wr("choicemenuitem",Xy,l)).fold(Kv,(a=>M.some(((e,t,n,r,o,i,s,a=!0)=>{const l=Hb({presets:n,textContent:t?e.text:M.none(),htmlContent:M.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:M.none(),checkMark:t?M.some(Fb(s.icons)):M.none(),caret:M.none(),value:e.value},s,a);return mr(Mb({data:Pb(e),enabled:e.enabled,getApi:e=>({setActive:t=>{cm.set(e,t)},isActive:()=>cm.isOn(e),isEnabled:()=>!Nh.isDisabled(e),setEnabled:t=>Nh.set(e,!t)}),onAction:t=>r(e.value),onSetup:e=>(e.setActive(o),v),triggersSubmenu:!1,itemBehaviours:[]},l,i,s),{toggling:{toggleClass:gv,toggleOnExecute:!1,selected:e.active,exclusive:!0}})})(a,1===n,r,t,i(a.value),o,s,$v(e))))):M.none();var l}))),qw=(e,t)=>{const n=_v(t);return 1===e?{mode:"menu",moveOnTab:!0}:"auto"===e?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group"),previousSelector:e=>"color"===t?fa(e.element,"[aria-checked=true]"):M.none()}},Ww=ls("cell-over"),Zw=ls("cell-execute"),$w=(e,t,n)=>{const r=n=>Di(n,Zw,{row:e,col:t}),o=(e,t)=>{t.stop(),r(e)};return ia({dom:{tag:"div",attributes:{role:"button","aria-labelledby":n}},behaviours:Sl([Xf("insert-table-picker-cell",[ji(Zo(),tm.focus),ji(di(),r),ji(ei(),o),ji(pi(),o)]),cm.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),tm.config({onFocus:n=>Di(n,Ww,{row:e,col:t})})])})},Kw=e=>$(e,(e=>H(e,sa))),Xw=(e,t)=>ta(`${t}x${e}`),Yw={inserttable:e=>{const t=ls("size-label"),n=((e,t,n)=>{const r=[];for(let t=0;t<10;t++){const n=[];for(let r=0;r<10;r++)n.push($w(t,r,e));r.push(n)}return r})(t),r=Xw(0,0),o=Um({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:t}},components:[r],behaviours:Sl([Kf.config({})])});return{type:"widget",data:{value:ls("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Ub.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:Kw(n).concat(o.asSpec()),behaviours:Sl([Xf("insert-table-picker",[Xi((e=>{Kf.set(o.get(e),[r])})),Wi(Ww,((e,t,r)=>{const{row:i,col:s}=r.event;((e,t,n,r,o)=>{for(let r=0;r<10;r++)for(let o=0;o<10;o++)cm.set(e[r][o],r<=t&&o<=n)})(n,i,s),Kf.set(o.get(e),[Xw(i+1,s+1)])})),Wi(Zw,((t,n,r)=>{const{row:o,col:i}=r.event;e.onAction({numRows:o+1,numColumns:i+1}),Ni(t,mi())}))]),zf.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(e,t)=>{const n=((e,t)=>{const n=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold((()=>Bw(t.colorinput.getColors(e.initData.storageKey),e.initData.storageKey,n)),(e=>e.concat(Dw(n))))})(e,t),r=t.colorinput.getColorCols(e.initData.storageKey),o="color",i={...Uw(ls("menu-value"),n,(t=>{e.onAction({value:t})}),r,o,dv.CLOSE_ON_EXECUTE,e.select.getOr(k),t.shared.providers),markers:_v(o),movement:qw(r,o)};return{type:"widget",data:{value:ls("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Ub.widget(Pm.sketch(i))]}}},Jw=e=>({type:"separator",dom:{tag:"div",classes:[pv,"tox-collection__group-heading"]},components:e.text.map(ta).toArray()});var Qw=Object.freeze({__proto__:null,getCoupled:(e,t,n,r)=>n.getOrCreate(e,t,r),getExistingCoupled:(e,t,n,r)=>n.getExisting(e,t,r)}),ex=[no("others",qr(or.value,Ir()))],tx=Object.freeze({__proto__:null,init:()=>{const e={},t=(t,n)=>{if(0===se(t.others).length)throw new Error("Cannot find any known coupled components");return ve(e,n)},n=w({});return _s({readState:n,getExisting:(e,n,r)=>t(n,r).orThunk((()=>(ve(n.others,r).getOrDie("No information found for coupled component: "+r),M.none()))),getOrCreate:(n,r,o)=>t(r,o).getOrThunk((()=>{const t=ve(r.others,o).getOrDie("No information found for coupled component: "+o)(n),i=n.getSystem().build(t);return e[o]=i,i}))})}});const nx=Al({fields:ex,name:"coupling",apis:Qw,state:tx}),rx=e=>{let t=M.none(),n=[];const r=e=>{o()?i(e):n.push(e)},o=()=>t.isSome(),i=e=>{t.each((t=>{setTimeout((()=>{e(t)}),0)}))};return e((e=>{o()||(t=M.some(e),z(n,i),n=[])})),{get:r,map:e=>rx((t=>{r((n=>{t(e(n))}))})),isReady:o}},ox={nu:rx,pure:e=>rx((t=>{t(e)}))},ix=e=>{setTimeout((()=>{throw e}),0)},sx=e=>{const t=t=>{e().then(t,ix)};return{map:t=>sx((()=>e().then(t))),bind:t=>sx((()=>e().then((e=>t(e).toPromise())))),anonBind:t=>sx((()=>e().then((()=>t.toPromise())))),toLazy:()=>ox.nu(t),toCached:()=>{let t=null;return sx((()=>(null===t&&(t=e()),t)))},toPromise:e,get:t}},ax=e=>sx((()=>new Promise(e))),lx=e=>sx((()=>Promise.resolve(e))),cx=w("sink"),ux=w(jd({name:cx(),overrides:w({dom:{tag:"div"},behaviours:Sl([wu.config({useFixed:T})]),events:Hi([Zi(Xo()),Zi(Uo()),Zi(ei())])})})),dx=(e,t)=>{const n=e.getHotspot(t).getOr(t),r="hotspot",o=e.getAnchorOverrides();return e.layouts.fold((()=>({type:r,hotspot:n,overrides:o})),(e=>({type:r,hotspot:n,overrides:o,layouts:e})))},hx=(e,t,n,r,o,i,s)=>{const a=((e,t,n,r,o,i,s)=>{const a=((e,t,n)=>(0,e.fetch)(n).map(t))(e,t,r),l=mx(r,e);return a.map((e=>e.bind((e=>M.from(Hm.sketch({...i.menu(),uid:ms(""),data:e,highlightOnOpen:s,onOpenMenu:(e,t)=>{const r=l().getOrDie();wu.position(r,t,{anchor:n}),Wu.decloak(o)},onOpenSubmenu:(e,t,n)=>{const r=l().getOrDie();wu.position(r,n,{anchor:{type:"submenu",item:t}}),Wu.decloak(o)},onRepositionMenu:(e,t,r)=>{const o=l().getOrDie();wu.position(o,t,{anchor:n}),z(r,(e=>{wu.position(o,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})}))},onEscape:()=>(tm.focus(r),Wu.close(o),M.some(!0))}))))))})(e,t,dx(e,n),n,r,o,s);return a.map((e=>(e.fold((()=>{Wu.isOpen(r)&&Wu.close(r)}),(e=>{Wu.cloak(r),Wu.open(r,e),i(r)})),r)))},px=(e,t,n,r,o,i,s)=>(Wu.close(r),lx(r)),fx=(e,t,n,r,o,i)=>{const s=nx.getCoupled(n,"sandbox");return(Wu.isOpen(s)?px:hx)(e,t,n,s,r,o,i)},mx=(e,t)=>e.getSystem().getByUid(t.uid+"-"+cx()).map((e=>()=>or.value(e))).getOrThunk((()=>t.lazySink.fold((()=>()=>or.error(new Error("No internal sink is specified, nor could an external sink be found"))),(t=>()=>t(e))))),gx=e=>{Wu.getState(e).each((e=>{Hm.repositionMenus(e)}))},vx=(e,t,n)=>{const r=va(),o=mx(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:r.id,role:"listbox"}},behaviours:vd(e.sandboxBehaviours,[hd.config({store:{mode:"memory",initialValue:t}}),Wu.config({onOpen:(o,i)=>{const s=dx(e,t);r.link(t.element),e.matchWidth&&((e,t,n)=>{const r=bh.getCurrent(t).getOr(t),o=Yt(e.element);n?Ot(r.element,"min-width",o+"px"):((e,t)=>{Xt.set(e,t)})(r.element,o)})(s.hotspot,i,e.useMinWidth),e.onOpen(s,o,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(o,i)},onClose:(e,o)=>{r.unlink(t.element),void 0!==n&&void 0!==n.onClose&&n.onClose(e,o)},isPartOf:(e,n,r)=>ya(n,r)||ya(t,r),getAttachPoint:()=>o().getOrDie()}),bh.config({find:e=>Wu.getState(e).bind((e=>bh.getCurrent(e)))}),Ml.config({channels:{...Yu({isExtraPart:k}),...Qu({doReposition:gx})}})])}},yx=e=>{const t=nx.getCoupled(e,"sandbox");gx(t)},bx=()=>[bo("sandboxClasses",[]),gd("sandboxBehaviours",[bh,Ml,Wu,hd])],wx=w([to("dom"),to("fetch"),Oa("onOpen"),Ra("onExecute"),bo("getHotspot",M.some),bo("getAnchorOverrides",w({})),xc(),pd("dropdownBehaviours",[cm,nx,zf,tm]),to("toggleClass"),bo("eventOrder",{}),uo("lazySink"),bo("matchWidth",!1),bo("useMinWidth",!1),uo("role")].concat(bx())),xx=w([Vd({schema:[Ta(),bo("fakeFocus",!1)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),ux()]),Ex=mh({name:"Dropdown",configFields:wx(),partFields:xx(),factory:(e,t,n,r)=>{const o=e=>{Wu.getState(e).each((e=>{Hm.highlightPrimary(e)}))},i=(t,n,o)=>fx(e,x,t,r,n,o),s={expand:e=>{cm.isOn(e)||i(e,v,Fm.HighlightNone).get(v)},open:e=>{cm.isOn(e)||i(e,v,Fm.HighlightMenuAndItem).get(v)},refetch:t=>nx.getExistingCoupled(t,"sandbox").fold((()=>i(t,v,Fm.HighlightMenuAndItem).map(v)),(n=>hx(e,x,t,n,r,v,Fm.HighlightMenuAndItem).map(v))),isOpen:cm.isOn,close:e=>{cm.isOn(e)&&i(e,v,Fm.HighlightMenuAndItem).get(v)},repositionMenus:e=>{cm.isOn(e)&&yx(e)}},a=(e,t)=>(Ii(e),M.some(!0));return{uid:e.uid,dom:e.dom,components:t,behaviours:md(e.dropdownBehaviours,[cm.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),nx.config({others:{sandbox:t=>vx(e,t,{onOpen:()=>cm.on(t),onClose:()=>cm.off(t)})}}),zf.config({mode:"special",onSpace:a,onEnter:a,onDown:(e,t)=>{if(Ex.isOpen(e)){const t=nx.getCoupled(e,"sandbox");o(t)}else Ex.open(e);return M.some(!0)},onEscape:(e,t)=>Ex.isOpen(e)?(Ex.close(e),M.some(!0)):M.none()}),tm.config({})]),events:dm(M.some((e=>{i(e,o,Fm.HighlightMenuAndItem).get(v)}))),eventOrder:{...e.eventOrder,[di()]:["disabling","toggling","alloy.base.behaviour"]},apis:s,domModification:{attributes:{"aria-haspopup":"true",...e.role.fold((()=>({})),(e=>({role:e}))),..."button"===e.dom.tag?{type:("type",ve(e.dom,"attributes").bind((e=>ve(e,"type")))).getOr("button")}:{}}}}},apis:{open:(e,t)=>e.open(t),refetch:(e,t)=>e.refetch(t),expand:(e,t)=>e.expand(t),close:(e,t)=>e.close(t),isOpen:(e,t)=>e.isOpen(t),repositionMenus:(e,t)=>e.repositionMenus(t)}}),Sx=(e,t,n)=>{Hv(e).each((e=>{var r;((e,t)=>{_t(t.element,"id").each((t=>St(e.element,"aria-activedescendant",t)))})(e,n),(js((r=t).element,jv)?M.some(r.element):fa(r.element,"."+jv)).each((t=>{_t(t,"id").each((t=>St(e.element,"aria-controls",t)))}))})),St(n.element,"aria-selected","true")},Cx=(e,t,n)=>{St(n.element,"aria-selected","false")},Ax=e=>nx.getExistingCoupled(e,"sandbox").bind(Lv).map(zv).map((e=>e.fetchPattern)).getOr("");var _x;!function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"}(_x||(_x={}));const kx=(e,t,n,r,o)=>{const i=n.shared.providers,s=e=>o?{...e,shortcut:M.none(),icon:e.text.isSome()?M.none():e.icon}:e;switch(e.type){case"menuitem":return(a=e,Wr("menuitem",tb,a)).fold(Kv,(e=>M.some(((e,t,n,r=!0)=>{const o=Hb({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:M.none(),ariaLabel:e.text,caret:M.none(),checkMark:M.none(),shortcutContent:e.shortcut},n,r);return Mb({data:Pb(e),getApi:e=>({isEnabled:()=>!Nh.isDisabled(e),setEnabled:t=>Nh.set(e,!t)}),enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,t,n)})(s(e),t,i,r))));case"nestedmenuitem":return(e=>Wr("nestedmenuitem",nb,e))(e).fold(Kv,(e=>M.some(((e,t,n,r=!0,o=!1)=>{const i=o?(s=n.icons,Rb("chevron-down",s,[bv])):(e=>Rb("chevron-right",e,[bv]))(n.icons);var s;const a=Hb({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:M.none(),ariaLabel:e.text,caret:M.some(i),checkMark:M.none(),shortcutContent:e.shortcut},n,r);return Mb({data:Pb(e),getApi:e=>({isEnabled:()=>!Nh.isDisabled(e),setEnabled:t=>Nh.set(e,!t),setIconFill:(t,n)=>{fa(e.element,`svg path[id="${t}"], rect[id="${t}"]`).each((e=>{St(e,"fill",n)}))}}),enabled:e.enabled,onAction:v,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},a,t,n)})(s(e),t,i,r,o))));case"togglemenuitem":return(e=>Wr("togglemenuitem",rb,e))(e).fold(Kv,(e=>M.some(((e,t,n,r=!0)=>{const o=Hb({iconContent:e.icon,textContent:e.text,htmlContent:M.none(),ariaLabel:e.text,checkMark:M.some(Fb(n.icons)),caret:M.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,r);return mr(Mb({data:Pb(e),enabled:e.enabled,getApi:e=>({setActive:t=>{cm.set(e,t)},isActive:()=>cm.isOn(e),isEnabled:()=>!Nh.isDisabled(e),setEnabled:t=>Nh.set(e,!t)}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,t,n),{toggling:{toggleClass:gv,toggleOnExecute:!1,selected:e.active}})})(s(e),t,i,r))));case"separator":return(e=>Wr("separatormenuitem",_y,e))(e).fold(Kv,(e=>M.some(Jw(e))));case"fancymenuitem":return(e=>Wr("fancymenuitem",eb,e))(e).fold(Kv,(e=>((e,t)=>ve(Yw,e.fancytype).map((n=>n(e,t))))(e,n)));default:return console.error("Unknown item in general menu",e),M.none()}var a},Tx=(e,t,n,r,o,i,s)=>{const a=1===r,l=!a||$v(e);return xe(H(e,(e=>{switch(e.type){case"separator":return(r=e,Wr("Autocompleter.Separator",_y,r)).fold(Kv,(e=>M.some(Jw(e))));case"cardmenuitem":return(e=>Wr("cardmenuitem",Ky,e))(e).fold(Kv,(e=>M.some(((e,t,n,r)=>{const o={dom:Lb(e.label),optComponents:[M.some({dom:{tag:"div",classes:[xv,Ev]},components:jb(e.items,r)})]};return Mb({data:Pb({text:M.none(),...e}),enabled:e.enabled,getApi:e=>({isEnabled:()=>!Nh.isDisabled(e),setEnabled:t=>{Nh.set(e,!t),z(Zc(e.element,"*"),(n=>{e.getSystem().getByDom(n).each((e=>{e.hasConfigured(Nh)&&Nh.set(e,!t)}))}))}}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:M.from(r.itemBehaviours).getOr([])},o,t,n.providers)})({...e,onAction:t=>{e.onAction(t),n(e.value,e.meta)}},o,i,{itemBehaviours:zb(e.meta,i),cardText:{matchText:t,highlightOn:s}}))));default:return(e=>Wr("Autocompleter.Item",ky,e))(e).fold(Kv,(e=>M.some(((e,t,n,r,o,i,s,a=!0)=>{const l=Hb({presets:r,textContent:M.none(),htmlContent:n?e.text.map((e=>Vb(e,t))):M.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:M.none(),checkMark:M.none(),caret:M.none(),value:e.value},s.providers,a,e.icon);return Mb({data:Pb(e),enabled:e.enabled,getApi:w({}),onAction:t=>o(e.value,e.meta),onSetup:w(v),triggersSubmenu:!1,itemBehaviours:zb(e.meta,s)},l,i,s.providers)})(e,t,a,"normal",n,o,i,l))))}var r})))},Mx=(e,t,n,r,o,i)=>{const s=$v(t),a=xe(H(t,(e=>{const t=e=>kx(e,n,r,(e=>o?!ye(e,"text"):s)(e),o);return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?t({...e,enabled:!1}):t(e)}))),l=(e=>"no-search"===e.searchMode?{menuType:"normal"}:{menuType:"searchable",searchMode:e})(i);return(o?Xv:Yv)(e,s,a,1,l)},Px=e=>Hm.singleData(e.value,e),Ox=(e,t)=>{const n=To(!1),r=To(!1),o=ia(zm.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Sl([Xf("dismissAutocompleter",[ji(Ci(),(()=>c()))])]),lazySink:t.getSink})),i=()=>zm.isOpen(o),s=r.get,a=()=>{i()&&zm.hide(o)},l=()=>zm.getContent(o).bind((e=>te(e.components(),0))),c=()=>e.execCommand("mceAutocompleterClose"),u=r=>{const i=(r=>{const o=ie(r,(e=>M.from(e.columns))).getOr(1);return $(r,(r=>{const i=r.items;return Tx(i,r.matchText,((t,o)=>{const i=e.selection.getRng();((e,t)=>cv(Fe(t.startContainer)).map((t=>{const n=e.createRng();return n.selectNode(t.dom),n})))(e.dom,i).each((i=>{const s={hide:()=>c(),reload:t=>{a(),e.execCommand("mceAutocompleterReload",!1,{fetchOptions:t})}};n.set(!0),r.onAction(s,i,t,o),n.set(!1)}))}),o,dv.BUBBLE_TO_SANDBOX,t,r.highlightOn)}))})(r);i.length>0?((t,n)=>{var r;(r=Fe(e.getBody()),fa(r,lv)).each((r=>{const i=ie(t,(e=>M.from(e.columns))).getOr(1);zm.showMenuAt(o,{anchor:{type:"node",root:Fe(e.getBody()),node:M.from(r)}},((e,t,n,r)=>{const o=qw(t,r),i=_v(r);return{data:Px({...e,movement:o,menuBehaviours:ib("auto"!==t?[]:[Xi(((e,t)=>{ob(e,4,i.item).each((({numColumns:t,numRows:n})=>{zf.setGridSize(e,n,t)}))}))])}),menu:{markers:_v(r),fakeFocus:n===_x.ContentFocus}}})(Yv("autocompleter-value",!0,n,i,{menuType:"normal"}),i,_x.ContentFocus,"normal"))})),l().each(Uh.highlightFirst)})(r,i):a()};e.on("AutocompleterStart",(({lookupData:e})=>{r.set(!0),n.set(!1),u(e)})),e.on("AutocompleterUpdate",(({lookupData:e})=>u(e))),e.on("AutocompleterEnd",(()=>{a(),r.set(!1),n.set(!1)}));((e,t)=>{const n=(e,t)=>{Di(e,Xo(),{raw:t})},r=()=>e.getMenu().bind(Uh.getHighlighted);t.on("keydown",(t=>{const o=t.which;e.isActive()&&(e.isMenuOpen()?13===o?(r().each(Ii),t.preventDefault()):40===o?(r().fold((()=>{e.getMenu().each(Uh.highlightFirst)}),(e=>{n(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):37!==o&&38!==o&&39!==o||r().each((e=>{n(e,t),t.preventDefault(),t.stopImmediatePropagation()})):13!==o&&38!==o&&40!==o||e.cancelIfNecessary())})),t.on("NodeChange",(t=>{e.isActive()&&!e.isProcessingAction()&&cv(Fe(t.element)).isNone()&&e.cancelIfNecessary()}))})({cancelIfNecessary:c,isMenuOpen:i,isActive:s,isProcessingAction:n.get,getMenu:l},e)},Rx=["visible","hidden"],Nx=e=>{if(Ge(e)){const t=Dt(e,"overflow");return Pe(t).length>0&&!I(Rx,t)}return!1},Dx=(e,t)=>iv(e)?(e=>{const t=(n=Nx,j(((e,t)=>{const n=f(t)?t:k;let r=e.dom;const o=[];for(;null!==r.parentNode&&void 0!==r.parentNode;){const e=r.parentNode,t=Fe(e);if(o.push(t),!0===n(t))break;r=e}return o})(e,r),n));var n,r;return ne(t).map((e=>({element:e,others:t.slice(1)})))})(t):M.none(),Ix=e=>{const t=[...H(e.others,Yn),er()];return((e,t)=>G(t,((e,t)=>Qn(e,t)),e))(Yn(e.element),t)},Bx=(e,t,n)=>ma(e,t,n).isSome(),Fx=(e,t)=>{let n=null;return{cancel:()=>{null!==n&&(clearTimeout(n),n=null)},schedule:(...r)=>{n=setTimeout((()=>{e.apply(null,r),n=null}),t)}}},Lx=e=>{const t=e.raw;return void 0===t.touches||1!==t.touches.length?M.none():M.some(t.touches[0])},Hx=(e,t)=>{const n={stopBackspace:!0,...t},r=(e=>{const t=Ql(),n=To(!1),r=Fx((t=>{e.triggerEvent(fi(),t),n.set(!0)}),400),o=Oo([{key:Ho(),value:e=>(Lx(e).each((o=>{r.cancel();const i={x:o.clientX,y:o.clientY,target:e.target};r.schedule(e),n.set(!1),t.set(i)})),M.none())},{key:zo(),value:e=>(r.cancel(),Lx(e).each((e=>{t.on((n=>{((e,t)=>{const n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>5||r>5})(e,n)&&t.clear()}))})),M.none())},{key:Vo(),value:o=>(r.cancel(),t.get().filter((e=>Je(e.target,o.target))).map((t=>n.get()?(o.prevent(),!1):e.triggerEvent(pi(),o))))}]);return{fireIfReady:(e,t)=>ve(o,t).bind((t=>t(e)))}})(n),o=H(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(t=>tc(e,t,(e=>{r.fireIfReady(e,t).each((t=>{t&&e.kill()})),n.triggerEvent(t,e)&&e.kill()})))),i=Ql(),s=tc(e,"paste",(e=>{r.fireIfReady(e,"paste").each((t=>{t&&e.kill()})),n.triggerEvent("paste",e)&&e.kill(),i.set(setTimeout((()=>{n.triggerEvent(ci(),e)}),0))})),a=tc(e,"keydown",(e=>{n.triggerEvent("keydown",e)?e.kill():n.stopBackspace&&(e=>e.raw.which===Gh[0]&&!I(["input","textarea"],je(e.target))&&!Bx(e.target,'[contenteditable="true"]'))(e)&&e.prevent()})),l=tc(e,"focusin",(e=>{n.triggerEvent("focusin",e)&&e.kill()})),c=Ql(),u=tc(e,"focusout",(e=>{n.triggerEvent("focusout",e)&&e.kill(),c.set(setTimeout((()=>{n.triggerEvent(li(),e)}),0))}));return{unbind:()=>{z(o,(e=>{e.unbind()})),a.unbind(),l.unbind(),u.unbind(),s.unbind(),i.on(clearTimeout),c.on(clearTimeout)}}},zx=(e,t)=>{const n=ve(e,"target").getOr(t);return To(n)},Vx=Mo([{stopped:[]},{resume:["element"]},{complete:[]}]),jx=(e,t,n,r,o,i)=>{const s=e(t,r),a=((e,t)=>{const n=To(!1),r=To(!1);return{stop:()=>{n.set(!0)},cut:()=>{r.set(!0)},isStopped:n.get,isCut:r.get,event:e,setSource:t.set,getSource:t.get}})(n,o);return s.fold((()=>(i.logEventNoHandlers(t,r),Vx.complete())),(e=>{const n=e.descHandler;return Ms(n)(a),a.isStopped()?(i.logEventStopped(t,e.element,n.purpose),Vx.stopped()):a.isCut()?(i.logEventCut(t,e.element,n.purpose),Vx.complete()):ot(e.element).fold((()=>(i.logNoParent(t,e.element,n.purpose),Vx.complete())),(r=>(i.logEventResponse(t,e.element,n.purpose),Vx.resume(r))))}))},Ux=(e,t,n,r,o,i)=>jx(e,t,n,r,o,i).fold(T,(r=>Ux(e,t,n,r,o,i)),k),Gx=(e,t,n,r,o)=>{const i=zx(n,r);return Ux(e,t,n,r,i,o)},qx=()=>{const e=(()=>{const e={};return{registerId:(t,n,r)=>{le(r,((r,o)=>{const i=void 0!==e[o]?e[o]:{};i[n]=((e,t)=>({cHandler:S.apply(void 0,[e.handler].concat(t)),purpose:e.purpose}))(r,t),e[o]=i}))},unregisterId:t=>{le(e,((e,n)=>{ye(e,t)&&delete e[t]}))},filterByType:t=>ve(e,t).map((e=>fe(e,((e,t)=>((e,t)=>({id:e,descHandler:t}))(t,e))))).getOr([]),find:(t,n,r)=>ve(e,n).bind((e=>Do(r,(t=>((e,t)=>fs(t).bind((t=>ve(e,t))).map((e=>((e,t)=>({element:e,descHandler:t}))(t,e))))(e,t)),t)))}})(),t={},n=n=>{fs(n.element).each((n=>{delete t[n],e.unregisterId(n)}))};return{find:(t,n,r)=>e.find(t,n,r),filter:t=>e.filterByType(t),register:r=>{const o=(e=>{const t=e.element;return fs(t).getOrThunk((()=>((e,t)=>{const n=ls(ds+"uid-");return ps(t,n),n})(0,e.element)))})(r);be(t,o)&&((e,r)=>{const o=t[r];if(o!==e)throw new Error('The tagId "'+r+'" is already used by: '+rs(o.element)+"\nCannot use it for: "+rs(e.element)+"\nThe conflicting element is"+(bt(o.element)?" ":" not ")+"already in the DOM");n(e)})(r,o);const i=[r];e.registerId(i,o,r.events),t[o]=r},unregister:n,getById:e=>ve(t,e)}},Wx=fh({name:"Container",factory:e=>{const{attributes:t,...n}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...t},...n},components:e.components,behaviours:fd(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[bo("components",[]),pd("containerBehaviours",[]),bo("events",{}),bo("domModification",{}),bo("eventOrder",{})]}),Zx=e=>{const t=t=>ot(e.element).fold(T,(e=>Je(t,e))),n=qx(),r=(e,r)=>n.find(t,e,r),o=Hx(e.element,{triggerEvent:(e,t)=>Ea(e,t.target,(n=>((e,t,n,r)=>Gx(e,t,n,n.target,r))(r,e,t,n)))}),i={debugInfo:w("real"),triggerEvent:(e,t,n)=>{Ea(e,t,(o=>Gx(r,e,n,t,o)))},triggerFocus:(e,t)=>{fs(e).fold((()=>{Ol(e)}),(n=>{Ea(ai(),e,(n=>(((e,t,n,r,o)=>{const i=zx(n,r);jx(e,t,n,r,i,o)})(r,ai(),{originator:t,kill:v,prevent:v,target:e},e,n),!1)))}))},triggerEscape:(e,t)=>{i.triggerEvent("keydown",e.element,t.event)},getByUid:e=>f(e),getByDom:e=>m(e),build:ia,buildOrPatch:oa,addToGui:e=>{l(e)},removeFromGui:e=>{c(e)},addToWorld:e=>{s(e)},removeFromWorld:e=>{a(e)},broadcast:e=>{d(e)},broadcastOn:(e,t)=>{h(e,t)},broadcastEvent:(e,t)=>{p(e,t)},isConnected:T},s=e=>{e.connect(i),We(e.element)||(n.register(e),z(e.components(),s),i.triggerEvent(vi(),e.element,{target:e.element}))},a=e=>{We(e.element)||(z(e.components(),a),n.unregister(e)),e.disconnect()},l=t=>{ku(e,t)},c=e=>{Pu(e)},u=e=>{const t=n.filter(ui());z(t,(t=>{const n=t.descHandler;Ms(n)(e)}))},d=e=>{u({universal:!0,data:e})},h=(e,t)=>{u({universal:!1,channels:e,data:t})},p=(e,t)=>((e,t,n)=>{const r=(e=>{const t=To(!1);return{stop:()=>{t.set(!0)},cut:v,isStopped:t.get,isCut:k,event:e,setSource:A("Cannot set source of a broadcasted event"),getSource:A("Cannot get source of a broadcasted event")}})(t);return z(e,(e=>{const t=e.descHandler;Ms(t)(r)})),r.isStopped()})(n.filter(e),t),f=e=>n.getById(e).fold((()=>or.error(new Error('Could not find component with uid: "'+e+'" in system.'))),or.value),m=e=>{const t=fs(e).getOr("not found");return f(t)};return s(e),{root:e,element:e.element,destroy:()=>{o.unbind(),Vn(e.element)},add:l,remove:c,getByUid:f,getByDom:m,addToWorld:s,removeFromWorld:a,broadcast:d,broadcastOn:h,broadcastEvent:p}},$x=w([bo("prefix","form-field"),pd("fieldBehaviours",[bh,hd])]),Kx=w([jd({schema:[to("dom")],name:"label"}),jd({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[to("text")],name:"aria-descriptor"}),zd({factory:{sketch:e=>{const t=((e,t)=>{const n={};return le(e,((e,r)=>{I(t,r)||(n[r]=e)})),n})(e,["factory"]);return e.factory.sketch(t)}},schema:[to("factory")],name:"field"})]),Xx=mh({name:"FormField",configFields:$x(),partFields:Kx(),factory:(e,t,n,r)=>{const o=md(e.fieldBehaviours,[bh.config({find:t=>eh(t,e,"field")}),hd.config({store:{mode:"manual",getValue:e=>bh.getCurrent(e).bind(hd.getValue),setValue:(e,t)=>{bh.getCurrent(e).each((e=>{hd.setValue(e,t)}))}}})]),i=Hi([Xi(((t,n)=>{const r=nh(t,e,["label","field","aria-descriptor"]);r.field().each((t=>{const n=ls(e.prefix);r.label().each((e=>{St(e.element,"for",n),St(t.element,"id",n)})),r["aria-descriptor"]().each((n=>{const r=ls(e.prefix);St(n.element,"id",r),St(t.element,"aria-describedby",r)}))}))}))]),s={getField:t=>eh(t,e,"field"),getLabel:t=>eh(t,e,"label")};return{uid:e.uid,dom:e.dom,components:t,behaviours:o,events:i,apis:s}},apis:{getField:(e,t)=>e.getField(t),getLabel:(e,t)=>e.getLabel(t)}});var Yx=Object.freeze({__proto__:null,exhibit:(e,t)=>Ts({attributes:Oo([{key:t.tabAttr,value:"true"}])})}),Jx=[bo("tabAttr","data-alloy-tabstop")];const Qx=Al({fields:Jx,name:"tabstopping",active:Yx});var eE=tinymce.util.Tools.resolve("tinymce.html.Entities");const tE=(e,t,n,r)=>{const o=nE(e,t,n,r);return Xx.sketch(o)},nE=(e,t,n,r)=>({dom:rE(n),components:e.toArray().concat([t]),fieldBehaviours:Sl(r)}),rE=e=>({tag:"div",classes:["tox-form__group"].concat(e)}),oE=(e,t)=>Xx.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ta(t.translate(e))]}),iE=ls("form-component-change"),sE=ls("form-close"),aE=ls("form-cancel"),lE=ls("form-action"),cE=ls("form-submit"),uE=ls("form-block"),dE=ls("form-unblock"),hE=ls("form-tabchange"),pE=ls("form-resize"),fE=["input","textarea"],mE=e=>{const t=je(e);return I(fE,t)},gE=(e,t)=>{const n=t.getRoot(e).getOr(e.element);Vs(n,t.invalidClass),t.notify.each((t=>{mE(e.element)&&St(e.element,"aria-invalid",!1),t.getContainer(e).each((e=>{ts(e,t.validHtml)})),t.onValid(e)}))},vE=(e,t,n,r)=>{const o=t.getRoot(e).getOr(e.element);zs(o,t.invalidClass),t.notify.each((t=>{mE(e.element)&&St(e.element,"aria-invalid",!0),t.getContainer(e).each((e=>{ts(e,r)})),t.onInvalid(e,r)}))},yE=(e,t,n)=>t.validator.fold((()=>lx(or.value(!0))),(t=>t.validate(e))),bE=(e,t,n)=>(t.notify.each((t=>{t.onValidate(e)})),yE(e,t).map((n=>e.getSystem().isConnected()?n.fold((n=>(vE(e,t,0,n),or.error(n))),(n=>(gE(e,t),or.value(n)))):or.error("No longer in system"))));var wE=Object.freeze({__proto__:null,markValid:gE,markInvalid:vE,query:yE,run:bE,isInvalid:(e,t)=>{const n=t.getRoot(e).getOr(e.element);return js(n,t.invalidClass)}}),xE=Object.freeze({__proto__:null,events:(e,t)=>e.validator.map((t=>Hi([ji(t.onEvent,(t=>{bE(t,e).get(x)}))].concat(t.validateOnLoad?[Xi((t=>{bE(t,e).get(v)}))]:[])))).getOr({})}),EE=[to("invalidClass"),bo("getRoot",M.none),yo("notify",[bo("aria","alert"),bo("getContainer",M.none),bo("validHtml",""),Oa("onValid"),Oa("onInvalid"),Oa("onValidate")]),yo("validator",[to("validate"),bo("onEvent","input"),bo("validateOnLoad",!0)])];const SE=Al({fields:EE,name:"invalidating",active:xE,apis:wE,extra:{validation:e=>t=>{const n=hd.getValue(t);return lx(e(n))}}}),CE=Al({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>Hi([zi(oi(),T)]),exhibit:()=>Ts({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),AE=ls("color-input-change"),_E=ls("color-swatch-change"),kE=ls("color-picker-cancel"),TE=jd({schema:[to("dom")],name:"label"}),ME=e=>jd({name:e+"-edge",overrides:t=>t.model.manager.edgeActions[e].fold((()=>({})),(e=>({events:Hi([Ui(Ho(),((t,n,r)=>e(t,r)),[t]),Ui(Uo(),((t,n,r)=>e(t,r)),[t]),Ui(Go(),((t,n,r)=>{r.mouseIsDown.get()&&e(t,r)}),[t])])})))}),PE=ME("top-left"),OE=ME("top"),RE=ME("top-right"),NE=ME("right"),DE=ME("bottom-right"),IE=ME("bottom"),BE=ME("bottom-left");var FE=[TE,ME("left"),NE,OE,IE,PE,RE,BE,DE,zd({name:"thumb",defaults:w({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:Hi([qi(Ho(),e,"spectrum"),qi(zo(),e,"spectrum"),qi(Vo(),e,"spectrum"),qi(Uo(),e,"spectrum"),qi(Go(),e,"spectrum"),qi(Wo(),e,"spectrum")])})}),zd({schema:[Qr("mouseIsDown",(()=>To(!1)))],name:"spectrum",overrides:e=>{const t=e.model.manager,n=(n,r)=>t.getValueFromEvent(r).map((r=>t.setValueFrom(n,e,r)));return{behaviours:Sl([zf.config({mode:"special",onLeft:n=>t.onLeft(n,e),onRight:n=>t.onRight(n,e),onUp:n=>t.onUp(n,e),onDown:n=>t.onDown(n,e)}),tm.config({})]),events:Hi([ji(Ho(),n),ji(zo(),n),ji(Uo(),n),ji(Go(),((t,r)=>{e.mouseIsDown.get()&&n(t,r)}))])}}})];const LE=w("slider.change.value"),HE=e=>{const t=e.event.raw;if((e=>-1!==e.type.indexOf("touch"))(t)){const e=t;return void 0!==e.touches&&1===e.touches.length?M.some(e.touches[0]).map((e=>Wt(e.clientX,e.clientY))):M.none()}{const e=t;return void 0!==e.clientX?M.some(e).map((e=>Wt(e.clientX,e.clientY))):M.none()}},zE=e=>e.model.minX,VE=e=>e.model.minY,jE=e=>e.model.minX-1,UE=e=>e.model.minY-1,GE=e=>e.model.maxX,qE=e=>e.model.maxY,WE=e=>e.model.maxX+1,ZE=e=>e.model.maxY+1,$E=(e,t,n)=>t(e)-n(e),KE=e=>$E(e,GE,zE),XE=e=>$E(e,qE,VE),YE=e=>KE(e)/2,JE=e=>XE(e)/2,QE=e=>e.stepSize,eS=e=>e.snapToGrid,tS=e=>e.snapStart,nS=e=>e.rounded,rS=(e,t)=>void 0!==e[t+"-edge"],oS=e=>rS(e,"left"),iS=e=>rS(e,"right"),sS=e=>rS(e,"top"),aS=e=>rS(e,"bottom"),lS=e=>e.model.value.get(),cS=(e,t)=>({x:e,y:t}),uS=(e,t)=>{Di(e,LE(),{value:t})},dS=(e,t,n,r)=>e<t?e:e>n?n:e===t?t-1:Math.max(t,e-r),hS=(e,t,n,r)=>e>n?e:e<t?t:e===n?n+1:Math.min(n,e+r),pS=(e,t,n)=>Math.max(t,Math.min(n,e)),fS=e=>{const{min:t,max:n,range:r,value:o,step:i,snap:s,snapStart:a,rounded:l,hasMinEdge:c,hasMaxEdge:u,minBound:d,maxBound:h,screenRange:p}=e,f=c?t-1:t,m=u?n+1:n;if(o<d)return f;if(o>h)return m;{const e=((e,t,n)=>Math.min(n,Math.max(e,t))-t)(o,d,h),c=pS(e/p*r+t,f,m);return s&&c>=t&&c<=n?((e,t,n,r,o)=>o.fold((()=>{const o=e-t,i=Math.round(o/r)*r;return pS(t+i,t-1,n+1)}),(t=>{const o=(e-t)%r,i=Math.round(o/r),s=Math.floor((e-t)/r),a=Math.floor((n-t)/r),l=t+Math.min(a,s+i)*r;return Math.max(t,l)})))(c,t,n,i,a):l?Math.round(c):c}},mS=e=>{const{min:t,max:n,range:r,value:o,hasMinEdge:i,hasMaxEdge:s,maxBound:a,maxOffset:l,centerMinEdge:c,centerMaxEdge:u}=e;return o<t?i?0:c:o>n?s?a:u:(o-t)/r*l},gS="top",vS="right",yS="bottom",bS="left",wS=e=>e.element.dom.getBoundingClientRect(),xS=(e,t)=>e[t],ES=e=>{const t=wS(e);return xS(t,bS)},SS=e=>{const t=wS(e);return xS(t,vS)},CS=e=>{const t=wS(e);return xS(t,gS)},AS=e=>{const t=wS(e);return xS(t,yS)},_S=e=>{const t=wS(e);return xS(t,"width")},kS=e=>{const t=wS(e);return xS(t,"height")},TS=(e,t,n)=>(e+t)/2-n,MS=(e,t)=>{const n=wS(e),r=wS(t),o=xS(n,bS),i=xS(n,vS),s=xS(r,bS);return TS(o,i,s)},PS=(e,t)=>{const n=wS(e),r=wS(t),o=xS(n,gS),i=xS(n,yS),s=xS(r,gS);return TS(o,i,s)},OS=(e,t)=>{Di(e,LE(),{value:t})},RS=(e,t,n)=>{const r={min:zE(t),max:GE(t),range:KE(t),value:n,step:QE(t),snap:eS(t),snapStart:tS(t),rounded:nS(t),hasMinEdge:oS(t),hasMaxEdge:iS(t),minBound:ES(e),maxBound:SS(e),screenRange:_S(e)};return fS(r)},NS=e=>(t,n)=>((e,t,n)=>{const r=(e>0?hS:dS)(lS(n),zE(n),GE(n),QE(n));return OS(t,r),M.some(r)})(e,t,n).map(T),DS=(e,t,n,r,o,i)=>{const s=((e,t,n,r,o)=>{const i=_S(e),s=r.bind((t=>M.some(MS(t,e)))).getOr(0),a=o.bind((t=>M.some(MS(t,e)))).getOr(i),l={min:zE(t),max:GE(t),range:KE(t),value:n,hasMinEdge:oS(t),hasMaxEdge:iS(t),minBound:ES(e),minOffset:0,maxBound:SS(e),maxOffset:i,centerMinEdge:s,centerMaxEdge:a};return mS(l)})(t,i,n,r,o);return ES(t)-ES(e)+s},IS=NS(-1),BS=NS(1),FS=M.none,LS=M.none,HS={"top-left":M.none(),top:M.none(),"top-right":M.none(),right:M.some(((e,t)=>{uS(e,WE(t))})),"bottom-right":M.none(),bottom:M.none(),"bottom-left":M.none(),left:M.some(((e,t)=>{uS(e,jE(t))}))};var zS=Object.freeze({__proto__:null,setValueFrom:(e,t,n)=>{const r=RS(e,t,n);return OS(e,r),r},setToMin:(e,t)=>{const n=zE(t);OS(e,n)},setToMax:(e,t)=>{const n=GE(t);OS(e,n)},findValueOfOffset:RS,getValueFromEvent:e=>HE(e).map((e=>e.left)),findPositionOfValue:DS,setPositionFromValue:(e,t,n,r)=>{const o=lS(n),i=DS(e,r.getSpectrum(e),o,r.getLeftEdge(e),r.getRightEdge(e),n),s=Yt(t.element)/2;Ot(t.element,"left",i-s+"px")},onLeft:IS,onRight:BS,onUp:FS,onDown:LS,edgeActions:HS});const VS=(e,t)=>{Di(e,LE(),{value:t})},jS=(e,t,n)=>{const r={min:VE(t),max:qE(t),range:XE(t),value:n,step:QE(t),snap:eS(t),snapStart:tS(t),rounded:nS(t),hasMinEdge:sS(t),hasMaxEdge:aS(t),minBound:CS(e),maxBound:AS(e),screenRange:kS(e)};return fS(r)},US=e=>(t,n)=>((e,t,n)=>{const r=(e>0?hS:dS)(lS(n),VE(n),qE(n),QE(n));return VS(t,r),M.some(r)})(e,t,n).map(T),GS=(e,t,n,r,o,i)=>{const s=((e,t,n,r,o)=>{const i=kS(e),s=r.bind((t=>M.some(PS(t,e)))).getOr(0),a=o.bind((t=>M.some(PS(t,e)))).getOr(i),l={min:VE(t),max:qE(t),range:XE(t),value:n,hasMinEdge:sS(t),hasMaxEdge:aS(t),minBound:CS(e),minOffset:0,maxBound:AS(e),maxOffset:i,centerMinEdge:s,centerMaxEdge:a};return mS(l)})(t,i,n,r,o);return CS(t)-CS(e)+s},qS=M.none,WS=M.none,ZS=US(-1),$S=US(1),KS={"top-left":M.none(),top:M.some(((e,t)=>{uS(e,UE(t))})),"top-right":M.none(),right:M.none(),"bottom-right":M.none(),bottom:M.some(((e,t)=>{uS(e,ZE(t))})),"bottom-left":M.none(),left:M.none()};var XS=Object.freeze({__proto__:null,setValueFrom:(e,t,n)=>{const r=jS(e,t,n);return VS(e,r),r},setToMin:(e,t)=>{const n=VE(t);VS(e,n)},setToMax:(e,t)=>{const n=qE(t);VS(e,n)},findValueOfOffset:jS,getValueFromEvent:e=>HE(e).map((e=>e.top)),findPositionOfValue:GS,setPositionFromValue:(e,t,n,r)=>{const o=lS(n),i=GS(e,r.getSpectrum(e),o,r.getTopEdge(e),r.getBottomEdge(e),n),s=Ut(t.element)/2;Ot(t.element,"top",i-s+"px")},onLeft:qS,onRight:WS,onUp:ZS,onDown:$S,edgeActions:KS});const YS=(e,t)=>{Di(e,LE(),{value:t})},JS=(e,t)=>({x:e,y:t}),QS=(e,t)=>(n,r)=>((e,t,n,r)=>{const o=e>0?hS:dS,i=t?lS(r).x:o(lS(r).x,zE(r),GE(r),QE(r)),s=t?o(lS(r).y,VE(r),qE(r),QE(r)):lS(r).y;return YS(n,JS(i,s)),M.some(i)})(e,t,n,r).map(T),eC=QS(-1,!1),tC=QS(1,!1),nC=QS(-1,!0),rC=QS(1,!0),oC={"top-left":M.some(((e,t)=>{uS(e,cS(jE(t),UE(t)))})),top:M.some(((e,t)=>{uS(e,cS(YE(t),UE(t)))})),"top-right":M.some(((e,t)=>{uS(e,cS(WE(t),UE(t)))})),right:M.some(((e,t)=>{uS(e,cS(WE(t),JE(t)))})),"bottom-right":M.some(((e,t)=>{uS(e,cS(WE(t),ZE(t)))})),bottom:M.some(((e,t)=>{uS(e,cS(YE(t),ZE(t)))})),"bottom-left":M.some(((e,t)=>{uS(e,cS(jE(t),ZE(t)))})),left:M.some(((e,t)=>{uS(e,cS(jE(t),JE(t)))}))};var iC=Object.freeze({__proto__:null,setValueFrom:(e,t,n)=>{const r=RS(e,t,n.left),o=jS(e,t,n.top),i=JS(r,o);return YS(e,i),i},setToMin:(e,t)=>{const n=zE(t),r=VE(t);YS(e,JS(n,r))},setToMax:(e,t)=>{const n=GE(t),r=qE(t);YS(e,JS(n,r))},getValueFromEvent:e=>HE(e),setPositionFromValue:(e,t,n,r)=>{const o=lS(n),i=DS(e,r.getSpectrum(e),o.x,r.getLeftEdge(e),r.getRightEdge(e),n),s=GS(e,r.getSpectrum(e),o.y,r.getTopEdge(e),r.getBottomEdge(e),n),a=Yt(t.element)/2,l=Ut(t.element)/2;Ot(t.element,"left",i-a+"px"),Ot(t.element,"top",s-l+"px")},onLeft:eC,onRight:tC,onUp:nC,onDown:rC,edgeActions:oC});const sC=mh({name:"Slider",configFields:[bo("stepSize",1),bo("onChange",v),bo("onChoose",v),bo("onInit",v),bo("onDragStart",v),bo("onDragEnd",v),bo("snapToGrid",!1),bo("rounded",!0),uo("snapStart"),no("model",Xr("mode",{x:[bo("minX",0),bo("maxX",100),Qr("value",(e=>To(e.mode.minX))),to("getInitialValue"),Ia("manager",zS)],y:[bo("minY",0),bo("maxY",100),Qr("value",(e=>To(e.mode.minY))),to("getInitialValue"),Ia("manager",XS)],xy:[bo("minX",0),bo("maxX",100),bo("minY",0),bo("maxY",100),Qr("value",(e=>To({x:e.mode.minX,y:e.mode.minY}))),to("getInitialValue"),Ia("manager",iC)]})),pd("sliderBehaviours",[zf,hd]),Qr("mouseIsDown",(()=>To(!1)))],partFields:FE,factory:(e,t,n,r)=>{const o=t=>th(t,e,"thumb"),i=t=>th(t,e,"spectrum"),s=t=>eh(t,e,"left-edge"),a=t=>eh(t,e,"right-edge"),l=t=>eh(t,e,"top-edge"),c=t=>eh(t,e,"bottom-edge"),u=e.model,d=u.manager,h=(t,n)=>{d.setPositionFromValue(t,n,e,{getLeftEdge:s,getRightEdge:a,getTopEdge:l,getBottomEdge:c,getSpectrum:i})},p=(e,t)=>{u.value.set(t);const n=o(e);h(e,n)},f=t=>{const n=e.mouseIsDown.get();e.mouseIsDown.set(!1),n&&eh(t,e,"thumb").each((n=>{const r=u.value.get();e.onChoose(t,n,r)}))},m=(t,n)=>{n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,o(t))},g=(t,n)=>{n.stop(),e.onDragEnd(t,o(t)),f(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:md(e.sliderBehaviours,[zf.config({mode:"special",focusIn:t=>eh(t,e,"spectrum").map(zf.focusIn).map(T)}),hd.config({store:{mode:"manual",getValue:e=>u.value.get(),setValue:p}}),Ml.config({channels:{[Ku()]:{onReceive:f}}})]),events:Hi([ji(LE(),((t,n)=>{((t,n)=>{p(t,n);const r=o(t);e.onChange(t,r,n),M.some(!0)})(t,n.event.value)})),Xi(((t,n)=>{const r=u.getInitialValue();u.value.set(r);const s=o(t);h(t,s);const a=i(t);e.onInit(t,s,a,u.value.get())})),ji(Ho(),m),ji(Vo(),g),ji(Uo(),m),ji(Wo(),g)]),apis:{resetToMin:t=>{d.setToMin(t,e)},resetToMax:t=>{d.setToMax(t,e)},setValue:p,refresh:h},domModification:{styles:{position:"relative"}}}},apis:{setValue:(e,t,n)=>{e.setValue(t,n)},resetToMin:(e,t)=>{e.resetToMin(t)},resetToMax:(e,t)=>{e.resetToMax(t)},refresh:(e,t)=>{e.refresh(t)}}}),aC=ls("rgb-hex-update"),lC=ls("slider-update"),cC=ls("palette-update"),uC="form",dC=[pd("formBehaviours",[hd])],hC=e=>"<alloy.field."+e+">",pC=(e,t)=>({uid:e.uid,dom:e.dom,components:t,behaviours:md(e.formBehaviours,[hd.config({store:{mode:"manual",getValue:t=>{const n=rh(t,e);return ce(n,((e,t)=>e().bind((e=>{return n=bh.getCurrent(e),r=new Error(`Cannot find a current component to extract the value from for form part '${t}': `+rs(e.element)),n.fold((()=>or.error(r)),or.value);var n,r})).map(hd.getValue)))},setValue:(t,n)=>{le(n,((n,r)=>{eh(t,e,r).each((e=>{bh.getCurrent(e).each((e=>{hd.setValue(e,n)}))}))}))}}})]),apis:{getField:(t,n)=>eh(t,e,n).bind(bh.getCurrent)}}),fC={getField:Cs(((e,t,n)=>e.getField(t,n))),sketch:e=>{const t=(()=>{const e=[];return{field:(t,n)=>(e.push(t),Kd(uC,hC(t),n)),record:w(e)}})(),n=e(t),r=t.record(),o=H(r,(e=>zd({name:e,pname:hC(e)})));return uh(uC,dC,o,pC,n)}},mC=ls("valid-input"),gC=ls("invalid-input"),vC=ls("validating-input"),yC="colorcustom.rgb.",bC=(e,t,n,r)=>{const o=(n,r)=>SE.config({invalidClass:t("invalid"),notify:{onValidate:e=>{Di(e,vC,{type:n})},onValid:e=>{Di(e,mC,{type:n,value:hd.getValue(e)})},onInvalid:e=>{Di(e,gC,{type:n,value:hd.getValue(e)})}},validator:{validate:t=>{const n=hd.getValue(t),o=r(n)?or.value(!0):or.error(e("aria.input.invalid"));return lx(o)},validateOnLoad:!1}}),i=(n,r,i,s,a)=>{const l=e(yC+"range"),c=Xx.parts.label({dom:{tag:"label",attributes:{"aria-label":s}},components:[ta(i)]}),u=Xx.parts.field({data:a,factory:Dv,inputAttributes:{type:"text",..."hex"===r?{"aria-live":"polite"}:{}},inputClasses:[t("textfield")],inputBehaviours:Sl([o(r,n),Qx.config({})]),onSetValue:e=>{SE.isInvalid(e)&&SE.run(e).get(v)}}),d=[c,u],h="hex"!==r?[Xx.parts["aria-descriptor"]({text:l})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:d.concat(h)}},s=(e,t)=>{const n=t.red,r=t.green,o=t.blue;hd.setValue(e,{red:n,green:r,blue:o})},a=Um({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),l=(e,t)=>{a.getOpt(e).each((e=>{Ot(e.element,"background-color","#"+t.value)}))},c=fh({factory:()=>{const o={red:To(M.some(255)),green:To(M.some(255)),blue:To(M.some(255)),hex:To(M.some("ffffff"))},c=e=>o[e].get(),u=(e,t)=>{o[e].set(t)},d=e=>{const t=e.red,n=e.green,r=e.blue;u("red",M.some(t)),u("green",M.some(n)),u("blue",M.some(r))},h=(e,t)=>{const n=t.event;"hex"!==n.type?u(n.type,M.none()):r(e)},p=(e,t)=>{const r=t.event;(e=>"hex"===e.type)(r)?((e,t)=>{n(e);const r=Gb(t);u("hex",M.some(r.value));const o=iw(r);s(e,o),d(o),Di(e,aC,{hex:r}),l(e,r)})(e,r.value):((e,t,n)=>{const r=parseInt(n,10);u(t,M.some(r)),c("red").bind((e=>c("green").bind((t=>c("blue").map((n=>nw(e,t,n,1))))))).each((t=>{const n=((e,t)=>{const n=Xb(t);return fC.getField(e,"hex").each((t=>{tm.isFocused(t)||hd.setValue(e,{hex:n.value})})),n})(e,t);Di(e,aC,{hex:n}),l(e,n)}))})(e,r.type,r.value)},f=t=>({label:e(yC+t+".label"),description:e(yC+t+".description")}),m=f("red"),g=f("green"),v=f("blue"),y=f("hex");return mr(fC.sketch((n=>({dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",Xx.sketch(i(rw,"red",m.label,m.description,255))),n.field("green",Xx.sketch(i(rw,"green",g.label,g.description,255))),n.field("blue",Xx.sketch(i(rw,"blue",v.label,v.description,255))),n.field("hex",Xx.sketch(i(Zb,"hex",y.label,y.description,"ffffff"))),a.asSpec()],formBehaviours:Sl([SE.config({invalidClass:t("form-invalid")}),Xf("rgb-form-events",[ji(mC,p),ji(gC,h),ji(vC,h)])])}))),{apis:{updateHex:(e,t)=>{hd.setValue(e,{hex:t.value}),((e,t)=>{const n=iw(t);s(e,n),d(n)})(e,t),l(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(e,t,n)=>{e.updateHex(t,n)}},extraApis:{}});return c},wC=(e,t)=>{const n=fh({name:"ColourPicker",configFields:[to("dom"),bo("onValidHex",v),bo("onInvalidHex",v)],factory:n=>{const r=bC(e,t,n.onValidHex,n.onInvalidHex),o=((e,t)=>{const n=sC.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),r=sC.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:`<div class=${t("sv-palette-inner-thumb")} role="presentation"></div>`}}),o=(e,t)=>{const{width:n,height:r}=e,o=e.getContext("2d");if(null===o)return;o.fillStyle=t,o.fillRect(0,0,n,r);const i=o.createLinearGradient(0,0,n,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=i,o.fillRect(0,0,n,r);const s=o.createLinearGradient(0,0,0,r);s.addColorStop(0,"rgba(0,0,0,0)"),s.addColorStop(1,"rgba(0,0,0,1)"),o.fillStyle=s,o.fillRect(0,0,n,r)};return fh({factory:e=>{const i=w({x:0,y:0}),s=Sl([bh.config({find:M.some}),tm.config({})]);return sC.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:i},rounded:!1,components:[n,r],onChange:(e,t,n)=>{Di(e,cC,{value:n})},onInit:(e,t,n,r)=>{o(n.element.dom,lw(cw))},sliderBehaviours:s})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(e,t,n)=>{((e,t)=>{const n=e.components()[0].element.dom,r=vw(t,100,100),i=ow(r);o(n,lw(i))})(t,n)},setThumb:(e,t,n)=>{((e,t)=>{const n=yw(iw(t));sC.setValue(e,{x:n.saturation,y:100-n.value})})(t,n)}},extraApis:{}})})(0,t),i={paletteRgba:To(cw),paletteHue:To(0)},s=Um(((e,t)=>{const n=sC.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),r=sC.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return sC.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:w(0)},components:[n,r],sliderBehaviours:Sl([tm.config({})]),onChange:(e,t,n)=>{Di(e,lC,{value:n})}})})(0,t)),a=Um(o.sketch({})),l=Um(r.sketch({})),c=(e,t,n)=>{a.getOpt(e).each((e=>{o.setHue(e,n)}))},u=(e,t)=>{l.getOpt(e).each((e=>{r.updateHex(e,t)}))},d=(e,t,n)=>{s.getOpt(e).each((e=>{sC.setValue(e,(e=>100-e/360*100)(n))}))},h=(e,t)=>{a.getOpt(e).each((e=>{o.setThumb(e,t)}))},p=(e,t,n,r)=>{((e,t)=>{const n=iw(e);i.paletteRgba.set(n),i.paletteHue.set(t)})(t,n),z(r,(r=>{r(e,t,n)}))};return{uid:n.uid,dom:n.dom,components:[a.asSpec(),s.asSpec(),l.asSpec()],behaviours:Sl([Xf("colour-picker-events",[ji(aC,(()=>{const e=[c,d,h];return(t,n)=>{const r=n.event.hex,o=(e=>yw(iw(e)))(r);p(t,r,o.hue,e)}})()),ji(cC,(()=>{const e=[u];return(t,n)=>{const r=n.event.value,o=i.paletteHue.get(),s=vw(o,r.x,100-r.y),a=bw(s);p(t,a,o,e)}})()),ji(lC,(()=>{const e=[c,u];return(t,n)=>{const r=(e=>(100-e)/100*360)(n.event.value),o=i.paletteRgba.get(),s=yw(o),a=vw(r,s.saturation,s.value),l=bw(a);p(t,l,r,e)}})())]),bh.config({find:e=>l.getOpt(e)}),zf.config({mode:"acyclic"})])}}});return n},xC=()=>bh.config({find:M.some}),EC=e=>bh.config({find:t=>lt(t.element,e).bind((e=>t.getSystem().getByDom(e).toOptional()))}),SC=Pr([bo("preprocess",x),bo("postprocess",x)]),CC=(e,t,n)=>hd.config({store:{mode:"manual",...e.map((e=>({initialValue:e}))).getOr({}),getValue:t,setValue:n}}),AC=(e,t,n)=>CC(e,(e=>t(e.element)),((e,t)=>n(e.element,t))),_C=(e,t)=>{const n=$r("RepresentingConfigs.memento processors",SC,t);return hd.config({store:{mode:"manual",getValue:t=>{const r=e.get(t),o=hd.getValue(r);return n.postprocess(o)},setValue:(t,r)=>{const o=n.preprocess(r),i=e.get(t);hd.setValue(i,o)}}})},kC=AC,TC=CC,MC=e=>hd.config({store:{mode:"memory",initialValue:e}}),PC={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var OC=tinymce.util.Tools.resolve("tinymce.Resource"),RC=tinymce.util.Tools.resolve("tinymce.util.Tools");const NC=ls("alloy-fake-before-tabstop"),DC=ls("alloy-fake-after-tabstop"),IC=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:Sl([tm.config({ignore:!0}),Qx.config({})])}),BC=e=>({dom:{tag:"div",classes:["tox-navobj"]},components:[IC([NC]),e,IC([DC])],behaviours:Sl([EC(1)])}),FC=(e,t)=>{Di(e,Xo(),{raw:{which:9,shiftKey:t}})},LC=(e,t)=>{const n=t.element;js(n,NC)?FC(e,!0):js(n,DC)&&FC(e,!1)},HC=e=>Bx(e,["."+NC,"."+DC].join(","),k),zC=ls("toolbar.button.execute"),VC=ls("common-button-display-events"),jC={[di()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[Ei()]:["toolbar-button-events",VC],[Uo()]:["focusing","alloy.base.behaviour",VC]},UC=e=>Ot(e.element,"width",Dt(e.element,"width")),GC=(e,t,n)=>Qm(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:n},t),qC=(e,t)=>GC(e,t,[]),WC=(e,t)=>GC(e,t,[Kf.config({})]),ZC=(e,t,n)=>({dom:{tag:"span",classes:[`${t}__select-label`]},components:[ta(n.translate(e))],behaviours:Sl([Kf.config({})])}),$C=ls("update-menu-text"),KC=ls("update-menu-icon"),XC=(e,t,n)=>{const r=To(v),o=e.text.map((e=>Um(ZC(e,t,n.providers)))),i=e.icon.map((e=>Um(WC(e,n.providers.icons)))),s=(e,t)=>{const n=hd.getValue(e);return tm.focus(n),Di(n,"keydown",{raw:t.event.raw}),Ex.close(n),M.some(!0)},a=e.role.fold((()=>({})),(e=>({role:e}))),l=e.tooltip.fold((()=>({})),(e=>{const t=n.providers.translate(e);return{title:t,"aria-label":t}})),c=Qm("chevron-down",{tag:"div",classes:[`${t}__select-chevron`]},n.providers.icons),u=ls("common-button-display-events"),d=Um(Ex.sketch({...e.uid?{uid:e.uid}:{},...a,dom:{tag:"button",classes:[t,`${t}--select`].concat(H(e.classes,(e=>`${t}--${e}`))),attributes:{...l}},components:Tb([i.map((e=>e.asSpec())),o.map((e=>e.asSpec())),M.some(c)]),matchWidth:!0,useMinWidth:!0,onOpen:(t,n,r)=>{e.searchable&&(e=>{Hv(e).each((e=>tm.focus(e)))})(r)},dropdownBehaviours:Sl([...e.dropdownBehaviours,wb((()=>e.disabled||n.providers.isDisabled())),bb(),CE.config({}),Kf.config({}),Xf("dropdown-events",[Cb(e,r),Ab(e,r)]),Xf(u,[Xi(((e,t)=>UC(e)))]),Xf("menubutton-update-display-text",[ji($C,((e,t)=>{o.bind((t=>t.getOpt(e))).each((e=>{Kf.set(e,[ta(n.providers.translate(t.event.text))])}))})),ji(KC,((e,t)=>{i.bind((t=>t.getOpt(e))).each((e=>{Kf.set(e,[WC(t.event.icon,n.providers.icons)])}))}))])]),eventOrder:mr(jC,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Ei()]:["toolbar-button-events","dropdown-events",u]}),sandboxBehaviours:Sl([zf.config({mode:"special",onLeft:s,onRight:s}),Xf("dropdown-sandbox-events",[ji(Iv,((e,t)=>{(e=>{const t=hd.getValue(e),n=Lv(e).map(zv);Ex.refetch(t).get((()=>{const e=nx.getCoupled(t,"sandbox");n.each((t=>Lv(e).each((e=>((e,t)=>{hd.setValue(e,t.fetchPattern),e.element.dom.selectionStart=t.selectionStart,e.element.dom.selectionEnd=t.selectionEnd})(e,t)))))}))})(e),t.stop()})),ji(Bv,((e,t)=>{((e,t)=>{(e=>Wu.getState(e).bind(Uh.getHighlighted).bind(Uh.getHighlighted))(e).each((n=>{((e,t,n,r)=>{const o={...r,target:t};e.getSystem().triggerEvent(n,t,o)})(e,n.element,t.event.eventType,t.event.interactionEvent)}))})(e,t),t.stop()}))])]),lazySink:n.getSink,toggleClass:`${t}--active`,parts:{menu:{...Mv(0,e.columns,e.presets),fakeFocus:e.searchable,onHighlightItem:Sx,onCollapseMenu:(e,t,n)=>{Uh.getHighlighted(n).each((t=>{Sx(e,n,t)}))},onDehighlightItem:Cx}},fetch:t=>ax(S(e.fetch,t))}));return d.asSpec()},YC=e=>"separator"===e.type,JC={type:"separator"},QC=(e,t)=>{const n=((e,t)=>{const n=G(e,((e,n)=>(e=>i(e))(n)?""===n?e:"|"===n?e.length>0&&!YC(e[e.length-1])?e.concat([JC]):e:ye(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])),[]);return n.length>0&&YC(n[n.length-1])&&n.pop(),n})(i(e)?e.split(" "):e,t);return U(n,((e,n)=>{if((e=>ye(e,"getSubmenuItems"))(n)){const r=(e=>{const t=ve(e,"value").getOrThunk((()=>ls("generated-menu-item")));return mr({value:t},e)})(n),o=((e,t)=>{const n=e.getSubmenuItems(),r=QC(n,t);return{item:e,menus:mr(r.menus,{[e.value]:r.items}),expansions:mr(r.expansions,{[e.value]:e.value})}})(r,t);return{menus:mr(e.menus,o.menus),items:[o.item,...e.items],expansions:mr(e.expansions,o.expansions)}}return{...e,items:[n,...e.items]}}),{menus:{},expansions:{},items:[]})},eA=(e,t,n,r)=>{const o=ls("primary-menu"),i=QC(e,n.shared.providers.menuItems());if(0===i.items.length)return M.none();const s=(e=>e.search.fold((()=>({searchMode:"no-search"})),(e=>({searchMode:"search-with-field",placeholder:e.placeholder}))))(r),a=Mx(o,i.items,t,n,r.isHorizontalMenu,s),l=(e=>e.search.fold((()=>({searchMode:"no-search"})),(e=>({searchMode:"search-with-results"}))))(r),c=ce(i.menus,((e,r)=>Mx(r,e,t,n,!1,l))),u=mr(c,Po(o,a));return M.from(Hm.tieredData(o,u,i.expansions))},tA=e=>!ye(e,"items"),nA="data-value",rA=(e,t,n,r)=>H(n,(n=>tA(n)?{type:"togglemenuitem",text:n.text,value:n.value,active:n.value===r,onAction:()=>{hd.setValue(e,n.value),Di(e,iE,{name:t}),tm.focus(e)}}:{type:"nestedmenuitem",text:n.text,getSubmenuItems:()=>rA(e,t,n.items,r)})),oA=(e,t)=>ie(e,(e=>tA(e)?Ce(e.value===t,e):oA(e.items,t))),iA=fh({name:"HtmlSelect",configFields:[to("options"),pd("selectBehaviours",[tm,hd]),bo("selectClasses",[]),bo("selectAttributes",{}),uo("data")],factory:(e,t)=>{const n=H(e.options,(e=>({dom:{tag:"option",value:e.value,innerHtml:e.text}}))),r=e.data.map((e=>Po("initialValue",e))).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:md(e.selectBehaviours,[tm.config({}),hd.config({store:{mode:"manual",getValue:e=>Ws(e.element),setValue:(t,n)=>{q(e.options,(e=>e.value===n)).isSome()&&Zs(t.element,n)},...r}})])}}}),sA=w([bo("field1Name","field1"),bo("field2Name","field2"),Na("onLockedChange"),Ma(["lockClass"]),bo("locked",!1),gd("coupledFieldBehaviours",[bh,hd])]),aA=(e,t)=>zd({factory:Xx,name:e,overrides:e=>({fieldBehaviours:Sl([Xf("coupled-input-behaviour",[ji(Jo(),(n=>{((e,t,n)=>eh(e,t,n).bind(bh.getCurrent))(n,e,t).each((t=>{eh(n,e,"lock").each((r=>{cm.isOn(r)&&e.onLockedChange(n,t,r)}))}))}))])])})}),lA=w([aA("field1","field2"),aA("field2","field1"),zd({factory:jm,schema:[to("dom")],name:"lock",overrides:e=>({buttonBehaviours:Sl([cm.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]),cA=mh({name:"FormCoupledInputs",configFields:sA(),partFields:lA(),factory:(e,t,n,r)=>({uid:e.uid,dom:e.dom,components:t,behaviours:vd(e.coupledFieldBehaviours,[bh.config({find:M.some}),hd.config({store:{mode:"manual",getValue:t=>{const n=ih(t,e,["field1","field2"]);return{[e.field1Name]:hd.getValue(n.field1()),[e.field2Name]:hd.getValue(n.field2())}},setValue:(t,n)=>{const r=ih(t,e,["field1","field2"]);be(n,e.field1Name)&&hd.setValue(r.field1(),n[e.field1Name]),be(n,e.field2Name)&&hd.setValue(r.field2(),n[e.field2Name])}}})]),apis:{getField1:t=>eh(t,e,"field1"),getField2:t=>eh(t,e,"field2"),getLock:t=>eh(t,e,"lock")}}),apis:{getField1:(e,t)=>e.getField1(t),getField2:(e,t)=>e.getField2(t),getLock:(e,t)=>e.getLock(t)}}),uA=e=>{const t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(null!==t){const e=parseFloat(t[1]),n=t[2];return or.value({value:e,unit:n})}return or.error(e)},dA=(e,t)=>{const n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=e=>ye(n,e);return e.unit===t?M.some(e.value):r(e.unit)&&r(t)?n[e.unit]===n[t]?M.some(e.value):M.some(e.value/n[e.unit]*n[t]):M.none()},hA=e=>M.none(),pA=(e,t)=>{const n=e.label.map((e=>oE(e,t))),r=[Nh.config({disabled:()=>e.disabled||t.isDisabled()}),bb(),zf.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:e=>(Ni(e,cE),M.some(!0))}),Xf("textfield-change",[ji(Jo(),((t,n)=>{Di(t,iE,{name:e.name})})),ji(ci(),((t,n)=>{Di(t,iE,{name:e.name})}))]),Qx.config({})],o=e.validation.map((e=>SE.config({getRoot:e=>it(e.element),invalidClass:"tox-invalid",validator:{validate:t=>{const n=hd.getValue(t),r=e.validator(n);return lx(!0===r?or.value(n):or.error(r))},validateOnLoad:e.validateOnLoad}}))).toArray(),i={...e.placeholder.fold(w({}),(e=>({placeholder:t.translate(e)}))),...e.inputMode.fold(w({}),(e=>({inputmode:e})))},s=Xx.parts.field({tag:!0===e.multiline?"textarea":"input",...e.data.map((e=>({data:e}))).getOr({}),inputAttributes:i,inputClasses:[e.classname],inputBehaviours:Sl(Z([r,o])),selectOnFocus:!1,factory:Dv}),a=e.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[s]}:s,l=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),c=[Nh.config({disabled:()=>e.disabled||t.isDisabled(),onDisabled:e=>{Xx.getField(e).each(Nh.disable)},onEnabled:e=>{Xx.getField(e).each(Nh.enable)}}),bb()];return tE(n,a,l,c)},fA=(e,t)=>t.getAnimationRoot.fold((()=>e.element),(t=>t(e))),mA=e=>e.dimension.property,gA=(e,t)=>e.dimension.getDimension(t),vA=(e,t)=>{const n=fA(e,t);Gs(n,[t.shrinkingClass,t.growingClass])},yA=(e,t)=>{Vs(e.element,t.openClass),zs(e.element,t.closedClass),Ot(e.element,mA(t),"0px"),zt(e.element)},bA=(e,t)=>{Vs(e.element,t.closedClass),zs(e.element,t.openClass),Ht(e.element,mA(t))},wA=(e,t,n,r)=>{n.setCollapsed(),Ot(e.element,mA(t),gA(t,e.element)),vA(e,t),yA(e,t),t.onStartShrink(e),t.onShrunk(e)},xA=(e,t,n,r)=>{const o=r.getOrThunk((()=>gA(t,e.element)));n.setCollapsed(),Ot(e.element,mA(t),o),zt(e.element);const i=fA(e,t);Vs(i,t.growingClass),zs(i,t.shrinkingClass),yA(e,t),t.onStartShrink(e)},EA=(e,t,n)=>{const r=gA(t,e.element);("0px"===r?wA:xA)(e,t,n,M.some(r))},SA=(e,t,n)=>{const r=fA(e,t),o=js(r,t.shrinkingClass),i=gA(t,e.element);bA(e,t);const s=gA(t,e.element);(o?()=>{Ot(e.element,mA(t),i),zt(e.element)}:()=>{yA(e,t)})(),Vs(r,t.shrinkingClass),zs(r,t.growingClass),bA(e,t),Ot(e.element,mA(t),s),n.setExpanded(),t.onStartGrow(e)},CA=(e,t,n)=>{const r=fA(e,t);return!0===js(r,t.growingClass)},AA=(e,t,n)=>{const r=fA(e,t);return!0===js(r,t.shrinkingClass)};var _A=Object.freeze({__proto__:null,refresh:(e,t,n)=>{if(n.isExpanded()){Ht(e.element,mA(t));const n=gA(t,e.element);Ot(e.element,mA(t),n)}},grow:(e,t,n)=>{n.isExpanded()||SA(e,t,n)},shrink:(e,t,n)=>{n.isExpanded()&&EA(e,t,n)},immediateShrink:(e,t,n)=>{n.isExpanded()&&wA(e,t,n)},hasGrown:(e,t,n)=>n.isExpanded(),hasShrunk:(e,t,n)=>n.isCollapsed(),isGrowing:CA,isShrinking:AA,isTransitioning:(e,t,n)=>CA(e,t)||AA(e,t),toggleGrow:(e,t,n)=>{(n.isExpanded()?EA:SA)(e,t,n)},disableTransitions:vA,immediateGrow:(e,t,n)=>{n.isExpanded()||(bA(e,t),Ot(e.element,mA(t),gA(t,e.element)),vA(e,t),n.setExpanded(),t.onStartGrow(e),t.onGrown(e))}}),kA=Object.freeze({__proto__:null,exhibit:(e,t,n)=>{const r=t.expanded;return Ts(r?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:Po(t.dimension.property,"0px")})},events:(e,t)=>Hi([Ki(ni(),((n,r)=>{r.event.raw.propertyName===e.dimension.property&&(vA(n,e),t.isExpanded()&&Ht(n.element,e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(n))}))])}),TA=[to("closedClass"),to("openClass"),to("shrinkingClass"),to("growingClass"),uo("getAnimationRoot"),Oa("onShrunk"),Oa("onStartShrink"),Oa("onGrown"),Oa("onStartGrow"),bo("expanded",!1),no("dimension",Xr("property",{width:[Ia("property","width"),Ia("getDimension",(e=>Yt(e)+"px"))],height:[Ia("property","height"),Ia("getDimension",(e=>Ut(e)+"px"))]}))];const MA=Al({fields:TA,name:"sliding",active:kA,apis:_A,state:Object.freeze({__proto__:null,init:e=>{const t=To(e.expanded);return _s({isExpanded:()=>!0===t.get(),isCollapsed:()=>!1===t.get(),setCollapsed:S(t.set,!1),setExpanded:S(t.set,!0),readState:()=>"expanded: "+t.get()})}})}),PA=e=>({isEnabled:()=>!Nh.isDisabled(e),setEnabled:t=>Nh.set(e,!t),setActive:t=>{const n=e.element;t?(zs(n,"tox-tbtn--enabled"),St(n,"aria-pressed",!0)):(Vs(n,"tox-tbtn--enabled"),Tt(n,"aria-pressed"))},isActive:()=>js(e.element,"tox-tbtn--enabled"),setText:t=>{Di(e,$C,{text:t})},setIcon:t=>Di(e,KC,{icon:t})}),OA=(e,t,n,r,o=!0)=>XC({text:e.text,icon:e.icon,tooltip:e.tooltip,searchable:e.search.isSome(),role:r,fetch:(t,r)=>{const o={pattern:e.search.isSome()?Ax(t):""};e.fetch((t=>{r(eA(t,dv.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!1,search:e.search}))}),o,PA(t))},onSetup:e.onSetup,getApi:PA,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...o?[Qx.config({})]:[]]},t,n.shared),RA=(e,t,n)=>{const r=e=>r=>{const o=!r.isActive();r.setActive(o),e.storage.set(o),n.shared.getSink().each((n=>{t().getOpt(n).each((t=>{Ol(t.element),Di(t,lE,{name:e.name,value:e.storage.get()})}))}))},o=e=>t=>{t.setActive(e.storage.get())};return t=>{t(H(e,(e=>{const t=e.text.fold((()=>({})),(e=>({text:e})));return{type:e.type,active:!1,...t,onAction:r(e),onSetup:o(e)}})))}},NA=e=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:e,"aria-label":e}},components:[ta(e)]}),DA=ls("leaf-label-event-id"),IA=({leaf:e,onLeafAction:t,visible:n,treeId:r,backstage:o})=>{const i=e.menu.map((e=>OA(e,"tox-mbtn",o,M.none(),n))),s=[NA(e.title)];return i.each((e=>s.push(e))),jm.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(n?["tox-tree--leaf__label--visible"]:[])},components:s,role:"treeitem",action:n=>{t(e.id),n.getSystem().broadcastOn([`update-active-item-${r}`],{value:e.id})},eventOrder:{[Xo()]:[DA,"keying"]},buttonBehaviours:Sl([...n?[Qx.config({})]:[],cm.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Ml.config({channels:{[`update-active-item-${r}`]:{onReceive:(t,n)=>{(n.value===e.id?cm.on:cm.off)(t)}}}}),Xf(DA,[ji(Xo(),((e,t)=>{const n="ArrowLeft"===t.event.raw.code,r="ArrowRight"===t.event.raw.code;n?(ha(e.element,".tox-tree--directory").each((t=>{e.getSystem().getByDom(t).each((e=>{pa(t,".tox-tree--directory__label").each((t=>{e.getSystem().getByDom(t).each(tm.focus)}))}))})),t.stop()):r&&t.stop()}))])])})},BA=ls("directory-label-event-id"),FA=({directory:e,visible:t,noChildren:n,backstage:r})=>{const o=e.menu.map((e=>OA(e,"tox-mbtn",r,M.none()))),i=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(s="chevron-right",a=r.shared.providers.icons,((e,t,n)=>Qm(e,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},t))(s,a))]},NA(e.title)];var s,a;o.each((e=>{i.push(e)}));const l=e=>{ha(e.element,".tox-tree--directory").each((t=>{e.getSystem().getByDom(t).each((e=>cm.toggle(e)))}))};return jm.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(t?["tox-tree--directory__label--visible"]:[])},components:i,action:l,eventOrder:{[Xo()]:[BA,"keying"]},buttonBehaviours:Sl([...t?[Qx.config({})]:[],Xf(BA,[ji(Xo(),((e,t)=>{const r="ArrowRight"===t.event.raw.code,o="ArrowLeft"===t.event.raw.code;r&&n&&t.stop(),(r||o)&&ha(e.element,".tox-tree--directory").each((n=>{e.getSystem().getByDom(n).each((n=>{!cm.isOn(n)&&r||cm.isOn(n)&&o?(l(e),t.stop()):o&&!cm.isOn(n)&&(ha(n.element,".tox-tree--directory").each((e=>{pa(e,".tox-tree--directory__label").each((e=>{n.getSystem().getByDom(e).each(tm.focus)}))})),t.stop())}))}))}))])])})},LA=({children:e,onLeafAction:t,visible:n,treeId:r,backstage:o})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map((e=>"leaf"===e.type?IA({leaf:e,onLeafAction:t,visible:n,treeId:r,backstage:o}):HA({directory:e,onLeafAction:t,labelTabstopping:n,treeId:r,backstage:o}))),behaviours:Sl([MA.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking"}),Kf.config({})])}),HA=({directory:e,onLeafAction:t,labelTabstopping:n,treeId:r,backstage:o})=>{const{children:i}=e;return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[FA({directory:e,visible:n,noChildren:0===e.children.length,backstage:o}),LA({children:i,onLeafAction:t,visible:!1,treeId:r,backstage:o})],behaviours:Sl([cm.config({...e.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(e,n)=>{const s=e.components()[1],a=(l=n,i.map((e=>"leaf"===e.type?IA({leaf:e,onLeafAction:t,visible:l,treeId:r,backstage:o}):HA({directory:e,onLeafAction:t,labelTabstopping:l,treeId:r,backstage:o}))));var l;n?MA.grow(s):MA.shrink(s),Kf.set(s,a)}})])}};var zA=Object.freeze({__proto__:null,events:(e,t)=>{const n=e.stream.streams.setup(e,t);return Hi([ji(e.event,n),Yi((()=>t.cancel()))].concat(e.cancelEvent.map((e=>[ji(e,(()=>t.cancel()))])).getOr([])))}});const VA=(e,t)=>{let n=null;const r=()=>{c(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...o)=>{r(),n=setTimeout((()=>{n=null,e.apply(null,o)}),t)}}},jA=e=>{const t=To(null);return _s({readState:()=>({timer:null!==t.get()?"set":"unset"}),setTimer:e=>{t.set(e)},cancel:()=>{const e=t.get();null!==e&&e.cancel()}})};var UA=Object.freeze({__proto__:null,throttle:jA,init:e=>e.stream.streams.state(e)}),GA=[no("stream",Xr("mode",{throttle:[to("delay"),bo("stopEvent",!0),Ia("streams",{setup:(e,t)=>{const n=e.stream,r=VA(e.onStream,n.delay);return t.setTimer(r),(e,t)=>{r.throttle(e,t),n.stopEvent&&t.stop()}},state:jA})]})),bo("event","input"),uo("cancelEvent"),Na("onStream")];const qA=Al({fields:GA,name:"streaming",active:zA,state:UA}),WA=(e,t,n)=>{const r=hd.getValue(n);hd.setValue(t,r),$A(t)},ZA=(e,t)=>{const n=e.element,r=Ws(n),o=n.dom;"number"!==At(n,"type")&&t(o,r)},$A=e=>{ZA(e,((e,t)=>e.setSelectionRange(t.length,t.length)))},KA=w("alloy.typeahead.itemexecute"),XA=w([uo("lazySink"),to("fetch"),bo("minChars",5),bo("responseTime",1e3),Oa("onOpen"),bo("getHotspot",M.some),bo("getAnchorOverrides",w({})),bo("layouts",M.none()),bo("eventOrder",{}),ko("model",{},[bo("getDisplayText",(e=>void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value)),bo("selectsOver",!0),bo("populateFromBrowse",!0)]),Oa("onSetValue"),Ra("onExecute"),Oa("onItemExecute"),bo("inputClasses",[]),bo("inputAttributes",{}),bo("inputStyles",{}),bo("matchWidth",!0),bo("useMinWidth",!1),bo("dismissOnBlur",!0),Ma(["openClass"]),uo("initialData"),pd("typeaheadBehaviours",[tm,hd,qA,zf,cm,nx]),Qr("lazyTypeaheadComp",(()=>To(M.none))),Qr("previewing",(()=>To(!0)))].concat(Pv()).concat(bx())),YA=w([Vd({schema:[Ta()],name:"menu",overrides:e=>({fakeFocus:!0,onHighlightItem:(t,n,r)=>{e.previewing.get()?e.lazyTypeaheadComp.get().each((t=>{((e,t,n)=>{if(e.selectsOver){const r=hd.getValue(t),o=e.getDisplayText(r),i=hd.getValue(n);return 0===e.getDisplayText(i).indexOf(o)?M.some((()=>{WA(0,t,n),((e,t)=>{ZA(e,((e,n)=>e.setSelectionRange(t,n.length)))})(t,o.length)})):M.none()}return M.none()})(e.model,t,r).fold((()=>{e.model.selectsOver?(Uh.dehighlight(n,r),e.previewing.set(!0)):e.previewing.set(!1)}),(t=>{t(),e.previewing.set(!1)}))})):e.lazyTypeaheadComp.get().each((t=>{e.model.populateFromBrowse&&WA(e.model,t,r)}))},onExecute:(t,n)=>e.lazyTypeaheadComp.get().map((e=>(Di(e,KA(),{item:n}),!0))),onHover:(t,n)=>{e.previewing.set(!1),e.lazyTypeaheadComp.get().each((t=>{e.model.populateFromBrowse&&WA(e.model,t,n)}))}})})]),JA=mh({name:"Typeahead",configFields:XA(),partFields:YA(),factory:(e,t,n,r)=>{const o=(t,n,o)=>{e.previewing.set(!1);const i=nx.getCoupled(t,"sandbox");if(Wu.isOpen(i))bh.getCurrent(i).each((e=>{Uh.getHighlighted(e).fold((()=>{o(e)}),(()=>{Li(i,e.element,"keydown",n)}))}));else{const n=e=>{bh.getCurrent(e).each(o)};hx(e,s(t),t,i,r,n,Fm.HighlightMenuAndItem).get(v)}},i=Ov(e),s=e=>t=>t.map((t=>{const n=ge(t.menus),r=$(n,(e=>j(e.items,(e=>"item"===e.type))));return hd.getState(e).update(H(r,(e=>e.data))),t})),a=e=>bh.getCurrent(e),l="typeaheadevents",c=[tm.config({}),hd.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:e=>Ws(e.element),getFallbackEntry:e=>({value:e,meta:{}}),setValue:(t,n)=>{Zs(t.element,e.model.getDisplayText(n))},...e.initialData.map((e=>Po("initialValue",e))).getOr({})}}),qA.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:(t,n)=>{const o=nx.getCoupled(t,"sandbox");if(tm.isFocused(t)&&Ws(t.element).length>=e.minChars){const n=a(o).bind((e=>Uh.getHighlighted(e).map(hd.getValue)));e.previewing.set(!0);const i=t=>{a(o).each((t=>{n.fold((()=>{e.model.selectsOver&&Uh.highlightFirst(t)}),(e=>{Uh.highlightBy(t,(t=>hd.getValue(t).value===e.value)),Uh.getHighlighted(t).orThunk((()=>(Uh.highlightFirst(t),M.none())))}))}))};hx(e,s(t),t,o,r,i,Fm.HighlightJustMenu).get(v)}},cancelEvent:gi()}),zf.config({mode:"special",onDown:(e,t)=>(o(e,t,Uh.highlightFirst),M.some(!0)),onEscape:e=>{const t=nx.getCoupled(e,"sandbox");return Wu.isOpen(t)?(Wu.close(t),M.some(!0)):M.none()},onUp:(e,t)=>(o(e,t,Uh.highlightLast),M.some(!0)),onEnter:t=>{const n=nx.getCoupled(t,"sandbox"),r=Wu.isOpen(n);if(r&&!e.previewing.get())return a(n).bind((e=>Uh.getHighlighted(e))).map((e=>(Di(t,KA(),{item:e}),!0)));{const o=hd.getValue(t);return Ni(t,gi()),e.onExecute(n,t,o),r&&Wu.close(n),M.some(!0)}}}),cm.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),nx.config({others:{sandbox:t=>vx(e,t,{onOpen:()=>cm.on(t),onClose:()=>cm.off(t)})}}),Xf(l,[Xi((t=>{e.lazyTypeaheadComp.set(M.some(t))})),Yi((t=>{e.lazyTypeaheadComp.set(M.none())})),Qi((t=>{const n=v;fx(e,s(t),t,r,n,Fm.HighlightMenuAndItem).get(v)})),ji(KA(),((t,n)=>{const r=nx.getCoupled(t,"sandbox");WA(e.model,t,n.event.item),Ni(t,gi()),e.onItemExecute(t,r,n.event.item,hd.getValue(t)),Wu.close(r),$A(t)}))].concat(e.dismissOnBlur?[ji(li(),(e=>{const t=nx.getCoupled(e,"sandbox");Il(t.element).isNone()&&Wu.close(t)}))]:[]))],u={[Si()]:[hd.name(),qA.name(),l],...e.eventOrder};return{uid:e.uid,dom:Nv(mr(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...i,...md(e.typeaheadBehaviours,c)},eventOrder:u}}}),QA=e=>({...e,toCached:()=>QA(e.toCached()),bindFuture:t=>QA(e.bind((e=>e.fold((e=>lx(or.error(e))),(e=>t(e)))))),bindResult:t=>QA(e.map((e=>e.bind(t)))),mapResult:t=>QA(e.map((e=>e.map(t)))),mapError:t=>QA(e.map((e=>e.mapError(t)))),foldResult:(t,n)=>e.map((e=>e.fold(t,n))),withTimeout:(t,n)=>QA(ax((r=>{let o=!1;const i=setTimeout((()=>{o=!0,r(or.error(n()))}),t);e.get((e=>{o||(clearTimeout(i),r(e))}))})))}),e_=e=>QA(ax(e)),t_=(e,t,n=[],r,o,i)=>{const s=t.fold((()=>({})),(e=>({action:e}))),a={buttonBehaviours:Sl([wb((()=>!e.enabled||i.isDisabled())),bb(),Qx.config({}),Xf("button press",[Vi("click"),Vi("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...s},l=mr(a,{dom:r});return mr(l,{components:o})},n_=(e,t,n,r=[])=>{const o={tag:"button",classes:["tox-tbtn"],attributes:e.tooltip.map((e=>({"aria-label":n.translate(e),title:n.translate(e)}))).getOr({})},i=e.icon.map((e=>qC(e,n.icons))),s=Tb([i]);return t_(e,t,r,o,s,n)},r_=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},o_=(e,t,n,r=[],o=[])=>{const i=n.translate(e.text),s=e.icon.map((e=>qC(e,n.icons))),a=[s.getOrThunk((()=>ta(i)))],l=e.buttonType.getOr(e.primary||e.borderless?"primary":"secondary"),c=[...r_(l),...s.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...o];return t_(e,t,r,{tag:"button",classes:c,attributes:{title:i}},a,n)},i_=(e,t,n,r=[],o=[])=>{const i=o_(e,M.some(t),n,r,o);return jm.sketch(i)},s_=(e,t)=>n=>{"custom"===t?Di(n,lE,{name:e,value:{}}):"submit"===t?Ni(n,cE):"cancel"===t?Ni(n,aE):console.error("Unknown button type: ",t)},a_=(e,t,n)=>{if(((e,t)=>"menu"===t)(0,t)){const t=()=>i,r=e,o={...e,type:"menubutton",search:M.none(),onSetup:t=>(t.setEnabled(e.enabled),v),fetch:RA(r.items,t,n)},i=Um(OA(o,"tox-tbtn",n,M.none()));return i.asSpec()}if(((e,t)=>"custom"===t||"cancel"===t||"submit"===t)(0,t)){const r=s_(e.name,t),o={...e,borderless:!1};return i_(o,r,n.shared.providers,[])}if(((e,t)=>"togglebutton"===t)(0,t))return((e,t)=>{var n,r,o;const i=M.from(e.icon).map((e=>WC(e,t.icons))).map(Um),s={...e,name:null!==(n=e.name)&&void 0!==n?n:"",primary:"primary"===e.buttonType,buttonType:M.from(e.buttonType),tooltip:M.from(e.tooltip),icon:M.from(e.name),enabled:null!==(r=e.enabled)&&void 0!==r&&r,borderless:!1},a=s.tooltip.map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),l=r_(null!==(o=e.buttonType)&&void 0!==o?o:"secondary"),c=!!e.icon&&!!e.text,u={tag:"button",classes:[...l.concat(["tox-button--icon"]),...e.active?["tox-button--enabled"]:[],...c?["tox-button--icon-and-text"]:[]],attributes:a},d=t.translate(e.text),h=ta(d),p=[...Tb([i.map((e=>e.asSpec()))]),...c?[h]:[]],f=t_(s,M.some((n=>{Di(n,lE,{name:e.name,value:{setIcon:e=>{i.map((r=>r.getOpt(n).each((n=>{Kf.set(n,[WC(e,t.icons)])}))))}}})})),[],u,p,t);return jm.sketch(f)})({...e,tooltip:e.tooltip,text:e.text.getOrUndefined(),buttonType:e.buttonType.getOrUndefined()},n.shared.providers);throw console.error("Unknown footer button type: ",t),new Error("Unknown footer button type")},l_={type:"separator"},c_=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:v}),u_=(e,t)=>({type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:v}),d_=(e,t)=>(e=>H(e,c_))(((e,t)=>j(t,(t=>t.type===e)))(e,t)),h_=e=>d_("header",e.targets),p_=e=>d_("anchor",e.targets),f_=e=>M.from(e.anchorTop).map((e=>u_("<top>",e))).toArray(),m_=e=>M.from(e.anchorBottom).map((e=>u_("<bottom>",e))).toArray(),g_=(e,t)=>{const n=e.toLowerCase();return j(t,(e=>{var t;const r=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text,o=null!==(t=e.value)&&void 0!==t?t:"";return ke(r.toLowerCase(),n)||ke(o.toLowerCase(),n)}))},v_=ls("aria-invalid"),y_=(e,t)=>{e.dom.checked=t},b_=e=>e.dom.checked,w_=e=>(t,n,r,o)=>ve(n,"name").fold((()=>e(n,o,M.none())),(i=>t.field(i,e(n,o,ve(r,i))))),x_={bar:w_(((e,t)=>((e,t)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:H(e.items,t.interpreter)}))(e,t.shared))),collection:w_(((e,t,n)=>((e,t,n)=>{const r=e.label.map((e=>oE(e,t))),o=e=>(t,n)=>{ma(n.event.target,"[data-collection-item-value]").each((r=>{e(t,n,r,At(r,"data-collection-item-value"))}))},i=o(((n,r,o,i)=>{r.stop(),t.isDisabled()||Di(n,lE,{name:e.name,value:i})})),s=[ji(Zo(),o(((e,t,n)=>{Ol(n)}))),ji(ei(),i),ji(pi(),i),ji($o(),o(((e,t,n)=>{fa(e.element,"."+wv).each((e=>{Vs(e,wv)})),zs(n,wv)}))),ji(Ko(),o((e=>{fa(e.element,"."+wv).each((e=>{Vs(e,wv)}))}))),Qi(o(((t,n,r,o)=>{Di(t,lE,{name:e.name,value:o})})))],a=(e,t)=>H(Zc(e.element,".tox-collection__item"),t),l=Xx.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:x},behaviours:Sl([Nh.config({disabled:t.isDisabled,onDisabled:e=>{a(e,(e=>{zs(e,"tox-collection__item--state-disabled"),St(e,"aria-disabled",!0)}))},onEnabled:e=>{a(e,(e=>{Vs(e,"tox-collection__item--state-disabled"),Tt(e,"aria-disabled")}))}}),bb(),Kf.config({}),hd.config({store:{mode:"memory",initialValue:n.getOr([])},onSetValue:(n,r)=>{((n,r)=>{const o=H(r,(n=>{const r=Gm.translate(n.text),o=1===e.columns?`<div class="tox-collection__item-label">${r}</div>`:"",i=`<div class="tox-collection__item-icon">${n.icon}</div>`,s={_:" "," - ":" ","-":" "},a=r.replace(/\_| \- |\-/g,(e=>s[e]));return`<div class="tox-collection__item${t.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${eE.encodeAllRaw(n.value)}" title="${a}" aria-label="${a}">${i}${o}</div>`})),i="auto"!==e.columns&&e.columns>1?L(o,e.columns):[o],s=H(i,(e=>`<div class="tox-collection__group">${e.join("")}</div>`));ts(n.element,s.join(""))})(n,r),"auto"===e.columns&&ob(n,5,"tox-collection__item").each((({numRows:e,numColumns:t})=>{zf.setGridSize(n,e,t)})),Ni(n,pE)}}),Qx.config({}),zf.config((c=e.columns,1===c?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===c?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${pv}`}})),Xf("collection-events",s)]),eventOrder:{[di()]:["disabling","alloy.base.behaviour","collection-events"]}});var c;return tE(r,l,["tox-form__group--collection"],[])})(e,t.shared.providers,n))),alertbanner:w_(((e,t)=>((e,t)=>Wx.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${e.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[jm.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:Xm(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:t=>{Di(t,lE,{name:"alert-banner",value:e.url})},buttonBehaviours:Sl([Ym()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]}))(e,t.shared.providers))),input:w_(((e,t,n)=>((e,t,n)=>pA({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:!e.enabled,classname:"tox-textfield",validation:M.none(),maximized:e.maximized,data:n},t))(e,t.shared.providers,n))),textarea:w_(((e,t,n)=>((e,t,n)=>pA({name:e.name,multiline:!0,label:e.label,inputMode:M.none(),placeholder:e.placeholder,flex:!0,disabled:!e.enabled,classname:"tox-textarea",validation:M.none(),maximized:e.maximized,data:n},t))(e,t.shared.providers,n))),label:w_(((e,t)=>((e,t)=>{return{dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"label",classes:["tox-label"]},components:[ta(t.providers.translate(e.label))]},...H(e.items,t.interpreter)],behaviours:Sl([xC(),Kf.config({}),(n=M.none(),AC(n,es,ts)),zf.config({mode:"acyclic"})])};var n})(e,t.shared))),iframe:(Wk=(e,t,n)=>((e,t,n)=>{const r=e.sandboxed,o=e.transparent,i="tox-dialog__iframe",s={...e.label.map((e=>({title:e}))).getOr({}),...n.map((e=>({srcdoc:e}))).getOr({}),...r?{sandbox:"allow-scripts allow-same-origin"}:{}},a=(e=>{const t=To(e.getOr(""));return{getValue:e=>t.get(),setValue:(e,n)=>{t.get()!==n&&St(e.element,"srcdoc",n),t.set(n)}}})(n),l=e.label.map((e=>oE(e,t))),c=Xx.parts.field({factory:{sketch:e=>BC({uid:e.uid,dom:{tag:"iframe",attributes:s,classes:o?[i]:[i,`${i}--opaque`]},behaviours:Sl([Qx.config({}),tm.config({}),TC(n,a.getValue,a.setValue)])})}});return tE(l,c,["tox-form__group--stretched"],[])})(e,t.shared.providers,n),(e,t,n,r)=>{const o=mr(t,{source:"dynamic"});return w_(Wk)(e,o,n,r)}),button:w_(((e,t)=>((e,t)=>{const n=s_(e.name,"custom");return r=M.none(),o=Xx.parts.field({factory:jm,...o_(e,M.some(n),t,[MC(""),xC()])}),tE(r,o,[],[]);var r,o})(e,t.shared.providers))),checkbox:w_(((e,t,n)=>((e,t,n)=>{const r=e=>(e.element.dom.click(),M.some(!0)),o=Xx.parts.field({factory:{sketch:x},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Sl([xC(),Nh.config({disabled:()=>!e.enabled||t.isDisabled()}),Qx.config({}),tm.config({}),kC(n,b_,y_),zf.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:!0}),Xf("checkbox-events",[ji(Qo(),((t,n)=>{Di(t,iE,{name:e.name})}))])])}),i=Xx.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[ta(t.translate(e.label))],behaviours:Sl([CE.config({})])}),s=e=>Qm("checked"===e?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},t.icons),a=Um({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[s("checked"),s("unchecked")]});return Xx.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,a.asSpec(),i],fieldBehaviours:Sl([Nh.config({disabled:()=>!e.enabled||t.isDisabled(),disableClass:"tox-checkbox--disabled",onDisabled:e=>{Xx.getField(e).each(Nh.disable)},onEnabled:e=>{Xx.getField(e).each(Nh.enable)}}),bb()])})})(e,t.shared.providers,n))),colorinput:w_(((e,t,n)=>((e,t,n,r)=>{const o=Xx.parts.field({factory:Dv,inputClasses:["tox-textfield"],data:r,onSetValue:e=>SE.run(e).get(v),inputBehaviours:Sl([Nh.config({disabled:t.providers.isDisabled}),bb(),Qx.config({}),SE.config({invalidClass:"tox-textbox-field-invalid",getRoot:e=>it(e.element),notify:{onValid:e=>{const t=hd.getValue(e);Di(e,AE,{color:t})}},validator:{validateOnLoad:!1,validate:e=>{const t=hd.getValue(e);if(0===t.length)return lx(or.value(!0));{const e=Ie("span");Ot(e,"background-color",t);const n=Bt(e,"background-color").fold((()=>or.error("blah")),(e=>or.value(t)));return lx(n)}}}})]),selectOnFocus:!1}),i=e.label.map((e=>oE(e,t.providers))),s=(e,t)=>{Di(e,_E,{value:t})},a=Um(((e,t)=>Ex.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:Sl([wb(t.providers.isDisabled),bb(),CE.config({}),Qx.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:n=>ax((t=>e.fetch(t))).map((r=>M.from(Px(mr(Uw(ls("menu-value"),r,(t=>{e.onItemAction(n,t)}),e.columns,e.presets,dv.CLOSE_ON_EXECUTE,k,t.providers),{movement:qw(e.columns,e.presets)}))))),parts:{menu:Mv(0,0,e.presets)}}))({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:()=>[il,ol,cl],onLtr:()=>[ol,il,cl]},components:[],fetch:Fw(n.getColors(e.storageKey),e.storageKey,n.hasCustomColors()),columns:n.getColorCols(e.storageKey),presets:"color",onItemAction:(t,r)=>{a.getOpt(t).each((t=>{"custom"===r?n.colorPicker((n=>{n.fold((()=>Ni(t,kE)),(n=>{s(t,n),gw(e.storageKey,n)}))}),"#ffffff"):s(t,"remove"===r?"":r)}))}},t));return Xx.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:i.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[o,a.asSpec()]}]),fieldBehaviours:Sl([Xf("form-field-events",[ji(AE,((t,n)=>{a.getOpt(t).each((e=>{Ot(e.element,"background-color",n.event.color)})),Di(t,iE,{name:e.name})})),ji(_E,((e,t)=>{Xx.getField(e).each((n=>{hd.setValue(n,t.event.value),bh.getCurrent(e).each(tm.focus)}))})),ji(kE,((e,t)=>{Xx.getField(e).each((t=>{bh.getCurrent(e).each(tm.focus)}))}))])])})})(e,t.shared,t.colorinput,n))),colorpicker:w_(((e,t,n)=>((e,t,n)=>{const r=e=>"tox-"+e,o=wC((e=>t=>e.translate(PC[t]))(t),r),i=Um(o.sketch({dom:{tag:"div",classes:[r("color-picker-container")],attributes:{role:"presentation"}},onValidHex:e=>{Di(e,lE,{name:"hex-valid",value:!0})},onInvalidHex:e=>{Di(e,lE,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[i.asSpec()],behaviours:Sl([TC(n,(e=>{const t=i.get(e);return bh.getCurrent(t).bind((e=>hd.getValue(e).hex)).map((e=>"#"+_e(e,"#"))).getOr("")}),((e,t)=>{const n=M.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(t)).bind((e=>te(e,1))),r=i.get(e);bh.getCurrent(r).fold((()=>{console.log("Can not find form")}),(e=>{hd.setValue(e,{hex:n.getOr("")}),fC.getField(e,"hex").each((e=>{Ni(e,Jo())}))}))})),xC()])}})(0,t.shared.providers,n))),dropzone:w_(((e,t,n)=>((e,t,n)=>{const r=(e,t)=>{t.stop()},o=e=>(t,n)=>{z(e,(e=>{e(t,n)}))},i=(e,t)=>{var n;if(!Nh.isDisabled(e)){const r=t.event.raw;a(e,null===(n=r.dataTransfer)||void 0===n?void 0:n.files)}},s=(e,t)=>{const n=t.event.raw.target;a(e,n.files)},a=(n,r)=>{r&&(hd.setValue(n,((e,t)=>{const n=RC.explode(t.getOption("images_file_types"));return j(oe(e),(e=>B(n,(t=>Me(e.name.toLowerCase(),`.${t.toLowerCase()}`)))))})(r,t)),Di(n,iE,{name:e.name}))},l=Um({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Sl([Xf("input-file-events",[Zi(ei()),Zi(pi())])])}),c=e.label.map((e=>oE(e,t))),u=Xx.parts.field({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Sl([MC(n.getOr([])),xC(),Nh.config({}),cm.config({toggleClass:"dragenter",toggleOnExecute:!1}),Xf("dropzone-events",[ji("dragenter",o([r,cm.toggle])),ji("dragleave",o([r,cm.toggle])),ji("dragover",r),ji("drop",o([r,i])),ji(Qo(),s)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[ta(t.translate("Drop an image here"))]},jm.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[ta(t.translate("Browse for an image")),l.asSpec()],action:e=>{l.get(e).element.dom.click()},buttonBehaviours:Sl([Qx.config({}),wb(t.isDisabled),bb()])})]}]})}});return tE(c,u,["tox-form__group--stretched"],[])})(e,t.shared.providers,n))),grid:w_(((e,t)=>((e,t)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${e.columns}col`]},components:H(e.items,t.interpreter)}))(e,t.shared))),listbox:w_(((e,t,n)=>((e,t,n)=>{const r=t.shared.providers,o=n.bind((t=>oA(e.items,t))).orThunk((()=>ne(e.items).filter(tA))),i=e.label.map((e=>oE(e,r))),s=Xx.parts.field({dom:{},factory:{sketch:n=>XC({uid:n.uid,text:o.map((e=>e.text)),icon:M.none(),tooltip:e.label,role:M.none(),fetch:(n,r)=>{const o=rA(n,e.name,e.items,hd.getValue(n));r(eA(o,dv.CLOSE_ON_EXECUTE,t,{isHorizontalMenu:!1,search:M.none()}))},onSetup:w(v),getApi:w({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Qx.config({}),TC(o.map((e=>e.value)),(e=>At(e.element,nA)),((t,n)=>{oA(e.items,n).each((e=>{St(t.element,nA,e.value),Di(t,$C,{text:e.text})}))}))]},"tox-listbox",t.shared)}}),a={dom:{tag:"div",classes:["tox-listboxfield"]},components:[s]};return Xx.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Z([i.toArray(),[a]]),fieldBehaviours:Sl([Nh.config({disabled:w(!e.enabled),onDisabled:e=>{Xx.getField(e).each(Nh.disable)},onEnabled:e=>{Xx.getField(e).each(Nh.enable)}})])})})(e,t,n))),selectbox:w_(((e,t,n)=>((e,t,n)=>{const r=H(e.items,(e=>({text:t.translate(e.text),value:e.value}))),o=e.label.map((e=>oE(e,t))),i=Xx.parts.field({dom:{},...n.map((e=>({data:e}))).getOr({}),selectAttributes:{size:e.size},options:r,factory:iA,selectBehaviours:Sl([Nh.config({disabled:()=>!e.enabled||t.isDisabled()}),Qx.config({}),Xf("selectbox-change",[ji(Qo(),((t,n)=>{Di(t,iE,{name:e.name})}))])])}),s=e.size>1?M.none():M.some(Qm("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},t.icons)),a={dom:{tag:"div",classes:["tox-selectfield"]},components:Z([[i],s.toArray()])};return Xx.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Z([o.toArray(),[a]]),fieldBehaviours:Sl([Nh.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{Xx.getField(e).each(Nh.disable)},onEnabled:e=>{Xx.getField(e).each(Nh.enable)}}),bb()])})})(e,t.shared.providers,n))),sizeinput:w_(((e,t)=>((e,t)=>{let n=hA;const r=ls("ratio-event"),o=e=>Qm(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons),i=cA.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[o("lock"),o("unlock")],buttonBehaviours:Sl([Nh.config({disabled:()=>!e.enabled||t.isDisabled()}),bb(),Qx.config({})])}),s=e=>({dom:{tag:"div",classes:["tox-form__group"]},components:e}),a=n=>Xx.parts.field({factory:Dv,inputClasses:["tox-textfield"],inputBehaviours:Sl([Nh.config({disabled:()=>!e.enabled||t.isDisabled()}),bb(),Qx.config({}),Xf("size-input-events",[ji($o(),((e,t)=>{Di(e,r,{isField1:n})})),ji(Qo(),((t,n)=>{Di(t,iE,{name:e.name})}))])]),selectOnFocus:!1}),l=e=>({dom:{tag:"label",classes:["tox-label"]},components:[ta(t.translate(e))]}),c=cA.parts.field1(s([Xx.parts.label(l("Width")),a(!0)])),u=cA.parts.field2(s([Xx.parts.label(l("Height")),a(!1)]));return cA.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[c,u,s([l(" "),i])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(e,t,r)=>{uA(hd.getValue(e)).each((e=>{n(e).each((e=>{hd.setValue(t,(e=>{const t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let n=e.value.toFixed((r=e.unit)in t?t[r]:1);var r;return-1!==n.indexOf(".")&&(n=n.replace(/\.?0*$/,"")),n+e.unit})(e))}))}))},coupledFieldBehaviours:Sl([Nh.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{cA.getField1(e).bind(Xx.getField).each(Nh.disable),cA.getField2(e).bind(Xx.getField).each(Nh.disable),cA.getLock(e).each(Nh.disable)},onEnabled:e=>{cA.getField1(e).bind(Xx.getField).each(Nh.enable),cA.getField2(e).bind(Xx.getField).each(Nh.enable),cA.getLock(e).each(Nh.enable)}}),bb(),Xf("size-input-events2",[ji(r,((e,t)=>{const r=t.event.isField1,o=r?cA.getField1(e):cA.getField2(e),i=r?cA.getField2(e):cA.getField1(e),s=o.map(hd.getValue).getOr(""),a=i.map(hd.getValue).getOr("");n=((e,t)=>{const n=uA(e).toOptional(),r=uA(t).toOptional();return Ee(n,r,((e,t)=>dA(e,t.unit).map((e=>t.value/e)).map((e=>{return n=e,r=t.unit,e=>dA(e,r).map((e=>({value:e*n,unit:r})));var n,r})).getOr(hA))).getOr(hA)})(s,a)}))])])})})(e,t.shared.providers))),slider:w_(((e,t,n)=>((e,t,n)=>{const r=sC.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ta(t.translate(e.label))]}),o=sC.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),i=sC.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return sC.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:e.min,maxX:e.max,getInitialValue:w(n.getOrThunk((()=>(Math.abs(e.max)-Math.abs(e.min))/2)))},components:[r,o,i],sliderBehaviours:Sl([xC(),tm.config({})]),onChoose:(t,n,r)=>{Di(t,iE,{name:e.name,value:r})}})})(e,t.shared.providers,n))),urlinput:w_(((e,t,n)=>((e,t,n,r)=>{const o=t.shared.providers,i=t=>{const r=hd.getValue(t);n.addToHistory(r.value,e.filetype)},s={...r.map((e=>({initialData:e}))).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":v_,type:"url"},minChars:0,responseTime:0,fetch:r=>{const o=((e,t,n)=>{const r=hd.getValue(t),o=void 0!==r.meta.text?r.meta.text:r.value;return n.getLinkInformation().fold((()=>[]),(t=>{const r=g_(o,(e=>H(e,(e=>u_(e,e))))(n.getHistory(e)));return"file"===e?(i=[r,g_(o,h_(t)),g_(o,Z([f_(t),p_(t),m_(t)]))],G(i,((e,t)=>0===e.length||0===t.length?e.concat(t):e.concat(l_,t)),[])):r;var i}))})(e.filetype,r,n),i=eA(o,dv.BUBBLE_TO_SANDBOX,t,{isHorizontalMenu:!1,search:M.none()});return lx(i)},getHotspot:e=>p.getOpt(e),onSetValue:(e,t)=>{e.hasConfigured(SE)&&SE.run(e).get(v)},typeaheadBehaviours:Sl([...n.getValidationHandler().map((t=>SE.config({getRoot:e=>it(e.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(e,t)=>{c.getOpt(e).each((e=>{St(e.element,"title",o.translate(t))}))}},validator:{validate:n=>{const r=hd.getValue(n);return e_((n=>{t({type:e.filetype,url:r.value},(e=>{if("invalid"===e.status){const t=or.error(e.message);n(t)}else{const t=or.value(e.message);n(t)}}))}))},validateOnLoad:!1}}))).toArray(),Nh.config({disabled:()=>!e.enabled||o.isDisabled()}),Qx.config({}),Xf("urlinput-events",[ji(Jo(),(t=>{const n=Ws(t.element),r=n.trim();r!==n&&Zs(t.element,r),"file"===e.filetype&&Di(t,iE,{name:e.name})})),ji(Qo(),(t=>{Di(t,iE,{name:e.name}),i(t)})),ji(ci(),(t=>{Di(t,iE,{name:e.name}),i(t)}))])]),eventOrder:{[Jo()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:e=>e.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:Mv(0,0,"normal")},onExecute:(e,t,n)=>{Di(t,cE,{})},onItemExecute:(t,n,r,o)=>{i(t),Di(t,iE,{name:e.name})}},a=Xx.parts.field({...s,factory:JA}),l=e.label.map((e=>oE(e,o))),c=Um(((e,t,n=e,r=e)=>Qm(n,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:{title:o.translate(r),"aria-live":"polite",...t.fold((()=>({})),(e=>({id:e})))}},o.icons))("invalid",M.some(v_),"warning")),u=Um({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[c.asSpec()]}),d=n.getUrlPicker(e.filetype),h=ls("browser.url.event"),p=Um({dom:{tag:"div",classes:["tox-control-wrap"]},components:[a,u.asSpec()],behaviours:Sl([Nh.config({disabled:()=>!e.enabled||o.isDisabled()})])}),f=Um(i_({name:e.name,icon:M.some("browse"),text:e.label.getOr(""),enabled:e.enabled,primary:!1,buttonType:M.none(),borderless:!0},(e=>Ni(e,h)),o,[],["tox-browse-url"]));return Xx.sketch({dom:rE([]),components:l.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Z([[p.asSpec()],d.map((()=>f.asSpec())).toArray()])}]),fieldBehaviours:Sl([Nh.config({disabled:()=>!e.enabled||o.isDisabled(),onDisabled:e=>{Xx.getField(e).each(Nh.disable),f.getOpt(e).each(Nh.disable)},onEnabled:e=>{Xx.getField(e).each(Nh.enable),f.getOpt(e).each(Nh.enable)}}),bb(),Xf("url-input-events",[ji(h,(t=>{bh.getCurrent(t).each((n=>{const r=hd.getValue(n),o={fieldname:e.name,...r};d.each((r=>{r(o).get((r=>{hd.setValue(n,r),Di(t,iE,{name:e.name})}))}))}))}))])])})})(e,t,t.urlinput,n))),customeditor:w_((e=>{const t=Ql(),n=Um({dom:{tag:e.tag}}),r=Ql();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Sl([Xf("custom-editor-events",[Xi((o=>{n.getOpt(o).each((n=>{((e=>ye(e,"init"))(e)?e.init(n.element.dom):OC.load(e.scriptId,e.scriptUrl).then((t=>t(n.element.dom,e.settings)))).then((e=>{r.on((t=>{e.setValue(t)})),r.clear(),t.set(e)}))}))}))]),TC(M.none(),(()=>t.get().fold((()=>r.get().getOr("")),(e=>e.getValue()))),((e,n)=>{t.get().fold((()=>r.set(n)),(e=>e.setValue(n)))})),xC()]),components:[n.asSpec()]}})),htmlpanel:w_((e=>"presentation"===e.presets?Wx.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):Wx.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:Sl([Qx.config({}),tm.config({})])}))),imagepreview:w_(((e,t,n)=>((e,t)=>{const n=To(t.getOr({url:""})),r=Um({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:t.map((e=>({src:e.url}))).getOr({})}}),o=Um({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[r.asSpec()]}),i={};e.height.each((e=>i.height=e));const s=t.map((e=>({url:e.url,zoom:M.from(e.zoom),cachedWidth:M.from(e.cachedWidth),cachedHeight:M.from(e.cachedHeight)})));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:i,attributes:{role:"presentation"}},components:[o.asSpec()],behaviours:Sl([xC(),TC(s,(()=>n.get()),((e,t)=>{const i={url:t.url};t.zoom.each((e=>i.zoom=e)),t.cachedWidth.each((e=>i.cachedWidth=e)),t.cachedHeight.each((e=>i.cachedHeight=e)),n.set(i);const s=()=>{const{cachedWidth:t,cachedHeight:n,zoom:r}=i;if(!d(t)&&!d(n)){if(d(r)){const r=((e,t,n)=>{const r=Yt(e),o=Ut(e);return Math.min(r/t,o/n,1)})(e.element,t,n);i.zoom=r}const s=((e,t,n,r,o)=>{const i=n*o,s=r*o,a=Math.max(0,e/2-i/2),l=Math.max(0,t/2-s/2);return{left:a.toString()+"px",top:l.toString()+"px",width:i.toString()+"px",height:s.toString()+"px"}})(Yt(e.element),Ut(e.element),t,n,i.zoom);o.getOpt(e).each((e=>{Rt(e.element,s)}))}};r.getOpt(e).each((n=>{const r=n.element;var o;t.url!==At(r,"src")&&(St(r,"src",t.url),Vs(e.element,"tox-imagepreview__loaded")),s(),(o=r,new Promise(((e,t)=>{const n=()=>{i(),e(o)},r=[tc(o,"load",n),tc(o,"error",(()=>{i(),t("Unable to load data from image: "+o.dom.src)}))],i=()=>z(r,(e=>e.unbind()));o.dom.complete&&n()}))).then((t=>{e.getSystem().isConnected()&&(zs(e.element,"tox-imagepreview__loaded"),i.cachedWidth=t.dom.naturalWidth,i.cachedHeight=t.dom.naturalHeight,s())}))}))}))])}})(e,n))),table:w_(((e,t)=>((e,t)=>{const n=e=>({dom:{tag:"td",innerHtml:t.translate(e)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(o=e.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:H(o,(e=>({dom:{tag:"th",innerHtml:t.translate(e)}})))}]}),(r=e.cells,{dom:{tag:"tbody"},components:H(r,(e=>({dom:{tag:"tr"},components:H(e,n)})))})],behaviours:Sl([Qx.config({}),tm.config({})])};var r,o})(e,t.shared.providers))),tree:w_(((e,t)=>((e,t)=>{const n=e.onLeafAction.getOr(v),r=ls("tree-id");return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:e.items.map((e=>"leaf"===e.type?IA({leaf:e,onLeafAction:n,visible:!0,treeId:r,backstage:t}):HA({directory:e,onLeafAction:n,labelTabstopping:!0,treeId:r,backstage:t}))),behaviours:Sl([zf.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1})])}})(e,t))),panel:w_(((e,t)=>((e,t)=>({dom:{tag:"div",classes:e.classes},components:H(e.items,t.shared.interpreter)}))(e,t)))},E_={field:(e,t)=>t,record:w([])},S_=(e,t,n,r)=>{const o=mr(r,{shared:{interpreter:t=>C_(e,t,n,o)}});return C_(e,t,n,o)},C_=(e,t,n,r)=>ve(x_,t.type).fold((()=>(console.error(`Unknown factory type "${t.type}", defaulting to container: `,t),t)),(o=>o(e,t,n,r))),A_=(e,t,n)=>C_(E_,e,t,n),__="layout-inset",k_=e=>e.x,T_=(e,t)=>e.x+e.width/2-t.width/2,M_=(e,t)=>e.x+e.width-t.width,P_=e=>e.y,O_=(e,t)=>e.y+e.height-t.height,R_=(e,t)=>e.y+e.height/2-t.height/2,N_=(e,t,n)=>La(M_(e,t),O_(e,t),n.insetSouthwest(),Ua(),"southwest",Xa(e,{right:0,bottom:3}),__),D_=(e,t,n)=>La(k_(e),O_(e,t),n.insetSoutheast(),ja(),"southeast",Xa(e,{left:1,bottom:3}),__),I_=(e,t,n)=>La(M_(e,t),P_(e),n.insetNorthwest(),Va(),"northwest",Xa(e,{right:0,top:2}),__),B_=(e,t,n)=>La(k_(e),P_(e),n.insetNortheast(),za(),"northeast",Xa(e,{left:1,top:2}),__),F_=(e,t,n)=>La(T_(e,t),P_(e),n.insetNorth(),Ga(),"north",Xa(e,{top:2}),__),L_=(e,t,n)=>La(T_(e,t),O_(e,t),n.insetSouth(),qa(),"south",Xa(e,{bottom:3}),__),H_=(e,t,n)=>La(M_(e,t),R_(e,t),n.insetEast(),Za(),"east",Xa(e,{right:0}),__),z_=(e,t,n)=>La(k_(e),R_(e,t),n.insetWest(),Wa(),"west",Xa(e,{left:1}),__),V_=e=>{switch(e){case"north":return F_;case"northeast":return B_;case"northwest":return I_;case"south":return L_;case"southeast":return D_;case"southwest":return N_;case"east":return H_;case"west":return z_}},j_=(e,t,n,r,o)=>$l(r).map(V_).getOr(F_)(e,t,n,r,o),U_=e=>{switch(e){case"north":return L_;case"northeast":return D_;case"northwest":return N_;case"south":return F_;case"southeast":return B_;case"southwest":return I_;case"east":return z_;case"west":return H_}},G_=(e,t,n,r,o)=>$l(r).map(U_).getOr(F_)(e,t,n,r,o),q_={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},W_=(e,t,n)=>{const r={maxHeightFunction:cc()};return()=>n()?{type:"node",root:gt(mt(e())),node:M.from(e()),bubble:pc(12,12,q_),layouts:{onRtl:()=>[B_],onLtr:()=>[I_]},overrides:r}:{type:"hotspot",hotspot:t(),bubble:pc(-12,12,q_),layouts:{onRtl:()=>[ol,il,cl],onLtr:()=>[il,ol,cl]},overrides:r}},Z_=(e,t,n)=>()=>n()?{type:"node",root:gt(mt(e())),node:M.from(e()),layouts:{onRtl:()=>[F_],onLtr:()=>[F_]}}:{type:"hotspot",hotspot:t(),layouts:{onRtl:()=>[cl],onLtr:()=>[cl]}},$_=(e,t)=>()=>({type:"selection",root:t(),getSelection:()=>{const t=e.selection.getRng();return M.some(zc.range(Fe(t.startContainer),t.startOffset,Fe(t.endContainer),t.endOffset))}}),K_=e=>t=>({type:"node",root:e(),node:t}),X_=(e,t,n)=>{const r=tv(e),o=()=>Fe(e.getBody()),i=()=>Fe(e.getContentAreaContainer()),s=()=>r||!n();return{inlineDialog:W_(i,t,s),banner:Z_(i,t,s),cursor:$_(e,o),node:K_(o)}},Y_=e=>(t,n)=>{jw(e)(t,n)},J_=e=>()=>Mw(e),Q_=e=>t=>Pw(e,t),ek=e=>t=>Tw(e,t),tk=e=>()=>Lg(e),nk=e=>be(e,"items"),rk=e=>be(e,"format"),ok=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],ik=e=>G(e,((e,t)=>{if(ye(t,"items")){const n=ik(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if(ye(t,"inline")||(e=>ye(e,"block"))(t)||(e=>ye(e,"selector"))(t)){const n=`custom-${i(t.name)?t.name:t.title.toLowerCase()}`;return{customFormats:e.customFormats.concat([{name:n,format:t}]),formats:e.formats.concat([{title:t.title,format:n,icon:t.icon}])}}return{...e,formats:e.formats.concat(t)}}),{customFormats:[],formats:[]}),sk=e=>vg(e).map((t=>{const n=((e,t)=>{const n=ik(t),r=t=>{z(t,(t=>{e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))};return e.formatter?r(n.customFormats):e.on("init",(()=>{r(n.customFormats)})),n.formats})(e,t);return yg(e)?ok.concat(n):n})).getOr(ok),ak=(e,t,n)=>({...e,type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)}),lk=(e,t,n,r)=>{const o=t=>H(t,(t=>nk(t)?(e=>{const t=o(e.items);return{...e,type:"submenu",getStyleItems:w(t)}})(t):rk(t)?(e=>ak(e,n,r))(t):(e=>{const t=se(e);return 1===t.length&&I(t,"title")})(t)?{...t,type:"separator"}:(t=>{const o=i(t.name)?t.name:ls(t.title),s=`custom-${o}`,a={...t,type:"formatter",format:s,isSelected:n(s),getStylePreview:r(s)};return e.formatter.register(o,a),a})(t)));return o(t)},ck=RC.trim,uk=e=>t=>{if((e=>p(e)&&1===e.nodeType)(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},dk=uk("true"),hk=uk("false"),pk=(e,t,n,r,o)=>({type:e,title:t,url:n,level:r,attach:o}),fk=e=>e.innerText||e.textContent,mk=e=>(e=>e&&"A"===e.nodeName&&void 0!==(e.id||e.name))(e)&&vk(e),gk=e=>e&&/^(H[1-6])$/.test(e.nodeName),vk=e=>(e=>{let t=e;for(;t=t.parentNode;){const e=t.contentEditable;if(e&&"inherit"!==e)return dk(t)}return!1})(e)&&!hk(e),yk=e=>gk(e)&&vk(e),bk=e=>{var t;const n=(e=>e.id?e.id:ls("h"))(e);return pk("header",null!==(t=fk(e))&&void 0!==t?t:"","#"+n,(e=>gk(e)?parseInt(e.nodeName.substr(1),10):0)(e),(()=>{e.id=n}))},wk=e=>{const t=e.id||e.name,n=fk(e);return pk("anchor",n||"#"+t,"#"+t,0,v)},xk=e=>ck(e.title).length>0,Ek=e=>{const t=(e=>{const t=H(Zc(Fe(e),"h1,h2,h3,h4,h5,h6,a:not([href])"),(e=>e.dom));return t})(e);return j((e=>H(j(e,yk),bk))(t).concat((e=>H(j(e,mk),wk))(t)),xk)},Sk="tinymce-url-history",Ck=e=>i(e)&&/^https?/.test(e),Ak=e=>s(e)&&me(e,(e=>{return!(l(t=e)&&t.length<=5&&K(t,Ck));var t})).isNone(),_k=()=>{const e=pw.getItem(Sk);if(null===e)return{};let t;try{t=JSON.parse(e)}catch(e){if(e instanceof SyntaxError)return console.log("Local storage "+Sk+" was not valid JSON",e),{};throw e}return Ak(t)?t:(console.log("Local storage "+Sk+" was not valid format",t),{})},kk=e=>{const t=_k();return ve(t,e).getOr([])},Tk=(e,t)=>{if(!Ck(e))return;const n=_k(),r=ve(n,t).getOr([]),o=j(r,(t=>t!==e));n[t]=[e].concat(o).slice(0,5),(e=>{if(!Ak(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));pw.setItem(Sk,JSON.stringify(e))})(n)},Mk=e=>!!e,Pk=e=>ce(RC.makeMap(e,/[, ]/),Mk),Ok=e=>M.from(Og(e)),Rk=e=>M.from(e).filter(i).getOrUndefined(),Nk=e=>({getHistory:kk,addToHistory:Tk,getLinkInformation:()=>(e=>Ig(e)?M.some({targets:Ek(e.getBody()),anchorTop:Rk(Bg(e)),anchorBottom:Rk(Fg(e))}):M.none())(e),getValidationHandler:()=>(e=>M.from(Rg(e)))(e),getUrlPicker:t=>((e,t)=>((e,t)=>{const n=(e=>{const t=M.from(Dg(e)).filter(Mk).map(Pk);return Ok(e).fold(k,(e=>t.fold(T,(e=>se(e).length>0&&e))))})(e);return u(n)?n?Ok(e):M.none():n[t]?Ok(e):M.none()})(e,t).map((n=>r=>ax((o=>{const a={filetype:t,fieldname:r.fieldname,...M.from(r.meta).getOr({})};n.call(e,((e,t)=>{if(!i(e))throw new Error("Expected value to be string");if(void 0!==t&&!s(t))throw new Error("Expected meta to be a object");o({value:e,meta:t})}),r.value,a)})))))(e,t)}),Dk=lh,Ik=qd,Bk=w([bo("shell",!1),to("makeItem"),bo("setupItem",v),gd("listBehaviours",[Kf])]),Fk=jd({name:"items",overrides:()=>({behaviours:Sl([Kf.config({})])})}),Lk=w([Fk]),Hk=mh({name:w("CustomList")(),configFields:Bk(),partFields:Lk(),factory:(e,t,n,r)=>{const o=e.shell?{behaviours:[Kf.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:o.components,behaviours:md(e.listBehaviours,o.behaviours),apis:{setItems:(t,n)=>{var r;(r=t,e.shell?M.some(r):eh(r,e,"items")).fold((()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(r=>{const o=Kf.contents(r),i=n.length,s=i-o.length,a=s>0?F(s,(()=>e.makeItem())):[],l=o.slice(i);z(l,(e=>Kf.remove(r,e))),z(a,(e=>Kf.append(r,e)));const c=Kf.contents(r);z(c,((r,o)=>{e.setupItem(t,r,n[o],o)}))}))}}}},apis:{setItems:(e,t,n)=>{e.setItems(t,n)}}}),zk=w([to("dom"),bo("shell",!0),pd("toolbarBehaviours",[Kf])]),Vk=w([jd({name:"groups",overrides:()=>({behaviours:Sl([Kf.config({})])})})]),jk=mh({name:"Toolbar",configFields:zk(),partFields:Vk(),factory:(e,t,n,r)=>{const o=e.shell?{behaviours:[Kf.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:o.components,behaviours:md(e.toolbarBehaviours,o.behaviours),apis:{setGroups:(t,n)=>{var r;(r=t,e.shell?M.some(r):eh(r,e,"groups")).fold((()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(e=>{Kf.set(e,n)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)}}}),Uk=v,Gk=k,qk=w([]);var Wk,Zk=Object.freeze({__proto__:null,setup:Uk,isDocked:Gk,getBehaviours:qk});const $k=e=>(we(Bt(e,"position"),"fixed")?M.none():st(e)).orThunk((()=>{const t=Ie("span");return ot(e).bind((e=>{Ln(e,t);const n=st(t);return Vn(t),n}))})),Kk=e=>$k(e).map($t).getOrThunk((()=>Wt(0,0))),Xk=(e,t)=>{const n=e.element;zs(n,t.transitionClass),Vs(n,t.fadeOutClass),zs(n,t.fadeInClass),t.onShow(e)},Yk=(e,t)=>{const n=e.element;zs(n,t.transitionClass),Vs(n,t.fadeInClass),zs(n,t.fadeOutClass),t.onHide(e)},Jk=(e,t)=>e.y>=t.y,Qk=(e,t)=>e.bottom<=t.bottom,eT=(e,t,n)=>({location:"top",leftX:t,topY:n.bounds.y-e.y}),tT=(e,t,n)=>({location:"bottom",leftX:t,bottomY:e.bottom-n.bounds.bottom}),nT=e=>e.box.x-e.win.x,rT=(e,t,n)=>n.getInitialPos().map((n=>{const r=((e,t)=>{const n=t.optScrollEnv.fold(w(e.bounds.y),(t=>t.scrollElmTop+(e.bounds.y-t.currentScrollTop)));return Wt(e.bounds.x,n)})(n,t);return{box:Xn(r.left,r.top,Yt(e),Ut(e)),location:n.location}})),oT=(e,t,n,r,o)=>{const i=((e,t)=>{const n=t.optScrollEnv.fold(w(e.y),(t=>e.y+t.currentScrollTop-t.scrollElmTop));return Wt(e.x,n)})(t,n),s=Xn(i.left,i.top,t.width,t.height);r.setInitialPos({style:Ft(e),position:Dt(e,"position")||"static",bounds:s,location:o.location})},iT=(e,t,n)=>n.getInitialPos().bind((r=>{var o;switch(n.clearInitialPos(),r.position){case"static":return M.some({morph:"static"});case"absolute":const n=$k(e).getOr(wt()),i=Yn(n),s=null!==(o=n.dom.scrollTop)&&void 0!==o?o:0;return M.some({morph:"absolute",positionCss:Fl("absolute",ve(r.style,"left").map((e=>t.x-i.x)),ve(r.style,"top").map((e=>t.y-i.y+s)),ve(r.style,"right").map((e=>i.right-t.right)),ve(r.style,"bottom").map((e=>i.bottom-t.bottom)))});default:return M.none()}})),sT=e=>{switch(e.location){case"top":return M.some({morph:"fixed",positionCss:Fl("fixed",M.some(e.leftX),M.some(e.topY),M.none(),M.none())});case"bottom":return M.some({morph:"fixed",positionCss:Fl("fixed",M.some(e.leftX),M.none(),M.none(),M.some(e.bottomY))});default:return M.none()}},aT=(e,t,n)=>{const r=e.element;return we(Bt(r,"position"),"fixed")?((e,t,n)=>((e,t,n)=>rT(e,t,n).filter((({box:e})=>((e,t,n)=>K(e,(e=>{switch(e){case"bottom":return Qk(t,n.bounds);case"top":return Jk(t,n.bounds)}})))(n.getModes(),e,t))).bind((({box:t})=>iT(e,t,n))))(e,t,n).orThunk((()=>t.optScrollEnv.bind((r=>rT(e,t,n))).bind((({box:e,location:n})=>{const r=er(),o=nT({win:r,box:e}),i="top"===n?eT(r,o,t):tT(r,o,t);return sT(i)})))))(r,t,n):((e,t,n)=>{const r=Yn(e),o=er(),i=((e,t,n)=>{const r=t.win,o=t.box,i=nT(t);return ie(e,(e=>{switch(e){case"bottom":return Qk(o,n.bounds)?M.none():M.some(tT(r,i,n));case"top":return Jk(o,n.bounds)?M.none():M.some(eT(r,i,n));default:return M.none()}})).getOr({location:"no-dock"})})(n.getModes(),{win:o,box:r},t);return"top"===i.location||"bottom"===i.location?(oT(e,r,t,n,i),sT(i)):M.none()})(r,t,n)},lT=(e,t,n)=>{n.setDocked(!1),z(["left","right","top","bottom","position"],(t=>Ht(e.element,t))),t.onUndocked(e)},cT=(e,t,n,r)=>{const o="fixed"===r.position;n.setDocked(o),Ll(e.element,r),(o?t.onDocked:t.onUndocked)(e)},uT=(e,t,n,r,o=!1)=>{t.contextual.each((t=>{t.lazyContext(e).each((i=>{const s=((e,t)=>e.y<t.bottom&&e.bottom>t.y)(i,r.bounds);s!==n.isVisible()&&(n.setVisible(s),o&&!s?(Us(e.element,[t.fadeOutClass]),t.onHide(e)):(s?Xk:Yk)(e,t))}))}))},dT=(e,t,n,r,o)=>{uT(e,t,n,r,!0),cT(e,t,n,o.positionCss)},hT=(e,t,n)=>{e.getSystem().isConnected()&&((e,t,n)=>{const r=t.lazyViewport(e);uT(e,t,n,r),aT(e,r,n).each((o=>{((e,t,n,r,o)=>{switch(o.morph){case"static":return lT(e,t,n);case"absolute":return cT(e,t,n,o.positionCss);case"fixed":dT(e,t,n,r,o)}})(e,t,n,r,o)}))})(e,t,n)},pT=(e,t,n)=>{n.isDocked()&&((e,t,n)=>{const r=e.element;n.setDocked(!1);const o=t.lazyViewport(e);((e,t,n)=>{const r=e.element;return rT(r,t,n).bind((({box:e})=>iT(r,e,n)))})(e,o,n).each((r=>{switch(r.morph){case"static":lT(e,t,n);break;case"absolute":cT(e,t,n,r.positionCss)}})),n.setVisible(!0),t.contextual.each((t=>{Gs(r,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)})),hT(e,t,n)})(e,t,n)},fT=e=>(t,n,r)=>{const o=n.lazyViewport(t);((e,t,n,r)=>{const o=Yn(e),i=er(),s=r(i,nT({win:i,box:o}),t);return"bottom"===s.location||"top"===s.location?(((e,t,n,r,o)=>{r.getInitialPos().fold((()=>oT(e,t,n,r,o)),(()=>v))})(e,o,t,n,s),sT(s)):M.none()})(t.element,o,r,e).each((e=>{dT(t,n,r,o,e)}))},mT=fT(eT),gT=fT(tT);var vT=Object.freeze({__proto__:null,refresh:hT,reset:pT,isDocked:(e,t,n)=>n.isDocked(),getModes:(e,t,n)=>n.getModes(),setModes:(e,t,n,r)=>n.setModes(r),forceDockToTop:mT,forceDockToBottom:gT}),yT=Object.freeze({__proto__:null,events:(e,t)=>Hi([Ki(ni(),((n,r)=>{e.contextual.each((e=>{js(n.element,e.transitionClass)&&(Gs(n.element,[e.transitionClass,e.fadeInClass]),(t.isVisible()?e.onShown:e.onHidden)(n)),r.stop()}))})),ji(wi(),((n,r)=>{hT(n,e,t)})),ji(Ti(),((n,r)=>{hT(n,e,t)})),ji(xi(),((n,r)=>{pT(n,e,t)}))])}),bT=[yo("contextual",[oo("fadeInClass"),oo("fadeOutClass"),oo("transitionClass"),so("lazyContext"),Oa("onShow"),Oa("onShown"),Oa("onHide"),Oa("onHidden")]),Ao("lazyViewport",(()=>({bounds:er(),optScrollEnv:M.none()}))),_o("modes",["top","bottom"],Lr),Oa("onDocked"),Oa("onUndocked")];const wT=Al({fields:bT,name:"docking",active:yT,apis:vT,state:Object.freeze({__proto__:null,init:e=>{const t=To(!1),n=To(!0),r=Ql(),o=To(e.modes);return _s({isDocked:t.get,setDocked:t.set,getInitialPos:r.get,setInitialPos:r.set,clearInitialPos:r.clear,isVisible:n.get,setVisible:n.set,getModes:o.get,setModes:o.set,readState:()=>`docked:  ${t.get()}, visible: ${n.get()}, modes: ${o.get().join(",")}`})}})}),xT=w(ls("toolbar-height-change")),ET={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},ST="tox-tinymce--toolbar-sticky-on",CT="tox-tinymce--toolbar-sticky-off",AT=(e,t)=>I(wT.getModes(e),t),_T=e=>{const t=e.element;it(t).each((n=>{const r="padding-"+wT.getModes(e)[0];if(wT.isDocked(e)){const e=Yt(n);Ot(t,"width",e+"px"),Ot(n,r,(e=>Gt(e)+(parseInt(Dt(e,"margin-top"),10)||0)+(parseInt(Dt(e,"margin-bottom"),10)||0))(t)+"px")}else Ht(t,"width"),Ht(n,r)}))},kT=(e,t)=>{t?(Vs(e,ET.fadeOutClass),Us(e,[ET.transitionClass,ET.fadeInClass])):(Vs(e,ET.fadeInClass),Us(e,[ET.fadeOutClass,ET.transitionClass]))},TT=(e,t)=>{const n=Fe(e.getContainer());t?(zs(n,ST),Vs(n,CT)):(zs(n,CT),Vs(n,ST))},MT=(e,t)=>{const n=Ql(),r=t.getSink,o=e=>{r().each((t=>e(t.element)))},i=t=>{e.inline||_T(t),TT(e,wT.isDocked(t)),t.getSystem().broadcastOn([$u()],{}),r().each((e=>e.getSystem().broadcastOn([$u()],{})))},s=e.inline?[]:[Ml.config({channels:{[xT()]:{onReceive:_T}}})];return[tm.config({}),wT.config({contextual:{lazyContext:t=>{const n=Gt(t.element),r=e.inline?e.getContentAreaContainer():e.getContainer();return M.from(r).map((r=>{const o=Yn(Fe(r));return Dx(e,t.element).fold((()=>{const e=o.height-n,r=o.y+(AT(t,"top")?0:n);return Xn(o.x,r,o.width,e)}),(e=>{const t=Qn(o,Ix(e));return Xn(t.x,t.y,t.width,t.height-n)}))}))},onShow:()=>{o((e=>kT(e,!0)))},onShown:e=>{o((e=>Gs(e,[ET.transitionClass,ET.fadeInClass]))),n.get().each((t=>{((e,t)=>{const n=et(t);Dl(n).filter((e=>!Je(t,e))).filter((t=>Je(t,Fe(n.dom.body))||Qe(e,t))).each((()=>Ol(t)))})(e.element,t),n.clear()}))},onHide:e=>{((e,t)=>Il(e).orThunk((()=>t().toOptional().bind((e=>Il(e.element))))))(e.element,r).fold(n.clear,n.set),o((e=>kT(e,!1)))},onHidden:()=>{o((e=>Gs(e,[ET.transitionClass])))},...ET},lazyViewport:t=>Dx(e,t.element).fold((()=>{const n=er(),r=Tg(e),o=n.y+(AT(t,"top")?r:0),i=n.height-(AT(t,"bottom")?r:0);return{bounds:Xn(n.x,o,n.width,i),optScrollEnv:M.none()}}),(e=>({bounds:Ix(e),optScrollEnv:M.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:$t(e.element).top})}))),modes:[t.header.getDockingMode()],onDocked:i,onUndocked:i}),...s]};var PT=Object.freeze({__proto__:null,setup:(e,t,n)=>{e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",(()=>{n().each(wT.reset)})),e.on("ResizeWindow ResizeEditor",(()=>{n().each(_T)})),e.on("SkinLoaded",(()=>{n().each((e=>{wT.isDocked(e)?wT.reset(e):wT.refresh(e)}))})),e.on("FullscreenStateChanged",(()=>{n().each(wT.reset)}))),e.on("AfterScrollIntoView",(e=>{n().each((t=>{wT.refresh(t);const n=t.element;Rp(n)&&((e,t)=>{const n=et(t),r=rt(t).dom.innerHeight,o=jn(n),i=Fe(e.elm),s=Jn(i),a=Ut(i),l=s.y,c=l+a,u=$t(t),d=Ut(t),h=u.top,p=h+d,f=Math.abs(h-o.top)<2,m=Math.abs(p-(o.top+r))<2;if(f&&l<p)Un(o.left,l-d,n);else if(m&&c>h){const e=l-r+a+d;Un(o.left,e,n)}})(e,n)}))})),e.on("PostRender",(()=>{TT(e,!1)}))},isDocked:e=>e().map(wT.isDocked).getOr(!1),getBehaviours:MT});const OT=Pr([Jv,no("items",Rr([Dr([Qv,co("items",Lr)]),Lr]))].concat(Ty)),RT=[fo("text"),fo("tooltip"),fo("icon"),wo("search",!1,Rr([Hr,Pr([fo("placeholder")])],(e=>u(e)?e?M.some({placeholder:M.none()}):M.none():M.some(e)))),so("fetch"),Ao("onSetup",(()=>v))],NT=Pr([Jv,...RT]),DT=e=>Wr("menubutton",NT,e),IT=Pr([Jv,py,hy,dy,gy,iy,cy,So("presets","normal",["normal","color","listpreview"]),xy(1),ay,ly]);var BT=fh({factory:(e,t)=>{const n={focus:zf.focusIn,setMenus:(e,n)=>{const r=H(n,(e=>{const n={type:"menubutton",text:e.text,fetch:t=>{t(e.getItems())}},r=DT(n).mapError((e=>Kr(e))).getOrDie();return OA(r,"tox-mbtn",t.backstage,M.some("menuitem"))}));Kf.set(e,r)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:Sl([Kf.config({}),Xf("menubar-events",[Xi((t=>{e.onSetup(t)})),ji(Zo(),((e,t)=>{fa(e.element,".tox-mbtn--active").each((n=>{ma(t.event.target,".tox-mbtn").each((t=>{Je(n,t)||e.getSystem().getByDom(n).each((n=>{e.getSystem().getByDom(t).each((e=>{Ex.expand(e),Ex.close(n),tm.focus(e)}))}))}))}))})),ji(_i(),((e,t)=>{t.event.prevFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((n=>{t.event.newFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((e=>{Ex.isOpen(n)&&(Ex.expand(e),Ex.close(n))}))}))}))]),zf.config({mode:"flow",selector:".tox-mbtn",onEscape:t=>(e.onEscape(t),M.some(!0))}),Qx.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[to("dom"),to("uid"),to("onEscape"),to("backstage"),bo("onSetup",v)],apis:{focus:(e,t)=>{e.focus(t)},setMenus:(e,t,n)=>{e.setMenus(t,n)}}});const FT="container",LT=[pd("slotBehaviours",[])],HT=e=>"<alloy.field."+e+">",zT=(e,t)=>{const n=t=>oh(e),r=(t,n)=>(r,o)=>eh(r,e,o).map((e=>t(e,o))).getOr(n),o=(e,t)=>"true"!==At(e.element,"aria-hidden"),i=r(o,!1),s=r(((e,t)=>{if(o(e)){const n=e.element;Ot(n,"display","none"),St(n,"aria-hidden","true"),Di(e,ki(),{name:t,visible:!1})}})),a=(e=>(t,n)=>{z(n,(n=>e(t,n)))})(s),l=r(((e,t)=>{if(!o(e)){const n=e.element;Ht(n,"display"),Tt(n,"aria-hidden"),Di(e,ki(),{name:t,visible:!0})}})),c={getSlotNames:n,getSlot:(t,n)=>eh(t,e,n),isShowing:i,hideSlot:s,hideAllSlots:e=>a(e,n()),showSlot:l};return{uid:e.uid,dom:e.dom,components:t,behaviours:fd(e.slotBehaviours),apis:c}},VT=ce({getSlotNames:(e,t)=>e.getSlotNames(t),getSlot:(e,t,n)=>e.getSlot(t,n),isShowing:(e,t,n)=>e.isShowing(t,n),hideSlot:(e,t,n)=>e.hideSlot(t,n),hideAllSlots:(e,t)=>e.hideAllSlots(t),showSlot:(e,t,n)=>e.showSlot(t,n)},(e=>Cs(e))),jT={...VT,sketch:e=>{const t=(()=>{const e=[];return{slot:(t,n)=>(e.push(t),Kd(FT,HT(t),n)),record:w(e)}})(),n=e(t),r=t.record(),o=H(r,(e=>zd({name:e,pname:HT(e)})));return uh(FT,LT,o,zT,n)}},UT=Pr([hy,py,Ao("onShow",v),Ao("onHide",v),cy]),GT=e=>({element:()=>e.element.dom}),qT=(e,t)=>{const n=H(se(t),(e=>{const n=t[e],r=Zr((e=>Wr("sidebar",UT,e))(n));return{name:e,getApi:GT,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}}));return H(n,(t=>{const r=To(v);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:ib([Cb(t,r),Ab(t,r),ji(ki(),((e,t)=>{const r=t.event,o=q(n,(e=>e.name===r.name));o.each((t=>{(r.visible?t.onShow:t.onHide)(t.getApi(e))}))}))])})}))},WT=e=>jT.sketch((t=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:qT(t,e),slotBehaviours:ib([Xi((e=>jT.hideAllSlots(e)))])}))),ZT=(e,t)=>{St(e,"role",t)},$T=e=>bh.getCurrent(e).bind((e=>MA.isGrowing(e)||MA.hasGrown(e)?bh.getCurrent(e).bind((e=>q(jT.getSlotNames(e),(t=>jT.isShowing(e,t))))):M.none())),KT=ls("FixSizeEvent"),XT=ls("AutoSizeEvent");var YT=Object.freeze({__proto__:null,block:(e,t,n,r)=>{St(e.element,"aria-busy",!0);const o=t.getRoot(e).getOr(e),i=Sl([zf.config({mode:"special",onTab:()=>M.some(!0),onShiftTab:()=>M.some(!0)}),tm.config({})]),s=r(o,i),a=o.getSystem().build(s);Kf.append(o,sa(a)),a.hasConfigured(zf)&&t.focus&&zf.focusIn(a),n.isBlocked()||t.onBlock(e),n.blockWith((()=>Kf.remove(o,a)))},unblock:(e,t,n)=>{Tt(e.element,"aria-busy"),n.isBlocked()&&t.onUnblock(e),n.clear()}}),JT=[Ao("getRoot",M.none),Co("focus",!0),Oa("onBlock"),Oa("onUnblock")];const QT=Al({fields:JT,name:"blocking",apis:YT,state:Object.freeze({__proto__:null,init:()=>{const e=Yl((e=>e.destroy()));return _s({readState:e.isSet,blockWith:t=>{e.set({destroy:t})},clear:e.clear,isBlocked:e.isSet})}})}),eM=e=>{const t=De(e),n=at(t),r=(e=>{const t=void 0!==e.dom.attributes?e.dom.attributes:[];return G(t,((e,t)=>"class"===t.name?e:{...e,[t.name]:t.value}),{})})(t),o=(e=>Array.prototype.slice.call(e.dom.classList,0))(t),i=0===n.length?{}:{innerHtml:es(t)};return{tag:je(t),classes:o,attributes:r,...i}},tM=e=>bh.getCurrent(e).each((e=>Ol(e.element))),nM=(e,t,n)=>{const r=To(!1),o=Ql(),i=n=>{var o;r.get()&&(!(e=>"focusin"===e.type)(o=n)||!(o.composed?ne(o.composedPath()):M.from(o.target)).map(Fe).filter(qe).exists((e=>js(e,"mce-pastebin"))))&&(n.preventDefault(),tM(t()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",(()=>{e.dom.bind(e.getWin(),"focusin",i),e.on("BeforeExecCommand",(e=>{"mcefocus"===e.command.toLowerCase()&&!0!==e.value&&i(e)}))}));const s=o=>{o!==r.get()&&(r.set(o),((e,t,n,r)=>{const o=t.element;if(((e,t)=>{const n="tabindex",r=`data-mce-${n}`;M.from(e.iframeElement).map(Fe).each((e=>{t?(_t(e,n).each((t=>St(e,r,t))),St(e,n,-1)):(Tt(e,n),_t(e,r).each((t=>{St(e,n,t),Tt(e,r)})))}))})(e,n),n)QT.block(t,(e=>(t,n)=>({dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:eM('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(r)),Ht(o,"display"),Tt(o,"aria-hidden"),e.hasFocus()&&tM(t);else{const n=bh.getCurrent(t).exists((e=>Nl(e.element)));QT.unblock(t),Ot(o,"display","none"),St(o,"aria-hidden","true"),n&&e.focus()}})(e,t(),o,n.providers),((e,t)=>{e.dispatch("AfterProgressState",{state:t})})(e,o))};e.on("ProgressState",(t=>{if(o.on(clearTimeout),m(t.time)){const n=Vm.setEditorTimeout(e,(()=>s(t.state)),t.time);o.set(n)}else s(t.state),o.clear()}))},rM=(e,t,n)=>({within:e,extra:t,withinWidth:n}),oM=(e,t,n)=>{const r=G(e,((e,t)=>((e,t)=>{const r=n(e);return M.some({element:e,start:t,finish:t+r,width:r})})(t,e.len).fold(w(e),(t=>({len:t.finish,list:e.list.concat([t])})))),{len:0,list:[]}).list,o=j(r,(e=>e.finish<=t)),i=U(o,((e,t)=>e+t.width),0);return{within:o,extra:r.slice(o.length),withinWidth:i}},iM=e=>H(e,(e=>e.element)),sM=(e,t)=>{const n=H(t,(e=>sa(e)));jk.setGroups(e,n)},aM=(e,t,n)=>{const r=t.builtGroups.get();if(0===r.length)return;const o=th(e,t,"primary"),i=nx.getCoupled(e,"overflowGroup");Ot(o.element,"visibility","hidden");const s=r.concat([i]),a=ie(s,(e=>Il(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()))));n([]),sM(o,s);const l=((e,t,n,r)=>{const o=((e,t,n)=>{const r=oM(t,e,n);return 0===r.extra.length?M.some(r):M.none()})(e,t,n).getOrThunk((()=>oM(t,e-n(r),n))),i=o.within,s=o.extra,a=o.withinWidth;return 1===s.length&&s[0].width<=n(r)?((e,t,n)=>{const r=iM(e.concat(t));return rM(r,[],n)})(i,s,a):s.length>=1?((e,t,n,r)=>{const o=iM(e).concat([n]);return rM(o,iM(t),r)})(i,s,r,a):((e,t,n)=>rM(iM(e),[],n))(i,0,a)})(Yt(o.element),t.builtGroups.get(),(e=>Yt(e.element)),i);0===l.extra.length?(Kf.remove(o,i),n([])):(sM(o,l.within),n(l.extra)),Ht(o.element,"visibility"),zt(o.element),a.each(tm.focus)},lM=w([pd("splitToolbarBehaviours",[nx]),Qr("builtGroups",(()=>To([])))]),cM=w([Ma(["overflowToggledClass"]),go("getOverflowBounds"),to("lazySink"),Qr("overflowGroups",(()=>To([]))),Oa("onOpened"),Oa("onClosed")].concat(lM())),uM=w([zd({factory:jk,schema:zk(),name:"primary"}),Vd({schema:zk(),name:"overflow"}),Vd({name:"overflow-button"}),Vd({name:"overflow-group"})]),dM=w(((e,t)=>{((e,t)=>{const n=Xt.max(e,t,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Ot(e,"max-width",n+"px")})(e,Math.floor(t))})),hM=w([Ma(["toggledClass"]),to("lazySink"),so("fetch"),go("getBounds"),yo("fireDismissalEventInstead",[bo("event",Ci())]),xc(),Oa("onToggled")]),pM=w([Vd({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Sl([cm.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:e.onToggled})])})}),Vd({factory:jk,schema:zk(),name:"toolbar",overrides:e=>({toolbarBehaviours:Sl([zf.config({mode:"cyclic",onEscape:t=>(eh(t,e,"button").each(tm.focus),M.none())})])})})]),fM=Ql(),mM=(e,t)=>{const n=nx.getCoupled(e,"toolbarSandbox");Wu.isOpen(n)?Wu.close(n):Wu.open(n,t.toolbar())},gM=(e,t,n,r)=>{const o=n.getBounds.map((e=>e())),i=n.lazySink(e).getOrDie();wu.positionWithinBounds(i,t,{anchor:{type:"hotspot",hotspot:e,layouts:r,overrides:{maxWidthFunction:dM()}}},o)},vM=(e,t,n,r,o)=>{jk.setGroups(t,o),gM(e,t,n,r),cm.on(e)},yM=mh({name:"FloatingToolbarButton",factory:(e,t,n,r)=>({...jm.sketch({...r.button(),action:e=>{mM(e,r)},buttonBehaviours:vd({dump:r.button().buttonBehaviours},[nx.config({others:{toolbarSandbox:t=>((e,t,n)=>{const r=va();return{dom:{tag:"div",attributes:{id:r.id}},behaviours:Sl([zf.config({mode:"special",onEscape:e=>(Wu.close(e),M.some(!0))}),Wu.config({onOpen:(o,i)=>{const s=fM.get().getOr(!1);n.fetch().get((o=>{vM(e,i,n,t.layouts,o),r.link(e.element),s||zf.focusIn(i)}))},onClose:()=>{cm.off(e),fM.get().getOr(!1)||tm.focus(e),r.unlink(e.element)},isPartOf:(t,n,r)=>ya(n,r)||ya(e,r),getAttachPoint:()=>n.lazySink(e).getOrDie()}),Ml.config({channels:{...Yu({isExtraPart:k,...n.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...Qu({doReposition:()=>{Wu.getState(nx.getCoupled(e,"toolbarSandbox")).each((r=>{gM(e,r,n,t.layouts)}))}})}})])}})(t,n,e)}})])}),apis:{setGroups:(t,r)=>{Wu.getState(nx.getCoupled(t,"toolbarSandbox")).each((o=>{vM(t,o,e,n.layouts,r)}))},reposition:t=>{Wu.getState(nx.getCoupled(t,"toolbarSandbox")).each((r=>{gM(t,r,e,n.layouts)}))},toggle:e=>{mM(e,r)},toggleWithoutFocusing:e=>{((e,t)=>{fM.set(!0),mM(e,t),fM.clear()})(e,r)},getToolbar:e=>Wu.getState(nx.getCoupled(e,"toolbarSandbox")),isOpen:e=>Wu.isOpen(nx.getCoupled(e,"toolbarSandbox"))}}),configFields:hM(),partFields:pM(),apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggleWithoutFocusing(t)},getToolbar:(e,t)=>e.getToolbar(t),isOpen:(e,t)=>e.isOpen(t)}}),bM=w([to("items"),Ma(["itemSelector"]),pd("tgroupBehaviours",[zf])]),wM=w([Ud({name:"items",unit:"item"})]),xM=mh({name:"ToolbarGroup",configFields:bM(),partFields:wM(),factory:(e,t,n,r)=>({uid:e.uid,dom:e.dom,components:t,behaviours:md(e.tgroupBehaviours,[zf.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),EM=e=>H(e,(e=>sa(e))),SM=(e,t,n)=>{aM(e,n,(r=>{n.overflowGroups.set(r),t.getOpt(e).each((e=>{yM.setGroups(e,EM(r))}))}))},CM=mh({name:"SplitFloatingToolbar",configFields:cM(),partFields:uM(),factory:(e,t,n,r)=>{const o=Um(yM.sketch({fetch:()=>ax((t=>{t(EM(e.overflowGroups.get()))})),layouts:{onLtr:()=>[il,ol],onRtl:()=>[ol,il],onBottomLtr:()=>[al,sl],onBottomRtl:()=>[sl,al]},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()},onToggled:(t,n)=>e[n?"onOpened":"onClosed"](t)}));return{uid:e.uid,dom:e.dom,components:t,behaviours:md(e.splitToolbarBehaviours,[nx.config({others:{overflowGroup:()=>xM.sketch({...r["overflow-group"](),items:[o.asSpec()]})}})]),apis:{setGroups:(t,n)=>{e.builtGroups.set(H(n,t.getSystem().build)),SM(t,o,e)},refresh:t=>SM(t,o,e),toggle:e=>{o.getOpt(e).each((e=>{yM.toggle(e)}))},toggleWithoutFocusing:e=>{o.getOpt(e).each(yM.toggleWithoutFocusing)},isOpen:e=>o.getOpt(e).map(yM.isOpen).getOr(!1),reposition:e=>{o.getOpt(e).each((e=>{yM.reposition(e)}))},getOverflow:e=>o.getOpt(e).bind(yM.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},refresh:(e,t)=>{e.refresh(t)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t),getOverflow:(e,t)=>e.getOverflow(t)}}),AM=w([Ma(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Oa("onOpened"),Oa("onClosed")].concat(lM())),_M=w([zd({factory:jk,schema:zk(),name:"primary"}),zd({factory:jk,schema:zk(),name:"overflow",overrides:e=>({toolbarBehaviours:Sl([MA.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:t=>{eh(t,e,"overflow-button").each((e=>{cm.off(e),tm.focus(e)})),e.onClosed(t)},onGrown:t=>{zf.focusIn(t),e.onOpened(t)},onStartGrow:t=>{eh(t,e,"overflow-button").each(cm.on)}}),zf.config({mode:"acyclic",onEscape:t=>(eh(t,e,"overflow-button").each(tm.focus),M.some(!0))})])})}),Vd({name:"overflow-button",overrides:e=>({buttonBehaviours:Sl([cm.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),Vd({name:"overflow-group"})]),kM=(e,t)=>{eh(e,t,"overflow-button").bind((()=>eh(e,t,"overflow"))).each((n=>{TM(e,t),MA.toggleGrow(n)}))},TM=(e,t)=>{eh(e,t,"overflow").each((n=>{aM(e,t,(e=>{const t=H(e,(e=>sa(e)));jk.setGroups(n,t)})),eh(e,t,"overflow-button").each((e=>{MA.hasGrown(n)&&cm.on(e)})),MA.refresh(n)}))},MM=mh({name:"SplitSlidingToolbar",configFields:AM(),partFields:_M(),factory:(e,t,n,r)=>{const o="alloy.toolbar.toggle";return{uid:e.uid,dom:e.dom,components:t,behaviours:md(e.splitToolbarBehaviours,[nx.config({others:{overflowGroup:e=>xM.sketch({...r["overflow-group"](),items:[jm.sketch({...r["overflow-button"](),action:t=>{Ni(e,o)}})]})}}),Xf("toolbar-toggle-events",[ji(o,(t=>{kM(t,e)}))])]),apis:{setGroups:(t,n)=>{((t,n)=>{const r=H(n,t.getSystem().build);e.builtGroups.set(r)})(t,n),TM(t,e)},refresh:t=>TM(t,e),toggle:t=>kM(t,e),isOpen:t=>((e,t)=>eh(e,t,"overflow").map(MA.hasGrown).getOr(!1))(t,e)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},refresh:(e,t)=>{e.refresh(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t)}}),PM=e=>{const t=e.title.fold((()=>({})),(e=>({attributes:{title:e}})));return{dom:{tag:"div",classes:["tox-toolbar__group"],...t},components:[xM.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Sl([Qx.config({}),tm.config({})])}},OM=e=>xM.sketch(PM(e)),RM=(e,t)=>{const n=Xi((t=>{const n=H(e.initGroups,OM);jk.setGroups(t,n)}));return Sl([Eb(e.providers.isDisabled),bb(),zf.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Xf("toolbar-events",[n])])},NM=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":PM({title:M.none(),items:[]}),"overflow-button":n_({name:"more",icon:M.some("more-drawer"),enabled:!0,tooltip:M.some("More..."),primary:!1,buttonType:M.none(),borderless:!1},M.none(),e.providers)},splitToolbarBehaviours:RM(e,t)}},DM=e=>{const t=NM(e),n=CM.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return CM.sketch({...t,lazySink:e.getSink,getOverflowBounds:()=>{const t=e.moreDrawerData.lazyHeader().element,n=Jn(t),r=nt(t),o=Jn(r),i=Math.max(r.dom.scrollHeight,o.height);return Xn(n.x+4,o.y,n.width-8,i)},parts:{...t.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>e.onToggled(t,!0),onClosed:t=>e.onToggled(t,!1)})},IM=e=>{const t=MM.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=MM.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),r=NM(e);return MM.sketch({...r,components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>{t.getSystem().broadcastOn([xT()],{type:"opened"}),e.onToggled(t,!0)},onClosed:t=>{t.getSystem().broadcastOn([xT()],{type:"closed"}),e.onToggled(t,!1)}})},BM=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return jk.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===ng.scrolling?["tox-toolbar--scrolling"]:[])},components:[jk.parts.groups({})],toolbarBehaviours:RM(e,t)})},FM=[dy,hy,fo("tooltip"),So("buttonType","secondary",["primary","secondary"]),Co("borderless",!1),so("onAction")],LM={button:[...FM,ty,io("type",["button"])],togglebutton:[...FM,Co("active",!1),io("type",["togglebutton"])]},HM=[io("type",["group"]),_o("buttons",[],Xr("type",LM))],zM=Xr("type",{...LM,group:HM}),VM=Pr([_o("buttons",[],zM),so("onShow"),so("onHide")]),jM=(e,t)=>((e,t)=>{var n,r;const o="togglebutton"===e.type,i=e.icon.map((e=>WC(e,t.icons))).map(Um),s={...e,name:o?e.text.getOr(e.icon.getOr("")):null!==(n=e.text)&&void 0!==n?n:e.icon.getOr(""),primary:"primary"===e.buttonType,buttonType:M.from(e.buttonType),tooltip:e.tooltip,icon:e.icon,enabled:!0,borderless:e.borderless},a=r_(null!==(r=e.buttonType)&&void 0!==r?r:"secondary"),l=o?e.text.map(t.translate):M.some(t.translate(e.text)),c=l.map(ta),u=s.tooltip.or(l).map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),d=i.map((e=>e.asSpec())),h=Tb([d,c]),p=e.icon.isSome()&&c.isSome(),f={tag:"button",classes:a.concat(...e.icon.isSome()&&!p?["tox-button--icon"]:[]).concat(...p?["tox-button--icon-and-text"]:[]).concat(...e.borderless?["tox-button--naked"]:[]).concat(..."togglebutton"===e.type&&e.active?["tox-button--enabled"]:[]),attributes:u},m=t_(s,M.some((n=>{const r=e=>{i.map((r=>r.getOpt(n).each((n=>{Kf.set(n,[WC(e,t.icons)])}))))};return o?e.onAction({setIcon:r,setActive:e=>{const t=n.element;e?(zs(t,"tox-button--enabled"),St(t,"aria-pressed",!0)):(Vs(t,"tox-button--enabled"),Tt(t,"aria-pressed"))},isActive:()=>js(n.element,"tox-button--enabled")}):"button"===e.type?e.onAction({setIcon:r}):void 0})),[],f,h,t);return jm.sketch(m)})(e,t),UM=On().deviceType,GM=UM.isPhone(),qM=UM.isTablet();var WM=mh({name:"silver.View",configFields:[to("viewConfig")],partFields:[jd({factory:{sketch:e=>{let t=!1;const n=H(e.buttons,(n=>"group"===n.type?(t=!0,((e,t)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:H(e.buttons,(e=>jM(e,t)))}))(n,e.providers)):jM(n,e.providers)));return{uid:e.uid,dom:{tag:"div",classes:[t?"tox-view__toolbar":"tox-view__header",...GM||qM?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Sl([tm.config({}),zf.config({mode:"flow",selector:"button, .tox-button",focusInside:hp.OnEnterOrSpaceMode})]),components:t?n:[Wx.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Wx.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:n})]}}},schema:[to("buttons"),to("providers")],name:"header"}),jd({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(e,t,n,r)=>{const o={getPane:t=>Dk.getPart(t,e,"pane"),getOnShow:t=>e.viewConfig.onShow,getOnHide:t=>e.viewConfig.onHide};return{uid:e.uid,dom:e.dom,components:t,apis:o}},apis:{getPane:(e,t)=>e.getPane(t),getOnShow:(e,t)=>e.getOnShow(t),getOnHide:(e,t)=>e.getOnHide(t)}});const ZM=(e,t,n)=>fe(t,((t,r)=>{const o=Zr(Wr("view",VM,t));return e.slot(r,WM.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:o,components:[...o.buttons.length>0?[WM.parts.header({buttons:o.buttons,providers:n})]:[],WM.parts.pane({})]}))})),$M=(e,t)=>jT.sketch((n=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:ZM(n,e,t),slotBehaviours:ib([Xi((e=>jT.hideAllSlots(e)))])}))),KM=e=>q(jT.getSlotNames(e),(t=>jT.isShowing(e,t))),XM=(e,t,n)=>{jT.getSlot(e,t).each((e=>{WM.getPane(e).each((t=>{var r;n(e)((r=t.element.dom,{getContainer:w(r)}))}))}))};var YM=fh({factory:(e,t)=>{const n={setViews:(e,n)=>{Kf.set(e,[$M(n,t.backstage.shared.providers)])},whichView:e=>bh.getCurrent(e).bind(KM),toggleView:(e,t,n,r)=>bh.getCurrent(e).exists((o=>{const i=KM(o),s=i.exists((e=>r===e)),a=jT.getSlot(o,r).isSome();return a&&(jT.hideAllSlots(o),s?((e=>{const t=e.element;Ot(t,"display","none"),St(t,"aria-hidden","true")})(e),t()):(n(),(e=>{const t=e.element;Ht(t,"display"),Tt(t,"aria-hidden")})(e),jT.showSlot(o,r),((e,t)=>{XM(e,t,WM.getOnShow)})(o,r)),i.each((e=>((e,t)=>XM(e,t,WM.getOnHide))(o,e)))),a}))};return{uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Sl([Kf.config({}),bh.config({find:e=>{const t=Kf.contents(e);return ne(t)}})]),apis:n}},name:"silver.ViewWrapper",configFields:[to("backstage")],apis:{setViews:(e,t,n)=>e.setViews(t,n),toggleView:(e,t,n,r,o)=>e.toggleView(t,n,r,o),whichView:(e,t)=>e.whichView(t)}});const JM=Ik.optional({factory:BT,name:"menubar",schema:[to("backstage")]}),QM=Ik.optional({factory:{sketch:e=>Hk.sketch({uid:e.uid,dom:e.dom,listBehaviours:Sl([zf.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>BM({type:e.type,uid:ls("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),M.some(!0))}),setupItem:(e,t,n,r)=>{jk.setGroups(t,n)},shell:!0})},name:"multiple-toolbar",schema:[to("dom"),to("onEscape")]}),eP=Ik.optional({factory:{sketch:e=>{const t=(e=>e.type===ng.sliding?IM:e.type===ng.floating?DM:BM)(e);return t({type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),M.some(!0)),onToggled:(t,n)=>e.onToolbarToggled(n),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})}},name:"toolbar",schema:[to("dom"),to("onEscape"),to("getSink")]}),tP=Ik.optional({factory:{sketch:e=>{const t=e.editor,n=e.sticky?MT:qk;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Sl(n(t,e.sharedBackstage))}}},name:"header",schema:[to("dom")]}),nP=Ik.optional({factory:{sketch:e=>({uid:e.uid,dom:e.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"⚡️Upgrade"}}]})},name:"promotion",schema:[to("dom")]}),rP=Ik.optional({name:"socket",schema:[to("dom")]}),oP=Ik.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Sl([Qx.config({}),tm.config({}),MA.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:e=>{bh.getCurrent(e).each(jT.hideAllSlots),Ni(e,XT)},onGrown:e=>{Ni(e,XT)},onStartGrow:e=>{Di(e,KT,{width:Bt(e.element,"width").getOr("")})},onStartShrink:e=>{Di(e,KT,{width:Yt(e.element)+"px"})}}),Kf.config({}),bh.config({find:e=>{const t=Kf.contents(e);return ne(t)}})])}],behaviours:Sl([EC(0),Xf("sidebar-sliding-events",[ji(KT,((e,t)=>{Ot(e.element,"width",t.event.width)})),ji(XT,((e,t)=>{Ht(e.element,"width")}))])])})},name:"sidebar",schema:[to("dom")]}),iP=Ik.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Sl([Kf.config({}),QT.config({focus:!1}),bh.config({find:e=>ne(e.components())})]),components:[]})},name:"throbber",schema:[to("dom")]}),sP=Ik.optional({factory:YM,name:"viewWrapper",schema:[to("backstage")]}),aP=Ik.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components})},name:"editorContainer",schema:[]});var lP=mh({name:"OuterContainer",factory:(e,t,n)=>{let r=!1;const o={getSocket:t=>Dk.getPart(t,e,"socket"),setSidebar:(t,n,r)=>{Dk.getPart(t,e,"sidebar").each((e=>((e,t,n)=>{bh.getCurrent(e).each((r=>{Kf.set(r,[WT(t)]);const o=null==n?void 0:n.toLowerCase();i(o)&&ye(t,o)&&bh.getCurrent(r).each((t=>{jT.showSlot(t,o),MA.immediateGrow(r),Ht(r.element,"width"),ZT(e.element,"region")}))}))})(e,n,r)))},toggleSidebar:(t,n)=>{Dk.getPart(t,e,"sidebar").each((e=>((e,t)=>{bh.getCurrent(e).each((n=>{bh.getCurrent(n).each((r=>{MA.hasGrown(n)?jT.isShowing(r,t)?(MA.shrink(n),ZT(e.element,"presentation")):(jT.hideAllSlots(r),jT.showSlot(r,t),ZT(e.element,"region")):(jT.hideAllSlots(r),jT.showSlot(r,t),MA.grow(n),ZT(e.element,"region"))}))}))})(e,n)))},whichSidebar:t=>Dk.getPart(t,e,"sidebar").bind($T).getOrNull(),getHeader:t=>Dk.getPart(t,e,"header"),getToolbar:t=>Dk.getPart(t,e,"toolbar"),setToolbar:(t,n)=>{Dk.getPart(t,e,"toolbar").each((e=>{const t=H(n,OM);e.getApis().setGroups(e,t)}))},setToolbars:(t,n)=>{Dk.getPart(t,e,"multiple-toolbar").each((e=>{const t=H(n,(e=>H(e,OM)));Hk.setItems(e,t)}))},refreshToolbar:t=>{Dk.getPart(t,e,"toolbar").each((e=>e.getApis().refresh(e)))},toggleToolbarDrawer:t=>{Dk.getPart(t,e,"toolbar").each((e=>{Se(e.getApis().toggle,(t=>t(e)))}))},toggleToolbarDrawerWithoutFocusing:t=>{Dk.getPart(t,e,"toolbar").each((e=>{Se(e.getApis().toggleWithoutFocusing,(t=>t(e)))}))},isToolbarDrawerToggled:t=>Dk.getPart(t,e,"toolbar").bind((e=>M.from(e.getApis().isOpen).map((t=>t(e))))).getOr(!1),getThrobber:t=>Dk.getPart(t,e,"throbber"),focusToolbar:t=>{Dk.getPart(t,e,"toolbar").orThunk((()=>Dk.getPart(t,e,"multiple-toolbar"))).each((e=>{zf.focusIn(e)}))},setMenubar:(t,n)=>{Dk.getPart(t,e,"menubar").each((e=>{BT.setMenus(e,n)}))},focusMenubar:t=>{Dk.getPart(t,e,"menubar").each((e=>{BT.focus(e)}))},setViews:(t,n)=>{Dk.getPart(t,e,"viewWrapper").each((e=>{YM.setViews(e,n)}))},toggleView:(t,n)=>Dk.getPart(t,e,"viewWrapper").exists((e=>YM.toggleView(e,(()=>o.showMainView(t)),(()=>o.hideMainView(t)),n))),whichView:t=>Dk.getPart(t,e,"viewWrapper").bind(YM.whichView).getOrNull(),hideMainView:t=>{r=o.isToolbarDrawerToggled(t),r&&o.toggleToolbarDrawer(t),Dk.getPart(t,e,"editorContainer").each((e=>{const t=e.element;Ot(t,"display","none"),St(t,"aria-hidden","true")}))},showMainView:t=>{r&&o.toggleToolbarDrawer(t),Dk.getPart(t,e,"editorContainer").each((e=>{const t=e.element;Ht(t,"display"),Tt(t,"aria-hidden")})),o.refreshToolbar(t)}};return{uid:e.uid,dom:e.dom,components:t,apis:o,behaviours:e.behaviours}},configFields:[to("dom"),to("behaviours")],partFields:[tP,JM,eP,QM,rP,oP,nP,iP,sP,aP],apis:{getSocket:(e,t)=>e.getSocket(t),setSidebar:(e,t,n,r)=>{e.setSidebar(t,n,r)},toggleSidebar:(e,t,n)=>{e.toggleSidebar(t,n)},whichSidebar:(e,t)=>e.whichSidebar(t),getHeader:(e,t)=>e.getHeader(t),getToolbar:(e,t)=>e.getToolbar(t),setToolbar:(e,t,n)=>{e.setToolbar(t,n)},setToolbars:(e,t,n)=>{e.setToolbars(t,n)},refreshToolbar:(e,t)=>e.refreshToolbar(t),toggleToolbarDrawer:(e,t)=>{e.toggleToolbarDrawer(t)},toggleToolbarDrawerWithoutFocusing:(e,t)=>{e.toggleToolbarDrawerWithoutFocusing(t)},isToolbarDrawerToggled:(e,t)=>e.isToolbarDrawerToggled(t),getThrobber:(e,t)=>e.getThrobber(t),setMenubar:(e,t,n)=>{e.setMenubar(t,n)},focusMenubar:(e,t)=>{e.focusMenubar(t)},focusToolbar:(e,t)=>{e.focusToolbar(t)},setViews:(e,t,n)=>{e.setViews(t,n)},toggleView:(e,t,n)=>e.toggleView(t,n),whichView:(e,t)=>e.whichView(t)}});const cP={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},uP=e=>e.split(" "),dP=(e,t)=>{const n={...cP,...t.menus},r=se(t.menus).length>0,o=void 0===t.menubar||!0===t.menubar?uP("file edit view insert format tools table help"):uP(!1===t.menubar?"":t.menubar),s=j(o,(e=>{const n=ye(cP,e);return r?n||ve(t.menus,e).exists((e=>ye(e,"items"))):n})),a=H(s,(r=>{const o=n[r];return((e,t,n)=>{const r=xg(n).split(/[ ,]/);return{text:e.title,getItems:()=>$(e.items,(e=>{const n=e.toLowerCase();return 0===n.trim().length||B(r,(e=>e===n))?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]}))}})({title:o.title,items:uP(o.items)},t,e)}));return j(a,(e=>e.getItems().length>0&&B(e.getItems(),(e=>i(e)||"separator"!==e.type))))},hP=e=>{const t=()=>{e._skinLoaded=!0,(e=>{e.dispatch("SkinLoaded")})(e)};return()=>{e.initialized?t():e.on("init",t)}},pP=(e,t,n)=>(e.on("remove",(()=>n.unload(t))),n.load(t)),fP=(e,t)=>pP(e,t+"/skin.min.css",e.ui.styleSheetLoader),mP=(e,t)=>{var n;return n=Fe(e.getElement()),vt(n).isSome()?pP(e,t+"/skin.shadowdom.min.css",og.DOM.styleSheetLoader):Promise.resolve()},gP=(e,t)=>{const n=$g(t);return n&&t.contentCSS.push(n+(e?"/content.inline":"/content")+".min.css"),!Wg(t)&&i(n)?Promise.all([fP(t,n),mP(t,n)]).then(hP(t),((e,t)=>()=>((e,t)=>{e.dispatch("SkinLoadError",t)})(e,{message:"Skin could not be loaded"}))(t)):Promise.resolve(hP(t)())},vP=S(gP,!1),yP=S(gP,!0),bP=(e,t)=>n=>{const r=Jl(),o=()=>{n.setActive(e.formatter.match(t));const o=e.formatter.formatChanged(t,n.setActive);r.set(o)};return e.initialized?o():e.once("init",o),()=>{e.off("init",o),r.clear()}},wP=(e,t,n)=>r=>{const o=()=>n(r),i=()=>{n(r),e.on(t,o)};return e.initialized?i():e.once("init",i),()=>{e.off("init",i),e.off(t,o)}},xP=e=>t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("mceToggleFormat",!1,t.format)}))},EP=(e,t)=>()=>e.execCommand(t),SP=(e,t,n)=>{const r=(e,r,i,s)=>{const a=t.shared.providers.translate(e.title);if("separator"===e.type)return M.some({type:"separator",text:a});if("submenu"===e.type){const t=$(e.getStyleItems(),(e=>o(e,r,s)));return 0===r&&t.length<=0?M.none():M.some({type:"nestedmenuitem",text:a,enabled:t.length>0,getSubmenuItems:()=>$(e.getStyleItems(),(e=>o(e,r,s)))})}return M.some({type:"togglemenuitem",text:a,icon:e.icon,active:e.isSelected(s),enabled:!i,onAction:n.onAction(e),...e.getStylePreview().fold((()=>({})),(e=>({meta:{style:e}})))})},o=(e,t,o)=>{const i="formatter"===e.type&&n.isInvalid(e);return 0===t?i?[]:r(e,t,!1,o).toArray():r(e,t,i,o).toArray()},i=e=>{const t=n.getCurrentValue(),r=n.shouldHide?0:1;return $(e,(e=>o(e,r,t)))};return{validateItems:i,getFetch:(e,t)=>(n,r)=>{const o=t(),s=i(o);r(eA(s,dv.CLOSE_ON_EXECUTE,e,{isHorizontalMenu:!1,search:M.none()}))}}},CP=(e,t,n)=>{const r=n.dataset,o="basic"===r.type?()=>H(r.data,(e=>ak(e,n.isSelectedFor,n.getPreviewFor))):r.getData;return{items:SP(0,t,n),getStyleItems:o}},AP=(e,t,n)=>{const{items:r,getStyleItems:o}=CP(0,t,n),i=wP(e,"NodeChange",(e=>{const t=e.getComponent();n.updateText(t)}));return XC({text:n.icon.isSome()?M.none():n.text,icon:n.icon,tooltip:M.from(n.tooltip),role:M.none(),fetch:r.getFetch(t,o),onSetup:i,getApi:e=>({getComponent:w(e)}),columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)};var _P;!function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"}(_P||(_P={}));const kP=(e,t,n)=>{const r=(o=((e,t)=>t===_P.SemiColon?e.replace(/;$/,"").split(";"):e.split(" "))(e.options.get(t),n),H(o,(e=>{let t=e,n=e;const r=e.split("=");return r.length>1&&(t=r[0],n=r[1]),{title:t,format:n}})));var o;return{type:"basic",data:r}},TP=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],MP=e=>{const t={type:"basic",data:TP};return{tooltip:"Align",text:M.none(),icon:M.some("align-left"),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:M.none,getPreviewFor:e=>M.none,onAction:t=>()=>q(TP,(e=>e.format===t.format)).each((t=>e.execCommand(t.command))),updateText:t=>{const n=q(TP,(t=>e.formatter.match(t.format))).fold(w("left"),(e=>e.title.toLowerCase()));Di(t,KC,{icon:`align-${n}`})},dataset:t,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},PP=(e,t)=>{const n=t(),r=H(n,(e=>e.format));return M.from(e.formatter.closest(r)).bind((e=>q(n,(t=>t.format===e)))).orThunk((()=>Ce(e.formatter.match("p"),{title:"Paragraph",format:"p"})))},OP=e=>{const t="Paragraph",n=kP(e,"block_formats",_P.SemiColon);return{tooltip:"Blocks",text:M.some(t),icon:M.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:M.none,getPreviewFor:t=>()=>{const n=e.formatter.get(t);return n?M.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):M.none()},onAction:xP(e),updateText:r=>{const o=PP(e,(()=>n.data)).fold(w(t),(e=>e.title));Di(r,$C,{text:o})},dataset:n,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},RP=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],NP=e=>{const t=e.split(/\s*,\s*/);return H(t,(e=>e.replace(/^['"]+|['"]+$/g,"")))},DP=e=>{const t="System Font",n=()=>{const n=e=>e?NP(e)[0]:"",o=e.queryCommandValue("FontName"),i=r.data,s=o?o.toLowerCase():"",a=q(i,(e=>{const t=e.format;return t.toLowerCase()===s||n(t).toLowerCase()===n(s).toLowerCase()})).orThunk((()=>Ce((e=>0===e.indexOf("-apple-system")&&(()=>{const t=NP(e.toLowerCase());return K(RP,(e=>t.indexOf(e.toLowerCase())>-1))})())(s),{title:t,format:s})));return{matchOpt:a,font:o}},r=kP(e,"font_family_formats",_P.SemiColon);return{tooltip:"Fonts",text:M.some(t),icon:M.none(),isSelectedFor:e=>t=>t.exists((t=>t.format===e)),getCurrentValue:()=>{const{matchOpt:e}=n();return e},getPreviewFor:e=>()=>M.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}}),onAction:t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("FontName",!1,t.format)}))},updateText:e=>{const{matchOpt:t,font:r}=n(),o=t.fold(w(r),(e=>e.title));Di(e,$C,{text:o})},dataset:r,shouldHide:!1,isInvalid:k}},IP={tab:w(9),escape:w(27),enter:w(13),backspace:w(8),delete:w(46),left:w(37),up:w(38),right:w(39),down:w(40),space:w(32),home:w(36),end:w(35),pageUp:w(33),pageDown:w(34)},BP={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},FP=(()=>{const e="[0-9]+",t="[eE][+-]?"+e,n=e=>`(?:${e})?`,r=["Infinity",e+"\\."+n(e)+n(t),"\\."+e+n(t),e+n(t)].join("|");return new RegExp(`^([+-]?(?:${r}))(.*)$`)})(),LP=(e,t)=>M.from(FP.exec(e)).bind((e=>{const n=Number(e[1]),r=e[2];return((e,t)=>B(t,(t=>B(BP[t],(t=>e===t)))))(r,t)?M.some({value:n,unit:r}):M.none()})),HP={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},zP={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},VP=(e,t)=>/[0-9.]+px$/.test(e)?((e,t)=>{const n=Math.pow(10,t);return Math.round(e*n)/n})(72*parseInt(e,10)/96,t||0)+"pt":ve(zP,e).getOr(e),jP=e=>ve(HP,e).getOr(""),UP=e=>{const t=()=>{let t=M.none();const n=r.data,o=e.queryCommandValue("FontSize");if(o)for(let e=3;t.isNone()&&e>=0;e--){const r=VP(o,e),i=jP(r);t=q(n,(e=>e.format===o||e.format===r||e.format===i))}return{matchOpt:t,size:o}},n=w(M.none),r=kP(e,"font_size_formats",_P.Space);return{tooltip:"Font sizes",text:M.some("12pt"),icon:M.none(),isSelectedFor:e=>t=>t.exists((t=>t.format===e)),getPreviewFor:n,getCurrentValue:()=>{const{matchOpt:e}=t();return e},onAction:t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("FontSize",!1,t.format)}))},updateText:e=>{const{matchOpt:n,size:r}=t(),o=n.fold(w(r),(e=>e.title));Di(e,$C,{text:o})},dataset:r,shouldHide:!1,isInvalid:k}},GP=e=>{var t;return null!==(t={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[e])&&void 0!==t?t:{step:1}},qP=(e,t)=>{const n="Paragraph";return{tooltip:"Formats",text:M.some(n),icon:M.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:M.none,getPreviewFor:t=>()=>{const n=e.formatter.get(t);return void 0!==n?M.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):M.none()},onAction:xP(e),updateText:t=>{const r=e=>nk(e)?$(e.items,r):rk(e)?[{title:e.title,format:e.format}]:[],o=$(sk(e),r),i=PP(e,w(o)).fold(w(n),(e=>e.title));Di(t,$C,{text:i})},shouldHide:bg(e),isInvalid:t=>!e.formatter.canApply(t.format),dataset:t}},WP=w([to("toggleClass"),to("fetch"),Na("onExecute"),bo("getHotspot",M.some),bo("getAnchorOverrides",w({})),xc(),Na("onItemExecute"),uo("lazySink"),to("dom"),Oa("onOpen"),pd("splitDropdownBehaviours",[nx,zf,tm]),bo("matchWidth",!1),bo("useMinWidth",!1),bo("eventOrder",{}),uo("role")].concat(bx())),ZP=zd({factory:jm,schema:[to("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Sl([tm.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each(Ii)},buttonBehaviours:Sl([cm.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])})}),$P=zd({factory:jm,schema:[to("dom")],name:"button",defaults:()=>({buttonBehaviours:Sl([tm.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each((n=>{e.onExecute(n,t)}))}})}),KP=w([ZP,$P,jd({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[to("text")],name:"aria-descriptor"}),Vd({schema:[Ta()],name:"menu",defaults:e=>({onExecute:(t,n)=>{t.getSystem().getByUid(e.uid).each((r=>{e.onItemExecute(r,t,n)}))}})}),ux()]),XP=mh({name:"SplitDropdown",configFields:WP(),partFields:KP(),factory:(e,t,n,r)=>{const o=e=>{bh.getCurrent(e).each((e=>{Uh.highlightFirst(e),zf.focusIn(e)}))},i=t=>{fx(e,x,t,r,o,Fm.HighlightMenuAndItem).get(v)},s=t=>{const n=th(t,e,"button");return Ii(n),M.some(!0)},a={...Hi([Xi(((t,n)=>{eh(t,e,"aria-descriptor").each((e=>{const n=ls("aria");St(e.element,"id",n),St(t.element,"aria-describedby",n)}))}))]),...dm(M.some(i))},l={repositionMenus:e=>{cm.isOn(e)&&yx(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:l,eventOrder:{...e.eventOrder,[di()]:["disabling","toggling","alloy.base.behaviour"]},events:a,behaviours:md(e.splitDropdownBehaviours,[nx.config({others:{sandbox:t=>{const n=th(t,e,"arrow");return vx(e,t,{onOpen:()=>{cm.on(n),cm.on(t)},onClose:()=>{cm.off(n),cm.off(t)}})}}}),zf.config({mode:"special",onSpace:s,onEnter:s,onDown:e=>(i(e),M.some(!0))}),tm.config({}),cm.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(e,t)=>e.repositionMenus(t)}}),YP=e=>({isEnabled:()=>!Nh.isDisabled(e),setEnabled:t=>Nh.set(e,!t),setText:t=>Di(e,$C,{text:t}),setIcon:t=>Di(e,KC,{icon:t})}),JP=e=>({setActive:t=>{cm.set(e,t)},isActive:()=>cm.isOn(e),isEnabled:()=>!Nh.isDisabled(e),setEnabled:t=>Nh.set(e,!t),setText:t=>Di(e,$C,{text:t}),setIcon:t=>Di(e,KC,{icon:t})}),QP=(e,t)=>e.map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),eO=ls("focus-button"),tO=(e,t,n,r,o)=>{const i=t.map((e=>Um(ZC(e,"tox-tbtn",o)))),s=e.map((e=>Um(WC(e,o.icons))));return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:QP(n,o)},components:Tb([s.map((e=>e.asSpec())),i.map((e=>e.asSpec()))]),eventOrder:{[Uo()]:["focusing","alloy.base.behaviour",VC],[Ei()]:[VC,"toolbar-group-button-events"]},buttonBehaviours:Sl([Eb(o.isDisabled),bb(),Xf(VC,[Xi(((e,t)=>UC(e))),ji($C,((e,t)=>{i.bind((t=>t.getOpt(e))).each((e=>{Kf.set(e,[ta(o.translate(t.event.text))])}))})),ji(KC,((e,t)=>{s.bind((t=>t.getOpt(e))).each((e=>{Kf.set(e,[WC(t.event.icon,o.icons)])}))})),ji(Uo(),((e,t)=>{t.event.prevent(),Ni(e,eO)}))])].concat(r.getOr([])))}},nO=(e,t,n)=>{var r;const o=To(v),i=tO(e.icon,e.text,e.tooltip,M.none(),n);return jm.sketch({dom:i.dom,components:i.components,eventOrder:jC,buttonBehaviours:{...Sl([Xf("toolbar-button-events",[(s={onAction:e.onAction,getApi:t.getApi},Qi(((e,t)=>{Sb(s,e)((t=>{Di(e,zC,{buttonApi:t}),s.onAction(t)}))}))),Cb(t,o),Ab(t,o)]),Eb((()=>!e.enabled||n.isDisabled())),bb()].concat(t.toolbarButtonBehaviours)),[VC]:null===(r=i.buttonBehaviours)||void 0===r?void 0:r[VC]}});var s},rO=(e,t,n)=>nO(e,{toolbarButtonBehaviours:n.length>0?[Xf("toolbarButtonWith",n)]:[],getApi:YP,onSetup:e.onSetup},t),oO=(e,t,n)=>nO(e,{toolbarButtonBehaviours:[Kf.config({}),cm.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[Xf("toolbarToggleButtonWith",n)]:[]),getApi:JP,onSetup:e.onSetup},t),iO=(e,t,n)=>r=>ax((e=>t.fetch(e))).map((o=>M.from(Px(mr(Uw(ls("menu-value"),o,(n=>{t.onItemAction(e(r),n)}),t.columns,t.presets,dv.CLOSE_ON_EXECUTE,t.select.getOr(k),n),{movement:qw(t.columns,t.presets),menuBehaviours:ib("auto"!==t.columns?[]:[Xi(((e,n)=>{ob(e,4,Sv(t.presets)).each((({numRows:t,numColumns:n})=>{zf.setGridSize(e,t,n)}))}))])}))))),sO=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],aO=(e,t)=>(n,r,o)=>{const i=e(n).mapError((e=>Kr(e))).getOrDie();return t(i,r,o)},lO={button:aO(Py,((e,t)=>{return n=e,r=t.shared.providers,rO(n,r,[]);var n,r})),togglebutton:aO(Ny,((e,t)=>{return n=e,r=t.shared.providers,oO(n,r,[]);var n,r})),menubutton:aO(DT,((e,t)=>OA(e,"tox-tbtn",t,M.none()))),splitbutton:aO((e=>Wr("SplitButton",IT,e)),((e,t)=>((e,t)=>{const n=e=>({isEnabled:()=>!Nh.isDisabled(e),setEnabled:t=>Nh.set(e,!t),setIconFill:(t,n)=>{fa(e.element,`svg path[id="${t}"], rect[id="${t}"]`).each((e=>{St(e,"fill",n)}))},setActive:t=>{St(e.element,"aria-pressed",t),fa(e.element,"span").each((n=>{e.getSystem().getByDom(n).each((e=>cm.set(e,t)))}))},isActive:()=>fa(e.element,"span").exists((t=>e.getSystem().getByDom(t).exists(cm.isOn))),setText:t=>fa(e.element,"span").each((n=>e.getSystem().getByDom(n).each((e=>Di(e,$C,{text:t}))))),setIcon:t=>fa(e.element,"span").each((n=>e.getSystem().getByDom(n).each((e=>Di(e,KC,{icon:t})))))}),r=To(v),o={getApi:n,onSetup:e.onSetup};return XP.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...QP(e.tooltip,t.providers)}},onExecute:t=>{const r=n(t);r.isEnabled()&&e.onAction(r)},onItemExecute:(e,t,n)=>{},splitDropdownBehaviours:Sl([xb(t.providers.isDisabled),bb(),Xf("split-dropdown-events",[Xi(((e,t)=>UC(e))),ji(eO,tm.focus),Cb(o,r),Ab(o,r)]),CE.config({})]),eventOrder:{[Ei()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:iO(n,e,t.providers),parts:{menu:Mv(0,e.columns,e.presets)},components:[XP.parts.button(tO(e.icon,e.text,M.none(),M.some([cm.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),XP.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Xm("chevron-down",t.providers.icons)},buttonBehaviours:Sl([xb(t.providers.isDisabled),bb(),Ym()])}),XP.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})})(e,t.shared))),grouptoolbarbutton:aO((e=>Wr("GroupToolbarButton",OT,e)),((e,t,n)=>{const r=n.ui.registry.getAll().buttons,o={[bc]:t.shared.header.isPositionedAtTop()?yc.TopToBottom:yc.BottomToTop};if(Eg(n)===ng.floating)return((e,t,n,r)=>{const o=t.shared,i=To(v),s={toolbarButtonBehaviours:[],getApi:YP,onSetup:e.onSetup},a=[Xf("toolbar-group-button-events",[Cb(s,i),Ab(s,i)])];return yM.sketch({lazySink:o.getSink,fetch:()=>ax((t=>{t(H(n(e.items),OM))})),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:tO(e.icon,e.text,e.tooltip,M.some(a),o.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})})(e,t,(e=>uO(n,{buttons:r,toolbar:e,allowToolbarGroups:!1},t,M.none())),o);throw new Error("Toolbar groups are only supported when using floating toolbar mode")}))},cO={styles:(e,t)=>{const n={type:"advanced",...t.styles};return AP(e,t,qP(e,n))},fontsize:(e,t)=>AP(e,t,UP(e)),fontsizeinput:(e,t)=>((e,t,n)=>{let r=M.none();const o=wP(e,"NodeChange",(e=>{const t=e.getComponent();r=M.some(t),n.updateInputValue(t)})),i=e=>({getComponent:w(e)}),s=To(v),a=ls("custom-number-input-events"),l=(t,o,i)=>{const s=r.map((e=>hd.getValue(e))).getOr(""),a=LP(s,["unsupportedLength","empty"]),l=a.map((e=>e.value)).getOr(0),c=Ng(e),u=a.map((e=>e.unit)).filter((e=>""!==e)).getOr(c),d=t(l,n.getConfigFromUnit(u).step),h=`${(e=>e>=0)(d)?d:l}${u}`,p=`${l}${u}`.length-`${h}`.length,f=r.map((e=>e.element.dom.selectionStart-p)),m=r.map((e=>e.element.dom.selectionEnd-p));n.onAction(h,i),r.each((e=>{hd.setValue(e,h),o&&(f.each((t=>e.element.dom.selectionStart=t)),m.each((t=>e.element.dom.selectionEnd=t)))}))},c=(e,t)=>l(((e,t)=>e-t),e,t),u=(e,t)=>l(((e,t)=>e+t),e,t),d=e=>it(e.element).fold(M.none,(e=>(Ol(e),M.some(!0)))),h=e=>Nl(e.element)?(ct(e.element).each((e=>Ol(e))),M.some(!0)):M.none(),p=(e,n,r,o)=>{const i=t.shared.providers.translate(r),s=ls("altExecuting");return jm.sketch({dom:{tag:"button",attributes:{title:i,"aria-label":i},classes:o.concat(n)},components:[qC(n,t.shared.providers.icons)],buttonBehaviours:Sl([Xf(s,[ji(Xo(),((t,n)=>{n.event.raw.keyCode!==IP.space()&&n.event.raw.keyCode!==IP.enter()||e(!1)})),ji(ei(),((t,n)=>{e(!0)}))])]),eventOrder:{[Xo()]:[s,"keying"],[ei()]:[s,"alloy.base.behaviour"]}})},f=Um(p((e=>c(!1,e)),"minus","Decrease font size",["highlight-on-focus"])),m=Um(p((e=>u(!1,e)),"plus","Increase font size",["highlight-on-focus"])),g=Um({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[Dv.sketch({inputBehaviours:Sl([Xf(a,[Cb({onSetup:o,getApi:i},s),Ab({getApi:i},s)]),Xf("input-update-display-text",[ji($C,((e,t)=>{hd.setValue(e,t.event.text)})),ji(Ko(),(e=>{n.onAction(hd.getValue(e))})),ji(Qo(),(e=>{n.onAction(hd.getValue(e))}))]),zf.config({mode:"special",onEnter:e=>(l(x,!0,!0),M.some(!0)),onEscape:d,onUp:e=>(u(!0,!1),M.some(!0)),onDown:e=>(c(!0,!1),M.some(!0)),onLeft:(e,t)=>(t.cut(),M.none()),onRight:(e,t)=>(t.cut(),M.none())})])})],behaviours:Sl([tm.config({}),zf.config({mode:"special",onEnter:h,onSpace:h,onEscape:d}),Xf("input-wrapper-events",[ji(Zo(),(e=>{z([f,m],(t=>{const n=Fe(t.get(e).element.dom);Nl(n)&&Rl(n)}))}))])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[f.asSpec(),g.asSpec(),m.asSpec()],behaviours:Sl([tm.config({}),zf.config({mode:"flow",focusInside:hp.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:e=>Nl(e.element)?M.none():(Ol(e.element),M.some(!0))})])}})(e,t,(e=>({updateInputValue:t=>Di(t,$C,{text:e.queryCommandValue("FontSize")}),getConfigFromUnit:GP,onAction:(t,n)=>e.execCommand("FontSize",!1,t,{skip_focus:!n})}))(e)),fontfamily:(e,t)=>AP(e,t,DP(e)),blocks:(e,t)=>AP(e,t,OP(e)),align:(e,t)=>AP(e,t,MP(e))},uO=(e,t,n,r)=>{const o=(e=>{const t=e.toolbar,n=e.buttons;return!1===t?[]:void 0===t||!0===t?(e=>{const t=H(sO,(t=>{const n=j(t.items,(t=>ye(e,t)||ye(cO,t)));return{name:t.name,items:n}}));return j(t,(e=>e.items.length>0))})(n):i(t)?(e=>{const t=e.split("|");return H(t,(e=>({items:e.trim().split(" ")})))})(t):(e=>g(e,(e=>ye(e,"name")&&ye(e,"items"))))(t)?t:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(t),s=H(o,(o=>{const i=$(o.items,(o=>0===o.trim().length?[]:((e,t,n,r,o,i)=>ve(t,n.toLowerCase()).orThunk((()=>i.bind((e=>ie(e,(e=>ve(t,e+n.toLowerCase()))))))).fold((()=>ve(cO,n.toLowerCase()).map((t=>t(e,o)))),(t=>"grouptoolbarbutton"!==t.type||r?((e,t,n)=>ve(lO,e.type).fold((()=>(console.error("skipping button defined by",e),M.none())),(r=>M.some(r(e,t,n)))))(t,o,e):(console.warn(`Ignoring the '${n}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),M.none()))))(e,t.buttons,o,t.allowToolbarGroups,n,r).toArray()));return{title:M.from(e.translate(o.name)),items:i}}));return j(s,(e=>e.items.length>0))},dO=(e,t,n,r)=>{const o=t.mainUi.outerContainer,s=n.toolbar,a=n.buttons;if(g(s,i)){const t=s.map((t=>{const o={toolbar:t,buttons:a,allowToolbarGroups:n.allowToolbarGroups};return uO(e,o,r,M.none())}));lP.setToolbars(o,t)}else lP.setToolbar(o,uO(e,n,r,M.none()))},hO=On(),pO=hO.os.isiOS()&&hO.os.version.major<=12;var fO=Object.freeze({__proto__:null,render:async(e,t,n,r,o)=>{const{mainUi:i,uiMotherships:s}=t,a=To(0),l=i.outerContainer;await vP(e);const u=Fe(o.targetNode),d=gt(mt(u));Nu(u,i.mothership),((e,t,n)=>{iv(e)&&Nu(n.mainUi.mothership.element,n.popupUi.mothership),Ru(t,n.dialogUi.mothership)})(e,d,t),e.on("PostRender",(()=>{lP.setSidebar(l,n.sidebar,Gg(e)),dO(e,t,n,r),a.set(e.getWin().innerWidth),lP.setMenubar(l,dP(e,n)),lP.setViews(l,n.views),((e,t)=>{const{uiMotherships:n}=t,r=e.dom;let o=e.getWin();const i=e.getDoc().documentElement,s=To(Wt(o.innerWidth,o.innerHeight)),a=To(Wt(i.offsetWidth,i.offsetHeight)),l=()=>{const t=s.get();t.left===o.innerWidth&&t.top===o.innerHeight||(s.set(Wt(o.innerWidth,o.innerHeight)),uw(e))},c=()=>{const t=e.getDoc().documentElement,n=a.get();n.left===t.offsetWidth&&n.top===t.offsetHeight||(a.set(Wt(t.offsetWidth,t.offsetHeight)),uw(e))},u=t=>{((e,t)=>{e.dispatch("ScrollContent",t)})(e,t)};r.bind(o,"resize",l),r.bind(o,"scroll",u);const d=nc(Fe(e.getBody()),"load",c);e.on("hide",(()=>{z(n,(e=>{Ot(e.element,"display","none")}))})),e.on("show",(()=>{z(n,(e=>{Ht(e.element,"display")}))})),e.on("NodeChange",c),e.on("remove",(()=>{d.unbind(),r.unbind(o,"resize",l),r.unbind(o,"scroll",u),o=null}))})(e,t)}));const h=lP.getSocket(l).getOrDie("Could not find expected socket element");if(pO){Rt(h.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const t=((e,t)=>{let n=null;return{cancel:()=>{c(n)||(clearTimeout(n),n=null)},throttle:(...t)=>{c(n)&&(n=setTimeout((()=>{n=null,e.apply(null,t)}),20))}}})((()=>{e.dispatch("ScrollContent")})),n=tc(h.element,"scroll",t.throttle);e.on("remove",n.unbind)}yb(e,t),e.addCommand("ToggleSidebar",((t,n)=>{lP.toggleSidebar(l,n),e.dispatch("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(()=>{var e;return null!==(e=lP.whichSidebar(l))&&void 0!==e?e:""})),e.addCommand("ToggleView",((t,n)=>{if(lP.toggleView(l,n)){const t=l.element;i.mothership.broadcastOn([Zu()],{target:t}),z(s,(e=>{e.broadcastOn([Zu()],{target:t})})),c(lP.whichView(l))&&(e.focus(),e.nodeChanged())}})),e.addQueryValueHandler("ToggleView",(()=>{var e;return null!==(e=lP.whichView(l))&&void 0!==e?e:""}));const p=Eg(e);p!==ng.sliding&&p!==ng.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(()=>{const n=e.getWin().innerWidth;n!==a.get()&&(lP.refreshToolbar(t.mainUi.outerContainer),a.set(n))}));const f={setEnabled:e=>{vb(t,!e)},isEnabled:()=>!Nh.isDisabled(l)};return{iframeContainer:h.element.dom,editorContainer:l.element.dom,api:f}}});const mO=e=>/^[0-9\.]+(|px)$/i.test(""+e)?M.some(parseInt(""+e,10)):M.none(),gO=e=>m(e)?e+"px":e,vO=(e,t,n)=>{const r=t.filter((t=>e<t)),o=n.filter((t=>e>t));return r.or(o).getOr(e)},yO=e=>{const t=hg(e),n=pg(e),r=mg(e);return mO(t).map((e=>vO(e,n,r)))},{ToolbarLocation:bO,ToolbarMode:wO}=av,xO=(e,t,n,r,o)=>{const{mainUi:i,uiMotherships:s}=n,a=og.DOM,l=tv(e),c=ov(e),u=mg(e).or(yO(e)),d=r.shared.header,h=d.isPositionedAtTop,p=Eg(e),f=p===wO.sliding||p===wO.floating,m=To(!1),g=()=>m.get()&&!e.removed,v=e=>f?e.fold(w(0),(e=>e.components().length>1?Ut(e.components()[1].element):0)):0,y=()=>{z(s,(e=>{e.broadcastOn([$u()],{})}))},b=n=>{if(!g())return;l||o.on((e=>{const n=u.getOrThunk((()=>{const e=mO(Dt(wt(),"margin-left")).getOr(0);return Yt(wt())-$t(t).left+e}));Ot(e.element,"max-width",n+"px")}));const r=l?M.none():(()=>{if(l)return M.none();if($t(i.outerContainer.element).left+Jt(i.outerContainer.element)>=window.innerWidth-40||Bt(i.outerContainer.element,"width").isSome()){Ot(i.outerContainer.element,"position","absolute"),Ot(i.outerContainer.element,"left","0px"),Ht(i.outerContainer.element,"width");const e=Jt(i.outerContainer.element);return M.some(e)}return M.none()})();f&&lP.refreshToolbar(i.outerContainer),l||(n=>{o.on((r=>{const o=lP.getToolbar(i.outerContainer),s=v(o),a=Yn(t),{top:l,left:c}=((e,t)=>iv(e)?$k(t):M.none())(e,i.outerContainer.element).fold((()=>({top:h()?Math.max(a.y-Ut(r.element)+s,0):a.bottom,left:a.x})),(e=>{var t;const n=Yn(e),o=null!==(t=e.dom.scrollTop)&&void 0!==t?t:0,i=Je(e,wt()),l=i?Math.max(a.y-Ut(r.element)+s,0):a.y-n.y+o-Ut(r.element)+s;return{top:h()?l:a.bottom,left:i?a.x:a.x-n.x}})),u={position:"absolute",left:Math.round(c)+"px",top:Math.round(l)+"px"},d=n.bind((e=>{const t=jn(),n=window.innerWidth-(c-t.left),r=Math.max(Math.min(e,n),150);return n>r?M.none():M.some({width:r+"px"})})).getOr({});Rt(i.outerContainer.element,{...u,...d})}))})(r),c&&o.on(n),y()},x=()=>!(l||!c||!g())&&o.get().exists((n=>{const r=d.getDockingMode(),s=(n=>{switch(Cg(e)){case bO.auto:const e=lP.getToolbar(i.outerContainer),r=v(e),o=Ut(n.element)-r,s=Yn(t);if(s.y>o)return"top";{const e=nt(t),n=Math.max(e.dom.scrollHeight,Ut(e));return s.bottom<n-o||er().bottom<s.bottom-o?"bottom":"top"}case bO.bottom:return"bottom";case bO.top:default:return"top"}})(n);return s!==r&&(a=s,o.on((e=>{wT.setModes(e,[a]),d.setDockingMode(a);const t=h()?yc.TopToBottom:yc.BottomToTop;St(e.element,bc,t)})),!0);var a}));return{isVisible:g,isPositionedAtTop:h,show:()=>{m.set(!0),Ot(i.outerContainer.element,"display","flex"),a.addClass(e.getBody(),"mce-edit-focus"),z(s,(e=>{Ht(e.element,"display")})),x(),iv(e)?b((e=>wT.isDocked(e)?wT.reset(e):wT.refresh(e))):b(wT.refresh)},hide:()=>{m.set(!1),Ot(i.outerContainer.element,"display","none"),a.removeClass(e.getBody(),"mce-edit-focus"),z(s,(e=>{Ot(e.element,"display","none")}))},update:b,updateMode:()=>{x()&&b(wT.reset)},repositionPopups:y}},EO=(e,t)=>{const n=Yn(e);return{pos:t?n.y:n.bottom,bounds:n}};var SO=Object.freeze({__proto__:null,render:async(e,t,n,r,o)=>{const{mainUi:i}=t,s=Ql(),a=Fe(o.targetNode),l=xO(e,a,t,r,s),c=kg(e);await yP(e);const u=()=>{if(s.isSet())return void l.show();s.set(lP.getHeader(i.outerContainer).getOrDie());const o=nv(e);iv(e)?(Nu(a,i.mothership),Nu(a,t.popupUi.mothership)):Ru(o,i.mothership),Ru(o,t.dialogUi.mothership),dO(e,t,n,r),lP.setMenubar(i.outerContainer,dP(e,n)),l.show(),((e,t,n,r)=>{const o=To(EO(t,n.isPositionedAtTop())),i=r=>{const{pos:i,bounds:s}=EO(t,n.isPositionedAtTop()),{pos:a,bounds:l}=o.get(),c=s.height!==l.height||s.width!==l.width;o.set({pos:i,bounds:s}),c&&uw(e,r),n.isVisible()&&(a!==i?n.update(wT.reset):c&&(n.updateMode(),n.repositionPopups()))};r||(e.on("activate",n.show),e.on("deactivate",n.hide)),e.on("SkinLoaded ResizeWindow",(()=>n.update(wT.reset))),e.on("NodeChange keydown",(e=>{requestAnimationFrame((()=>i(e)))}));let s=0;const a=VA((()=>n.update(wT.refresh)),33);e.on("ScrollWindow",(()=>{const e=jn().left;e!==s&&(s=e,a.throttle()),n.updateMode()})),iv(e)&&e.on("ElementScroll",(e=>{n.update(wT.refresh)}));const l=Jl();l.set(nc(Fe(e.getBody()),"load",(e=>i(e.raw)))),e.on("remove",(()=>{l.clear()}))})(e,a,l,c),e.nodeChanged()};e.on("show",u),e.on("hide",l.hide),c||(e.on("focus",u),e.on("blur",l.hide)),e.on("init",(()=>{(e.hasFocus()||c)&&u()})),yb(e,t);const d={show:u,hide:l.hide,setEnabled:e=>{vb(t,!e)},isEnabled:()=>!Nh.isDisabled(i.outerContainer)};return{editorContainer:i.outerContainer.element.dom,api:d}}});const CO="contexttoolbar-hide",AO=(e,t)=>ji(zC,((n,r)=>{const o=(e=>({hide:()=>Ni(e,mi()),getValue:()=>hd.getValue(e)}))(e.get(n));t.onAction(o,r.event.buttonApi)})),_O=(e,t)=>{const n=e.label.fold((()=>({})),(e=>({"aria-label":e}))),r=Um(Dv.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:Sl([zf.config({mode:"special",onEnter:e=>o.findPrimary(e).map((e=>(Ii(e),!0))),onLeft:(e,t)=>(t.cut(),M.none()),onRight:(e,t)=>(t.cut(),M.none())})])})),o=((e,t,n)=>{const r=H(t,(t=>Um(((e,t,n)=>(e=>"contextformtogglebutton"===e.type)(t)?((e,t,n)=>{const{primary:r,...o}=t.original,i=Zr(Ny({...o,type:"togglebutton",onAction:v}));return oO(i,n,[AO(e,t)])})(e,t,n):((e,t,n)=>{const{primary:r,...o}=t.original,i=Zr(Py({...o,type:"button",onAction:v}));return rO(i,n,[AO(e,t)])})(e,t,n))(e,t,n))));return{asSpecs:()=>H(r,(e=>e.asSpec())),findPrimary:e=>ie(t,((t,n)=>t.primary?M.from(r[n]).bind((t=>t.getOpt(e))).filter(C(Nh.isDisabled)):M.none()))}})(r,e.commands,t);return[{title:M.none(),items:[r.asSpec()]},{title:M.none(),items:o.asSpecs()}]},kO=(e,t,n)=>t.bottom-e.y>=n&&e.bottom-t.y>=n,TO=e=>{const t=(e=>{const t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){const n=dt(Fe(e.startContainer),e.startOffset).element;return(We(n)?ot(n):M.some(n)).filter(qe).map((e=>e.dom.getBoundingClientRect())).getOr(t)}return t})(e.selection.getRng());if(e.inline){const e=jn();return Xn(e.left+t.left,e.top+t.top,t.width,t.height)}{const n=Jn(Fe(e.getBody()));return Xn(n.x+t.left,n.y+t.top,t.width,t.height)}},MO=(e,t,n,r=0)=>{const o=qn(window),i=Yn(Fe(e.getContentAreaContainer())),s=Zg(e)||Xg(e)||Jg(e),{x:a,width:l}=((e,t,n)=>{const r=Math.max(e.x+n,t.x);return{x:r,width:Math.min(e.right-n,t.right)-r}})(i,o,r);if(e.inline&&!s)return Xn(a,o.y,l,o.height);{const s=t.header.isPositionedAtTop(),{y:c,bottom:u}=((e,t,n,r,o,i)=>{const s=Fe(e.getContainer()),a=fa(s,".tox-editor-header").getOr(s),l=Yn(a),c=l.y>=t.bottom,u=r&&!c;if(e.inline&&u)return{y:Math.max(l.bottom+i,n.y),bottom:n.bottom};if(e.inline&&!u)return{y:n.y,bottom:Math.min(l.y-i,n.bottom)};const d="line"===o?Yn(s):t;return u?{y:Math.max(l.bottom+i,n.y),bottom:Math.min(d.bottom-i,n.bottom)}:{y:Math.max(d.y+i,n.y),bottom:Math.min(l.y-i,n.bottom)}})(e,i,o,s,n,r);return Xn(a,c,l,u-c)}},PO={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},OO={maxHeightFunction:cc(),maxWidthFunction:dM()},RO=e=>"node"===e,NO=(e,t,n,r,o)=>{const i=TO(e),s=r.lastElement().exists((e=>Je(n,e)));return((e,t)=>{const n=e.selection.getRng(),r=dt(Fe(n.startContainer),n.startOffset);return n.startContainer===n.endContainer&&n.startOffset===n.endOffset-1&&Je(r.element,t)})(e,n)?s?j_:F_:s?((e,n,o)=>{const s=Bt(e,"position");Ot(e,"position",n);const a=kO(i,Yn(t),-20)&&!r.isReposition()?G_:j_;return s.each((t=>Ot(e,"position",t))),a})(t,r.getMode()):("fixed"===r.getMode()?o.y+jn().top:o.y)+(Ut(t)+12)<=i.y?F_:L_},DO=(e,t,n,r)=>{const o=t=>(r,o,i,s,a)=>({...NO(e,s,t,n,a)({...r,y:a.y,height:a.height},o,i,s,a),alwaysFit:!0}),i=e=>RO(r)?[o(e)]:[];return t?{onLtr:e=>[cl,ol,il,sl,al,ll].concat(i(e)),onRtl:e=>[cl,il,ol,al,sl,ll].concat(i(e))}:{onLtr:e=>[ll,cl,sl,ol,al,il].concat(i(e)),onRtl:e=>[ll,cl,al,il,sl,ol].concat(i(e))}},IO=(e,t)=>{const n=j(t,(t=>t.predicate(e.dom))),{pass:r,fail:o}=V(n,(e=>"contexttoolbar"===e.type));return{contextToolbars:r,contextForms:o}},BO=(e,t)=>{const n={},r=[],o=[],i={},s={},a=se(e);return z(a,(a=>{const l=e[a];"contextform"===l.type?((e,a)=>{const l=Zr(Wr("ContextForm",zy,a));n[e]=l,l.launch.map((n=>{i["form:"+e]={...a.launch,type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:()=>{t(l)}}})),"editor"===l.scope?o.push(l):r.push(l),s[e]=l})(a,l):"contexttoolbar"===l.type&&((e,t)=>{var n;(n=t,Wr("ContextToolbar",Vy,n)).each((n=>{"editor"===t.scope?o.push(n):r.push(n),s[e]=n}))})(a,l)})),{forms:n,inNodeScope:r,inEditorScope:o,lookupTable:s,formNavigators:i}},FO=ls("forward-slide"),LO=ls("backward-slide"),HO=ls("change-slide-event"),zO="tox-pop--resizing",VO="tox-pop--transition",jO=(e,t,n,r)=>{const o=r.backstage,i=o.shared,s=On().deviceType.isTouch,a=Ql(),l=Ql(),c=Ql(),u=ia((e=>{const t=To([]);return zm.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:e=>{t.set([]),zm.getContent(e).each((e=>{Ht(e.element,"visibility")})),Vs(e.element,zO),Ht(e.element,"width")},inlineBehaviours:Sl([Xf("context-toolbar-events",[Ki(ni(),((e,t)=>{"width"===t.event.raw.propertyName&&(Vs(e.element,zO),Ht(e.element,"width"))})),ji(HO,((e,t)=>{const n=e.element;Ht(n,"width");const r=Yt(n);zm.setContent(e,t.event.contents),zs(n,zO);const o=Yt(n);Ot(n,"width",r+"px"),zm.getContent(e).each((e=>{t.event.focus.bind((e=>(Ol(e),Il(n)))).orThunk((()=>(zf.focusIn(e),Dl(mt(n)))))})),setTimeout((()=>{Ot(e.element,"width",o+"px")}),0)})),ji(FO,((e,n)=>{zm.getContent(e).each((n=>{t.set(t.get().concat([{bar:n,focus:Dl(mt(e.element))}]))})),Di(e,HO,{contents:n.event.forwardContents,focus:M.none()})})),ji(LO,((e,n)=>{re(t.get()).each((n=>{t.set(t.get().slice(0,t.get().length-1)),Di(e,HO,{contents:sa(n.bar),focus:n.focus})}))}))]),zf.config({mode:"special",onEscape:n=>re(t.get()).fold((()=>e.onEscape()),(e=>(Ni(n,LO),M.some(!0))))})]),lazySink:()=>or.value(e.sink)})})({sink:n,onEscape:()=>(e.focus(),M.some(!0))})),d=()=>{const t=c.get().getOr("node"),n=RO(t)?1:0;return MO(e,i,t,n)},h=()=>!(e.removed||s()&&o.isContextMenuOpen()),p=()=>{if(h()){const t=d(),n=we(c.get(),"node")?((e,t)=>t.filter((e=>bt(e)&&Ge(e))).map(Jn).getOrThunk((()=>TO(e))))(e,a.get()):TO(e);return t.height<=0||!kO(n,t,.01)}return!0},f=()=>{a.clear(),l.clear(),c.clear(),zm.hide(u)},m=()=>{if(zm.isOpen(u)){const e=u.element;Ht(e,"display"),p()?Ot(e,"display","none"):(l.set(0),zm.reposition(u))}},g=t=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:Sl([zf.config({mode:"acyclic"}),Xf("pop-dialog-wrap-events",[Xi((t=>{e.shortcuts.add("ctrl+F9","focus statusbar",(()=>zf.focusIn(t)))})),Yi((t=>{e.shortcuts.remove("ctrl+F9")}))])])}),y=Qt((()=>BO(t,(e=>{const t=b([e]);Di(u,FO,{forwardContents:g(t)})})))),b=t=>{const{buttons:n}=e.ui.registry.getAll(),o={...n,...y().formNavigators},s=Eg(e)===ng.scrolling?ng.scrolling:ng.default,a=Z(H(t,(t=>"contexttoolbar"===t.type?((t,n)=>uO(e,{buttons:t,toolbar:n.items,allowToolbarGroups:!1},r.backstage,M.some(["form:"])))(o,t):((e,t)=>_O(e,t))(t,i.providers))));return BM({type:s,uid:ls("context-toolbar"),initGroups:a,onEscape:M.none,cyclicKeying:!0,providers:i.providers})},w=(t,r)=>{if(E.cancel(),!h())return;const o=b(t),f=t[0].position,m=((t,r)=>{const o="node"===t?i.anchors.node(r):i.anchors.cursor(),c=((e,t,n,r)=>"line"===t?{bubble:pc(12,0,PO),layouts:{onLtr:()=>[ul],onRtl:()=>[dl]},overrides:OO}:{bubble:pc(0,12,PO,1/12),layouts:DO(e,n,r,t),overrides:OO})(e,t,s(),{lastElement:a.get,isReposition:()=>we(l.get(),0),getMode:()=>wu.getMode(n)});return mr(o,c)})(f,r);c.set(f),l.set(1);const v=u.element;Ht(v,"display"),(e=>we(Ee(e,a.get(),Je),!0))(r)||(Vs(v,VO),wu.reset(n,u)),zm.showWithinBounds(u,g(o),{anchor:m,transition:{classes:[VO],mode:"placement"}},(()=>M.some(d()))),r.fold(a.clear,a.set),p()&&Ot(v,"display","none")};let x=!1;const E=VA((()=>{!e.hasFocus()||e.removed||x||(js(u.element,VO)?E.throttle():((e,t)=>{const n=Fe(t.getBody()),r=e=>Je(e,n),o=Fe(t.selection.getNode());return(e=>!r(e)&&!Qe(n,e))(o)?M.none():((e,t,n)=>{const r=IO(e,t);if(r.contextForms.length>0)return M.some({elem:e,toolbars:[r.contextForms[0]]});{const t=IO(e,n);if(t.contextForms.length>0)return M.some({elem:e,toolbars:[t.contextForms[0]]});if(r.contextToolbars.length>0||t.contextToolbars.length>0){const n=(e=>{if(e.length<=1)return e;{const t=t=>B(e,(e=>e.position===t)),n=t=>j(e,(e=>e.position===t)),r=t("selection"),o=t("node");if(r||o){if(o&&r){const e=n("node"),t=H(n("selection"),(e=>({...e,position:"node"})));return e.concat(t)}return n(r?"selection":"node")}return n("line")}})(r.contextToolbars.concat(t.contextToolbars));return M.some({elem:e,toolbars:n})}return M.none()}})(o,e.inNodeScope,e.inEditorScope).orThunk((()=>((e,t,n)=>e(t)?M.none():No(t,(e=>{if(qe(e)){const{contextToolbars:t,contextForms:r}=IO(e,n.inNodeScope),o=r.length>0?r:(e=>{if(e.length<=1)return e;{const t=t=>q(e,(e=>e.position===t));return t("selection").orThunk((()=>t("node"))).orThunk((()=>t("line"))).map((e=>e.position)).fold((()=>[]),(t=>j(e,(e=>e.position===t))))}})(t);return o.length>0?M.some({elem:e,toolbars:o}):M.none()}return M.none()}),e))(r,o,e)))})(y(),e).fold(f,(e=>{w(e.toolbars,M.some(e.elem))})))}),17);e.on("init",(()=>{e.on("remove",f),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",m),e.on("click keyup focus SetContent",E.throttle),e.on(CO,f),e.on("contexttoolbar-show",(t=>{const n=y();ve(n.lookupTable,t.toolbarKey).each((n=>{w([n],Ce(t.target!==e,t.target)),zm.getContent(u).each(zf.focusIn)}))})),e.on("focusout",(t=>{Vm.setEditorTimeout(e,(()=>{Il(n.element).isNone()&&Il(u.element).isNone()&&f()}),0)})),e.on("SwitchMode",(()=>{e.mode.isReadOnly()&&f()})),e.on("AfterProgressState",(t=>{t.state?f():e.hasFocus()&&E.throttle()})),e.on("dragstart",(()=>{x=!0})),e.on("dragend drop",(()=>{x=!1})),e.on("NodeChange",(e=>{Il(u.element).fold(E.throttle,v)}))}))},UO=(e,t)=>{const n=()=>{const n=t.getOptions(e),r=t.getCurrent(e).map(t.hash),o=Ql();return H(n,(n=>({type:"togglemenuitem",text:t.display(n),onSetup:i=>{const s=e=>{e&&(o.on((e=>e.setActive(!1))),o.set(i)),i.setActive(e)};s(we(r,t.hash(n)));const a=t.watcher(e,n,s);return()=>{o.clear(),a()}},onAction:()=>t.setCurrent(e,n)})))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:e=>e(n()),onSetup:t.onToolbarSetup}),e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:n,onSetup:t.onMenuSetup})},GO={name:"lineheight",text:"Line height",icon:"line-height",getOptions:Kg,hash:e=>((e,t)=>LP(e,["fixed","relative","empty"]).map((({value:e,unit:t})=>e+t)))(e).getOr(e),display:x,watcher:(e,t,n)=>e.formatter.formatChanged("lineheight",n,!1,{value:t}).unbind,getCurrent:e=>M.from(e.queryCommandValue("LineHeight")),setCurrent:(e,t)=>e.execCommand("LineHeight",!1,t)},qO=e=>wP(e,"NodeChange",(t=>{t.setEnabled(e.queryCommandState("outdent"))})),WO=(e,t)=>n=>{n.setActive(t.get());const r=e=>{t.set(e.state),n.setActive(e.state)};return e.on("PastePlainTextToggle",r),()=>e.off("PastePlainTextToggle",r)},ZO=(e,t)=>()=>{e.execCommand("mceToggleFormat",!1,t)},$O=e=>{(e=>{(e=>{RC.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],((t,n)=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:bP(e,t.name),onAction:ZO(e,t.name)})}));for(let t=1;t<=6;t++){const n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:bP(e,n),onAction:ZO(e,n)})}})(e),(e=>{RC.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"print",text:"Print",action:"mcePrint",icon:"print"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:EP(e,t.action)})}))})(e),(e=>{RC.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:EP(e,t.action),onSetup:bP(e,t.name)})}))})(e)})(e),(e=>{RC.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:EP(e,t.action)})})),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:ZO(e,"code")})})(e)},KO=(e,t)=>wP(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(n=>{n.setEnabled(!e.mode.isReadOnly()&&e.undoManager[t]())})),XO=e=>wP(e,"VisualAid",(t=>{t.setActive(e.hasVisual)})),YO=(e,t)=>{(e=>{z([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:EP(e,t.cmd),onSetup:bP(e,t.name)})})),e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:EP(e,"JustifyNone")})})(e),$O(e),((e,t)=>{((e,t)=>{const n=CP(0,t,MP(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{const n=CP(0,t,DP(e));e.ui.registry.addNestedMenuItem("fontfamily",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{const n={type:"advanced",...t.styles},r=CP(0,t,qP(e,n));e.ui.registry.addNestedMenuItem("styles",{text:"Formats",getSubmenuItems:()=>r.items.validateItems(r.getStyleItems())})})(e,t),((e,t)=>{const n=CP(0,t,OP(e));e.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{const n=CP(0,t,UP(e));e.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t)})(e,t),(e=>{(e=>{e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:KO(e,"hasUndo"),onAction:EP(e,"undo")}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:KO(e,"hasRedo"),onAction:EP(e,"redo")})})(e),(e=>{e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:KO(e,"hasUndo"),onAction:EP(e,"undo")}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:KO(e,"hasRedo"),onAction:EP(e,"redo")})})(e)})(e),(e=>{(e=>{e.addCommand("mceApplyTextcolor",((t,n)=>{((e,t,n)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()}))})(e,t,n)})),e.addCommand("mceRemoveTextcolor",(t=>{((e,t)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.remove(t,{value:null},void 0,!0),e.nodeChanged()}))})(e,t)}))})(e);const t=Ow(e),n=Rw(e),r=To(t),o=To(n);zw(e,"forecolor","forecolor","Text color",r),zw(e,"backcolor","hilitecolor","Background color",o),Vw(e,"forecolor","forecolor","Text color",r),Vw(e,"backcolor","hilitecolor","Background color",o)})(e),(e=>{(e=>{e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:EP(e,"mceToggleVisualAid")})})(e),(e=>{e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:XO(e),onAction:EP(e,"mceToggleVisualAid")})})(e)})(e),(e=>{(e=>{e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:qO(e),onAction:EP(e,"outdent")}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:EP(e,"indent")})})(e)})(e),(e=>{UO(e,GO),(e=>M.from(wg(e)).map((t=>({name:"language",text:"Language",icon:"language",getOptions:w(t),hash:e=>d(e.customCode)?e.code:`${e.code}/${e.customCode}`,display:e=>e.title,watcher:(e,t,n)=>{var r;return e.formatter.formatChanged("lang",n,!1,{value:t.code,customValue:null!==(r=t.customCode)&&void 0!==r?r:null}).unbind},getCurrent:e=>{const t=Fe(e.selection.getNode());return Do(t,(e=>M.some(e).filter(qe).bind((e=>_t(e,"lang").map((t=>({code:t,customCode:_t(e,"data-mce-lang").getOrUndefined(),title:""})))))))},setCurrent:(e,t)=>e.execCommand("Lang",!1,t),onToolbarSetup:t=>{const n=Jl();return t.setActive(e.formatter.match("lang",{},void 0,!0)),n.set(e.formatter.formatChanged("lang",t.setActive,!0)),n.clear}}))))(e).each((t=>UO(e,t)))})(e),(e=>{const t=To(Ug(e)),n=()=>e.execCommand("mceTogglePlainTextPaste");e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:n,onSetup:WO(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:n,onSetup:WO(e,t)})})(e)},JO=e=>i(e)?e.split(/[ ,]/):e,QO=e=>t=>t.options.get(e),eR=QO("contextmenu_never_use_native"),tR=QO("contextmenu_avoid_overlap"),nR=e=>{const t=e.ui.registry.getAll().contextMenus,n=e.options.get("contextmenu");return e.options.isSet("contextmenu")?n:j(n,(e=>ye(t,e)))},rR=(e,t)=>({type:"makeshift",x:e,y:t}),oR=e=>"longpress"===e.type||0===e.type.indexOf("touch"),iR=(e,t)=>"contextmenu"===t.type||"longpress"===t.type?e.inline?(e=>{if(oR(e)){const t=e.touches[0];return rR(t.pageX,t.pageY)}return rR(e.pageX,e.pageY)})(t):((e,t)=>{const n=og.DOM.getPos(e);return((e,t,n)=>rR(e.x+t,e.y+n))(t,n.x,n.y)})(e.getContentAreaContainer(),(e=>{if(oR(e)){const t=e.touches[0];return rR(t.clientX,t.clientY)}return rR(e.clientX,e.clientY)})(t)):sR(e),sR=e=>({type:"selection",root:Fe(e.selection.getNode())}),aR=(e,t,n)=>{switch(n){case"node":return(e=>({type:"node",node:M.some(Fe(e.selection.getNode())),root:Fe(e.getBody())}))(e);case"point":return iR(e,t);case"selection":return sR(e)}},lR=(e,t,n,r,o,i)=>{const s=n(),a=aR(e,t,i);eA(s,dv.CLOSE_ON_EXECUTE,r,{isHorizontalMenu:!1,search:M.none()}).map((e=>{t.preventDefault(),zm.showMenuAt(o,{anchor:a},{menu:{markers:_v("normal")},data:e})}))},cR={onLtr:()=>[cl,ol,il,sl,al,ll,F_,L_,B_,D_,I_,N_],onRtl:()=>[cl,il,ol,al,sl,ll,F_,L_,I_,N_,B_,D_]},uR={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},dR=(e,t,n,r,o,i)=>{const s=On(),a=s.os.isiOS(),l=s.os.isMacOS(),c=s.os.isAndroid(),u=s.deviceType.isTouch(),d=()=>{const s=n();((e,t,n,r,o,i,s)=>{const a=((e,t,n)=>{const r=aR(e,t,n);return{bubble:pc(0,"point"===n?12:0,uR),layouts:cR,overrides:{maxWidthFunction:dM(),maxHeightFunction:cc()},...r}})(e,t,i);eA(n,dv.CLOSE_ON_EXECUTE,r,{isHorizontalMenu:!0,search:M.none()}).map((n=>{t.preventDefault();const l=s?Fm.HighlightMenuAndItem:Fm.HighlightNone;zm.showMenuWithinBounds(o,{anchor:a},{menu:{markers:_v("normal"),highlightOnOpen:l},data:n,type:"horizontal"},(()=>M.some(MO(e,r.shared,"node"===i?"node":"selection")))),e.dispatch(CO)}))})(e,t,s,r,o,i,!(c||a||l&&u))};if((l||a)&&"node"!==i){const n=()=>{(e=>{const t=e.selection.getRng(),n=()=>{Vm.setEditorTimeout(e,(()=>{e.selection.setRng(t)}),10),i()};e.once("touchend",n);const r=e=>{e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",r,!0);const o=()=>i();e.once("longpresscancel",o);const i=()=>{e.off("touchend",n),e.off("longpresscancel",o),e.off("mousedown",r)}})(e),d()};((e,t)=>{const n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;{const r=t.touches[0],o=n.getRng();return Xc(e.getWin(),zc.domRange(o)).exists((e=>e.left<=r.clientX&&e.right>=r.clientX&&e.top<=r.clientY&&e.bottom>=r.clientY))}})(e,t)?n():(e.once("selectionchange",n),e.once("touchend",(()=>e.off("selectionchange",n))))}else d()},hR=e=>i(e)?"|"===e:"separator"===e.type,pR={type:"separator"},fR=e=>{const t=e=>({text:e.text,icon:e.icon,enabled:e.enabled,shortcut:e.shortcut});if(i(e))return e;switch(e.type){case"separator":return pR;case"submenu":return{type:"nestedmenuitem",...t(e),getSubmenuItems:()=>{const t=e.getSubmenuItems();return i(t)?t:H(t,fR)}};default:const n=e;return{type:"menuitem",...t(n),onAction:y(n.onAction)}}},mR=(e,t)=>{if(0===t.length)return e;const n=re(e).filter((e=>!hR(e))).fold((()=>[]),(e=>[pR]));return e.concat(n).concat(t).concat([pR])},gR=(e,t)=>!(e=>"longpress"===e.type||ye(e,"touches"))(t)&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType),vR=(e,t)=>gR(e,t)?e.selection.getStart(!0):t.target,yR=(e,t,n)=>{const r=On().deviceType.isTouch,o=ia(zm.sketch({dom:{tag:"div"},lazySink:t,onEscape:()=>e.focus(),onShow:()=>n.setContextMenuState(!0),onHide:()=>n.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Sl([Xf("dismissContextMenu",[ji(Ci(),((t,n)=>{Wu.close(t),e.focus()}))])])})),s=()=>zm.hide(o),a=t=>{if(eR(e)&&t.preventDefault(),((e,t)=>t.ctrlKey&&!eR(e))(e,t)||(e=>0===nR(e).length)(e))return;const s=((e,t)=>{const n=tR(e),r=gR(e,t)?"selection":"point";if(Oe(n)){const o=vR(e,t);return Bx(Fe(o),n)?"node":r}return r})(e,t);(r()?dR:lR)(e,t,(()=>{const n=vR(e,t),r=e.ui.registry.getAll(),o=nR(e);return((e,t,n)=>{const r=G(t,((t,r)=>ve(e,r.toLowerCase()).map((e=>{const r=e.update(n);if(i(r))return mR(t,r.split(" "));if(r.length>0){const e=H(r,fR);return mR(t,e)}return t})).getOrThunk((()=>t.concat([r])))),[]);return r.length>0&&hR(r[r.length-1])&&r.pop(),r})(r.contextMenus,o,n)}),n,o,s)};e.on("init",(()=>{const t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(r()?"":" ResizeWindow");e.on(t,s),e.on("longpress contextmenu",a)}))},bR=Mo([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),wR=e=>t=>t.translate(-e.left,-e.top),xR=e=>t=>t.translate(e.left,e.top),ER=e=>(t,n)=>G(e,((e,t)=>t(e)),Wt(t,n)),SR=(e,t,n)=>e.fold(ER([xR(n),wR(t)]),ER([wR(t)]),ER([])),CR=(e,t,n)=>e.fold(ER([xR(n)]),ER([]),ER([xR(t)])),AR=(e,t,n)=>e.fold(ER([]),ER([wR(n)]),ER([xR(t),wR(n)])),_R=(e,t,n)=>{const r=e.fold(((e,t)=>({position:M.some("absolute"),left:M.some(e+"px"),top:M.some(t+"px")})),((e,t)=>({position:M.some("absolute"),left:M.some(e-n.left+"px"),top:M.some(t-n.top+"px")})),((e,t)=>({position:M.some("fixed"),left:M.some(e+"px"),top:M.some(t+"px")})));return{right:M.none(),bottom:M.none(),...r}},kR=(e,t,n,r)=>{const o=(e,o)=>(i,s)=>{const a=e(t,n,r);return o(i.getOr(a.left),s.getOr(a.top))};return e.fold(o(AR,TR),o(CR,MR),o(SR,PR))},TR=bR.offset,MR=bR.absolute,PR=bR.fixed,OR=(e,t)=>{const n=At(e,t);return d(n)?NaN:parseInt(n,10)},RR=(e,t,n,r,o,i)=>{const s=((e,t,n,r)=>((e,t)=>{const n=e.element,r=OR(n,t.leftAttr),o=OR(n,t.topAttr);return isNaN(r)||isNaN(o)?M.none():M.some(Wt(r,o))})(e,t).fold((()=>n),(e=>PR(e.left+r.left,e.top+r.top))))(e,t,n,r),a=t.mustSnap?DR(e,t,s,o,i):IR(e,t,s,o,i),l=SR(s,o,i);return((e,t,n)=>{const r=e.element;St(r,t.leftAttr,n.left+"px"),St(r,t.topAttr,n.top+"px")})(e,t,l),a.fold((()=>({coord:PR(l.left,l.top),extra:M.none()})),(e=>({coord:e.output,extra:e.extra})))},NR=(e,t,n,r)=>ie(e,(e=>{const o=e.sensor,i=((e,t,n,r,o,i)=>{const s=CR(e,o,i),a=CR(t,o,i);return Math.abs(s.left-a.left)<=n&&Math.abs(s.top-a.top)<=r})(t,o,e.range.left,e.range.top,n,r);return i?M.some({output:kR(e.output,t,n,r),extra:e.extra}):M.none()})),DR=(e,t,n,r,o)=>{const i=t.getSnapPoints(e);return NR(i,n,r,o).orThunk((()=>{const e=G(i,((e,t)=>{const i=t.sensor,s=((e,t,n,r,o,i)=>{const s=CR(e,o,i),a=CR(t,o,i),l=Math.abs(s.left-a.left),c=Math.abs(s.top-a.top);return Wt(l,c)})(n,i,t.range.left,t.range.top,r,o);return e.deltas.fold((()=>({deltas:M.some(s),snap:M.some(t)})),(n=>(s.left+s.top)/2<=(n.left+n.top)/2?{deltas:M.some(s),snap:M.some(t)}:e))}),{deltas:M.none(),snap:M.none()});return e.snap.map((e=>({output:kR(e.output,n,r,o),extra:e.extra})))}))},IR=(e,t,n,r,o)=>{const i=t.getSnapPoints(e);return NR(i,n,r,o)};var BR=Object.freeze({__proto__:null,snapTo:(e,t,n,r)=>{const o=t.getTarget(e.element);if(t.repositionTarget){const t=et(e.element),n=jn(t),i=Kk(o),s=((e,t,n)=>({coord:kR(e.output,e.output,t,n),extra:e.extra}))(r,n,i),a=_R(s.coord,0,i);Nt(o,a)}}});const FR="data-initial-z-index",LR=(e,t)=>{e.getSystem().addToGui(t),(e=>{ot(e.element).filter(qe).each((t=>{Bt(t,"z-index").each((e=>{St(t,FR,e)})),Ot(t,"z-index",Dt(e.element,"z-index"))}))})(t)},HR=e=>{(e=>{ot(e.element).filter(qe).each((e=>{_t(e,FR).fold((()=>Ht(e,"z-index")),(t=>Ot(e,"z-index",t))),Tt(e,FR)}))})(e),e.getSystem().removeFromGui(e)},zR=(e,t,n)=>e.getSystem().build(Wx.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}));var VR=yo("snaps",[to("getSnapPoints"),Oa("onSensor"),to("leftAttr"),to("topAttr"),bo("lazyViewport",er),bo("mustSnap",!1)]);const jR=[bo("useFixed",k),to("blockerClass"),bo("getTarget",x),bo("onDrag",v),bo("repositionTarget",!0),bo("onDrop",v),Ao("getBounds",er),VR],UR=e=>{return(t=Bt(e,"left"),n=Bt(e,"top"),r=Bt(e,"position"),t.isSome()&&n.isSome()&&r.isSome()?M.some(((e,t,n)=>("fixed"===n?PR:TR)(parseInt(e,10),parseInt(t,10)))(t.getOrDie(),n.getOrDie(),r.getOrDie())):M.none()).getOrThunk((()=>{const t=$t(e);return MR(t.left,t.top)}));var t,n,r},GR=(e,t)=>({bounds:e.getBounds(),height:Gt(t.element),width:Jt(t.element)}),qR=(e,t,n,r,o)=>{const i=n.update(r,o),s=n.getStartData().getOrThunk((()=>GR(t,e)));i.each((n=>{((e,t,n,r)=>{const o=t.getTarget(e.element);if(t.repositionTarget){const i=et(e.element),s=jn(i),a=Kk(o),l=UR(o),c=((e,t,n,r,o,i,s)=>((e,t,n,r,o)=>{const i=o.bounds,s=CR(t,n,r),a=Ka(s.left,i.x,i.x+i.width-o.width),l=Ka(s.top,i.y,i.y+i.height-o.height),c=MR(a,l);return t.fold((()=>{const e=AR(c,n,r);return TR(e.left,e.top)}),w(c),(()=>{const e=SR(c,n,r);return PR(e.left,e.top)}))})(0,t.fold((()=>{const e=(t=n,s=i.left,a=i.top,t.fold(((e,t)=>TR(e+s,t+a)),((e,t)=>MR(e+s,t+a)),((e,t)=>PR(e+s,t+a))));var t,s,a;const l=SR(e,r,o);return PR(l.left,l.top)}),(t=>{const s=RR(e,t,n,i,r,o);return s.extra.each((n=>{t.onSensor(e,n)})),s.coord})),r,o,s))(e,t.snaps,l,s,a,r,n),u=_R(c,0,a);Nt(o,u)}t.onDrag(e,o,r)})(e,t,s,n)}))},WR=(e,t,n,r)=>{t.each(HR),n.snaps.each((t=>{((e,t)=>{((e,t)=>{const n=e.element;Tt(n,t.leftAttr),Tt(n,t.topAttr)})(e,t)})(e,t)}));const o=n.getTarget(e.element);r.reset(),n.onDrop(e,o)},ZR=e=>(t,n)=>{const r=e=>{n.setStartData(GR(t,e))};return Hi([ji(wi(),(e=>{n.getStartData().each((()=>r(e)))})),...e(t,n,r)])};var $R=Object.freeze({__proto__:null,getData:e=>M.from(Wt(e.x,e.y)),getDelta:(e,t)=>Wt(t.left-e.left,t.top-e.top)});const KR=(e,t,n)=>[ji(Uo(),((r,o)=>{if(0!==o.event.raw.button)return;o.stop();const i=()=>WR(r,M.some(l),e,t),s=Fx(i,200),a={drop:i,delayDrop:s.schedule,forceDrop:i,move:n=>{s.cancel(),qR(r,e,t,$R,n)}},l=zR(r,e.blockerClass,(e=>Hi([ji(Uo(),e.forceDrop),ji(Wo(),e.drop),ji(Go(),((t,n)=>{e.move(n.event)})),ji(qo(),e.delayDrop)]))(a));n(r),LR(r,l)}))],XR=[...jR,Ia("dragger",{handlers:ZR(KR)})];var YR=Object.freeze({__proto__:null,getData:e=>{const t=e.raw.touches;return 1===t.length?(e=>{const t=e[0];return M.some(Wt(t.clientX,t.clientY))})(t):M.none()},getDelta:(e,t)=>Wt(t.left-e.left,t.top-e.top)});const JR=(e,t,n)=>{const r=Ql(),o=n=>{WR(n,r.get(),e,t),r.clear()};return[ji(Ho(),((i,s)=>{s.stop();const a=()=>o(i),l={drop:a,delayDrop:v,forceDrop:a,move:n=>{qR(i,e,t,YR,n)}},c=zR(i,e.blockerClass,(e=>Hi([ji(Ho(),e.forceDrop),ji(Vo(),e.drop),ji(jo(),e.drop),ji(zo(),((t,n)=>{e.move(n.event)}))]))(l));r.set(c),n(i),LR(i,c)})),ji(zo(),((n,r)=>{r.stop(),qR(n,e,t,YR,r.event)})),ji(Vo(),((e,t)=>{t.stop(),o(e)})),ji(jo(),o)]},QR=XR,eN=[...jR,Ia("dragger",{handlers:ZR(JR)})],tN=[...jR,Ia("dragger",{handlers:ZR(((e,t,n)=>[...KR(e,t,n),...JR(e,t,n)]))})];var nN=Object.freeze({__proto__:null,mouse:QR,touch:eN,mouseOrTouch:tN}),rN=Object.freeze({__proto__:null,init:()=>{let e=M.none(),t=M.none();const n=w({});return _s({readState:n,reset:()=>{e=M.none(),t=M.none()},update:(t,n)=>t.getData(n).bind((n=>((t,n)=>{const r=e.map((e=>t.getDelta(e,n)));return e=M.some(n),r})(t,n))),getStartData:()=>t,setStartData:e=>{t=M.some(e)}})}});const oN=kl({branchKey:"mode",branches:nN,name:"dragging",active:{events:(e,t)=>e.dragger.handlers(e,t)},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:M.from(e.extra)})},state:rN,apis:BR}),iN=(e,t,n,r,o,i)=>e.fold((()=>oN.snap({sensor:MR(n-20,r-20),range:Wt(o,i),output:MR(M.some(n),M.some(r)),extra:{td:t}})),(e=>{const o=n-20,i=r-20,s=e.element.dom.getBoundingClientRect();return oN.snap({sensor:MR(o,i),range:Wt(40,40),output:MR(M.some(n-s.width/2),M.some(r-s.height/2)),extra:{td:t}})})),sN=(e,t,n)=>({getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(e,r)=>{const o=r.td;((e,t)=>e.exists((e=>Je(e,t))))(t.get(),o)||(t.set(o),n(o))},mustSnap:!0}),aN=e=>Um(jm.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Sl([oN.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),CE.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),lN=(e,t)=>{const n=To([]),r=To([]),o=To(!1),i=Ql(),s=Ql(),a=e=>{const n=Jn(e);return iN(d.getOpt(t),e,n.x,n.y,n.width,n.height)},l=e=>{const n=Jn(e);return iN(h.getOpt(t),e,n.right,n.bottom,n.width,n.height)},c=sN((()=>H(n.get(),(e=>a(e)))),i,(t=>{s.get().each((n=>{e.dispatch("TableSelectorChange",{start:t,finish:n})}))})),u=sN((()=>H(r.get(),(e=>l(e)))),s,(t=>{i.get().each((n=>{e.dispatch("TableSelectorChange",{start:n,finish:t})}))})),d=aN(c),h=aN(u),p=ia(d.asSpec()),f=ia(h.asSpec()),m=(t,n,r,o)=>{const i=r(n);oN.snapTo(t,i),((t,n,r,i)=>{const s=n.dom.getBoundingClientRect();Ht(t.element,"display");const a=rt(Fe(e.getBody())).dom.innerHeight,l=s[o]<0,c=((e,t)=>e[o]>t)(s,a);(l||c)&&Ot(t.element,"display","none")})(t,n)},g=e=>m(p,e,a,"top"),v=e=>m(f,e,l,"bottom");On().deviceType.isTouch()&&(e.on("TableSelectionChange",(e=>{o.get()||(ku(t,p),ku(t,f),o.set(!0)),i.set(e.start),s.set(e.finish),e.otherCells.each((t=>{n.set(t.upOrLeftCells),r.set(t.downOrRightCells),g(e.start),v(e.finish)}))})),e.on("ResizeEditor ResizeWindow ScrollContent",(()=>{i.get().each(g),s.get().each(v)})),e.on("TableSelectionClear",(()=>{o.get()&&(Pu(p),Pu(f),o.set(!1)),i.clear(),s.clear()})))},cN=(e,t,n)=>{var r;const o=null!==(r=t.delimiter)&&void 0!==r?r:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Sl([zf.config({mode:"flow",selector:"div[role=button]"}),Nh.config({disabled:n.isDisabled}),bb(),Qx.config({}),Kf.config({}),Xf("elementPathEvents",[Xi(((t,r)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",(()=>zf.focusIn(t))),e.on("NodeChange",(r=>{const i=(t=>{const n=[];let r=t.length;for(;r-- >0;){const i=t[r];if(1===i.nodeType&&"BR"!==(o=i).nodeName&&!o.getAttribute("data-mce-bogus")&&"bookmark"!==o.getAttribute("data-mce-type")){const t=hw(e,i);if(t.isDefaultPrevented()||n.push({name:t.name,element:i}),t.isPropagationStopped())break}}var o;return n})(r.parents),s=i.length>0?G(i,((t,r,i)=>{const s=((t,r,o)=>jm.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":o,"aria-level":o+1}},components:[ta(t)],action:t=>{e.focus(),e.selection.select(r),e.nodeChanged()},buttonBehaviours:Sl([wb(n.isDisabled),bb()])}))(r.name,r.element,i);return 0===i?t.concat([s]):t.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[ta(` ${o} `)]},s])}),[]):[];Kf.set(t,s)}))}))])]),components:[]}};var uN;!function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"}(uN||(uN={}));const dN=(e,t,n)=>{const r=Fe(e.getContainer()),o=((e,t,n,r,o)=>{const i={height:vO(r+t.top,fg(e),gg(e))};return n===uN.Both&&(i.width=vO(o+t.left,pg(e),mg(e))),i})(e,t,n,Ut(r),Yt(r));le(o,((e,t)=>{m(e)&&Ot(r,t,gO(e))})),(e=>{e.dispatch("ResizeEditor")})(e)},hN=(e,t,n,r)=>{const o=Wt(20*n,20*r);return dN(e,o,t),M.some(!0)},pN=(e,t)=>({dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const n=(()=>{const n=[];return zg(e)&&n.push(cN(e,{},t)),e.hasPlugin("wordcount")&&n.push(((e,t)=>{const n=(e,n,r)=>Kf.set(e,[ta(t.translate(["{0} "+r,n[r]]))]);return jm.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Sl([wb(t.isDisabled),bb(),Qx.config({}),Kf.config({}),hd.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Xf("wordcount-events",[Qi((e=>{const t=hd.getValue(e),r="words"===t.mode?"characters":"words";hd.setValue(e,{mode:r,count:t.count}),n(e,t.count,r)})),Xi((t=>{e.on("wordCountUpdate",(e=>{const{mode:r}=hd.getValue(t);hd.setValue(t,{mode:r,count:e.wordCount}),n(t,e.wordCount,r)}))}))])]),eventOrder:{[di()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(e,t)),Vg(e)&&n.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Gm.translate(["Powered by {0}","Tiny"])},innerHtml:'<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>\n</svg>\n'.trim()},behaviours:Sl([tm.config({})])}]}),n.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:n}]:[]})(),r=((e,t)=>{const n=(e=>{const t=jg(e);return!1===t?uN.None:"both"===t?uN.Both:uN.Vertical})(e);return n===uN.None?M.none():M.some(Qm("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize")},behaviours:[oN.config({mode:"mouse",repositionTarget:!1,onDrag:(t,r,o)=>dN(e,o,n),blockerClass:"tox-blocker"}),zf.config({mode:"special",onLeft:()=>hN(e,n,-1,0),onRight:()=>hN(e,n,1,0),onUp:()=>hN(e,n,0,-1),onDown:()=>hN(e,n,0,1)}),Qx.config({}),tm.config({})]},t.icons))})(e,t);return n.concat(r.toArray())})()}),fN=(e,t)=>t.get().getOrDie(`UI for ${e} has not been rendered`),mN=(e,t)=>{const n=e.inline,r=n?SO:fO,o=ov(e)?PT:Zk,i=(()=>{const e=Ql(),t=Ql(),n=Ql();return{dialogUi:e,popupUi:t,mainUi:n,getUiMotherships:()=>{const n=e.get().map((e=>e.mothership)),r=t.get().map((e=>e.mothership));return n.fold((()=>r.toArray()),(e=>r.fold((()=>[e]),(t=>Je(e.element,t.element)?[e]:[e,t]))))},lazyGetInOuterOrDie:(e,t)=>()=>n.get().bind((e=>t(e.outerContainer))).getOrDie(`Could not find ${e} element in OuterContainer`)}})(),s=Ql(),a=Ql(),l=Ql(),c=On().deviceType.isTouch()?["tox-platform-touch"]:[],u=Qg(e),d=Eg(e),h=Um({dom:{tag:"div",classes:["tox-anchorbar"]}}),p=()=>i.mainUi.get().map((e=>e.outerContainer)).bind(lP.getHeader),f=i.lazyGetInOuterOrDie("anchor bar",h.getOpt),m=i.lazyGetInOuterOrDie("toolbar",lP.getToolbar),g=i.lazyGetInOuterOrDie("throbber",lP.getThrobber),v=((e,t,n)=>{const r=To(!1),o=(e=>{const t=To(Qg(e)?"bottom":"top");return{isPositionedAtTop:()=>"top"===t.get(),getDockingMode:t.get,setDockingMode:t.set}})(t),i={icons:()=>t.ui.registry.getAll().icons,menuItems:()=>t.ui.registry.getAll().menuItems,translate:Gm.translate,isDisabled:()=>t.mode.isReadOnly()||!t.ui.isEnabled(),getOption:t.options.get},s=Nk(t),a=(e=>{const t=t=>()=>e.formatter.match(t),n=t=>()=>{const n=e.formatter.get(t);return void 0!==n?M.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):M.none()},r=To([]),o=To([]),i=To(!1);return e.on("PreInit",(o=>{const i=sk(e),s=lk(e,i,t,n);r.set(s)})),e.on("addStyleModifications",(r=>{const s=lk(e,r.items,t,n);o.set(s),i.set(r.replace)})),{getData:()=>{const e=i.get()?[]:r.get(),t=o.get();return e.concat(t)}}})(t),l=(e=>({colorPicker:Y_(e),hasCustomColors:J_(e),getColors:Q_(e),getColorCols:ek(e)}))(t),c=(e=>({isDraggableModal:tk(e)}))(t),u={shared:{providers:i,anchors:X_(t,n,o.isPositionedAtTop),header:o},urlinput:s,styles:a,colorinput:l,dialog:c,isContextMenuOpen:()=>r.get(),setContextMenuState:e=>r.set(e)},d={...u,shared:{...u.shared,interpreter:e=>A_(e,{},d),getSink:e.popup}},h={...u,shared:{...u.shared,interpreter:e=>A_(e,{},h),getSink:e.dialog}};return{popup:d,dialog:h}})({popup:()=>or.fromOption(i.popupUi.get().map((e=>e.sink)),"(popup) UI has not been rendered"),dialog:()=>or.fromOption(i.dialogUi.get().map((e=>e.sink)),"UI has not been rendered")},e,f),y=()=>{const t=(()=>{const t={attributes:{[bc]:u?yc.BottomToTop:yc.TopToBottom}},n=lP.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:v.popup,onEscape:()=>{e.focus()}}),r=lP.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:v.popup.shared.getSink,providers:v.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:t=>{((e,t)=>{e.dispatch("ToggleToolbarDrawer",{state:t})})(e,t)},type:d,lazyToolbar:m,lazyHeader:()=>p().getOrDie("Could not find header element"),...t}),o=lP.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:v.popup.shared.providers,onEscape:()=>{e.focus()},type:d}),i=Jg(e),s=Xg(e),a=Zg(e),l=qg(e),c=lP.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),f=i||s||a,g=l?[c,n]:[n];return lP.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(f?[]:["tox-editor-header--empty"]),...t},components:Z([a?g:[],i?[o]:s?[r]:[],tv(e)?[]:[h.asSpec()]]),sticky:ov(e),editor:e,sharedBackstage:v.popup.shared})})(),r={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[lP.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),lP.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},o=lP.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:v.popup}),i=lP.parts.viewWrapper({backstage:v.popup}),a=Hg(e)&&!n?M.some(pN(e,v.popup.shared.providers)):M.none(),l=Z([u?[]:[t],n?[]:[r],u?[t]:[]]),f=lP.parts.editorContainer({components:Z([l,n?[]:a.toArray()])}),g=rv(e),y={role:"application",...Gm.isRtl()?{dir:"rtl"}:{},...g?{"aria-hidden":"true"}:{}},b=ia(lP.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(u?["tox-tinymce--toolbar-bottom"]:[]).concat(c),styles:{visibility:"hidden",...g?{opacity:"0",border:"0"}:{}},attributes:y},components:[f,...n?[]:[i],o],behaviours:Sl([bb(),Nh.config({disableClass:"tox-tinymce--disabled"}),zf.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),w=Zx(b);return s.set(w),{mothership:w,outerContainer:b}},b=t=>{const n=gO((e=>{const t=(e=>{const t=dg(e),n=fg(e),r=gg(e);return mO(t).map((e=>vO(e,n,r)))})(e);return t.getOr(dg(e))})(e)),r=gO((e=>yO(e).getOr(hg(e)))(e));return e.inline||(Lt("div","width",r)&&Ot(t.element,"width",r),Lt("div","height",n)?Ot(t.element,"height",n):Ot(t.element,"height","400px")),n};return{popups:{backstage:v.popup,getMothership:()=>fN("popups",l)},dialogs:{backstage:v.dialog,getMothership:()=>fN("dialogs",a)},renderUI:()=>{const n=y(),s=(()=>{const t=nv(e),n=Je(wt(),t)&&"grid"===Dt(t,"display"),r={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(c),attributes:{...Gm.isRtl()?{dir:"rtl"}:{}}},behaviours:Sl([wu.config({useFixed:()=>o.isDocked(p)})])},i={dom:{styles:{width:document.body.clientWidth+"px"}},events:Hi([ji(xi(),(e=>{Ot(e.element,"width",document.body.clientWidth+"px")}))])},s=ia(mr(r,n?i:{})),l=Zx(s);return a.set(l),{sink:s,mothership:l}})(),u=iv(e)?(()=>{const e={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(c),attributes:{...Gm.isRtl()?{dir:"rtl"}:{}}},behaviours:Sl([wu.config({useFixed:()=>o.isDocked(p),getBounds:()=>t.getPopupSinkBounds()})])},n=ia(e),r=Zx(n);return l.set(r),{sink:n,mothership:r}})():(e=>(l.set(e.mothership),e))(s);i.dialogUi.set(s),i.popupUi.set(u),i.mainUi.set(n);return(t=>{const{mainUi:n,popupUi:i,uiMotherships:s}=t;ce(Sg(e),((t,n)=>{e.ui.registry.addGroupToolbarButton(n,t)}));const{buttons:a,menuItems:l,contextToolbars:c,sidebars:u,views:h}=e.ui.registry.getAll(),f=Yg(e),m={menuItems:l,menus:sv(e),menubar:Mg(e),toolbar:f.getOrThunk((()=>Pg(e))),allowToolbarGroups:d===ng.floating,buttons:a,sidebar:u,views:h};var y;y=n.outerContainer,e.addShortcut("alt+F9","focus menubar",(()=>{lP.focusMenubar(y)})),e.addShortcut("alt+F10","focus toolbar",(()=>{lP.focusToolbar(y)})),e.addCommand("ToggleToolbarDrawer",((e,t)=>{(null==t?void 0:t.skipFocus)?lP.toggleToolbarDrawerWithoutFocusing(y):lP.toggleToolbarDrawer(y)})),e.addQueryStateHandler("ToggleToolbarDrawer",(()=>lP.isToolbarDrawerToggled(y))),((e,t,n)=>{const r=(e,r)=>{z([t,...n],(t=>{t.broadcastEvent(e,r)}))},o=(e,r)=>{z([t,...n],(t=>{t.broadcastOn([e],r)}))},i=e=>o(Zu(),{target:e.target}),s=Wn(),a=tc(s,"touchstart",i),l=tc(s,"touchmove",(e=>r(yi(),e))),c=tc(s,"touchend",(e=>r(bi(),e))),u=tc(s,"mousedown",i),d=tc(s,"mouseup",(e=>{0===e.raw.button&&o(Ku(),{target:e.target})})),h=e=>o(Zu(),{target:Fe(e.target)}),p=e=>{0===e.button&&o(Ku(),{target:Fe(e.target)})},f=()=>{z(e.editorManager.get(),(t=>{e!==t&&t.dispatch("DismissPopups",{relatedTarget:e})}))},m=e=>r(wi(),rc(e)),g=e=>{o($u(),{}),r(xi(),rc(e))},v=mt(Fe(e.getElement())),y=nc(v,"scroll",(n=>{requestAnimationFrame((()=>{if(null!=e.getContainer()){const o=Dx(e,t.element).map((e=>[e.element,...e.others])).getOr([]);B(o,(e=>Je(e,n.target)))&&(e.dispatch("ElementScroll",{target:n.target.dom}),r(Ti(),n))}}))})),b=()=>o($u(),{}),w=t=>{t.state&&o(Zu(),{target:Fe(e.getContainer())})},x=e=>{o(Zu(),{target:Fe(e.relatedTarget.getContainer())})};e.on("PostRender",(()=>{e.on("click",h),e.on("tap",h),e.on("mouseup",p),e.on("mousedown",f),e.on("ScrollWindow",m),e.on("ResizeWindow",g),e.on("ResizeEditor",b),e.on("AfterProgressState",w),e.on("DismissPopups",x)})),e.on("remove",(()=>{e.off("click",h),e.off("tap",h),e.off("mouseup",p),e.off("mousedown",f),e.off("ScrollWindow",m),e.off("ResizeWindow",g),e.off("ResizeEditor",b),e.off("AfterProgressState",w),e.off("DismissPopups",x),u.unbind(),a.unbind(),l.unbind(),c.unbind(),d.unbind(),y.unbind()})),e.on("detach",(()=>{z([t,...n],Iu),z([t,...n],(e=>e.destroy()))}))})(e,n.mothership,s),o.setup(e,v.popup.shared,p),YO(e,v.popup),yR(e,v.popup.shared.getSink,v.popup),(e=>{const{sidebars:t}=e.ui.registry.getAll();z(se(t),(n=>{const r=t[n],o=()=>we(M.from(e.queryCommandValue("ToggleSidebar")),n);e.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:t=>{e.execCommand("ToggleSidebar",!1,n),t.setActive(o())},onSetup:t=>{t.setActive(o());const n=()=>t.setActive(o());return e.on("ToggleSidebar",n),()=>{e.off("ToggleSidebar",n)}}})}))})(e),nM(e,g,v.popup.shared),jO(e,c,i.sink,{backstage:v.popup}),lN(e,i.sink);const w={targetNode:e.getElement(),height:b(n.outerContainer)};return r.render(e,t,m,v.popup,w)})({popupUi:u,dialogUi:s,mainUi:n,uiMotherships:i.getUiMotherships()})}}},gN=w([to("lazySink"),uo("dragBlockClass"),Ao("getBounds",er),bo("useTabstopAt",T),bo("firstTabstop",0),bo("eventOrder",{}),pd("modalBehaviours",[zf]),Ra("onExecute"),Da("onEscape")]),vN={sketch:x},yN=w([jd({name:"draghandle",overrides:(e,t)=>({behaviours:Sl([oN.config({mode:"mouse",getTarget:e=>ha(e,'[role="dialog"]').getOr(e),blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])})}),zd({schema:[to("dom")],name:"title"}),zd({factory:vN,schema:[to("dom")],name:"close"}),zd({factory:vN,schema:[to("dom")],name:"body"}),jd({factory:vN,schema:[to("dom")],name:"footer"}),Vd({factory:{sketch:(e,t)=>({...e,dom:t.dom,components:t.components})},schema:[bo("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),bo("components",[])],name:"blocker"})]),bN=mh({name:"ModalDialog",configFields:gN(),partFields:yN(),factory:(e,t,n,r)=>{const o=Ql(),i=ls("modal-events"),s={...e.eventOrder,[Ei()]:[i].concat(e.eventOrder["alloy.system.attached"]||[])};return{uid:e.uid,dom:e.dom,components:t,apis:{show:t=>{o.set(t);const n=e.lazySink(t).getOrDie(),i=r.blocker(),s=n.getSystem().build({...i,components:i.components.concat([sa(t)]),behaviours:Sl([tm.config({}),Xf("dialog-blocker-events",[Ki($o(),(()=>{zf.focusIn(t)}))])])});ku(n,s),zf.focusIn(t)},hide:e=>{o.clear(),ot(e.element).each((t=>{e.getSystem().getByDom(t).each((e=>{Pu(e)}))}))},getBody:t=>th(t,e,"body"),getFooter:t=>th(t,e,"footer"),setIdle:e=>{QT.unblock(e)},setBusy:(e,t)=>{QT.block(e,t)}},eventOrder:s,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:md(e.modalBehaviours,[Kf.config({}),zf.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt,firstTabstop:e.firstTabstop}),QT.config({getRoot:o.get}),Xf(i,[Xi((t=>{((e,t)=>{const n=_t(e,"id").fold((()=>{const e=ls("dialog-label");return St(t,"id",e),e}),x);St(e,"aria-labelledby",n)})(t.element,th(t,e,"title").element),((e,t)=>{const n=M.from(At(e,"id")).fold((()=>{const e=ls("dialog-describe");return St(t,"id",e),e}),x);St(e,"aria-describedby",n)})(t.element,th(t,e,"body").element)}))])])}},apis:{show:(e,t)=>{e.show(t)},hide:(e,t)=>{e.hide(t)},getBody:(e,t)=>e.getBody(t),getFooter:(e,t)=>e.getFooter(t),setBusy:(e,t,n)=>{e.setBusy(t,n)},setIdle:(e,t)=>{e.setIdle(t)}}}),wN=Pr([Jv,Qv].concat($y)),xN=Hr,EN=[Ay("button"),hy,So("align","end",["start","end"]),wy,by,mo("buttonType",["primary","secondary"])],SN=[...EN,ty],CN=[io("type",["submit","cancel","custom"]),...SN],AN=[io("type",["menu"]),dy,py,hy,co("items",wN),...EN],_N=[...EN,io("type",["togglebutton"]),oo("tooltip"),ry,dy,Co("active",!1)],kN=Xr("type",{submit:CN,cancel:CN,custom:CN,menu:AN,togglebutton:_N}),TN=[Jv,ty,io("level",["info","warn","error","success"]),ry,bo("url","")],MN=Pr(TN),PN=[Jv,ty,by,Ay("button"),hy,yy,mo("buttonType",["primary","secondary","toolbar"]),wy],ON=Pr(PN),RN=[Jv,Qv],NN=RN.concat([fy]),DN=RN.concat([ey,by]),IN=Pr(DN),BN=Hr,FN=NN.concat([xy("auto")]),LN=Pr(FN),HN=Dr([oy,ty,ry]),zN=NN.concat([Eo("storageKey","default")]),VN=Pr(zN),jN=Lr,UN=Pr(NN),GN=Lr,qN=RN.concat([Eo("tag","textarea"),oo("scriptId"),oo("scriptUrl"),wo("settings",void 0,jr)]),WN=RN.concat([Eo("tag","textarea"),so("init")]),ZN=Gr((e=>Wr("customeditor.old",Mr(WN),e).orThunk((()=>Wr("customeditor.new",Mr(qN),e))))),$N=Lr,KN=Pr(NN),XN=Or(Cr),YN=e=>[Jv,ro("columns"),e],JN=[Jv,oo("html"),So("presets","presentation",["presentation","document"])],QN=Pr(JN),eD=NN.concat([Co("sandboxed",!0),Co("transparent",!0)]),tD=Pr(eD),nD=Lr,rD=Pr(RN.concat([fo("height")])),oD=Pr([oo("url"),po("zoom"),po("cachedWidth"),po("cachedHeight")]),iD=NN.concat([fo("inputMode"),fo("placeholder"),Co("maximized",!1),by]),sD=Pr(iD),aD=Lr,lD=e=>[Jv,ey,e],cD=[ty,oy],uD=[ty,co("items",Yr(0,(()=>dD)))],dD=Rr([Pr(cD),Pr(uD)]),hD=NN.concat([co("items",dD),by]),pD=Pr(hD),fD=Lr,mD=NN.concat([lo("items",[ty,oy]),xo("size",1),by]),gD=Pr(mD),vD=Lr,yD=NN.concat([Co("constrain",!0),by]),bD=Pr(yD),wD=Pr([oo("width"),oo("height")]),xD=RN.concat([ey,xo("min",0),xo("max",0)]),ED=Pr(xD),SD=Fr,CD=[Jv,co("header",Lr),co("cells",Or(Lr))],AD=Pr(CD),_D=NN.concat([fo("placeholder"),Co("maximized",!1),by]),kD=Pr(_D),TD=Lr,MD=[io("type",["directory","leaf"]),ny,oo("id"),ho("menu",NT)],PD=Pr(MD),OD=MD.concat([co("children",Yr(0,(()=>Ur("type",{directory:RD,leaf:PD}))))]),RD=Pr(OD),ND=Ur("type",{directory:RD,leaf:PD}),DD=[Jv,co("items",ND),go("onLeafAction")],ID=Pr(DD),BD=NN.concat([So("filetype","file",["image","media","file"]),by]),FD=Pr(BD),LD=Pr([oy,Ey]),HD=e=>Jr("items","items",{tag:"required",process:{}},Or(Gr((t=>Wr(`Checking item of ${e}`,zD,t).fold((e=>or.error(Kr(e))),(e=>or.value(e))))))),zD=kr((()=>{return Ur("type",{alertbanner:MN,bar:Pr((e=HD("bar"),[Jv,e])),button:ON,checkbox:IN,colorinput:VN,colorpicker:UN,dropzone:KN,grid:Pr(YN(HD("grid"))),iframe:tD,input:sD,listbox:pD,selectbox:gD,sizeinput:bD,slider:ED,textarea:kD,urlinput:FD,customeditor:ZN,htmlpanel:QN,imagepreview:rD,collection:LN,label:Pr(lD(HD("label"))),table:AD,tree:ID,panel:jD});var e})),VD=[Jv,bo("classes",[]),co("items",zD)],jD=Pr(VD),UD=[Ay("tab"),ny,co("items",zD)],GD=[Jv,lo("tabs",UD)],qD=Pr(GD),WD=SN,ZD=kN,$D=Pr([oo("title"),no("body",Ur("type",{panel:jD,tabpanel:qD})),Eo("size","normal"),co("buttons",ZD),bo("initialData",{}),Ao("onAction",v),Ao("onChange",v),Ao("onSubmit",v),Ao("onClose",v),Ao("onCancel",v),Ao("onTabChange",v)]),KD=Pr([io("type",["cancel","custom"]),...WD]),XD=Pr([oo("title"),oo("url"),po("height"),po("width"),vo("buttons",KD),Ao("onAction",v),Ao("onCancel",v),Ao("onClose",v),Ao("onMessage",v)]),YD=e=>s(e)?[e].concat($(ge(e),YD)):l(e)?$(e,YD):[],JD=e=>i(e.type)&&i(e.name),QD={checkbox:BN,colorinput:jN,colorpicker:GN,dropzone:XN,input:aD,iframe:nD,imagepreview:oD,selectbox:vD,sizeinput:wD,slider:SD,listbox:fD,size:wD,textarea:TD,urlinput:LD,customeditor:$N,collection:HN,togglemenuitem:xN},eI=e=>{const t=(e=>j(YD(e),JD))(e),n=$(t,(e=>(e=>M.from(QD[e.type]))(e).fold((()=>[]),(t=>[no(e.name,t)]))));return Pr(n)},tI=e=>{var t;return{internalDialog:Zr(Wr("dialog",$D,e)),dataValidator:eI(e),initialData:null!==(t=e.initialData)&&void 0!==t?t:{}}},nI={open:(e,t)=>{const n=tI(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:(e,t)=>e(Zr(Wr("dialog",XD,t))),redial:e=>tI(e)};var rI=Object.freeze({__proto__:null,events:(e,t)=>{const n=(n,r)=>{e.updateState.each((e=>{const o=e(n,r);t.set(o)})),e.renderComponents.each((o=>{const i=o(r,t.get());(e.reuseDom?jf:Vf)(n,i)}))};return Hi([ji(ui(),((t,r)=>{const o=r;if(!o.universal){const r=e.channel;I(o.channels,r)&&n(t,o.data)}})),Xi(((t,r)=>{e.initialData.each((e=>{n(t,e)}))}))])}}),oI=Object.freeze({__proto__:null,getState:(e,t,n)=>n}),iI=[to("channel"),uo("renderComponents"),uo("updateState"),uo("initialData"),Co("reuseDom",!0)];const sI=Al({fields:iI,name:"reflecting",active:rI,apis:oI,state:Object.freeze({__proto__:null,init:()=>{const e=To(M.none());return{readState:()=>e.get().getOr("none"),get:e.get,set:e.set,clear:()=>e.set(M.none())}}})}),aI=e=>{const t=[],n={};return le(e,((e,r)=>{e.fold((()=>{t.push(r)}),(e=>{n[r]=e}))})),t.length>0?or.error(t):or.value(n)},lI=(e,t,n)=>{const r=Um(fC.sketch((r=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:H(e.items,(e=>S_(r,e,t,n)))}))));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[r.asSpec()]}],behaviours:Sl([zf.config({mode:"acyclic",useTabstopAt:C(HC)}),(o=r,bh.config({find:o.getOpt})),_C(r,{postprocess:e=>aI(e).fold((e=>(console.error(e),{})),x)})])};var o},cI=fh({name:"TabButton",configFields:[bo("uid",void 0),to("value"),Jr("dom","dom",br((()=>({attributes:{role:"tab",id:ls("aria"),"aria-selected":"false"}}))),Ir()),uo("action"),bo("domModification",{}),pd("tabButtonBehaviours",[tm,zf,hd]),to("view")],factory:(e,t)=>({uid:e.uid,dom:e.dom,components:e.components,events:dm(e.action),behaviours:md(e.tabButtonBehaviours,[tm.config({}),zf.config({mode:"execution",useSpace:!0,useEnter:!0}),hd.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification})}),uI=w([to("tabs"),to("dom"),bo("clickToDismiss",!1),pd("tabbarBehaviours",[Uh,zf]),Ma(["tabClass","selectedClass"])]),dI=Ud({factory:cI,name:"tabs",unit:"tab",overrides:e=>{const t=(e,t)=>{Uh.dehighlight(e,t),Di(e,Pi(),{tabbar:e,button:t})},n=(e,t)=>{Uh.highlight(e,t),Di(e,Mi(),{tabbar:e,button:t})};return{action:r=>{const o=r.getSystem().getByUid(e.uid).getOrDie(),i=Uh.isHighlighted(o,r);(i&&e.clickToDismiss?t:i?v:n)(o,r)},domModification:{classes:[e.markers.tabClass]}}}}),hI=w([dI]),pI=mh({name:"Tabbar",configFields:uI(),partFields:hI(),factory:(e,t,n,r)=>({uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:md(e.tabbarBehaviours,[Uh.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(e,t)=>{St(t.element,"aria-selected","true")},onDehighlight:(e,t)=>{St(t.element,"aria-selected","false")}}),zf.config({mode:"flow",getInitial:e=>Uh.getHighlighted(e).map((e=>e.element)),selector:"."+e.markers.tabClass,executeOnMove:!0})])})}),fI=fh({name:"Tabview",configFields:[pd("tabviewBehaviours",[Kf])],factory:(e,t)=>({uid:e.uid,dom:e.dom,behaviours:md(e.tabviewBehaviours,[Kf.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),mI=w([bo("selectFirst",!0),Oa("onChangeTab"),Oa("onDismissTab"),bo("tabs",[]),pd("tabSectionBehaviours",[])]),gI=zd({factory:pI,schema:[to("dom"),ao("markers",[to("tabClass"),to("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})}),vI=zd({factory:fI,name:"tabview"}),yI=w([gI,vI]),bI=mh({name:"TabSection",configFields:mI(),partFields:yI(),factory:(e,t,n,r)=>{const o=(t,n)=>{eh(t,e,"tabbar").each((e=>{n(e).each(Ii)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:fd(e.tabSectionBehaviours),events:Hi(Z([e.selectFirst?[Xi(((e,t)=>{o(e,Uh.getFirst)}))]:[],[ji(Mi(),((t,n)=>{(t=>{const n=hd.getValue(t);eh(t,e,"tabview").each((r=>{q(e.tabs,(e=>e.value===n)).each((n=>{const o=n.view();_t(t.element,"id").each((e=>{St(r.element,"aria-labelledby",e)})),Kf.set(r,o),e.onChangeTab(r,t,o)}))}))})(n.event.button)})),ji(Pi(),((t,n)=>{const r=n.event.button;e.onDismissTab(t,r)}))]])),apis:{getViewItems:t=>eh(t,e,"tabview").map((e=>Kf.contents(e))).getOr([]),showTab:(e,t)=>{o(e,(e=>{const n=Uh.getCandidates(e);return q(n,(e=>hd.getValue(e)===t)).filter((t=>!Uh.isHighlighted(e,t)))}))}}}},apis:{getViewItems:(e,t)=>e.getViewItems(t),showTab:(e,t,n)=>{e.showTab(t,n)}}}),wI=(e,t)=>{Ot(e,"height",t+"px"),Ot(e,"flex-basis",t+"px")},xI=(e,t,n)=>{ha(e,'[role="dialog"]').each((e=>{fa(e,'[role="tablist"]').each((r=>{n.get().map((n=>(Ot(t,"height","0"),Ot(t,"flex-basis","0"),Math.min(n,((e,t,n)=>{const r=nt(e).dom,o=ha(e,".tox-dialog-wrap").getOr(e);let i;i="fixed"===Dt(o,"position")?Math.max(r.clientHeight,window.innerHeight):Math.max(r.offsetHeight,r.scrollHeight);const s=Ut(t),a=t.dom.offsetLeft>=n.dom.offsetLeft+Yt(n)?Math.max(Ut(n),s):s,l=parseInt(Dt(e,"margin-top"),10)||0,c=parseInt(Dt(e,"margin-bottom"),10)||0;return i-(Ut(e)+l+c-a)})(e,t,r))))).each((e=>{wI(t,e)}))}))}))},EI=e=>fa(e,'[role="tabpanel"]'),SI="send-data-to-section",CI="send-data-to-view",AI=(e,t,n)=>{const r=To({}),o=e=>{const t=hd.getValue(e),n=aI(t).getOr({}),o=r.get(),i=mr(o,n);r.set(i)},i=e=>{const t=r.get();hd.setValue(e,t)},s=To(null),a=H(e.tabs,(e=>({value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[ta(n.shared.providers.translate(e.title))],view:()=>[fC.sketch((r=>({dom:{tag:"div",classes:["tox-form"]},components:H(e.items,(e=>S_(r,e,t,n))),formBehaviours:Sl([zf.config({mode:"acyclic",useTabstopAt:C(HC)}),Xf("TabView.form.events",[Xi(i),Yi(o)]),Ml.config({channels:Oo([{key:SI,value:{onReceive:o}},{key:CI,value:{onReceive:i}}])})])})))]}))),l=(e=>{const t=Ql(),n=[Xi((n=>{const r=n.element;EI(r).each((o=>{Ot(o,"visibility","hidden"),n.getSystem().getByDom(o).toOptional().each((n=>{const r=((e,t,n)=>H(e,((r,o)=>{Kf.set(n,e[o].view());const i=t.dom.getBoundingClientRect();return Kf.set(n,[]),i.height})))(e,o,n),i=(e=>ne(ee(e,((e,t)=>e>t?-1:e<t?1:0))))(r);i.fold(t.clear,t.set)})),xI(r,o,t),Ht(o,"visibility"),((e,t)=>{ne(e).each((e=>bI.showTab(t,e.value)))})(e,n),requestAnimationFrame((()=>{xI(r,o,t)}))}))})),ji(xi(),(e=>{const n=e.element;EI(n).each((e=>{xI(n,e,t)}))})),ji(pE,((e,n)=>{const r=e.element;EI(r).each((e=>{const n=Dl(mt(e));Ot(e,"visibility","hidden");const o=Bt(e,"height").map((e=>parseInt(e,10)));Ht(e,"height"),Ht(e,"flex-basis");const i=e.dom.getBoundingClientRect().height;o.forall((e=>i>e))?(t.set(i),xI(r,e,t)):o.each((t=>{wI(e,t)})),Ht(e,"visibility"),n.each(Ol)}))}))];return{extraEvents:n,selectFirst:!1}})(a);return bI.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(e,t,n)=>{const r=hd.getValue(t);Di(e,hE,{name:r,oldName:s.get()}),s.set(r)},tabs:a,components:[bI.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[pI.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Sl([Qx.config({})])}),bI.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:l.selectFirst,tabSectionBehaviours:Sl([Xf("tabpanel",l.extraEvents),zf.config({mode:"acyclic"}),bh.config({find:e=>ne(bI.getViewItems(e))}),TC(M.none(),(e=>(e.getSystem().broadcastOn([SI],{}),r.get())),((e,t)=>{r.set(t),e.getSystem().broadcastOn([CI],{})}))])})},_I=ls("update-dialog"),kI=ls("update-title"),TI=ls("update-body"),MI=ls("update-footer"),PI=ls("body-send-message"),OI=(e,t,n,r,o)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...n.map((e=>({id:e}))).getOr({}),...o?{"aria-live":"polite"}:{}}},components:[],behaviours:Sl([EC(0),sI.config({channel:`${TI}-${t}`,updateState:(e,t)=>M.some({isTabPanel:()=>"tabpanel"===t.body.type}),renderComponents:e=>{const t=e.body;return"tabpanel"===t.type?[AI(t,e.initialData,r)]:[lI(t,e.initialData,r)]},initialData:e})])});function RI(e){return RI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RI(e)}function NI(e,t){return NI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},NI(e,t)}function DI(e,t,n){return DI=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&NI(o,n.prototype),o},DI.apply(null,arguments)}function II(e){return function(e){if(Array.isArray(e))return BI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return BI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?BI(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var FI=Object.hasOwnProperty,LI=Object.setPrototypeOf,HI=Object.isFrozen,zI=Object.getPrototypeOf,VI=Object.getOwnPropertyDescriptor,jI=Object.freeze,UI=Object.seal,GI=Object.create,qI="undefined"!=typeof Reflect&&Reflect,WI=qI.apply,ZI=qI.construct;WI||(WI=function(e,t,n){return e.apply(t,n)}),jI||(jI=function(e){return e}),UI||(UI=function(e){return e}),ZI||(ZI=function(e,t){return DI(e,II(t))});var $I,KI=iB(Array.prototype.forEach),XI=iB(Array.prototype.pop),YI=iB(Array.prototype.push),JI=iB(String.prototype.toLowerCase),QI=iB(String.prototype.match),eB=iB(String.prototype.replace),tB=iB(String.prototype.indexOf),nB=iB(String.prototype.trim),rB=iB(RegExp.prototype.test),oB=($I=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ZI($I,t)});function iB(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return WI(e,t,r)}}function sB(e,t){LI&&LI(e,null);for(var n=t.length;n--;){var r=t[n];if("string"==typeof r){var o=JI(r);o!==r&&(HI(t)||(t[n]=o),r=o)}e[r]=!0}return e}function aB(e){var t,n=GI(null);for(t in e)WI(FI,e,[t])&&(n[t]=e[t]);return n}function lB(e,t){for(;null!==e;){var n=VI(e,t);if(n){if(n.get)return iB(n.get);if("function"==typeof n.value)return iB(n.value)}e=zI(e)}return function(e){return console.warn("fallback value for",e),null}}var cB=jI(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),uB=jI(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),dB=jI(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),hB=jI(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),pB=jI(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),fB=jI(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),mB=jI(["#text"]),gB=jI(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),vB=jI(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),yB=jI(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),bB=jI(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),wB=UI(/\{\{[\w\W]*|[\w\W]*\}\}/gm),xB=UI(/<%[\w\W]*|[\w\W]*%>/gm),EB=UI(/^data-[\-\w.\u00B7-\uFFFF]/),SB=UI(/^aria-[\-\w]+$/),CB=UI(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),AB=UI(/^(?:\w+script|data):/i),_B=UI(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),kB=UI(/^html$/i),TB=function(){return"undefined"==typeof window?null:window},MB=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TB(),n=function(t){return e(t)};if(n.version="2.3.8",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,o=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,a=t.Node,l=t.Element,c=t.NodeFilter,u=t.NamedNodeMap,d=void 0===u?t.NamedNodeMap||t.MozNamedAttrMap:u,h=t.HTMLFormElement,p=t.DOMParser,f=t.trustedTypes,m=l.prototype,g=lB(m,"cloneNode"),v=lB(m,"nextSibling"),y=lB(m,"childNodes"),b=lB(m,"parentNode");if("function"==typeof s){var w=o.createElement("template");w.content&&w.content.ownerDocument&&(o=w.content.ownerDocument)}var x=function(e,t){if("object"!==RI(e)||"function"!=typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(n=t.currentScript.getAttribute(r));var o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(f,r),E=x?x.createHTML(""):"",S=o,C=S.implementation,A=S.createNodeIterator,_=S.createDocumentFragment,k=S.getElementsByTagName,T=r.importNode,M={};try{M=aB(o).documentMode?o.documentMode:{}}catch(e){}var P={};n.isSupported="function"==typeof b&&C&&void 0!==C.createHTMLDocument&&9!==M;var O,R,N=wB,D=xB,I=EB,B=SB,F=AB,L=_B,H=CB,z=null,V=sB({},[].concat(II(cB),II(uB),II(dB),II(pB),II(mB))),j=null,U=sB({},[].concat(II(gB),II(vB),II(yB),II(bB))),G=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,W=null,Z=!0,$=!0,K=!1,X=!1,Y=!1,J=!1,Q=!1,ee=!1,te=!1,ne=!1,re=!0,oe=!0,ie=!1,se={},ae=null,le=sB({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ce=null,ue=sB({},["audio","video","img","source","image","track"]),de=null,he=sB({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pe="http://www.w3.org/1998/Math/MathML",fe="http://www.w3.org/2000/svg",me="http://www.w3.org/1999/xhtml",ge=me,ve=!1,ye=["application/xhtml+xml","text/html"],be=null,we=o.createElement("form"),xe=function(e){return e instanceof RegExp||e instanceof Function},Ee=function(e){be&&be===e||(e&&"object"===RI(e)||(e={}),e=aB(e),z="ALLOWED_TAGS"in e?sB({},e.ALLOWED_TAGS):V,j="ALLOWED_ATTR"in e?sB({},e.ALLOWED_ATTR):U,de="ADD_URI_SAFE_ATTR"in e?sB(aB(he),e.ADD_URI_SAFE_ATTR):he,ce="ADD_DATA_URI_TAGS"in e?sB(aB(ue),e.ADD_DATA_URI_TAGS):ue,ae="FORBID_CONTENTS"in e?sB({},e.FORBID_CONTENTS):le,q="FORBID_TAGS"in e?sB({},e.FORBID_TAGS):{},W="FORBID_ATTR"in e?sB({},e.FORBID_ATTR):{},se="USE_PROFILES"in e&&e.USE_PROFILES,Z=!1!==e.ALLOW_ARIA_ATTR,$=!1!==e.ALLOW_DATA_ATTR,K=e.ALLOW_UNKNOWN_PROTOCOLS||!1,X=e.SAFE_FOR_TEMPLATES||!1,Y=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,Q=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,oe=!1!==e.KEEP_CONTENT,ie=e.IN_PLACE||!1,H=e.ALLOWED_URI_REGEXP||H,ge=e.NAMESPACE||me,e.CUSTOM_ELEMENT_HANDLING&&xe(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(G.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&xe(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(G.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(G.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),O=O=-1===ye.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,R="application/xhtml+xml"===O?function(e){return e}:JI,X&&($=!1),te&&(ee=!0),se&&(z=sB({},II(mB)),j=[],!0===se.html&&(sB(z,cB),sB(j,gB)),!0===se.svg&&(sB(z,uB),sB(j,vB),sB(j,bB)),!0===se.svgFilters&&(sB(z,dB),sB(j,vB),sB(j,bB)),!0===se.mathMl&&(sB(z,pB),sB(j,yB),sB(j,bB))),e.ADD_TAGS&&(z===V&&(z=aB(z)),sB(z,e.ADD_TAGS)),e.ADD_ATTR&&(j===U&&(j=aB(j)),sB(j,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&sB(de,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(ae===le&&(ae=aB(ae)),sB(ae,e.FORBID_CONTENTS)),oe&&(z["#text"]=!0),Y&&sB(z,["html","head","body"]),z.table&&(sB(z,["tbody"]),delete q.tbody),jI&&jI(e),be=e)},Se=sB({},["mi","mo","mn","ms","mtext"]),Ce=sB({},["foreignobject","desc","title","annotation-xml"]),Ae=sB({},["title","style","font","a","script"]),_e=sB({},uB);sB(_e,dB),sB(_e,hB);var ke=sB({},pB);sB(ke,fB);var Te=function(e){YI(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=E}catch(t){e.remove()}}},Me=function(e,t){try{YI(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){YI(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!j[e])if(ee||te)try{Te(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Pe=function(e){var t,n;if(Q)e="<remove></remove>"+e;else{var r=QI(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===O&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=x?x.createHTML(e):e;if(ge===me)try{t=(new p).parseFromString(i,O)}catch(e){}if(!t||!t.documentElement){t=C.createDocument(ge,"template",null);try{t.documentElement.innerHTML=ve?"":i}catch(e){}}var s=t.body||t.documentElement;return e&&n&&s.insertBefore(o.createTextNode(n),s.childNodes[0]||null),ge===me?k.call(t,Y?"html":"body")[0]:Y?t.documentElement:s},Oe=function(e){return A.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Re=function(e){return"object"===RI(a)?e instanceof a:e&&"object"===RI(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Ne=function(e,t,r){P[e]&&KI(P[e],(function(e){e.call(n,t,r,be)}))},De=function(e){var t,r;if(Ne("beforeSanitizeElements",e,null),(r=e)instanceof h&&("string"!=typeof r.nodeName||"string"!=typeof r.textContent||"function"!=typeof r.removeChild||!(r.attributes instanceof d)||"function"!=typeof r.removeAttribute||"function"!=typeof r.setAttribute||"string"!=typeof r.namespaceURI||"function"!=typeof r.insertBefore))return Te(e),!0;if(rB(/[\u0080-\uFFFF]/,e.nodeName))return Te(e),!0;var o=R(e.nodeName);if(Ne("uponSanitizeElement",e,{tagName:o,allowedTags:z}),e.hasChildNodes()&&!Re(e.firstElementChild)&&(!Re(e.content)||!Re(e.content.firstElementChild))&&rB(/<[/\w]/g,e.innerHTML)&&rB(/<[/\w]/g,e.textContent))return Te(e),!0;if("select"===o&&rB(/<template/i,e.innerHTML))return Te(e),!0;if(!z[o]||q[o]){if(!q[o]&&Be(o)){if(G.tagNameCheck instanceof RegExp&&rB(G.tagNameCheck,o))return!1;if(G.tagNameCheck instanceof Function&&G.tagNameCheck(o))return!1}if(oe&&!ae[o]){var i=b(e)||e.parentNode,s=y(e)||e.childNodes;if(s&&i)for(var a=s.length-1;a>=0;--a)i.insertBefore(g(s[a],!0),v(e))}return Te(e),!0}return e instanceof l&&!function(e){var t=b(e);t&&t.tagName||(t={namespaceURI:me,tagName:"template"});var n=JI(e.tagName),r=JI(t.tagName);return e.namespaceURI===fe?t.namespaceURI===me?"svg"===n:t.namespaceURI===pe?"svg"===n&&("annotation-xml"===r||Se[r]):Boolean(_e[n]):e.namespaceURI===pe?t.namespaceURI===me?"math"===n:t.namespaceURI===fe?"math"===n&&Ce[r]:Boolean(ke[n]):e.namespaceURI===me&&!(t.namespaceURI===fe&&!Ce[r])&&!(t.namespaceURI===pe&&!Se[r])&&!ke[n]&&(Ae[n]||!_e[n])}(e)?(Te(e),!0):"noscript"!==o&&"noembed"!==o||!rB(/<\/no(script|embed)/i,e.innerHTML)?(X&&3===e.nodeType&&(t=e.textContent,t=eB(t,N," "),t=eB(t,D," "),e.textContent!==t&&(YI(n.removed,{element:e.cloneNode()}),e.textContent=t)),Ne("afterSanitizeElements",e,null),!1):(Te(e),!0)},Ie=function(e,t,n){if(re&&("id"===t||"name"===t)&&(n in o||n in we))return!1;if($&&!W[t]&&rB(I,t));else if(Z&&rB(B,t));else if(!j[t]||W[t]){if(!(Be(e)&&(G.tagNameCheck instanceof RegExp&&rB(G.tagNameCheck,e)||G.tagNameCheck instanceof Function&&G.tagNameCheck(e))&&(G.attributeNameCheck instanceof RegExp&&rB(G.attributeNameCheck,t)||G.attributeNameCheck instanceof Function&&G.attributeNameCheck(t))||"is"===t&&G.allowCustomizedBuiltInElements&&(G.tagNameCheck instanceof RegExp&&rB(G.tagNameCheck,n)||G.tagNameCheck instanceof Function&&G.tagNameCheck(n))))return!1}else if(de[t]);else if(rB(H,eB(n,L,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==tB(n,"data:")||!ce[e])if(K&&!rB(F,eB(n,L,"")));else if(n)return!1;return!0},Be=function(e){return e.indexOf("-")>0},Fe=function(e){var t,n,r,o;Ne("beforeSanitizeAttributes",e,null);var i=e.attributes;if(i){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:j};for(o=i.length;o--;){var a=t=i[o],l=a.name,c=a.namespaceURI;n="value"===l?t.value:nB(t.value),r=R(l);var u=n;if(s.attrName=r,s.attrValue=n,s.keepAttr=!0,s.forceKeepAttr=void 0,Ne("uponSanitizeAttribute",e,s),n=s.attrValue,!s.forceKeepAttr)if(s.keepAttr)if(rB(/\/>/i,n))Me(l,e);else{X&&(n=eB(n,N," "),n=eB(n,D," "));var d=R(e.nodeName);if(Ie(d,r,n)){if(n!==u)try{c?e.setAttributeNS(c,l,n):e.setAttribute(l,n)}catch(t){Me(l,e)}}else Me(l,e)}else Me(l,e)}Ne("afterSanitizeAttributes",e,null)}},Le=function e(t){var n,r=Oe(t);for(Ne("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)Ne("uponSanitizeShadowNode",n,null),De(n)||(n.content instanceof i&&e(n.content),Fe(n));Ne("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,o){var s,l,c,u,d;if((ve=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Re(e)){if("function"!=typeof e.toString)throw oB("toString is not a function");if("string"!=typeof(e=e.toString()))throw oB("dirty is not a string, aborting")}if(!n.isSupported){if("object"===RI(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Re(e))return t.toStaticHTML(e.outerHTML)}return e}if(J||Ee(o),n.removed=[],"string"==typeof e&&(ie=!1),ie){if(e.nodeName){var h=R(e.nodeName);if(!z[h]||q[h])throw oB("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof a)1===(l=(s=Pe("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?s=l:s.appendChild(l);else{if(!ee&&!X&&!Y&&-1===e.indexOf("<"))return x&&ne?x.createHTML(e):e;if(!(s=Pe(e)))return ee?null:ne?E:""}s&&Q&&Te(s.firstChild);for(var p=Oe(ie?e:s);c=p.nextNode();)3===c.nodeType&&c===u||De(c)||(c.content instanceof i&&Le(c.content),Fe(c),u=c);if(u=null,ie)return e;if(ee){if(te)for(d=_.call(s.ownerDocument);s.firstChild;)d.appendChild(s.firstChild);else d=s;return j.shadowroot&&(d=T.call(r,d,!0)),d}var f=Y?s.outerHTML:s.innerHTML;return Y&&z["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&rB(kB,s.ownerDocument.doctype.name)&&(f="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+f),X&&(f=eB(f,N," "),f=eB(f,D," ")),x&&ne?x.createHTML(f):f},n.setConfig=function(e){Ee(e),J=!0},n.clearConfig=function(){be=null,J=!1},n.isValidAttribute=function(e,t,n){be||Ee({});var r=R(e),o=R(t);return Ie(r,o,n)},n.addHook=function(e,t){"function"==typeof t&&(P[e]=P[e]||[],YI(P[e],t))},n.removeHook=function(e){if(P[e])return XI(P[e])},n.removeHooks=function(e){P[e]&&(P[e]=[])},n.removeAllHooks=function(){P={}},n}();const PB=e=>MB().sanitize(e),OB=sg.deviceType.isTouch(),RB=(e,t)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}),NB=(e,t)=>bN.parts.close(jm.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:Sl([Qx.config({})])})),DB=()=>bN.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),IB=(e,t)=>bN.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:eM(`<p>${PB(t.translate(e))}</p>`)}]}]}),BB=e=>bN.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e}),FB=(e,t)=>[Wx.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),Wx.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})],LB=e=>{const t="tox-dialog",n=t+"-wrap",r=n+"__backdrop",o=t+"__disable-scroll";return bN.sketch({lazySink:e.lazySink,onEscape:t=>(e.onEscape(t),M.some(!0)),useTabstopAt:e=>!HC(e),firstTabstop:e.firstTabstop,dom:{tag:"div",classes:[t].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:eM(`<div class="${n}"></div>`),components:[{dom:{tag:"div",classes:OB?[r,r+"--opaque"]:[r]}}]}},dragBlockClass:n,modalBehaviours:Sl([tm.config({}),Xf("dialog-events",e.dialogEvents.concat([Ki($o(),((e,t)=>{zf.focusIn(e)}))])),Xf("scroll-lock",[Xi((()=>{zs(wt(),o)})),Yi((()=>{Vs(wt(),o)}))]),...e.extraBehaviours]),eventOrder:{[di()]:["dialog-events"],[Ei()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Si()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})},HB=e=>jm.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},buttonBehaviours:Sl([Qx.config({})]),components:[Qm("close",{tag:"div",classes:["tox-icon"]},e.icons)],action:e=>{Ni(e,aE)}}),zB=(e,t,n,r)=>({dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...n.map((e=>({id:e}))).getOr({})}},components:[],behaviours:Sl([sI.config({channel:`${kI}-${t}`,initialData:e,renderComponents:e=>[ta(r.translate(e.title))]})])}),VB=()=>({dom:eM('<div class="tox-dialog__draghandle"></div>')}),jB=(e,t,n)=>((e,t,n)=>{const r=bN.parts.title(zB(e,t,M.none(),n)),o=bN.parts.draghandle(VB()),i=bN.parts.close(HB(n)),s=[r].concat(e.draggable?[o]:[]).concat([i]);return Wx.sketch({dom:eM('<div class="tox-dialog__header"></div>'),components:s})})({title:n.shared.providers.translate(e),draggable:n.dialog.isDraggableModal()},t,n.shared.providers),UB=(e,t,n)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:t,components:[{dom:eM('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),GB=(e,t,n)=>({onClose:()=>n.closeWindow(),onBlock:n=>{bN.setBusy(e(),((e,r)=>UB(n.message,r,t)))},onUnblock:()=>{bN.setIdle(e())}}),qB=(e,t,n,r)=>ia(LB({...e,firstTabstop:1,lazySink:r.shared.getSink,extraBehaviours:[sI.config({channel:`${_I}-${e.id}`,updateState:(e,t)=>M.some(t),initialData:t}),MC({}),...e.extraBehaviours],onEscape:e=>{Ni(e,aE)},dialogEvents:n,eventOrder:{[ui()]:[sI.name(),Ml.name()],[Ei()]:["scroll-lock",sI.name(),"messages","dialog-events","alloy.base.behaviour"],[Si()]:["alloy.base.behaviour","dialog-events","messages",sI.name(),"scroll-lock"]}})),WB=(e,t={})=>H(e,(e=>"menu"===e.type?(e=>{const n=H(e.items,(e=>{const n=ve(t,e.name).getOr(To(!1));return{...e,storage:n}}));return{...e,items:n}})(e):e)),ZB=e=>G(e,((e,t)=>"menu"===t.type?G(t.items,((e,t)=>(e[t.name]=t.storage,e)),e):e),{}),$B=(e,t)=>[Wi($o(),LC),e(sE,((e,n,r,o)=>{Dl(mt(o.element)).fold(v,Rl),t.onClose(),n.onClose()})),e(aE,((e,t,n,r)=>{t.onCancel(e),Ni(r,sE)})),ji(dE,((e,n)=>t.onUnblock())),ji(uE,((e,n)=>t.onBlock(n.event)))],KB=(e,t,n)=>{const r=(t,n)=>ji(t,((t,r)=>{o(t,((o,i)=>{n(e(),o,r.event,t)}))})),o=(e,t)=>{sI.getState(e).get().each((n=>{t(n.internalDialog,e)}))};return[...$B(r,t),r(cE,((e,t)=>t.onSubmit(e))),r(iE,((e,t,n)=>{t.onChange(e,{name:n.name})})),r(lE,((e,t,r,o)=>{const i=()=>zf.focusIn(o),s=e=>kt(e,"disabled")||_t(e,"aria-disabled").exists((e=>"true"===e)),a=mt(o.element),l=Dl(a);t.onAction(e,{name:r.name,value:r.value}),Dl(a).fold(i,(e=>{s(e)||l.exists((t=>Qe(e,t)&&s(t)))?i():n().toOptional().filter((t=>!Qe(t.element,e))).each(i)}))})),r(hE,((e,t,n)=>{t.onTabChange(e,{newTabName:n.name,oldTabName:n.oldName})})),Yi((t=>{const n=e();hd.setValue(t,n.getData())}))]},XB=(e,t)=>{const n=t.map((e=>e.footerButtons)).getOr([]),r=V(n,(e=>"start"===e.align)),o=(e,t)=>Wx.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${e}`]},components:H(t,(e=>e.memento.asSpec()))});return[o("start",r.pass),o("end",r.fail)]},YB=(e,t,n)=>({dom:eM('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Sl([sI.config({channel:`${MI}-${t}`,initialData:e,updateState:(e,t)=>{const r=H(t.buttons,(e=>{const t=Um(((e,t)=>a_(e,e.type,t))(e,n));return{name:e.name,align:e.align,memento:t}}));return M.some({lookupByName:t=>((e,t,n)=>q(t,(e=>e.name===n)).bind((t=>t.memento.getOpt(e))))(e,r,t),footerButtons:r})},renderComponents:XB})])}),JB=(e,t,n)=>bN.parts.footer(YB(e,t,n)),QB=(e,t)=>{if(e.getRoot().getSystem().isConnected()){const n=bh.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return fC.getField(n,t).orThunk((()=>{const n=e.getFooter();return sI.getState(n).get().bind((e=>e.lookupByName(t)))}))}return M.none()},eF=(e,t,n)=>{const r=t=>{const n=e.getRoot();n.getSystem().isConnected()&&t(n)},o={getData:()=>{const t=e.getRoot(),r=t.getSystem().isConnected()?e.getFormWrapper():t;return{...hd.getValue(r),...ce(n,(e=>e.get()))}},setData:t=>{r((r=>{const i=o.getData(),s=mr(i,t),a=((e,t)=>{const n=e.getRoot();return sI.getState(n).get().map((e=>Zr(Wr("data",e.dataValidator,t)))).getOr(t)})(e,s),l=e.getFormWrapper();hd.setValue(l,a),le(n,((e,t)=>{ye(s,t)&&e.set(s[t])}))}))},setEnabled:(t,n)=>{QB(e,t).each(n?Nh.enable:Nh.disable)},focus:t=>{QB(e,t).each(tm.focus)},block:e=>{if(!i(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r((t=>{Di(t,uE,{message:e})}))},unblock:()=>{r((e=>{Ni(e,dE)}))},showTab:t=>{r((n=>{const r=e.getBody();sI.getState(r).get().exists((e=>e.isTabPanel()))&&bh.getCurrent(r).each((e=>{bI.showTab(e,t)}))}))},redial:i=>{r((r=>{const s=e.getId(),a=t(i),l=WB(a.internalDialog.buttons,n);r.getSystem().broadcastOn([`${_I}-${s}`],a),r.getSystem().broadcastOn([`${kI}-${s}`],a.internalDialog),r.getSystem().broadcastOn([`${TI}-${s}`],a.internalDialog),r.getSystem().broadcastOn([`${MI}-${s}`],{...a.internalDialog,buttons:l}),o.setData(a.initialData)}))},close:()=>{r((e=>{Ni(e,sE)}))},toggleFullscreen:e.toggleFullscreen};return o};var tF=tinymce.util.Tools.resolve("tinymce.util.URI");const nF=["insertContent","setContent","execCommand","close","block","unblock"],rF=e=>s(e)&&-1!==nF.indexOf(e.mceAction),oF=(e,t,n,r)=>{const o=ls("dialog"),a=jB(e.title,o,r),l=(e=>{const t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[BC({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:Sl([Qx.config({}),tm.config({})])})]}],behaviours:Sl([zf.config({mode:"acyclic",useTabstopAt:C(HC)})])};return bN.parts.body(t)})(e),c=e.buttons.bind((e=>0===e.length?M.none():M.some(JB({buttons:e},o,r)))),d=((e,t)=>{const n=(t,n)=>ji(t,((t,o)=>{r(t,((r,i)=>{n(e(),r,o.event,t)}))})),r=(e,t)=>{sI.getState(e).get().each((n=>{t(n,e)}))};return[...$B(n,t),n(lE,((e,t,n)=>{t.onAction(e,{name:n.name})}))]})((()=>w),GB((()=>b),r.shared.providers,t)),h={...e.height.fold((()=>({})),(e=>({height:e+"px","max-height":e+"px"}))),...e.width.fold((()=>({})),(e=>({width:e+"px","max-width":e+"px"})))},f=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],m=new tF(e.url,{base_uri:new tF(window.location.href)}),g=`${m.protocol}://${m.host}${m.port?":"+m.port:""}`,v=Jl(),y=[Xf("messages",[Xi((()=>{const t=tc(Fe(window),"message",(t=>{if(m.isSameOrigin(new tF(t.raw.origin))){const r=t.raw.data;rF(r)?((e,t,n)=>{switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":const r=!!u(n.ui)&&n.ui;e.execCommand(n.cmd,r,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock()}})(n,w,r):(e=>!rF(e)&&s(e)&&ye(e,"mceAction"))(r)&&e.onMessage(w,r)}}));v.set(t)})),Yi(v.clear)]),Ml.config({channels:{[PI]:{onReceive:(e,t)=>{fa(e.element,"iframe").each((e=>{const n=e.dom.contentWindow;p(n)&&n.postMessage(t,g)}))}}}})],b=qB({id:o,header:a,body:l,footer:c,extraClasses:f,extraBehaviours:y,extraStyles:h},e,d,r),w=(e=>{const t=t=>{e.getSystem().isConnected()&&t(e)};return{block:e=>{if(!i(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t((t=>{Di(t,uE,{message:e})}))},unblock:()=>{t((e=>{Ni(e,dE)}))},close:()=>{t((e=>{Ni(e,sE)}))},sendMessage:e=>{t((t=>{t.getSystem().broadcastOn([PI],e)}))}}})(b);return{dialog:b,instanceApi:w}},iF=(e,t,n)=>t&&n?[]:[wT.config({contextual:{lazyContext:()=>M.some(Yn(Fe(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:t=>Dx(e,t.element).map((e=>({bounds:Ix(e),optScrollEnv:M.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:$t(e.element).top})}))).getOrThunk((()=>({bounds:er(),optScrollEnv:M.none()})))})],sF=e=>{const t=e.editor,n=ov(t),r=(e=>{const t=e.shared;return{open:(n,r)=>{const o=()=>{bN.hide(l),r()},i=Um(a_({name:"close-alert",text:"OK",primary:!0,buttonType:M.some("primary"),align:"end",enabled:!0,icon:M.none()},"cancel",e)),s=DB(),a=NB(o,t.providers),l=ia(LB({lazySink:()=>t.getSink(),header:RB(s,a),body:IB(n,t.providers),footer:M.some(BB(FB([],[i.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[ji(aE,o)],eventOrder:{}}));bN.show(l);const c=i.get(l);tm.focus(c)}}})(e.backstages.dialog),o=(e=>{const t=e.shared;return{open:(n,r)=>{const o=e=>{bN.hide(c),r(e)},i=Um(a_({name:"yes",text:"Yes",primary:!0,buttonType:M.some("primary"),align:"end",enabled:!0,icon:M.none()},"submit",e)),s=a_({name:"no",text:"No",primary:!1,buttonType:M.some("secondary"),align:"end",enabled:!0,icon:M.none()},"cancel",e),a=DB(),l=NB((()=>o(!1)),t.providers),c=ia(LB({lazySink:()=>t.getSink(),header:RB(a,l),body:IB(n,t.providers),footer:M.some(BB(FB([],[s,i.asSpec()]))),onEscape:()=>o(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[ji(aE,(()=>o(!1))),ji(cE,(()=>o(!0)))],eventOrder:{}}));bN.show(c);const u=i.get(c);tm.focus(u)}}})(e.backstages.dialog),i=(t,n)=>nI.open(((t,r,o)=>{const i=r,s=((e,t,n)=>{const r=ls("dialog"),o=e.internalDialog,i=jB(o.title,r,n),s=((e,t,n)=>{const r=OI(e,t,M.none(),n,!1);return bN.parts.body(r)})({body:o.body,initialData:o.initialData},r,n),a=WB(o.buttons),l=ZB(a),c=JB({buttons:a},r,n),u=KB((()=>m),GB((()=>p),n.shared.providers,t),n.shared.getSink),d=(e=>{switch(e){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}})(o.size),h={id:r,header:i,body:s,footer:M.some(c),extraClasses:d,extraBehaviours:[],extraStyles:{}},p=qB(h,e,u,n),f={getId:w(r),getRoot:w(p),getBody:()=>bN.getBody(p),getFooter:()=>bN.getFooter(p),getFormWrapper:()=>{const e=bN.getBody(p);return bh.getCurrent(e).getOr(e)},toggleFullscreen:()=>{const e="tox-dialog--fullscreen",t=Fe(p.element.dom);js(t,e)?(Vs(t,e),Us(t,d)):(Gs(t,d),zs(t,e))}},m=eF(f,t.redial,l);return{dialog:p,instanceApi:m}})({dataValidator:o,initialData:i,internalDialog:t},{redial:nI.redial,closeWindow:()=>{bN.hide(s.dialog),n(s.instanceApi)}},e.backstages.dialog);return bN.show(s.dialog),s.instanceApi.setData(i),s.instanceApi}),t),s=(r,o,i,s=!1)=>nI.open(((r,a,l)=>{const c=Zr(Wr("data",l,a)),u=Ql(),d=e.backstages.popup.shared.header.isPositionedAtTop(),h=()=>u.on((e=>{zm.reposition(e),wT.refresh(e)})),p=((e,t,n,r)=>{const o=ls("dialog"),i=ls("dialog-label"),s=ls("dialog-content"),a=e.internalDialog,l=Um(((e,t,n,r)=>Wx.sketch({dom:eM('<div class="tox-dialog__header"></div>'),components:[zB(e,t,M.some(n),r),VB(),HB(r)],containerBehaviours:Sl([oN.config({mode:"mouse",blockerClass:"blocker",getTarget:e=>ma(e,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:a.title,draggable:!0},o,i,n.shared.providers)),c=Um(((e,t,n,r,o)=>OI(e,t,M.some(n),r,o))({body:a.body,initialData:a.initialData},o,s,n,r)),u=WB(a.buttons),d=ZB(u),h=Um(((e,t,n)=>YB(e,t,n))({buttons:u},o,n)),p=KB((()=>g),{onBlock:e=>{QT.block(m,((t,r)=>UB(e.message,r,n.shared.providers)))},onUnblock:()=>{QT.unblock(m)},onClose:()=>t.closeWindow()},n.shared.getSink),f="tox-dialog-inline",m=ia({dom:{tag:"div",classes:["tox-dialog",f],attributes:{role:"dialog","aria-labelledby":i,"aria-describedby":s}},eventOrder:{[ui()]:[sI.name(),Ml.name()],[di()]:["execute-on-form"],[Ei()]:["reflecting","execute-on-form"]},behaviours:Sl([zf.config({mode:"cyclic",onEscape:e=>(Ni(e,sE),M.some(!0)),useTabstopAt:e=>!HC(e)&&("button"!==je(e)||"disabled"!==At(e,"disabled")),firstTabstop:1}),sI.config({channel:`${_I}-${o}`,updateState:(e,t)=>M.some(t),initialData:e}),tm.config({}),Xf("execute-on-form",p.concat([Ki($o(),((e,t)=>{zf.focusIn(e)}))])),QT.config({getRoot:()=>M.some(m)}),Kf.config({}),MC({})]),components:[l.asSpec(),c.asSpec(),h.asSpec()]}),g=eF({getId:w(o),getRoot:w(m),getFooter:()=>h.get(m),getBody:()=>c.get(m),getFormWrapper:()=>{const e=c.get(m);return bh.getCurrent(e).getOr(e)},toggleFullscreen:()=>{const e="tox-dialog--fullscreen",t=Fe(m.element.dom);qs(t,[e])?(Gs(t,[e]),Us(t,[f])):(Gs(t,[f]),Us(t,[e]))}},t.redial,d);return{dialog:m,instanceApi:g}})({dataValidator:l,initialData:c,internalDialog:r},{redial:nI.redial,closeWindow:()=>{u.on(zm.hide),t.off("ResizeEditor",h),u.clear(),i(p.instanceApi)}},e.backstages.popup,s),f=ia(zm.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},...d?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Sl([Xf("window-manager-inline-events",[ji(Ci(),((e,t)=>{Ni(p.dialog,aE)}))]),...iF(t,n,d)]),isExtraPart:(e,t)=>(e=>Bx(e,".tox-alert-dialog")||Bx(e,".tox-confirm-dialog"))(t)}));return u.set(f),zm.showWithinBounds(f,sa(p.dialog),{anchor:o},(()=>{const e=t.inline?wt():Fe(t.getContainer()),n=Yn(e);return M.some(n)})),n&&d||(wT.refresh(f),t.on("ResizeEditor",h)),p.instanceApi.setData(c),zf.focusIn(p.dialog),p.instanceApi}),r);return{open:(t,n,r)=>void 0!==n&&"toolbar"===n.inline?s(t,e.backstages.popup.shared.anchors.inlineDialog(),r,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?s(t,e.backstages.popup.shared.anchors.cursor(),r,n.ariaAttrs):i(t,r),openUrl:(n,r)=>((n,r)=>nI.openUrl((n=>{const o=oF(n,{closeWindow:()=>{bN.hide(o.dialog),r(o.instanceApi)}},t,e.backstages.dialog);return bN.show(o.dialog),o.instanceApi}),n))(n,r),alert:(e,t)=>{r.open(e,t)},close:e=>{e.close()},confirm:(e,t)=>{o.open(e,t)}}};tr.add("silver",(e=>{(e=>{cg(e),(e=>{const t=e.options.register,n=e=>g(e,i)?{value:Aw(e),valid:!0}:{valid:!1,message:"Must be an array of strings."};t("color_map",{processor:n,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),t("color_map_background",{processor:n}),t("color_map_foreground",{processor:n}),t("color_cols",{processor:"number",default:Sw(Pw(e,"default").length)}),t("color_cols_foreground",{processor:"number",default:Cw(e,Pw(e,xw).length)}),t("color_cols_background",{processor:"number",default:Cw(e,Pw(e,Ew).length)}),t("custom_colors",{processor:"boolean",default:!0}),t("color_default_foreground",{processor:"string",default:kw}),t("color_default_background",{processor:"string",default:kw})})(e),(e=>{const t=e.options.register;t("contextmenu_avoid_overlap",{processor:"string",default:""}),t("contextmenu_never_use_native",{processor:"boolean",default:!1}),t("contextmenu",{processor:e=>!1===e?{value:[],valid:!0}:i(e)||g(e,i)?{value:JO(e),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(e)})(e);let t=()=>er();const{dialogs:n,popups:r,renderUI:o}=mN(e,{getPopupSinkBounds:()=>t()});Ox(e,r.backstage.shared);const s=sF({editor:e,backstages:{popup:r.backstage,dialog:n.backstage}});return{renderUI:async()=>{const n=await o();return Dx(e,r.getMothership().element).each((e=>{t=()=>Ix(e)})),n},getWindowManagerImpl:w(s),getNotificationManagerImpl:()=>((e,t,n)=>{const r=t.backstage.shared,o=()=>{const t=Yn(Fe(e.getContentAreaContainer())),n=er(),r=Ka(n.x,t.x,t.right),o=Ka(n.y,t.y,t.bottom),i=Math.max(t.right,n.right),s=Math.max(t.bottom,n.bottom);return M.some(Xn(r,o,i-r,s-o))};return{open:(t,i)=>{const s=()=>{i(),zm.hide(l)},a=ia(tg.sketch({text:t.text,level:I(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:t.icon,closeButton:t.closeButton,onAction:s,iconProvider:r.providers.icons,translationProvider:r.providers.translate})),l=ia(zm.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:r.getSink,fireDismissalEventInstead:{},...r.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));n.add(l),m(t.timeout)&&t.timeout>0&&Vm.setEditorTimeout(e,(()=>{s()}),t.timeout);const c={close:s,reposition:()=>{const t=sa(a),n={maxHeightFunction:cc()},i=e.notificationManager.getNotifications();if(i[0]===c){const e={...r.anchors.banner(),overrides:n};zm.showWithinBounds(l,t,{anchor:e},o)}else D(i,c).each((e=>{const r=i[e-1].getEl(),s={type:"node",root:wt(),node:M.some(Fe(r)),overrides:n,layouts:{onRtl:()=>[cl],onLtr:()=>[cl]}};zm.showWithinBounds(l,t,{anchor:s},o)}))},text:e=>{tg.updateText(a,e)},settings:t,getEl:()=>a.element.dom,progressBar:{value:e=>{tg.updateProgress(a,e)}}};return c},close:e=>{e.close()},getArgs:e=>e.settings}})(e,{backstage:r.backstage},r.getMothership())}}))}()},3097:e=>{!function(){"use strict";var t=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},n=function(e){return{eq:e}},r=n((function(e,t){return e===t})),o=function(e){return n((function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e.eq(t[o],n[o]))return!1;return!0}))},i=function(e){return n((function(t,i){var s=Object.keys(t),a=Object.keys(i);if(!function(e,t){return function(e,t){return n((function(n,r){return e.eq(t(n),t(r))}))}(o(e),(function(e){return function(e,t){return Array.prototype.slice.call(e).sort(void 0)}(e)}))}(r).eq(s,a))return!1;for(var l=s.length,c=0;c<l;c++){var u=s[c];if(!e.eq(t[u],i[u]))return!1}return!0}))},s=n((function(e,n){if(e===n)return!0;var r=t(e);return r===t(n)&&(function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)}(r)?e===n:"array"===r?o(s).eq(e,n):"object"===r&&i(s).eq(e,n))}));const a=Object.getPrototypeOf,l=(e,t,n)=>{var r;return!!n(e,t.prototype)||(null===(r=e.constructor)||void 0===r?void 0:r.name)===t.name},c=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&l(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":t})(t)===e,u=e=>t=>typeof t===e,d=e=>t=>e===t,h=(e,t)=>f(e)&&l(e,t,((e,t)=>a(e)===t)),p=c("string"),f=c("object"),m=e=>h(e,Object),g=c("array"),v=d(null),y=u("boolean"),b=d(void 0),w=e=>null==e,x=e=>!w(e),E=u("function"),S=u("number"),C=(e,t)=>{if(g(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},A=()=>{},_=(e,t)=>(...n)=>e(t.apply(null,n)),k=(e,t)=>n=>e(t(n)),T=e=>()=>e,M=e=>e,P=(e,t)=>e===t;function O(e,...t){return(...n)=>{const r=t.concat(n);return e.apply(null,r)}}const R=e=>t=>!e(t),N=e=>()=>{throw new Error(e)},D=e=>e(),I=e=>{e()},B=T(!1),F=T(!0);class L{constructor(e,t){this.tag=e,this.value=t}static some(e){return new L(!0,e)}static none(){return L.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?L.some(e(this.value)):L.none()}bind(e){return this.tag?e(this.value):L.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:L.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return x(e)?L.some(e):L.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}L.singletonNone=new L(!1);const H=Array.prototype.slice,z=Array.prototype.indexOf,V=Array.prototype.push,j=(e,t)=>z.call(e,t),U=(e,t)=>j(e,t)>-1,G=(e,t)=>{for(let n=0,r=e.length;n<r;n++)if(t(e[n],n))return!0;return!1},q=(e,t)=>{const n=e.length,r=new Array(n);for(let o=0;o<n;o++){const n=e[o];r[o]=t(n,o)}return r},W=(e,t)=>{for(let n=0,r=e.length;n<r;n++)t(e[n],n)},Z=(e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)},$=(e,t)=>{const n=[],r=[];for(let o=0,i=e.length;o<i;o++){const i=e[o];(t(i,o)?n:r).push(i)}return{pass:n,fail:r}},K=(e,t)=>{const n=[];for(let r=0,o=e.length;r<o;r++){const o=e[r];t(o,r)&&n.push(o)}return n},X=(e,t,n)=>(Z(e,((e,r)=>{n=t(n,e,r)})),n),Y=(e,t,n)=>(W(e,((e,r)=>{n=t(n,e,r)})),n),J=(e,t,n)=>{for(let r=0,o=e.length;r<o;r++){const o=e[r];if(t(o,r))return L.some(o);if(n(o,r))break}return L.none()},Q=(e,t)=>J(e,t,B),ee=(e,t)=>{for(let n=0,r=e.length;n<r;n++)if(t(e[n],n))return L.some(n);return L.none()},te=e=>{const t=[];for(let n=0,r=e.length;n<r;++n){if(!g(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);V.apply(t,e[n])}return t},ne=(e,t)=>te(q(e,t)),re=(e,t)=>{for(let n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n))return!1;return!0},oe=e=>{const t=H.call(e,0);return t.reverse(),t},ie=(e,t)=>K(e,(e=>!U(t,e))),se=(e,t)=>{const n={};for(let r=0,o=e.length;r<o;r++){const o=e[r];n[String(o)]=t(o,r)}return n},ae=(e,t)=>{const n=H.call(e,0);return n.sort(t),n},le=(e,t)=>t>=0&&t<e.length?L.some(e[t]):L.none(),ce=e=>le(e,0),ue=e=>le(e,e.length-1),de=E(Array.from)?Array.from:e=>H.call(e),he=(e,t)=>{for(let n=0;n<e.length;n++){const r=t(e[n],n);if(r.isSome())return r}return L.none()},pe=Object.keys,fe=Object.hasOwnProperty,me=(e,t)=>{const n=pe(e);for(let r=0,o=n.length;r<o;r++){const o=n[r];t(e[o],o)}},ge=(e,t)=>ve(e,((e,n)=>({k:n,v:t(e,n)}))),ve=(e,t)=>{const n={};return me(e,((e,r)=>{const o=t(e,r);n[o.k]=o.v})),n},ye=e=>(t,n)=>{e[n]=t},be=(e,t,n,r)=>{me(e,((e,o)=>{(t(e,o)?n:r)(e,o)}))},we=(e,t)=>{const n={};return be(e,t,ye(n),A),n},xe=(e,t)=>{const n=[];return me(e,((e,r)=>{n.push(t(e,r))})),n},Ee=e=>xe(e,M),Se=(e,t)=>Ce(e,t)?L.from(e[t]):L.none(),Ce=(e,t)=>fe.call(e,t),Ae=(e,t)=>Ce(e,t)&&void 0!==e[t]&&null!==e[t],_e=e=>{const t={};return W(e,(e=>{t[e]={}})),pe(t)},ke=e=>void 0!==e.length,Te=Array.isArray,Me=(e,t,n)=>{if(!e)return!1;if(n=n||e,ke(e)){for(let r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return!1}else for(const r in e)if(Ce(e,r)&&!1===t.call(n,e[r],r,e))return!1;return!0},Pe=(e,t)=>{const n=[];return Me(e,((r,o)=>{n.push(t(r,o,e))})),n},Oe=(e,t)=>{const n=[];return Me(e,((r,o)=>{t&&!t(r,o,e)||n.push(r)})),n},Re=(e,t,n,r)=>{let o=b(n)?e[0]:n;for(let n=0;n<e.length;n++)o=t.call(r,o,e[n],n);return o},Ne=(e,t,n)=>{for(let r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},De=e=>e[e.length-1],Ie=e=>{let t,n=!1;return(...r)=>(n||(n=!0,t=e.apply(null,r)),t)},Be=()=>Fe(0,0),Fe=(e,t)=>({major:e,minor:t}),Le={nu:Fe,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?Be():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const r=e[n];if(r.test(t))return r}})(e,t);if(!n)return{major:0,minor:0};const r=e=>Number(t.replace(n,"$"+e));return Fe(r(1),r(2))})(e,n)},unknown:Be},He=(e,t)=>{const n=String(t).toLowerCase();return Q(e,(e=>e.search(n)))},ze=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,Ve=(e,t)=>Ue(e,t)?((e,t)=>e.substring(t))(e,t.length):e,je=(e,t,n=0,r)=>{const o=e.indexOf(t,n);return-1!==o&&(!!b(r)||o+t.length<=r)},Ue=(e,t)=>ze(e,t,0),Ge=(e,t)=>ze(e,t,e.length-t.length),qe=e=>t=>t.replace(e,""),We=qe(/^\s+|\s+$/g),Ze=qe(/^\s+/g),$e=qe(/\s+$/g),Ke=e=>e.length>0,Xe=e=>!Ke(e),Ye=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?L.none():L.some(n)},Je=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Qe=e=>t=>je(t,e),et=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>je(e,"edge/")&&je(e,"chrome")&&je(e,"safari")&&je(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Je],search:e=>je(e,"chrome")&&!je(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>je(e,"msie")||je(e,"trident")},{name:"Opera",versionRegexes:[Je,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Qe("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Qe("firefox")},{name:"Safari",versionRegexes:[Je,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(je(e,"safari")||je(e,"mobile/"))&&je(e,"applewebkit")}],tt=[{name:"Windows",search:Qe("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>je(e,"iphone")||je(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Qe("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Qe("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Qe("linux"),versionRegexes:[]},{name:"Solaris",search:Qe("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Qe("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Qe("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],nt={browsers:T(et),oses:T(tt)},rt="Edge",ot="Chromium",it="Opera",st="Firefox",at="Safari",lt=e=>{const t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isEdge:r(rt),isChromium:r(ot),isIE:r("IE"),isOpera:r(it),isFirefox:r(st),isSafari:r(at)}},ct=()=>lt({current:void 0,version:Le.unknown()}),ut=lt,dt=(T(rt),T(ot),T("IE"),T(it),T(st),T(at),"Windows"),ht="Android",pt="Linux",ft="macOS",mt="Solaris",gt="FreeBSD",vt="ChromeOS",yt=e=>{const t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isWindows:r(dt),isiOS:r("iOS"),isAndroid:r(ht),isMacOS:r(ft),isLinux:r(pt),isSolaris:r(mt),isFreeBSD:r(gt),isChromeOS:r(vt)}},bt=()=>yt({current:void 0,version:Le.unknown()}),wt=yt,xt=(T(dt),T("iOS"),T(ht),T(pt),T(ft),T(mt),T(gt),T(vt),e=>window.matchMedia(e).matches);let Et=Ie((()=>((e,t,n)=>{const r=nt.browsers(),o=nt.oses(),i=t.bind((e=>((e,t)=>he(t.brands,(t=>{const n=t.brand.toLowerCase();return Q(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:Le.nu(parseInt(t.version,10),0)})))})))(r,e))).orThunk((()=>((e,t)=>He(e,t).map((e=>{const n=Le.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(r,e))).fold(ct,ut),s=((e,t)=>He(e,t).map((e=>{const n=Le.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e).fold(bt,wt),a=((e,t,n,r)=>{const o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,s=e.isiOS()||e.isAndroid(),a=s||r("(pointer:coarse)"),l=o||!i&&s&&r("(min-device-width:768px)"),c=i||s&&!l,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!u;return{isiPad:T(o),isiPhone:T(i),isTablet:T(l),isPhone:T(c),isTouch:T(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:T(u),isDesktop:T(d)}})(s,i,e,n);return{browser:i,os:s,deviceType:a}})(navigator.userAgent,L.from(navigator.userAgentData),xt)));const St=()=>Et(),Ct=navigator.userAgent,At=St(),_t=At.browser,kt=At.os,Tt=At.deviceType,Mt=-1!==Ct.indexOf("Windows Phone"),Pt={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:_t.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!_t.isIE(),windowsPhone:Mt,browser:{current:_t.current,version:_t.version,isChromium:_t.isChromium,isEdge:_t.isEdge,isFirefox:_t.isFirefox,isIE:_t.isIE,isOpera:_t.isOpera,isSafari:_t.isSafari},os:{current:kt.current,version:kt.version,isAndroid:kt.isAndroid,isChromeOS:kt.isChromeOS,isFreeBSD:kt.isFreeBSD,isiOS:kt.isiOS,isLinux:kt.isLinux,isMacOS:kt.isMacOS,isSolaris:kt.isSolaris,isWindows:kt.isWindows},deviceType:{isDesktop:Tt.isDesktop,isiPad:Tt.isiPad,isiPhone:Tt.isiPhone,isPhone:Tt.isPhone,isTablet:Tt.isTablet,isTouch:Tt.isTouch,isWebView:Tt.isWebView}},Ot=/^\s*|\s*$/g,Rt=e=>w(e)?"":(""+e).replace(Ot,""),Nt=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),Me(e,((e,o)=>!1!==t.call(r,e,o,n)&&(Nt(e,t,n,r),!0))))},Dt={trim:Rt,isArray:Te,is:(e,t)=>t?!("array"!==t||!Te(e))||typeof e===t:void 0!==e,toArray:e=>{if(Te(e))return e;{const t=[];for(let n=0,r=e.length;n<r;n++)t[n]=e[n];return t}},makeMap:(e,t,n={})=>{const r=p(e)?e.split(t||","):e||[];let o=r.length;for(;o--;)n[r[o]]={};return n},each:Me,map:Pe,grep:Oe,inArray:(e,t)=>{if(e)for(let n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},hasOwn:Ce,extend:(e,...t)=>{for(let n=0;n<t.length;n++){const r=t[n];for(const t in r)if(Ce(r,t)){const n=r[t];void 0!==n&&(e[t]=n)}}return e},walk:Nt,resolve:(e,t=window)=>{const n=e.split(".");for(let e=0,r=n.length;e<r&&(t=t[n[e]]);e++);return t},explode:(e,t)=>g(e)?e:""===e?[]:Pe(e.split(t||","),Rt),_addCacheSuffix:e=>{const t=Pt.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},It=(e,t,n=P)=>e.exists((e=>n(e,t))),Bt=(e,t,n)=>e.isSome()&&t.isSome()?L.some(n(e.getOrDie(),t.getOrDie())):L.none(),Ft=(e,t)=>e?L.some(t):L.none(),Lt="undefined"!=typeof window?window:Function("return this;")(),Ht=(e,t)=>((e,t)=>{let n=null!=t?t:Lt;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),zt=Object.getPrototypeOf,Vt=e=>e.dom.nodeName.toLowerCase(),jt=e=>e.dom.nodeType,Ut=e=>t=>jt(t)===e,Gt=Ut(1),qt=Ut(3),Wt=Ut(9),Zt=Ut(11),$t=e=>t=>Gt(t)&&Vt(t)===e,Kt=(e,t,n)=>{if(!(p(n)||y(n)||S(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Xt=(e,t,n)=>{Kt(e.dom,t,n)},Yt=(e,t)=>{const n=e.dom;me(t,((e,t)=>{Kt(n,t,e)}))},Jt=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},Qt=(e,t)=>L.from(Jt(e,t)),en=(e,t)=>{const n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},tn=(e,t)=>{e.dom.removeAttribute(t)},nn=e=>Y(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),rn=(e,t)=>{const n=Jt(e,t);return void 0===n||""===n?[]:n.split(" ")},on=e=>void 0!==e.dom.classList,sn=e=>rn(e,"class"),an=(e,t)=>((e,t,n)=>{const r=rn(e,t).concat([n]);return Xt(e,t,r.join(" ")),!0})(e,"class",t),ln=(e,t)=>((e,t,n)=>{const r=K(rn(e,t),(e=>e!==n));return r.length>0?Xt(e,t,r.join(" ")):tn(e,t),!1})(e,"class",t),cn=(e,t)=>{on(e)?e.dom.classList.add(t):an(e,t)},un=e=>{0===(on(e)?e.dom.classList:sn(e)).length&&tn(e,"class")},dn=(e,t)=>{on(e)?e.dom.classList.remove(t):ln(e,t),un(e)},hn=(e,t)=>on(e)&&e.dom.classList.contains(t),pn=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},fn=(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return pn(n.childNodes[0])},mn=(e,t)=>{const n=(t||document).createElement(e);return pn(n)},gn=(e,t)=>{const n=(t||document).createTextNode(e);return pn(n)},vn=pn,yn=(e,t)=>{const n=[],r=e=>(n.push(e),t(e));let o=t(e);do{o=o.bind(r)}while(o.isSome());return n},bn=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},wn=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,xn=(e,t)=>e.dom===t.dom,En=(e,t)=>{const n=e.dom,r=t.dom;return n!==r&&n.contains(r)},Sn=e=>vn(e.dom.ownerDocument),Cn=e=>Wt(e)?e:Sn(e),An=e=>vn(Cn(e).dom.defaultView),_n=e=>L.from(e.dom.parentNode).map(vn),kn=e=>L.from(e.dom.parentElement).map(vn),Tn=(e,t)=>{const n=E(t)?t:B;let r=e.dom;const o=[];for(;null!==r.parentNode&&void 0!==r.parentNode;){const e=r.parentNode,t=vn(e);if(o.push(t),!0===n(t))break;r=e}return o},Mn=e=>L.from(e.dom.previousSibling).map(vn),Pn=e=>L.from(e.dom.nextSibling).map(vn),On=e=>oe(yn(e,Mn)),Rn=e=>yn(e,Pn),Nn=e=>q(e.dom.childNodes,vn),Dn=(e,t)=>{const n=e.dom.childNodes;return L.from(n[t]).map(vn)},In=e=>Dn(e,0),Bn=e=>Dn(e,e.dom.childNodes.length-1),Fn=e=>e.dom.childNodes.length,Ln=e=>Zt(e)&&x(e.dom.host),Hn=E(Element.prototype.attachShadow)&&E(Node.prototype.getRootNode),zn=T(Hn),Vn=Hn?e=>vn(e.dom.getRootNode()):Cn,jn=e=>Ln(e)?e:(e=>{const t=e.dom.head;if(null==t)throw new Error("Head is not available yet");return vn(t)})(Cn(e)),Un=e=>vn(e.dom.host),Gn=e=>{if(zn()&&x(e.target)){const t=vn(e.target);if(Gt(t)&&qn(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return ce(t)}}return L.from(e.target)},qn=e=>x(e.dom.shadowRoot),Wn=e=>{const t=qt(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(e=>{const t=Vn(e);return Ln(t)?L.some(t):L.none()})(vn(t)).fold((()=>n.body.contains(t)),k(Wn,Un))};var Zn=(e,t,n,r,o)=>e(n,r)?L.some(n):E(o)&&o(n)?L.none():t(n,r,o);const $n=(e,t,n)=>{let r=e.dom;const o=E(n)?n:B;for(;r.parentNode;){r=r.parentNode;const e=vn(r);if(t(e))return L.some(e);if(o(e))break}return L.none()},Kn=(e,t,n)=>Zn(((e,t)=>t(e)),$n,e,t,n),Xn=(e,t,n)=>$n(e,(e=>bn(e,t)),n),Yn=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return wn(n)?L.none():L.from(n.querySelector(e)).map(vn)})(t,e),Jn=(e,t,n)=>Zn(((e,t)=>bn(e,t)),Xn,e,t,n),Qn=(e,t=!1)=>{return Wn(e)?e.dom.isContentEditable:(n=e,Jn(n,"[contenteditable]")).fold(T(t),(e=>"true"===er(e)));var n},er=e=>e.dom.contentEditable,tr=e=>void 0!==e.style&&E(e.style.getPropertyValue),nr=(e,t,n)=>{if(!p(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);tr(e)&&e.style.setProperty(t,n)},rr=(e,t,n)=>{const r=e.dom;nr(r,t,n)},or=(e,t)=>{const n=e.dom;me(t,((e,t)=>{nr(n,t,e)}))},ir=(e,t)=>{const n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||Wn(e)?r:sr(n,t)},sr=(e,t)=>tr(e)?e.style.getPropertyValue(t):"",ar=(e,t)=>{const n=e.dom,r=sr(n,t);return L.from(r).filter((e=>e.length>0))},lr=e=>{const t={},n=e.dom;if(tr(n))for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t[r]=n.style[r]}return t},cr=(e,t)=>{((e,t)=>{tr(e)&&e.style.removeProperty(t)})(e.dom,t),It(Qt(e,"style").map(We),"")&&tn(e,"style")},ur=(e,t)=>{_n(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},dr=(e,t)=>{Pn(e).fold((()=>{_n(e).each((e=>{pr(e,t)}))}),(e=>{ur(e,t)}))},hr=(e,t)=>{In(e).fold((()=>{pr(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},pr=(e,t)=>{e.dom.appendChild(t.dom)},fr=(e,t)=>{ur(e,t),pr(t,e)},mr=(e,t)=>{W(t,(t=>{pr(e,t)}))},gr=e=>{e.dom.textContent="",W(Nn(e),(e=>{vr(e)}))},vr=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},yr=e=>{const t=Nn(e);var n,r;t.length>0&&(n=e,W(r=t,((e,t)=>{const o=0===t?n:r[t-1];dr(o,e)}))),vr(e)},br=e=>q(e,vn),wr=e=>e.dom.innerHTML,xr=(e,t)=>{const n=Sn(e).dom,r=vn(n.createDocumentFragment()),o=((e,t)=>{const n=(t||document).createElement("div");return n.innerHTML=e,Nn(vn(n))})(t,n);mr(r,o),gr(e),pr(e,r)},Er=(e,t,n,r)=>{e.dom.removeEventListener(t,n,r)},Sr=(e,t)=>({left:e,top:t,translate:(n,r)=>Sr(e+n,t+r)}),Cr=Sr,Ar=(e,t)=>void 0!==e?e:void 0!==t?t:0,_r=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?Cr(n.offsetLeft,n.offsetTop):Wn(e)?(e=>{const t=e.getBoundingClientRect();return Cr(t.left,t.top)})(t):Cr(0,0)},kr=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return Cr(n,r)},Tr=(e,t,n)=>{const r=(void 0!==n?n.dom:document).defaultView;r&&r.scrollTo(e,t)},Mr=(e,t)=>{St().browser.isSafari()&&E(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Pr=(e,t,n,r)=>({x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}),Or=e=>{const t=void 0===e?window:e,n=t.document,r=kr(vn(n));return(e=>{const t=void 0===e?window:e;return St().browser.isFirefox()?L.none():L.from(t.visualViewport)})(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,o=e.clientHeight;return Pr(r.left,r.top,n,o)}),(e=>Pr(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)))},Rr=(e,t)=>{let n=[];return W(Nn(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(Rr(e,t))})),n},Nr=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return wn(n)?[]:q(n.querySelectorAll(e),vn)})(t,e),Dr=(e,t,n)=>Xn(e,t,n).isSome();class Ir{constructor(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node}prev(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node}prev2(e){return this.node=this.findPreviousNode(this.node,e),this.node}findSibling(e,t,n,r){if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){let t=e[n];if(t)return t;for(let r=e.parentNode;r&&r!==this.rootNode;r=r.parentNode)if(t=r[n],t)return t}}}findPreviousNode(e,t){if(e){const n=e.previousSibling;if(this.rootNode&&n===this.rootNode)return;if(n){if(!t)for(let e=n.lastChild;e;e=e.lastChild)if(!e.lastChild)return e;return n}const r=e.parentNode;if(r&&r!==this.rootNode)return r}}}const Br=e=>t=>!!t&&t.nodeType===e,Fr=e=>!!e&&!Object.getPrototypeOf(e),Lr=Br(1),Hr=e=>{const t=e.toLowerCase();return e=>x(e)&&e.nodeName.toLowerCase()===t},zr=e=>{const t=e.map((e=>e.toLowerCase()));return e=>{if(e&&e.nodeName){const n=e.nodeName.toLowerCase();return U(t,n)}return!1}},Vr=(e,t)=>{const n=t.toLowerCase().split(" ");return t=>{if(Lr(t)){const r=t.ownerDocument.defaultView;if(r)for(let o=0;o<n.length;o++){const i=r.getComputedStyle(t,null);if((i?i.getPropertyValue(e):null)===n[o])return!0}}return!1}},jr=e=>t=>Lr(t)&&t.hasAttribute(e),Ur=e=>Lr(e)&&e.hasAttribute("data-mce-bogus"),Gr=e=>Lr(e)&&"TABLE"===e.tagName,qr=e=>t=>{if(Lr(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},Wr=zr(["textarea","input"]),Zr=Br(3),$r=Br(4),Kr=Br(7),Xr=Br(8),Yr=Br(9),Jr=Br(11),Qr=Hr("br"),eo=Hr("img"),to=qr("true"),no=qr("false"),ro=zr(["td","th"]),oo=zr(["td","th","caption"]),io=zr(["video","audio","object","embed"]),so=Hr("li"),ao="\ufeff",lo=" ",co=e=>e===ao,uo=((e,t)=>{const n=t=>e(t)?L.from(t.dom.nodeValue):L.none();return{get:t=>{if(!e(t))throw new Error("Can only get text value of a text node");return n(t).getOr("")},getOption:n,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})(qt),ho=e=>uo.get(e),po=e=>uo.getOption(e),fo=["pre"].concat(["h1","h2","h3","h4","h5","h6"]),mo=e=>{let t;return n=>(t=t||se(e,F),Ce(t,Vt(n)))},go=mo(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),vo=e=>Gt(e)&&!go(e),yo=e=>Gt(e)&&"br"===Vt(e),bo=mo(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),wo=mo(["ul","ol","dl"]),xo=mo(["li","dd","dt"]),Eo=mo(["thead","tbody","tfoot"]),So=mo(["td","th"]),Co=mo(["pre","script","textarea","style"]),Ao=mo(fo),_o=e=>Ao(e)||vo(e),ko=()=>{const e=mn("br");return Xt(e,"data-mce-bogus","1"),e},To=e=>{gr(e),pr(e,ko())},Mo=e=>{Bn(e).each((t=>{Mn(t).each((n=>{go(e)&&yo(t)&&go(n)&&vr(t)}))}))},Po=ao,Oo=co,Ro=e=>e.replace(/\uFEFF/g,""),No=Lr,Do=Zr,Io=e=>(Do(e)&&(e=e.parentNode),No(e)&&e.hasAttribute("data-mce-caret")),Bo=e=>Do(e)&&Oo(e.data),Fo=e=>Io(e)||Bo(e),Lo=e=>e.firstChild!==e.lastChild||!Qr(e.firstChild),Ho=e=>{const t=e.container();return!!Zr(t)&&(t.data.charAt(e.offset())===Po||e.isAtStart()&&Bo(t.previousSibling))},zo=e=>{const t=e.container();return!!Zr(t)&&(t.data.charAt(e.offset()-1)===Po||e.isAtEnd()&&Bo(t.nextSibling))},Vo=e=>Do(e)&&e.data[0]===Po,jo=e=>Do(e)&&e.data[e.data.length-1]===Po,Uo=e=>e&&e.hasAttribute("data-mce-caret")?((e=>{var t;const n=e.getElementsByTagName("br"),r=n[n.length-1];Ur(r)&&(null===(t=r.parentNode)||void 0===t||t.removeChild(r))})(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Go=e=>Io(e.startContainer),qo=to,Wo=no,Zo=Qr,$o=Zr,Ko=zr(["script","style","textarea"]),Xo=zr(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Yo=zr(["table"]),Jo=Fo,Qo=e=>!Jo(e)&&($o(e)?!Ko(e.parentNode):Xo(e)||Zo(e)||Yo(e)||ei(e)),ei=e=>!(e=>Lr(e)&&"true"===e.getAttribute("unselectable"))(e)&&Wo(e),ti=(e,t)=>Qo(e)&&((e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(ei(n))return!1;if(qo(n))return!0}return!0})(e,t),ni=/^[ \t\r\n]*$/,ri=e=>ni.test(e),oi=e=>"\n"===e||"\r"===e,ii=(e,t=4,n=!0,r=!0)=>{const o=((e,t)=>t<=0?"":new Array(t+1).join(" "))(0,t),i=e.replace(/\t/g,o),s=Y(i,((e,t)=>(e=>-1!==" \f\t\v".indexOf(e))(t)||t===lo?e.pcIsSpace||""===e.str&&n||e.str.length===i.length-1&&r||((e,t)=>t<e.length&&t>=0&&oi(e[t]))(i,e.str.length+1)?{pcIsSpace:!1,str:e.str+lo}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:oi(t),str:e.str+t}),{pcIsSpace:!1,str:""});return s.str},si=(e,t)=>Qo(e)&&!((e,t)=>Zr(e)&&ri(e.data)&&!((e,t)=>{const n=vn(t),r=vn(e);return Dr(r,"pre,code",O(xn,n))})(e,t))(e,t)||(e=>Lr(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")))(e)||ai(e),ai=jr("data-mce-bookmark"),li=jr("data-mce-bogus"),ci=e=>Lr(e)&&"all"===e.getAttribute("data-mce-bogus"),ui=(e,t=!0)=>((e,t)=>{let n=0;if(si(e,e))return!1;{let r=e.firstChild;if(!r)return!0;const o=new Ir(r,e);do{if(t){if(ci(r)){r=o.next(!0);continue}if(li(r)){r=o.next();continue}}if(Qr(r))n++,r=o.next();else{if(si(r,e))return!1;r=o.next()}}while(r);return n<=1}})(e.dom,t),di="data-mce-block",hi=e=>(e=>K(pe(e),(e=>!/[A-Z]/.test(e))))(e).join(","),pi=(e,t)=>x(t.querySelector(e))?(t.setAttribute(di,"true"),"inline-boundary"===t.getAttribute("data-mce-selected")&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(di),!1),fi=(e,t)=>{const n=hi(e.getTransparentElements()),r=hi(e.getBlockElements());return K(t.querySelectorAll(n),(e=>pi(r,e)))},mi=(e,t)=>{var n;const r=t?"lastChild":"firstChild";for(let t=e[r];t;t=t[r])if(ui(vn(t)))return void(null===(n=t.parentNode)||void 0===n||n.removeChild(t))},gi=(e,t)=>{const n=fi(e,t);((e,t,n)=>{const r=e.getBlockElements(),o=vn(t),i=e=>Vt(e)in r,s=e=>xn(e,o);W(br(n),(t=>{$n(t,i,s).each((n=>{const r=((t,r)=>K(Nn(t),(t=>i(t)&&!e.isValidChild(Vt(n),Vt(t)))))(t);if(r.length>0){const t=kn(n);W(r,(e=>{$n(e,i,s).each((t=>{((e,t)=>{const n=document.createRange(),r=e.parentNode;if(r){n.setStartBefore(e),n.setEndBefore(t);const o=n.extractContents();mi(o,!0),n.setStartAfter(t),n.setEndAfter(e);const i=n.extractContents();mi(i,!1),ui(vn(o))||r.insertBefore(o,e),ui(vn(t))||r.insertBefore(t,e),ui(vn(i))||r.insertBefore(i,e),r.removeChild(e)}})(t.dom,e.dom)}))})),t.each((t=>fi(e,t.dom)))}}))}))})(e,t,n),((e,t,n)=>{W([...n,...xi(e,t)?[t]:[]],(t=>W(Nr(vn(t),t.nodeName.toLowerCase()),(t=>{Ei(e,t.dom)&&yr(t)}))))})(e,t,n)},vi=(e,t)=>{if(wi(e,t)){const n=hi(e.getBlockElements());pi(n,t)}},yi=e=>e.hasAttribute(di),bi=(e,t)=>Ce(e.getTransparentElements(),t),wi=(e,t)=>Lr(t)&&bi(e,t.nodeName),xi=(e,t)=>wi(e,t)&&yi(t),Ei=(e,t)=>wi(e,t)&&!yi(t),Si=(e,t)=>1===t.type&&bi(e,t.name)&&b(t.attr(di)),Ci=St().browser,Ai=e=>Q(e,Gt),_i=(e,t)=>e.children&&U(e.children,t),ki=(e,t={})=>{let n=0;const r={},o=vn(e),i=Cn(o),s=e=>new Promise(((s,a)=>{let l;const c=Dt._addCacheSuffix(e),u=(e=>Se(r,e).getOrThunk((()=>({id:"mce-u"+n++,passed:[],failed:[],count:0}))))(c);r[c]=u,u.count++;const d=(e,t)=>{W(e,I),u.status=t,u.passed=[],u.failed=[],l&&(l.onload=null,l.onerror=null,l=null)},h=()=>d(u.passed,2),p=()=>d(u.failed,3);if(s&&u.passed.push(s),a&&u.failed.push(a),1===u.status)return;if(2===u.status)return void h();if(3===u.status)return void p();u.status=1;const f=mn("link",i.dom);var m;Yt(f,{rel:"stylesheet",type:"text/css",id:u.id}),t.contentCssCors&&Xt(f,"crossOrigin","anonymous"),t.referrerPolicy&&Xt(f,"referrerpolicy",t.referrerPolicy),l=f.dom,l.onload=h,l.onerror=p,m=f,pr(jn(o),m),Xt(f,"href",c)})),a=e=>{const t=Dt._addCacheSuffix(e);Se(r,t).each((e=>{0==--e.count&&(delete r[t],(e=>{const t=jn(o);Yn(t,"#"+e).each(vr)})(e.id))}))};return{load:s,loadAll:e=>Promise.allSettled(q(e,(e=>s(e).then(T(e))))).then((e=>{const t=$(e,(e=>"fulfilled"===e.status));return t.fail.length>0?Promise.reject(q(t.fail,(e=>e.reason))):q(t.pass,(e=>e.value))})),unload:a,unloadAll:e=>{W(e,(e=>{a(e)}))},_setReferrerPolicy:e=>{t.referrerPolicy=e},_setContentCssCors:e=>{t.contentCssCors=e}}},Ti=(()=>{const e=new WeakMap;return{forElement:(t,n)=>{const r=Vn(t).dom;return L.from(e.get(r)).getOrThunk((()=>{const t=ki(r,n);return e.set(r,t),t}))}}})(),Mi=(e,t)=>x(e)&&(si(e,t)||vo(vn(e))),Pi=e=>(e=>"span"===e.nodeName.toLowerCase())(e)&&"bookmark"===e.getAttribute("data-mce-type"),Oi=(e,t,n)=>{var r;const o=n||t;if(Lr(t)&&Pi(t))return t;const i=t.childNodes;for(let t=i.length-1;t>=0;t--)Oi(e,i[t],o);if(Lr(t)){const e=t.childNodes;1===e.length&&Pi(e[0])&&(null===(r=t.parentNode)||void 0===r||r.insertBefore(e[0],t))}return(e=>Jr(e)||Yr(e))(t)||si(t,o)||(e=>!!Lr(e)&&e.childNodes.length>0)(t)||((e,t)=>Zr(e)&&e.data.length>0&&((e,t)=>{const n=new Ir(e,t).prev(!1),r=new Ir(e,t).next(!1),o=b(n)||Mi(n,t),i=b(r)||Mi(r,t);return o&&i})(e,t))(t,o)||e.remove(t),t},Ri=Dt.makeMap,Ni=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Di=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ii=/[<>&\"\']/g,Bi=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Fi={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Li={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Hi={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},zi=(e,t)=>{const n={};if(e){const r=e.split(",");t=t||10;for(let e=0;e<r.length;e+=2){const o=String.fromCharCode(parseInt(r[e],t));if(!Li[o]){const t="&"+r[e+1]+";";n[o]=t,n[t]=o}}return n}},Vi=zi("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),ji=(e,t)=>e.replace(t?Ni:Di,(e=>Li[e]||e)),Ui=(e,t)=>e.replace(t?Ni:Di,(e=>e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Li[e]||"&#"+e.charCodeAt(0)+";")),Gi=(e,t,n)=>{const r=n||Vi;return e.replace(t?Ni:Di,(e=>Li[e]||r[e]||e))},qi={encodeRaw:ji,encodeAllRaw:e=>(""+e).replace(Ii,(e=>Li[e]||e)),encodeNumeric:Ui,encodeNamed:Gi,getEncodeFunc:(e,t)=>{const n=zi(t)||Vi,r=Ri(e.replace(/\+/g,","));return r.named&&r.numeric?(e,t)=>e.replace(t?Ni:Di,(e=>void 0!==Li[e]?Li[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";")):r.named?t?(e,t)=>Gi(e,t,n):Gi:r.numeric?Ui:ji},decode:e=>e.replace(Bi,((e,t)=>t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Fi[t]||String.fromCharCode(t):Hi[e]||Vi[e]||(e=>{const t=mn("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e})(e)))},Wi={},Zi={},$i={},Ki=Dt.makeMap,Xi=Dt.each,Yi=Dt.extend,Ji=Dt.explode,Qi=Dt.inArray,es=(e,t)=>(e=Dt.trim(e))?e.split(t||" "):[],ts=(e,t={})=>{const n=Ki(e," ",Ki(e.toUpperCase()," "));return Yi(n,t)},ns=e=>ts("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),rs=(e,t)=>{if(e){const n={};return p(e)&&(e={"*":e}),Xi(e,((e,r)=>{n[r]=n[r.toUpperCase()]="map"===t?Ki(e,/[, ]/):Ji(e,/[, ]/)})),n}},os=(e={})=>{var t;const n={},r={};let o=[];const i={},s={},a=(t,n,r)=>{const o=e[t];if(o)return Ki(o,/[, ]/,Ki(o.toUpperCase(),/[, ]/));{let e=Zi[t];return e||(e=ts(n,r),Zi[t]=e),e}},l=null!==(t=e.schema)&&void 0!==t?t:"html5",c=(e=>{const t={};let n,r,o,i;const s=(e,r="",o="")=>{const i=es(o),s=es(e);let a=s.length;for(;a--;){const e=es([n,r].join(" "));t[s[a]]={attributes:se(e,(()=>({}))),attributesOrder:e,children:se(i,T($i))}}},a=(e,n)=>{const r=es(e),o=es(n);let i=r.length;for(;i--;){const e=t[r[i]];for(let t=0,n=o.length;t<n;t++)e.attributes[o[t]]={},e.attributesOrder.push(o[t])}};if(Wi[e])return Wi[e];if(n="id accesskey class dir lang style tabindex title role",r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",r+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",o+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e){n+=" xml:lang";const e="acronym applet basefont big font strike tt";o=[o,e].join(" "),Xi(es(e),(e=>{s(e,"",o)}));const t="center dir isindex noframes";r=[r,t].join(" "),i=[r,o].join(" "),Xi(es(t),(e=>{s(e,"",i)}))}return i=i||[r,o].join(" "),s("html","manifest","head body"),s("head","","base command link meta noscript script style title"),s("title hr noscript br"),s("base","href target"),s("link","href rel media hreflang type sizes hreflang"),s("meta","name http-equiv content charset"),s("style","media type scoped"),s("script","src async defer type charset"),s("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),s("address dt dd div caption","",i),s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),s("blockquote","cite",i),s("ol","reversed start type","li"),s("ul","","li"),s("li","value",i),s("dl","","dt dd"),s("a","href target rel media hreflang type",i),s("q","cite",o),s("ins del","cite datetime",i),s("img","src sizes srcset alt usemap ismap width height"),s("iframe","src name width height",i),s("embed","src type width height"),s("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),s("param","name value"),s("map","name",[i,"area"].join(" ")),s("area","alt coords shape href target rel media hreflang type"),s("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),s("colgroup","span","col"),s("col","span"),s("tbody thead tfoot","","tr"),s("tr","","td th"),s("td","colspan rowspan headers",i),s("th","colspan rowspan headers scope abbr",i),s("form","accept-charset action autocomplete enctype method name novalidate target",i),s("fieldset","disabled form name",[i,"legend"].join(" ")),s("label","form for",o),s("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),s("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?i:o),s("select","disabled form multiple name required size","option optgroup"),s("optgroup","disabled label","option"),s("option","disabled label selected value"),s("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),s("menu","type label",[i,"li"].join(" ")),s("noscript","",i),"html4"!==e&&(s("wbr"),s("ruby","",[o,"rt rp"].join(" ")),s("figcaption","",i),s("mark rt rp summary bdi","",o),s("canvas","width height",i),s("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),s("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),s("picture","","img source"),s("source","src srcset type media sizes"),s("track","kind src srclang label default"),s("datalist","",[o,"option"].join(" ")),s("article section nav aside main header footer","",i),s("hgroup","","h1 h2 h3 h4 h5 h6"),s("figure","",[i,"figcaption"].join(" ")),s("time","datetime",o),s("dialog","open",i),s("command","type label icon disabled checked radiogroup command"),s("output","for form name",o),s("progress","value max",o),s("meter","value min max low high optimum",o),s("details","open",[i,"summary"].join(" ")),s("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(a("script","language xml:space"),a("style","xml:space"),a("object","declare classid code codebase codetype archive standby align border hspace vspace"),a("embed","align name hspace vspace"),a("param","valuetype type"),a("a","charset name rev shape coords"),a("br","clear"),a("applet","codebase archive code object alt name width height align hspace vspace"),a("img","name longdesc align border hspace vspace"),a("iframe","longdesc frameborder marginwidth marginheight scrolling align"),a("font basefont","size color face"),a("input","usemap align"),a("select"),a("textarea"),a("h1 h2 h3 h4 h5 h6 div p legend caption","align"),a("ul","type compact"),a("li","type"),a("ol dl menu dir","compact"),a("pre","width xml:space"),a("hr","align noshade size width"),a("isindex","prompt"),a("table","summary width frame rules cellspacing cellpadding align bgcolor"),a("col","width align char charoff valign"),a("colgroup","width align char charoff valign"),a("thead","align char charoff valign"),a("tr","align char charoff valign bgcolor"),a("th","axis align char charoff valign nowrap bgcolor width height"),a("form","accept"),a("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),a("tfoot","align char charoff valign"),a("tbody","align char charoff valign"),a("area","nohref"),a("body","background bgcolor text link vlink alink")),"html4"!==e&&(a("input button select textarea","autofocus"),a("input textarea","placeholder"),a("a","download"),a("link script img","crossorigin"),a("img","loading"),a("iframe","sandbox seamless allow allowfullscreen loading")),"html4"!==e&&W([t.video,t.audio],(e=>{delete e.children.audio,delete e.children.video})),Xi(es("a form meter progress dfn"),(e=>{t[e]&&delete t[e].children[e]})),delete t.caption.children.table,delete t.script,Wi[e]=t,t})(l);!1===e.verify_html&&(e.valid_elements="*[*]");const u=rs(e.valid_styles),d=rs(e.invalid_styles,"map"),h=rs(e.valid_classes,"map"),p=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),f=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),m=a("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),g=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),v="td th iframe video audio object script code",y=a("non_empty_elements",v+" pre",m),b=a("move_caret_before_on_enter_elements",v+" table",m),w=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),x=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",w),E=a("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),S=a("transparent_elements","a ins del canvas map");Xi("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),(e=>{s[e]=new RegExp("</"+e+"[^>]*>","gi")}));const C=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),A=e=>{const t=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,r=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,i=/[*?+]/;if(e){const s=es(e,",");let a,l;n["@"]&&(a=n["@"].attributes,l=n["@"].attributesOrder);for(let e=0,c=s.length;e<c;e++){let c=t.exec(s[e]);if(c){const e=c[1],t=c[2],s=c[3],u=c[5],d={},h=[],p={attributes:d,attributesOrder:h};if("#"===e&&(p.paddEmpty=!0),"-"===e&&(p.removeEmpty=!0),"!"===c[4]&&(p.removeEmptyAttrs=!0),a&&(me(a,((e,t)=>{d[t]=e})),l&&h.push(...l)),u){const e=es(u,"|");for(let t=0,n=e.length;t<n;t++)if(c=r.exec(e[t]),c){const e={},t=c[1],n=c[2].replace(/[\\:]:/g,":"),r=c[3],o=c[4];if("!"===t&&(p.attributesRequired=p.attributesRequired||[],p.attributesRequired.push(n),e.required=!0),"-"===t){delete d[n],h.splice(Qi(h,n),1);continue}if(r&&("="===r&&(p.attributesDefault=p.attributesDefault||[],p.attributesDefault.push({name:n,value:o}),e.defaultValue=o),"~"===r&&(p.attributesForced=p.attributesForced||[],p.attributesForced.push({name:n,value:o}),e.forcedValue=o),"<"===r&&(e.validValues=Ki(o,"?"))),i.test(n)){const t=e;p.attributePatterns=p.attributePatterns||[],t.pattern=C(n),p.attributePatterns.push(t)}else d[n]||h.push(n),d[n]=e}}if(a||"@"!==t||(a=d,l=h),s&&(p.outputName=t,n[s]=p),i.test(t)){const e=p;e.pattern=C(t),o.push(e)}else n[t]=p}}}},_=e=>{o=[],W(pe(n),(e=>{delete n[e]})),A(e),Xi(c,((e,t)=>{r[t]=e.children}))},k=e=>{const t=/^(~)?(.+)$/;e&&(delete Zi.text_block_elements,delete Zi.block_elements,Xi(es(e,","),(e=>{const o=t.exec(e);if(o){const e="~"===o[1],t=e?"span":"div",s=o[2];if(r[s]=r[t],i[s]=t,y[s.toUpperCase()]={},y[s]={},e||(x[s.toUpperCase()]={},x[s]={}),!n[s]){let e=n[t];e=Yi({},e),delete e.removeEmptyAttrs,delete e.removeEmpty,n[s]=e}Xi(r,((e,n)=>{e[t]&&(r[n]=e=Yi({},r[n]),e[s]=e[t])}))}})))},M=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete Wi[l],e&&Xi(es(e,","),(e=>{const n=t.exec(e);if(n){const e=n[1];let t;t=e?r[n[2]]:r[n[2]]={"#comment":{}},t=r[n[2]],Xi(es(n[3],"|"),(n=>{"-"===e?delete t[n]:t[n]={}}))}}))},P=e=>{const t=n[e];if(t)return t;let r=o.length;for(;r--;){const t=o[r];if(t.pattern.test(e))return t}};e.valid_elements?_(e.valid_elements):(Xi(c,((e,t)=>{n[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},r[t]=e.children})),Xi(es("strong/b em/i"),(e=>{const t=es(e,"/");n[t[1]].outputName=t[0]})),Xi(E,((t,r)=>{n[r]&&(e.padd_empty_block_inline_children&&(n[r].paddInEmptyBlock=!0),n[r].removeEmpty=!0)})),Xi(es("ol ul blockquote a table tbody"),(e=>{n[e]&&(n[e].removeEmpty=!0)})),Xi(es("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(e=>{n[e].paddEmpty=!0})),Xi(es("span"),(e=>{n[e].removeEmptyAttrs=!0}))),k(e.custom_elements),M(e.valid_children),A(e.extended_valid_elements),M("+ol[ul|ol],+ul[ul|ol]"),Xi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},((e,t)=>{n[t]&&(n[t].parentsRequired=es(e))})),e.invalid_elements&&Xi(Ji(e.invalid_elements),(e=>{n[e]&&delete n[e]})),P("span")||A("span[!data-mce-type|*]");const O=T(u),R=T(d),N=T(h),D=T(g),I=T(x),B=T(w),F=T(E),L=T(Object.seal(m)),H=T(f),z=T(y),V=T(b),j=T(p),U=T(S),G=T(Object.seal(s)),q=T(i);return{type:l,children:r,elements:n,getValidStyles:O,getValidClasses:N,getBlockElements:I,getInvalidStyles:R,getVoidElements:L,getTextBlockElements:B,getTextInlineElements:F,getBoolAttrs:D,getElementRule:P,getSelfClosingElements:H,getNonEmptyElements:z,getMoveCaretBeforeOnEnterElements:V,getWhitespaceElements:j,getTransparentElements:U,getSpecialElements:G,isValidChild:(e,t)=>{const n=r[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:(e,t)=>{const n=P(e);if(n){if(!t)return!0;{if(n.attributes[t])return!0;const e=n.attributePatterns;if(e){let n=e.length;for(;n--;)if(e[n].pattern.test(t))return!0}}}return!1},getCustomElements:q,addValidElements:A,setValidElements:_,addCustomElements:k,addValidChildren:M}},is=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,o=/\s+$/,i={};let s,a;t&&(s=t.getValidStyles(),a=t.getInvalidStyles());const l="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(let e=0;e<l.length;e++)i[l[e]]="\ufeff"+e,i["\ufeff"+e]=l[e];const c={parse:t=>{const s={};let a=!1;const l=e.url_converter,u=e.url_converter_scope||c,d=(e,t,n)=>{const r=s[e+"-top"+t];if(!r)return;const o=s[e+"-right"+t];if(!o)return;const i=s[e+"-bottom"+t];if(!i)return;const a=s[e+"-left"+t];if(!a)return;const l=[r,o,i,a];let c=l.length-1;for(;c--&&l[c]===l[c+1];);c>-1&&n||(s[e+t]=-1===c?l[0]:l.join(" "),delete s[e+"-top"+t],delete s[e+"-right"+t],delete s[e+"-bottom"+t],delete s[e+"-left"+t])},h=e=>{const t=s[e];if(!t)return;const n=t.split(" ");let r=n.length;for(;r--;)if(n[r]!==n[0])return!1;return s[e]=n[0],!0},p=e=>(a=!0,i[e]),f=(e,t)=>(a&&(e=e.replace(/\uFEFF[0-9]/g,(e=>i[e]))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e),m=e=>String.fromCharCode(parseInt(e.slice(1),16)),g=e=>e.replace(/\\[0-9a-f]+/gi,m),v=(t,n,r,o,i,s)=>{if(i=i||s)return"'"+(i=f(i)).replace(/\'/g,"\\'")+"'";if(n=f(n||r||o||""),!e.allow_script_urls){const t=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(t))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(t))return""}return l&&(n=l.call(u,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){let i;for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,p).replace(/\"[^\"]+\"|\'[^\']+\'/g,(e=>e.replace(/[;:]/g,p)));i=r.exec(t);){r.lastIndex=i.index+i[0].length;let t=i[1].replace(o,"").toLowerCase(),l=i[2].replace(o,"");if(t&&l){if(t=g(t),l=g(l),-1!==t.indexOf("\ufeff")||-1!==t.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===t||/expression\s*\(|\/\*|\*\//.test(l)))continue;"font-weight"===t&&"700"===l?l="bold":"color"!==t&&"background-color"!==t||(l=l.toLowerCase()),l=l.replace(n,v),s[t]=a?f(l,!0):l}}d("border","",!0),d("border","-width"),d("border","-color"),d("border","-style"),d("padding",""),d("margin",""),b="border-style",w="border-color",h(y="border-width")&&h(b)&&h(w)&&(s.border=s[y]+" "+s[b]+" "+s[w],delete s[y],delete s[b],delete s[w]),"medium none"===s.border&&delete s.border,"none"===s["border-image"]&&delete s["border-image"]}var y,b,w;return s},serialize:(e,t)=>{let n="";const r=(t,r)=>{const o=r[t];if(o)for(let t=0,r=o.length;t<r;t++){const r=o[t],i=e[r];i&&(n+=(n.length>0?" ":"")+r+": "+i+";")}};return t&&s?(r("*",s),r(t,s)):me(e,((e,r)=>{e&&((e,t)=>{if(!a||!t)return!0;let n=a["*"];return!(n&&n[e]||(n=a[t],n&&n[e]))})(r,t)&&(n+=(n.length>0?" ":"")+r+": "+e+";")})),n}};return c},ss={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},as=(e,t)=>{const n=null!=t?t:{};for(const t in e)Ce(ss,t)||(n[t]=e[t]);return x(e.composedPath)&&(n.composedPath=()=>e.composedPath()),n},ls=(e,t,n,r)=>{var o;const i=as(t,r);return i.type=e,w(i.target)&&(i.target=null!==(o=i.srcElement)&&void 0!==o?o:n),(e=>w(e.preventDefault)||(e=>e instanceof Event||E(e.initEvent))(e))(t)&&(i.preventDefault=()=>{i.defaultPrevented=!0,i.isDefaultPrevented=F,E(t.preventDefault)&&t.preventDefault()},i.stopPropagation=()=>{i.cancelBubble=!0,i.isPropagationStopped=F,E(t.stopPropagation)&&t.stopPropagation()},i.stopImmediatePropagation=()=>{i.isImmediatePropagationStopped=F,i.stopPropagation()},(e=>e.isDefaultPrevented===F||e.isDefaultPrevented===B)(i)||(i.isDefaultPrevented=!0===i.defaultPrevented?F:B,i.isPropagationStopped=!0===i.cancelBubble?F:B,i.isImmediatePropagationStopped=B)),i},cs=/^(?:mouse|contextmenu)|click/,us=(e,t,n,r)=>{e.addEventListener(t,n,r||!1)},ds=(e,t,n,r)=>{e.removeEventListener(t,n,r||!1)},hs=(e,t)=>{const n=ls(e.type,e,document,t);if((e=>x(e)&&cs.test(e.type))(e)&&b(e.pageX)&&!b(e.clientX)){const t=n.target.ownerDocument||document,r=t.documentElement,o=t.body,i=n;i.pageX=e.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),i.pageY=e.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)}return n},ps=(e,t,n)=>{const r=e.document,o={type:"ready"};if(n.domLoaded)return void t(o);const i=()=>{ds(e,"DOMContentLoaded",i),ds(e,"load",i),n.domLoaded||(n.domLoaded=!0,t(o)),e=null};"complete"===r.readyState||"interactive"===r.readyState&&r.body?i():us(e,"DOMContentLoaded",i),n.domLoaded||us(e,"load",i)};class fs{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(e,t,n,r){const o=this;let i;const s=window,a=e=>{o.executeHandlers(hs(e||s.event),l)};if(!e||Zr(e)||Xr(e))return n;let l;e[o.expando]?l=e[o.expando]:(l=o.count++,e[o.expando]=l,o.events[l]={}),r=r||e;const c=t.split(" ");let u=c.length;for(;u--;){let t=c[u],d=a,h=!1,p=!1;"DOMContentLoaded"===t&&(t="ready"),o.domLoaded&&"ready"===t&&"complete"===e.readyState?n.call(r,hs({type:t})):(o.hasFocusIn||"focusin"!==t&&"focusout"!==t||(h=!0,p="focusin"===t?"focus":"blur",d=e=>{const t=hs(e||s.event);t.type="focus"===t.type?"focusin":"focusout",o.executeHandlers(t,l)}),i=o.events[l][t],i?"ready"===t&&o.domLoaded?n(hs({type:t})):i.push({func:n,scope:r}):(o.events[l][t]=i=[{func:n,scope:r}],i.fakeName=p,i.capture=h,i.nativeHandler=d,"ready"===t?ps(e,d,o):us(e,p||t,d,h)))}return e=i=null,n}unbind(e,t,n){if(!e||Zr(e)||Xr(e))return this;const r=e[this.expando];if(r){let o=this.events[r];if(t){const r=t.split(" ");let i=r.length;for(;i--;){const t=r[i],s=o[t];if(s){if(n){let e=s.length;for(;e--;)if(s[e].func===n){const n=s.nativeHandler,r=s.fakeName,i=s.capture,a=s.slice(0,e).concat(s.slice(e+1));a.nativeHandler=n,a.fakeName=r,a.capture=i,o[t]=a}}n&&0!==s.length||(delete o[t],ds(e,s.fakeName||t,s.nativeHandler,s.capture))}}}else me(o,((t,n)=>{ds(e,t.fakeName||n,t.nativeHandler,t.capture)})),o={};for(const e in o)if(Ce(o,e))return this;delete this.events[r];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this}fire(e,t,n){return this.dispatch(e,t,n)}dispatch(e,t,n){if(!e||Zr(e)||Xr(e))return this;const r=hs({type:t,target:e},n);do{const t=e[this.expando];t&&this.executeHandlers(r,t),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!r.isPropagationStopped());return this}clean(e){if(!e||Zr(e)||Xr(e))return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){this.unbind(e);const t=e.getElementsByTagName("*");let n=t.length;for(;n--;)(e=t[n])[this.expando]&&this.unbind(e)}return this}destroy(){this.events={}}cancel(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}executeHandlers(e,t){const n=this.events[t],r=n&&n[e.type];if(r)for(let t=0,n=r.length;t<n;t++){const n=r[t];if(n&&!1===n.func.call(n.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}}}fs.Event=new fs;const ms=Dt.each,gs=Dt.grep,vs="data-mce-style",ys=Dt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),bs=(e,t,n)=>{w(n)||""===n?tn(e,t):Xt(e,t,n)},ws=e=>e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),xs=(e,t)=>{let n=0;if(e)for(let r=e.nodeType,o=e.previousSibling;o;o=o.previousSibling){const e=o.nodeType;(!t||!Zr(o)||e!==r&&o.data.length)&&(n++,r=e)}return n},Es=(e,t)=>{const n=Jt(t,"style"),r=e.serialize(e.parse(n),Vt(t));bs(t,vs,r)},Ss=(e,t,n)=>{const r=ws(t);w(n)||""===n?cr(e,r):rr(e,r,((e,t)=>S(e)?Ce(ys,t)?e+"":e+"px":e)(n,r))},Cs=(e,t={})=>{const n={},r=window,o={};let i=0;const s=Ti.forElement(vn(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),a=[],l=t.schema?t.schema:os({}),c=is({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),u=t.ownEvents?new fs:fs.Event,d=l.getBlockElements(),h=t=>t&&e&&p(t)?e.getElementById(t):t,f=e=>{const t=h(e);return x(t)?vn(t):null},m=(e,t,n="")=>{let r;const o=f(e);if(x(o)&&Gt(o)){const e=K[t];r=e&&e.get?e.get(o.dom,t):Jt(o,t)}return x(r)?r:n},v=e=>{const t=h(e);return w(t)?[]:t.attributes},y=(e,n,r)=>{O(e,(e=>{if(Lr(e)){const o=vn(e),i=""===r?null:r,s=Jt(o,n),a=K[n];a&&a.set?a.set(o.dom,i,n):bs(o,n,i),s!==i&&t.onSetAttrib&&t.onSetAttrib({attrElm:o.dom,attrName:n,attrValue:i})}}))},b=()=>t.root_element||e.body,S=(t,n)=>((e,t,n)=>{let r=0,o=0;const i=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===ir(vn(e),"position")){const n=t.getBoundingClientRect();return r=n.left+(i.documentElement.scrollLeft||e.scrollLeft)-i.documentElement.clientLeft,o=n.top+(i.documentElement.scrollTop||e.scrollTop)-i.documentElement.clientTop,{x:r,y:o}}let s=t;for(;s&&s!==n&&s.nodeType&&!_i(s,n);){const e=s;r+=e.offsetLeft||0,o+=e.offsetTop||0,s=e.offsetParent}for(s=t.parentNode;s&&s!==n&&s.nodeType&&!_i(s,n);)r-=s.scrollLeft||0,o-=s.scrollTop||0,s=s.parentNode;o+=(e=>Ci.isFirefox()&&"table"===Vt(e)?Ai(Nn(e)).filter((e=>"caption"===Vt(e))).bind((e=>Ai(Rn(e)).map((t=>{const n=t.dom.offsetTop,r=e.dom.offsetTop,o=e.dom.offsetHeight;return n<=r?-o:0})))).getOr(0):0)(vn(t))}return{x:r,y:o}})(e.body,h(t),n),C=(e,t,n)=>{const r=h(e);if(!w(r)&&Lr(r))return n?ir(vn(r),ws(t)):("float"===(t=t.replace(/-(\D)/g,((e,t)=>t.toUpperCase())))&&(t="cssFloat"),r.style?r.style[t]:void 0)},_=e=>{const t=h(e);if(!t)return{w:0,h:0};let n=C(t,"width"),r=C(t,"height");return n&&-1!==n.indexOf("px")||(n="0"),r&&-1!==r.indexOf("px")||(r="0"),{w:parseInt(n,10)||t.offsetWidth||t.clientWidth,h:parseInt(r,10)||t.offsetHeight||t.clientHeight}},k=(e,t)=>{if(!e)return!1;const n=g(e)?e:[e];return G(n,(e=>bn(vn(e),t)))},M=(e,t,n,r)=>{const o=[];let i=h(e);r=void 0===r;const s=n||("BODY"!==b().nodeName?b().parentNode:null);if(p(t))if("*"===t)t=Lr;else{const e=t;t=t=>k(t,e)}for(;i&&!(i===s||w(i.nodeType)||Yr(i)||Jr(i));){if(!t||t(i)){if(!r)return[i];o.push(i)}i=i.parentNode}return r?o:null},P=(e,t,n)=>{let r=t;if(e){p(t)&&(r=e=>k(e,t));for(let t=e[n];t;t=t[n])if(E(r)&&r(t))return t}return null},O=function(e,t,n){const r=null!=n?n:this;if(g(e)){const n=[];return ms(e,((e,o)=>{const i=h(e);i&&n.push(t.call(r,i,o))})),n}{const n=h(e);return!!n&&t.call(r,n)}},R=(e,t)=>{O(e,(e=>{me(t,((t,n)=>{y(e,n,t)}))}))},N=(e,t)=>{O(e,(e=>{const n=vn(e);xr(n,t)}))},D=(t,n,r,o,i)=>O(t,(t=>{const s=p(n)?e.createElement(n):n;return x(r)&&R(s,r),o&&(!p(o)&&o.nodeType?s.appendChild(o):p(o)&&N(s,o)),i?s:t.appendChild(s)})),I=(t,n,r)=>D(e.createElement(t),t,n,r,!0),B=qi.encodeAllRaw,F=(e,t)=>O(e,(e=>{const n=vn(e);return t&&W(Nn(n),(e=>{qt(e)&&0===e.dom.length?vr(e):ur(n,e)})),vr(n),n.dom})),L=(e,t,n)=>{O(e,(e=>{if(Lr(e)){const r=vn(e),o=t.split(" ");W(o,(e=>{x(n)?(n?cn:dn)(r,e):((e,t)=>{on(e)?e.dom.classList.toggle(t):((e,t)=>{U(sn(e),t)?ln(e,t):an(e,t)})(e,t),un(e)})(r,e)}))}}))},H=(e,t,n)=>O(t,(r=>{var o;const i=g(t)?e.cloneNode(!0):e;return n&&ms(gs(r.childNodes),(e=>{i.appendChild(e)})),null===(o=r.parentNode)||void 0===o||o.replaceChild(i,r),r})),z=e=>{if(Lr(e)){const t="a"===e.nodeName.toLowerCase()&&!m(e,"href")&&m(e,"id");if(m(e,"name")||m(e,"data-mce-bookmark")||t)return!0}return!1},V=()=>e.createRange(),j=(n,o,i,s)=>{if(g(n)){let e=n.length;const t=[];for(;e--;)t[e]=j(n[e],o,i,s);return t}return!t.collect||n!==e&&n!==r||a.push([n,o,i,s]),u.bind(n,o,i,s||$)},q=(t,n,o)=>{if(g(t)){let e=t.length;const r=[];for(;e--;)r[e]=q(t[e],n,o);return r}if(a.length>0&&(t===e||t===r)){let e=a.length;for(;e--;){const[r,i,s]=a[e];t!==r||n&&n!==i||o&&o!==s||u.unbind(r,i,s)}}return u.unbind(t,n,o)},Z=e=>{if(e&&Lr(e)){const t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},$={doc:e,settings:t,win:r,files:o,stdMode:!0,boxModel:!0,styleSheetLoader:s,boundEvents:a,styles:c,schema:l,events:u,isBlock:e=>p(e)?Ce(d,e):Lr(e)&&(Ce(d,e.nodeName)||xi(l,e)),root:null,clone:(e,t)=>e.cloneNode(t),getRoot:b,getViewPort:e=>{const t=Or(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},getRect:e=>{const t=h(e),n=S(t),r=_(t);return{x:n.x,y:n.y,w:r.w,h:r.h}},getSize:_,getParent:(e,t,n)=>{const r=M(e,t,n,!1);return r&&r.length>0?r[0]:null},getParents:M,get:h,getNext:(e,t)=>P(e,t,"nextSibling"),getPrev:(e,t)=>P(e,t,"previousSibling"),select:(n,r)=>{var o,i;const s=null!==(i=null!==(o=h(r))&&void 0!==o?o:t.root_element)&&void 0!==i?i:e;return E(s.querySelectorAll)?de(s.querySelectorAll(n)):[]},is:k,add:D,create:I,createHTML:(e,t,n="")=>{let r="<"+e;for(const e in t)Ae(t,e)&&(r+=" "+e+'="'+B(t[e])+'"');return Xe(n)&&Ce(l.getVoidElements(),e)?r+" />":r+">"+n+"</"+e+">"},createFragment:t=>{const n=e.createElement("div"),r=e.createDocumentFragment();let o;for(r.appendChild(n),t&&(n.innerHTML=t);o=n.firstChild;)r.appendChild(o);return r.removeChild(n),r},remove:F,setStyle:(e,n,r)=>{O(e,(e=>{const o=vn(e);Ss(o,n,r),t.update_styles&&Es(c,o)}))},getStyle:C,setStyles:(e,n)=>{O(e,(e=>{const r=vn(e);me(n,((e,t)=>{Ss(r,t,e)})),t.update_styles&&Es(c,r)}))},removeAllAttribs:e=>O(e,(e=>{const t=e.attributes;for(let n=t.length-1;n>=0;n--)e.removeAttributeNode(t.item(n))})),setAttrib:y,setAttribs:R,getAttrib:m,getPos:S,parseStyle:e=>c.parse(e),serializeStyle:(e,t)=>c.serialize(e,t),addStyle:t=>{if($!==Cs.DOM&&e===document){if(n[t])return;n[t]=!0}let r=e.getElementById("mceDefaultStyles");if(!r){r=e.createElement("style"),r.id="mceDefaultStyles",r.type="text/css";const t=e.head;t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}r.styleSheet?r.styleSheet.cssText+=t:r.appendChild(e.createTextNode(t))},loadCSS:e=>{e||(e=""),W(e.split(","),(e=>{o[e]=!0,s.load(e).catch(A)}))},addClass:(e,t)=>{L(e,t,!0)},removeClass:(e,t)=>{L(e,t,!1)},hasClass:(e,t)=>{const n=f(e),r=t.split(" ");return x(n)&&re(r,(e=>hn(n,e)))},toggleClass:L,show:e=>{O(e,(e=>cr(vn(e),"display")))},hide:e=>{O(e,(e=>rr(vn(e),"display","none")))},isHidden:e=>{const t=f(e);return x(t)&&It(ar(t,"display"),"none")},uniqueId:e=>(e||"mce_")+i++,setHTML:N,getOuterHTML:e=>{const t=f(e);return x(t)?Lr(t.dom)?t.dom.outerHTML:(e=>{const t=mn("div"),n=vn(e.dom.cloneNode(!0));return pr(t,n),wr(t)})(t):""},setOuterHTML:(e,t)=>{O(e,(e=>{Lr(e)&&(e.outerHTML=t)}))},decode:qi.decode,encode:B,insertAfter:(e,t)=>{const n=h(t);return O(e,(e=>{const t=null==n?void 0:n.parentNode,r=null==n?void 0:n.nextSibling;return t&&(r?t.insertBefore(e,r):t.appendChild(e)),e}))},replace:H,rename:(e,t)=>{if(e.nodeName!==t.toUpperCase()){const n=I(t);return ms(v(e),(t=>{y(n,t.nodeName,m(e,t.nodeName))})),H(n,e,!0),n}return e},findCommonAncestor:(e,t)=>{let n=e;for(;n;){let e=t;for(;e&&n!==e;)e=e.parentNode;if(n===e)break;n=n.parentNode}return!n&&e.ownerDocument?e.ownerDocument.documentElement:n},run:O,getAttribs:v,isEmpty:(e,t)=>{let n=0;if(z(e))return!1;const r=e.firstChild;if(r){const o=new Ir(r,e),i=l?l.getWhitespaceElements():{},s=t||(l?l.getNonEmptyElements():null);let a=r;do{if(Lr(a)){const e=a.getAttribute("data-mce-bogus");if(e){a=o.next("all"===e);continue}const t=a.nodeName.toLowerCase();if(s&&s[t]){if("br"===t){n++,a=o.next();continue}return!1}if(z(a))return!1}if(Xr(a))return!1;if(Zr(a)&&!ri(a.data))return!1;if(Zr(a)&&a.parentNode&&i[a.parentNode.nodeName]&&ri(a.data))return!1;a=o.next()}while(a)}return n<=1},createRng:V,nodeIndex:xs,split:(e,t,n)=>{let r,o,i=V();if(e&&t&&e.parentNode&&t.parentNode){const s=e.parentNode;return i.setStart(s,xs(e)),i.setEnd(t.parentNode,xs(t)),r=i.extractContents(),i=V(),i.setStart(t.parentNode,xs(t)+1),i.setEnd(s,xs(e)+1),o=i.extractContents(),s.insertBefore(Oi($,r),e),n?s.insertBefore(n,e):s.insertBefore(t,e),s.insertBefore(Oi($,o),e),F(e),n||t}},bind:j,unbind:q,fire:(e,t,n)=>u.dispatch(e,t,n),dispatch:(e,t,n)=>u.dispatch(e,t,n),getContentEditable:Z,getContentEditableParent:e=>{const t=b();let n=null;for(let r=e;r&&r!==t&&(n=Z(r),null===n);r=r.parentNode);return n},isEditable:e=>{if(x(e)){const t=Lr(e)?e:e.parentElement,n="true"===Z(b());return x(t)&&Qn(vn(t),n)}return!1},destroy:()=>{if(a.length>0){let e=a.length;for(;e--;){const[t,n,r]=a[e];u.unbind(t,n,r)}}me(o,((e,t)=>{s.unload(t),delete o[t]}))},isChildOf:(e,t)=>e===t||t.contains(e),dumpRng:e=>"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},K=((e,t,n)=>{const r=t.keep_values,o={set:(e,r,o)=>{const i=vn(e);E(t.url_converter)&&x(r)&&(r=t.url_converter.call(t.url_converter_scope||n(),String(r),o,e)),bs(i,"data-mce-"+o,r),bs(i,o,r)},get:(e,t)=>{const n=vn(e);return Jt(n,"data-mce-"+t)||Jt(n,t)}},i={style:{set:(t,n)=>{const o=vn(t);r&&bs(o,vs,n),tn(o,"style"),p(n)&&or(o,e.parse(n))},get:t=>{const n=vn(t),r=Jt(n,vs)||Jt(n,"style");return e.serialize(e.parse(r),Vt(n))}}};return r&&(i.href=i.src=o),i})(c,t,T($));return $};Cs.DOM=Cs(document),Cs.nodeIndex=xs;const As=Cs.DOM;class _s{constructor(e={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(e){return new Promise(((t,n)=>{const r=As;let o;const i=()=>{r.remove(s),o&&(o.onerror=o.onload=o=null)},s=r.uniqueId();o=document.createElement("script"),o.id=s,o.type="text/javascript",o.src=Dt._addCacheSuffix(e),this.settings.referrerPolicy&&r.setAttrib(o,"referrerpolicy",this.settings.referrerPolicy),o.onload=()=>{i(),t()},o.onerror=()=>{i(),n("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(o)}))}isDone(e){return 2===this.states[e]}markDone(e){this.states[e]=2}add(e){const t=this;return t.queue.push(e),void 0===t.states[e]&&(t.states[e]=0),new Promise(((n,r)=>{t.scriptLoadedCallbacks[e]||(t.scriptLoadedCallbacks[e]=[]),t.scriptLoadedCallbacks[e].push({resolve:n,reject:r})}))}load(e){return this.add(e)}remove(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}loadQueue(){const e=this.queue;return this.queue=[],this.loadScripts(e)}loadScripts(e){const t=this,n=(e,n)=>{Se(t.scriptLoadedCallbacks,n).each((t=>{W(t,(t=>t[e](n)))})),delete t.scriptLoadedCallbacks[n]},r=e=>{const t=K(e,(e=>"rejected"===e.status));return t.length>0?Promise.reject(ne(t,(({reason:e})=>g(e)?e:[e]))):Promise.resolve()},o=e=>Promise.allSettled(q(e,(e=>2===t.states[e]?(n("resolve",e),Promise.resolve()):3===t.states[e]?(n("reject",e),Promise.reject(e)):(t.states[e]=1,t.loadScript(e).then((()=>{t.states[e]=2,n("resolve",e);const i=t.queue;return i.length>0?(t.queue=[],o(i).then(r)):Promise.resolve()}),(()=>(t.states[e]=3,n("reject",e),Promise.reject(e)))))))),i=e=>(t.loading=!0,o(e).then((e=>{t.loading=!1;const n=t.queueLoadedCallbacks.shift();return L.from(n).each(I),r(e)}))),s=_e(e);return t.loading?new Promise(((e,n)=>{t.queueLoadedCallbacks.push((()=>i(s).then(e,n)))})):i(s)}}_s.ScriptLoader=new _s;const ks=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Ts={},Ms=ks("en"),Ps=()=>Se(Ts,Ms.get()),Os={getData:()=>ge(Ts,(e=>({...e}))),setCode:e=>{e&&Ms.set(e)},getCode:()=>Ms.get(),add:(e,t)=>{let n=Ts[e];n||(Ts[e]=n={}),me(t,((e,t)=>{n[t.toLowerCase()]=e}))},translate:e=>{const t=Ps().getOr({}),n=e=>E(e)?Object.prototype.toString.call(e):r(e)?"":""+e,r=e=>""===e||null==e,o=e=>{const r=n(e);return Se(t,r.toLowerCase()).map(n).getOr(r)},i=e=>e.replace(/{context:\w+}$/,"");if(r(e))return"";if(f(s=e)&&Ce(s,"raw"))return n(e.raw);var s;if((e=>g(e)&&e.length>1)(e)){const t=e.slice(1);return i(o(e[0]).replace(/\{([0-9]+)\}/g,((e,r)=>Ce(t,r)?n(t[r]):e)))}return i(o(e))},isRtl:()=>Ps().bind((e=>Se(e,"_dir"))).exists((e=>"rtl"===e)),hasCode:e=>Ce(Ts,e)},Rs=()=>{const e=[],t={},n={},r=[],o=(e,t)=>{const n=K(r,(n=>n.name===e&&n.state===t));W(n,(e=>e.resolve()))},i=e=>Ce(t,e),s=(e,n)=>{const r=Os.getCode();!r||n&&-1===(","+(n||"")+",").indexOf(","+r+",")||_s.ScriptLoader.add(t[e]+"/langs/"+r+".js")},a=(e,t="added")=>"added"===t&&(e=>Ce(n,e))(e)||"loaded"===t&&i(e)?Promise.resolve():new Promise((n=>{r.push({name:e,state:t,resolve:n})}));return{items:e,urls:t,lookup:n,get:e=>{if(n[e])return n[e].instance},requireLangPack:(e,t)=>{!1!==Rs.languageLoad&&(i(e)?s(e,t):a(e,"loaded").then((()=>s(e,t))))},add:(t,r)=>(e.push(r),n[t]={instance:r},o(t,"added"),r),remove:e=>{delete t[e],delete n[e]},createUrl:(e,t)=>p(t)?p(e)?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}:t,load:(e,r)=>{if(t[e])return Promise.resolve();let i=p(r)?r:r.prefix+r.resource+r.suffix;0!==i.indexOf("/")&&-1===i.indexOf("://")&&(i=Rs.baseURL+"/"+i),t[e]=i.substring(0,i.lastIndexOf("/"));const s=()=>(o(e,"loaded"),Promise.resolve());return n[e]?s():_s.ScriptLoader.add(i).then(s)},waitFor:a}};Rs.languageLoad=!0,Rs.baseURL="",Rs.PluginManager=Rs(),Rs.ThemeManager=Rs(),Rs.ModelManager=Rs();const Ns=e=>{const t=ks(L.none()),n=()=>t.get().each((e=>clearInterval(e)));return{clear:()=>{n(),t.set(L.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:r=>{n(),t.set(L.some(setInterval(r,e)))}}},Ds=()=>{const e=(e=>{const t=ks(L.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(L.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(L.some(e))}}})(A);return{...e,on:t=>e.get().each(t)}},Is=(e,t)=>{let n=null;return{cancel:()=>{v(n)||(clearTimeout(n),n=null)},throttle:(...r)=>{v(n)&&(n=setTimeout((()=>{n=null,e.apply(null,r)}),t))}}},Bs=(e,t)=>{let n=null;const r=()=>{v(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...o)=>{r(),n=setTimeout((()=>{n=null,e.apply(null,o)}),t)}}},Fs=T("mce-annotation"),Ls=T("data-mce-annotation"),Hs=T("data-mce-annotation-uid"),zs=T("data-mce-annotation-active"),Vs=T("data-mce-annotation-classes"),js=T("data-mce-annotation-attrs"),Us=e=>t=>xn(t,e),Gs=(e,t)=>{const n=e.selection.getRng(),r=vn(n.startContainer),o=vn(e.getBody()),i=t.fold((()=>"."+Fs()),(e=>`[${Ls()}="${e}"]`)),s=Dn(r,n.startOffset).getOr(r);return Jn(s,i,Us(o)).bind((t=>Qt(t,`${Hs()}`).bind((n=>Qt(t,`${Ls()}`).map((t=>{const r=Ws(e,n);return{uid:n,name:t,elements:r}}))))))},qs=(e,t)=>en(e,"data-mce-bogus")||Dr(e,'[data-mce-bogus="all"]',Us(t)),Ws=(e,t)=>{const n=vn(e.getBody()),r=Nr(n,`[${Hs()}="${t}"]`);return K(r,(e=>!qs(e,n)))},Zs=(e,t)=>{const n=vn(e.getBody()),r=Nr(n,`[${Ls()}="${t}"]`),o={};return W(r,(e=>{if(!qs(e,n)){const t=Jt(e,Hs()),n=Se(o,t).getOr([]);o[t]=n.concat([e])}})),o};let $s=0;const Ks=e=>{const t=(new Date).getTime(),n=Math.floor(1e9*Math.random());return $s++,e+"_"+n+$s+String(t)},Xs=(e,t)=>vn(e.dom.cloneNode(t)),Ys=e=>Xs(e,!1),Js=e=>Xs(e,!0),Qs=(e,t,n=B)=>{const r=new Ir(e,t),o=e=>{let t;do{t=r[e]()}while(t&&!Zr(t)&&!n(t));return L.from(t).filter(Zr)};return{current:()=>L.from(r.current()).filter(Zr),next:()=>o("next"),prev:()=>o("prev"),prev2:()=>o("prev2")}},ea=(e,t)=>{const n=t||(t=>e.isBlock(t)||Qr(t)||no(t)),r=(e,t,n,o)=>{if(Zr(e)){const n=o(e,t,e.data);if(-1!==n)return L.some({container:e,offset:n})}return n().bind((e=>r(e.container,e.offset,n,o)))};return{backwards:(t,o,i,s)=>{const a=Qs(t,null!=s?s:e.getRoot(),n);return r(t,o,(()=>a.prev().map((e=>({container:e,offset:e.length})))),i).getOrNull()},forwards:(t,o,i,s)=>{const a=Qs(t,null!=s?s:e.getRoot(),n);return r(t,o,(()=>a.next().map((e=>({container:e,offset:0})))),i).getOrNull()}}},ta=Math.round,na=e=>e?{left:ta(e.left),top:ta(e.top),bottom:ta(e.bottom),right:ta(e.right),width:ta(e.width),height:ta(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},ra=(e,t)=>(e=na(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),oa=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,ia=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&oa(t.top-e.bottom,e,t)},sa=(e,t)=>e.top>t.bottom||!(e.bottom<t.top)&&oa(t.bottom-e.top,e,t),aa=(e,t,n)=>{const r=Math.max(Math.min(t,e.left+e.width),e.left),o=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(n-o)*(n-o))},la=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},ca=(e,t)=>{if(Lr(e)&&e.hasChildNodes()){const n=e.childNodes,r=((e,t,n)=>Math.min(Math.max(e,0),n))(t,0,n.length-1);return n[r]}return e},ua=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),da=e=>p(e)&&e.charCodeAt(0)>=768&&ua.test(e),ha=Lr,pa=Qo,fa=Vr("display","block table"),ma=Vr("float","left right"),ga=((...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0})(ha,pa,R(ma)),va=R(Vr("white-space","pre pre-line pre-wrap")),ya=Zr,ba=Qr,wa=Cs.nodeIndex,xa=(e,t)=>t<0&&Lr(e)&&e.hasChildNodes()?void 0:ca(e,t),Ea=e=>e?e.createRange():Cs.DOM.createRng(),Sa=e=>p(e)&&/[\r\n\t ]/.test(e),Ca=e=>!!e.setStart&&!!e.setEnd,Aa=e=>{const t=e.startContainer,n=e.startOffset;if(Sa(e.toString())&&va(t.parentNode)&&Zr(t)){const e=t.data;if(Sa(e[n-1])||Sa(e[n+1]))return!0}return!1},_a=e=>0===e.left&&0===e.right&&0===e.top&&0===e.bottom,ka=e=>{var t;let n;const r=e.getClientRects();return n=r.length>0?na(r[0]):na(e.getBoundingClientRect()),!Ca(e)&&ba(e)&&_a(n)?(e=>{const t=e.ownerDocument,n=Ea(t),r=t.createTextNode(lo),o=e.parentNode;o.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);const i=na(n.getBoundingClientRect());return o.removeChild(r),i})(e):_a(n)&&Ca(e)&&null!==(t=(e=>{const t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;if(t===n&&Zr(n)&&0===r&&1===o){const t=e.cloneRange();return t.setEndAfter(n),ka(t)}return null})(e))&&void 0!==t?t:n},Ta=(e,t)=>{const n=ra(e,t);return n.width=1,n.right=n.left+1,n},Ma=(e,t,n)=>{const r=()=>(n||(n=(e=>{const t=[],n=e=>{var n,r;0!==e.height&&(t.length>0&&(n=e,r=t[t.length-1],n.left===r.left&&n.top===r.top&&n.bottom===r.bottom&&n.right===r.right)||t.push(e))},r=(e,t)=>{const r=Ea(e.ownerDocument);if(t<e.data.length){if(da(e.data[t]))return;if(da(e.data[t-1])&&(r.setStart(e,t),r.setEnd(e,t+1),!Aa(r)))return void n(Ta(ka(r),!1))}t>0&&(r.setStart(e,t-1),r.setEnd(e,t),Aa(r)||n(Ta(ka(r),!1))),t<e.data.length&&(r.setStart(e,t),r.setEnd(e,t+1),Aa(r)||n(Ta(ka(r),!0)))},o=e.container(),i=e.offset();if(ya(o))return r(o,i),t;if(ha(o))if(e.isAtEnd()){const e=xa(o,i);ya(e)&&r(e,e.data.length),ga(e)&&!ba(e)&&n(Ta(ka(e),!1))}else{const s=xa(o,i);if(ya(s)&&r(s,0),ga(s)&&e.isAtEnd())return n(Ta(ka(s),!1)),t;const a=xa(e.container(),e.offset()-1);ga(a)&&!ba(a)&&(fa(a)||fa(s)||!ga(s))&&n(Ta(ka(a),!1)),ga(s)&&n(Ta(ka(s),!0))}return t})(Ma(e,t))),n);return{container:T(e),offset:T(t),toRange:()=>{const n=Ea(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},getClientRects:r,isVisible:()=>r().length>0,isAtStart:()=>(ya(e),0===t),isAtEnd:()=>ya(e)?t>=e.data.length:t>=e.childNodes.length,isEqual:n=>n&&e===n.container()&&t===n.offset(),getNode:n=>xa(e,n?t-1:t)}};Ma.fromRangeStart=e=>Ma(e.startContainer,e.startOffset),Ma.fromRangeEnd=e=>Ma(e.endContainer,e.endOffset),Ma.after=e=>Ma(e.parentNode,wa(e)+1),Ma.before=e=>Ma(e.parentNode,wa(e)),Ma.isAbove=(e,t)=>Bt(ce(t.getClientRects()),ue(e.getClientRects()),ia).getOr(!1),Ma.isBelow=(e,t)=>Bt(ue(t.getClientRects()),ce(e.getClientRects()),sa).getOr(!1),Ma.isAtStart=e=>!!e&&e.isAtStart(),Ma.isAtEnd=e=>!!e&&e.isAtEnd(),Ma.isTextPosition=e=>!!e&&Zr(e.container()),Ma.isElementPosition=e=>!Ma.isTextPosition(e);const Pa=(e,t)=>{Zr(t)&&0===t.data.length&&e.remove(t)},Oa=(e,t,n)=>{Jr(n)?((e,t,n)=>{const r=L.from(n.firstChild),o=L.from(n.lastChild);t.insertNode(n),r.each((t=>Pa(e,t.previousSibling))),o.each((t=>Pa(e,t.nextSibling)))})(e,t,n):((e,t,n)=>{t.insertNode(n),Pa(e,n.previousSibling),Pa(e,n.nextSibling)})(e,t,n)},Ra=Zr,Na=Ur,Da=Cs.nodeIndex,Ia=e=>{const t=e.parentNode;return Na(t)?Ia(t):t},Ba=e=>e?Re(e.childNodes,((e,t)=>(Na(t)&&"BR"!==t.nodeName?e=e.concat(Ba(t)):e.push(t),e)),[]):[],Fa=e=>t=>e===t,La=e=>(Ra(e)?"text()":e.nodeName.toLowerCase())+"["+(e=>{let t,n;t=Ba(Ia(e)),n=Ne(t,Fa(e),e),t=t.slice(0,n+1);const r=Re(t,((e,n,r)=>(Ra(n)&&Ra(t[r-1])&&e++,e)),0);return t=Oe(t,zr([e.nodeName])),n=Ne(t,Fa(e),e),n-r})(e)+"]",Ha=(e,t)=>{let n,r=[],o=t.container(),i=t.offset();if(Ra(o))n=((e,t)=>{let n=e;for(;(n=n.previousSibling)&&Ra(n);)t+=n.data.length;return t})(o,i);else{const e=o.childNodes;i>=e.length?(n="after",i=e.length-1):n="before",o=e[i]}r.push(La(o));let s=((e,t,n)=>{const r=[];for(let n=t.parentNode;n&&n!==e;n=n.parentNode)r.push(n);return r})(e,o);return s=Oe(s,R(Ur)),r=r.concat(Pe(s,(e=>La(e)))),r.reverse().join("/")+","+n},za=(e,t)=>{if(!t)return null;const n=t.split(","),r=n[0].split("/"),o=n.length>1?n[1]:"before",i=Re(r,((e,t)=>{const n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return n?("text()"===n[1]&&(n[1]="#text"),((e,t,n)=>{let r=Ba(e);return r=Oe(r,((e,t)=>!Ra(e)||!Ra(r[t-1]))),r=Oe(r,zr([t])),r[n]})(e,n[1],parseInt(n[2],10))):null}),e);if(!i)return null;if(!Ra(i)&&i.parentNode){let e;return e="after"===o?Da(i)+1:Da(i),Ma(i.parentNode,e)}return((e,t)=>{let n=e,r=0;for(;Ra(n);){const o=n.data.length;if(t>=r&&t<=r+o){e=n,t-=r;break}if(!Ra(n.nextSibling)){e=n,t=o;break}r+=o,n=n.nextSibling}return Ra(e)&&t>e.data.length&&(t=e.data.length),Ma(e,t)})(i,parseInt(o,10))},Va=no,ja=(e,t,n,r,o)=>{const i=o?r.startContainer:r.endContainer;let s=o?r.startOffset:r.endOffset;const a=[],l=e.getRoot();if(Zr(i))a.push(n?((e,t,n)=>{let r=e(t.data.slice(0,n)).length;for(let n=t.previousSibling;n&&Zr(n);n=n.previousSibling)r+=e(n.data).length;return r})(t,i,s):s);else{let t=0;const r=i.childNodes;s>=r.length&&r.length&&(t=1,s=Math.max(0,r.length-1)),a.push(e.nodeIndex(r[s],n)+t)}for(let t=i;t&&t!==l;t=t.parentNode)a.push(e.nodeIndex(t,n));return a},Ua=(e,t,n)=>{let r=0;return Dt.each(e.select(t),(e=>"all"===e.getAttribute("data-mce-bogus")?void 0:e!==n&&void r++)),r},Ga=(e,t)=>{let n=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(Lr(n)&&"TR"===n.nodeName){const o=n.childNodes;n=o[Math.min(t?r:r-1,o.length-1)],n&&(r=t?0:n.childNodes.length,t?e.setStart(n,r):e.setEnd(n,r))}},qa=e=>(Ga(e,!0),Ga(e,!1),e),Wa=(e,t)=>{if(Lr(e)&&(e=ca(e,t),Va(e)))return e;if(Fo(e)){Zr(e)&&Io(e)&&(e=e.parentNode);let t=e.previousSibling;if(Va(t))return t;if(t=e.nextSibling,Va(t))return t}},Za=(e,t,n)=>{const r=n.getNode(),o=n.getRng();if("IMG"===r.nodeName||Va(r)){const e=r.nodeName;return{name:e,index:Ua(n.dom,e,r)}}const i=(e=>Wa(e.startContainer,e.startOffset)||Wa(e.endContainer,e.endOffset))(o);if(i){const e=i.tagName;return{name:e,index:Ua(n.dom,e,i)}}return((e,t,n,r)=>{const o=t.dom,i=ja(o,e,n,r,!0),s=t.isForward(),a=Go(r)?{isFakeCaret:!0}:{};return t.isCollapsed()?{start:i,forward:s,...a}:{start:i,end:ja(o,e,n,r,!1),forward:s,...a}})(e,n,t,o)},$a=(e,t,n)=>{const r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Ka=(e,t)=>{const n=e.dom;let r=e.getRng();const o=n.uniqueId(),i=e.isCollapsed(),s=e.getNode(),a=s.nodeName,l=e.isForward();if("IMG"===a)return{name:a,index:Ua(n,a,s)};const c=qa(r.cloneRange());if(!i){c.collapse(!1);const e=$a(n,o+"_end",t);Oa(n,c,e)}r=qa(r),r.collapse(!0);const u=$a(n,o+"_start",t);return Oa(n,r,u),e.moveToBookmark({id:o,keep:!0,forward:l}),{id:o,forward:l}},Xa=O(Za,M,!0),Ya=e=>{const t=t=>t(e),n=T(e),r=()=>o,o={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:F,isError:B,map:t=>Qa.value(t(e)),mapError:r,bind:t,exists:t,forall:t,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:t=>{t(e)},toOptional:()=>L.some(e)};return o},Ja=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:B,isError:F,map:t,mapError:t=>Qa.error(t(e)),bind:t,exists:B,forall:F,getOr:M,or:M,getOrThunk:D,orThunk:D,getOrDie:N(String(e)),each:A,toOptional:L.none};return n},Qa={value:Ya,error:Ja,fromOption:(e,t)=>e.fold((()=>Ja(t)),Ya)},el=e=>{if(!g(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return W(e,((r,o)=>{const i=pe(r);if(1!==i.length)throw new Error("one and only one name per case");const s=i[0],a=r[s];if(void 0!==n[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!g(a))throw new Error("case arguments must be an array");t.push(s),n[s]=(...n)=>{const r=n.length;if(r!==a.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+a.length+" ("+a+"), got "+r);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,n)},match:e=>{const r=pe(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));if(!re(t,(e=>U(r,e))))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[s].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:s,params:n})}}}})),n};el([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const tl=e=>"inline-command"===e.type||"inline-format"===e.type,nl=e=>"block-command"===e.type||"block-format"===e.type,rl=e=>{const t=t=>Qa.error({message:t,pattern:e}),n=(n,r,o)=>{if(void 0!==e.format){let o;if(g(e.format)){if(!re(e.format,p))return t(n+" pattern has non-string items in the `format` array");o=e.format}else{if(!p(e.format))return t(n+" pattern has non-string `format` parameter");o=[e.format]}return Qa.value(r(o))}return void 0!==e.cmd?p(e.cmd)?Qa.value(o(e.cmd,e.value)):t(n+" pattern has non-string `cmd` parameter"):t(n+" pattern is missing both `format` and `cmd` parameters")};if(!f(e))return t("Raw pattern is not an object");if(!p(e.start))return t("Raw pattern is missing `start` parameter");if(void 0!==e.end){if(!p(e.end))return t("Inline pattern has non-string `end` parameter");if(0===e.start.length&&0===e.end.length)return t("Inline pattern has empty `start` and `end` parameters");let r=e.start,o=e.end;return 0===o.length&&(o=r,r=""),n("Inline",(e=>({type:"inline-format",start:r,end:o,format:e})),((e,t)=>({type:"inline-command",start:r,end:o,cmd:e,value:t})))}return void 0!==e.replacement?p(e.replacement)?0===e.start.length?t("Replacement pattern has empty `start` parameter"):Qa.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):0===e.start.length?t("Block pattern has empty `start` parameter"):n("Block",(t=>({type:"block-format",start:e.start,format:t[0]})),((t,n)=>({type:"block-command",start:e.start,cmd:t,value:n})))},ol=e=>K(e,nl),il=e=>K(e,tl),sl=e=>{const t=(e=>{const t=[],n=[];return W(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{n.push(e)}))})),{errors:t,values:n}})(q(e,rl));return W(t.errors,(e=>console.error(e.message,e.pattern))),t.values},al=St().deviceType,ll=al.isTouch(),cl=Cs.DOM,ul=e=>h(e,RegExp),dl=e=>t=>t.options.get(e),hl=e=>p(e)||f(e),pl=(e,t="")=>n=>{const r=p(n);if(r){if(-1!==n.indexOf("=")){const o=(e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Y(t,((e,t)=>{const n=t.split("="),r=n[0],o=n.length>1?n[1]:r;return e[We(r)]=We(o),e}),{})})(n);return{value:Se(o,e.id).getOr(t),valid:r}}return{value:n,valid:r}}return{valid:!1,message:"Must be a string."}},fl=dl("iframe_attrs"),ml=dl("doctype"),gl=dl("document_base_url"),vl=dl("body_id"),yl=dl("body_class"),bl=dl("content_security_policy"),wl=dl("br_in_pre"),xl=dl("forced_root_block"),El=dl("forced_root_block_attrs"),Sl=dl("newline_behavior"),Cl=dl("br_newline_selector"),Al=dl("no_newline_selector"),_l=dl("keep_styles"),kl=dl("end_container_on_empty_block"),Tl=dl("automatic_uploads"),Ml=dl("images_reuse_filename"),Pl=dl("images_replace_blob_uris"),Ol=dl("icons"),Rl=dl("icons_url"),Nl=dl("images_upload_url"),Dl=dl("images_upload_base_path"),Il=dl("images_upload_credentials"),Bl=dl("images_upload_handler"),Fl=dl("content_css_cors"),Ll=dl("referrer_policy"),Hl=dl("language"),zl=dl("language_url"),Vl=dl("indent_use_margin"),jl=dl("indentation"),Ul=dl("content_css"),Gl=dl("content_style"),ql=dl("font_css"),Wl=dl("directionality"),Zl=dl("inline_boundaries_selector"),$l=dl("object_resizing"),Kl=dl("resize_img_proportional"),Xl=dl("placeholder"),Yl=dl("event_root"),Jl=dl("service_message"),Ql=dl("theme"),ec=dl("theme_url"),tc=dl("model"),nc=dl("model_url"),rc=dl("inline_boundaries"),oc=dl("formats"),ic=dl("preview_styles"),sc=dl("format_empty_lines"),ac=dl("format_noneditable_selector"),lc=dl("custom_ui_selector"),cc=dl("inline"),uc=dl("hidden_input"),dc=dl("submit_patch"),hc=dl("add_form_submit_trigger"),pc=dl("add_unload_trigger"),fc=dl("custom_undo_redo_levels"),mc=dl("disable_nodechange"),gc=dl("readonly"),vc=dl("content_css_cors"),yc=dl("plugins"),bc=dl("external_plugins"),wc=dl("block_unsupported_drop"),xc=dl("visual"),Ec=dl("visual_table_class"),Sc=dl("visual_anchor_class"),Cc=dl("iframe_aria_text"),Ac=dl("setup"),_c=dl("init_instance_callback"),kc=dl("urlconverter_callback"),Tc=dl("auto_focus"),Mc=dl("browser_spellcheck"),Pc=dl("protect"),Oc=dl("paste_block_drop"),Rc=dl("paste_data_images"),Nc=dl("paste_preprocess"),Dc=dl("paste_postprocess"),Ic=dl("paste_webkit_styles"),Bc=dl("paste_remove_styles_if_webkit"),Fc=dl("paste_merge_formats"),Lc=dl("smart_paste"),Hc=dl("paste_as_text"),zc=dl("paste_tab_spaces"),Vc=dl("allow_html_data_urls"),jc=dl("text_patterns"),Uc=dl("text_patterns_lookup"),Gc=dl("noneditable_class"),qc=dl("editable_class"),Wc=dl("noneditable_regexp"),Zc=dl("preserve_cdata"),$c=dl("highlight_on_focus"),Kc=dl("xss_sanitization"),Xc=e=>Dt.explode(e.options.get("images_file_types")),Yc=dl("table_tab_navigation"),Jc=Lr,Qc=Zr,eu=e=>{const t=e.parentNode;t&&t.removeChild(e)},tu=e=>{const t=Ro(e);return{count:e.length-t.length,text:t}},nu=e=>{let t;for(;-1!==(t=e.data.lastIndexOf(Po));)e.deleteData(t,1)},ru=(e,t)=>(ou(e),t),ou=e=>{Jc(e)&&Fo(e)&&(Lo(e)?e.removeAttribute("data-mce-caret"):eu(e)),Qc(e)&&(nu(e),0===e.data.length&&eu(e))},iu=no,su=io,au=ro,lu=(e,t,n)=>{const r=ra(t.getBoundingClientRect(),n);let o,i;if("BODY"===e.tagName){const t=e.ownerDocument.documentElement;o=e.scrollLeft||t.scrollLeft,i=e.scrollTop||t.scrollTop}else{const t=e.getBoundingClientRect();o=e.scrollLeft-t.left,i=e.scrollTop-t.top}r.left+=o,r.right+=o,r.top+=i,r.bottom+=i,r.width=1;let s=t.offsetWidth-t.clientWidth;return s>0&&(n&&(s*=-1),r.left+=s,r.right+=s),r},cu=()=>Pt.browser.isFirefox(),uu=e=>iu(e)||su(e),du=e=>(uu(e)||Gr(e)&&cu())&&kn(vn(e)).exists(Qn),hu=to,pu=no,fu=io,mu=Vr("display","block table table-cell table-caption list-item"),gu=Fo,vu=Io,yu=Lr,bu=Zr,wu=Qo,xu=e=>e>0,Eu=e=>e<0,Su=(e,t)=>{let n;for(;n=e(t);)if(!vu(n))return n;return null},Cu=(e,t,n,r,o)=>{const i=new Ir(e,r),s=pu(e)||vu(e);let a;if(Eu(t)){if(s&&(a=Su(i.prev.bind(i),!0),n(a)))return a;for(;a=Su(i.prev.bind(i),o);)if(n(a))return a}if(xu(t)){if(s&&(a=Su(i.next.bind(i),!0),n(a)))return a;for(;a=Su(i.next.bind(i),o);)if(n(a))return a}return null},Au=(e,t)=>{for(;e&&e!==t;){if(mu(e))return e;e=e.parentNode}return null},_u=(e,t,n)=>Au(e.container(),n)===Au(t.container(),n),ku=(e,t)=>{if(!t)return L.none();const n=t.container(),r=t.offset();return yu(n)?L.from(n.childNodes[r+e]):L.none()},Tu=(e,t)=>{var n;const r=(null!==(n=t.ownerDocument)&&void 0!==n?n:document).createRange();return e?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),r},Mu=(e,t,n)=>Au(t,e)===Au(n,e),Pu=(e,t,n)=>{const r=e?"previousSibling":"nextSibling";let o=n;for(;o&&o!==t;){let e=o[r];if(e&&gu(e)&&(e=e[r]),pu(e)||fu(e)){if(Mu(t,e,o))return e;break}if(wu(e))break;o=o.parentNode}return null},Ou=O(Tu,!0),Ru=O(Tu,!1),Nu=(e,t,n)=>{let r;const o=O(Pu,!0,t),i=O(Pu,!1,t),s=n.startContainer,a=n.startOffset;if(Io(s)){const e=bu(s)?s.parentNode:s,t=e.getAttribute("data-mce-caret");if("before"===t&&(r=e.nextSibling,du(r)))return Ou(r);if("after"===t&&(r=e.previousSibling,du(r)))return Ru(r)}if(!n.collapsed)return n;if(Zr(s)){if(gu(s)){if(1===e){if(r=i(s),r)return Ou(r);if(r=o(s),r)return Ru(r)}if(-1===e){if(r=o(s),r)return Ru(r);if(r=i(s),r)return Ou(r)}return n}if(jo(s)&&a>=s.data.length-1)return 1===e&&(r=i(s),r)?Ou(r):n;if(Vo(s)&&a<=1)return-1===e&&(r=o(s),r)?Ru(r):n;if(a===s.data.length)return r=i(s),r?Ou(r):n;if(0===a)return r=o(s),r?Ru(r):n}return n},Du=(e,t)=>ku(e?0:-1,t).filter(pu),Iu=(e,t,n)=>{const r=Nu(e,t,n);return-1===e?Ma.fromRangeStart(r):Ma.fromRangeEnd(r)},Bu=e=>L.from(e.getNode()).map(vn),Fu=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},Lu=(e,t)=>{const n=_u(e,t);return!(n||!Qr(e.getNode()))||n};var Hu;!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(Hu||(Hu={}));const zu=no,Vu=Zr,ju=Lr,Uu=Qr,Gu=Qo,qu=e=>Xo(e)||(e=>!!ei(e)&&!Y(de(e.getElementsByTagName("*")),((e,t)=>e||qo(t)),!1))(e),Wu=ti,Zu=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,$u=(e,t)=>{if(xu(e)){if(Gu(t.previousSibling)&&!Vu(t.previousSibling))return Ma.before(t);if(Vu(t))return Ma(t,0)}if(Eu(e)){if(Gu(t.nextSibling)&&!Vu(t.nextSibling))return Ma.after(t);if(Vu(t))return Ma(t,t.data.length)}return Eu(e)?Uu(t)?Ma.before(t):Ma.after(t):Ma.before(t)},Ku=(e,t,n)=>{let r,o,i,s;if(!ju(n)||!t)return null;if(t.isEqual(Ma.after(n))&&n.lastChild){if(s=Ma.after(n.lastChild),Eu(e)&&Gu(n.lastChild)&&ju(n.lastChild))return Uu(n.lastChild)?Ma.before(n.lastChild):s}else s=t;const a=s.container();let l=s.offset();if(Vu(a)){if(Eu(e)&&l>0)return Ma(a,--l);if(xu(e)&&l<a.length)return Ma(a,++l);r=a}else{if(Eu(e)&&l>0&&(o=Zu(a,l-1),Gu(o)))return!qu(o)&&(i=Cu(o,e,Wu,o),i)?Vu(i)?Ma(i,i.data.length):Ma.after(i):Vu(o)?Ma(o,o.data.length):Ma.before(o);if(xu(e)&&l<a.childNodes.length&&(o=Zu(a,l),Gu(o)))return Uu(o)?((e,t)=>{const n=t.nextSibling;return n&&Gu(n)?Vu(n)?Ma(n,0):Ma.before(n):Ku(Hu.Forwards,Ma.after(t),e)})(n,o):!qu(o)&&(i=Cu(o,e,Wu,o),i)?Vu(i)?Ma(i,0):Ma.before(i):Vu(o)?Ma(o,0):Ma.after(o);r=o||s.getNode()}if(r&&(xu(e)&&s.isAtEnd()||Eu(e)&&s.isAtStart())&&(r=Cu(r,e,F,n,!0),Wu(r,n)))return $u(e,r);o=r?Cu(r,e,Wu,n):r;const c=De(K(((e,t)=>{const n=[];let r=e;for(;r&&r!==t;)n.push(r),r=r.parentNode;return n})(a,n),zu));return!c||o&&c.contains(o)?o?$u(e,o):null:(s=xu(e)?Ma.after(c):Ma.before(c),s)},Xu=e=>({next:t=>Ku(Hu.Forwards,t,e),prev:t=>Ku(Hu.Backwards,t,e)}),Yu=e=>Ma.isTextPosition(e)?0===e.offset():Qo(e.getNode()),Ju=e=>{if(Ma.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}return Qo(e.getNode(!0))},Qu=(e,t)=>!Ma.isTextPosition(e)&&!Ma.isTextPosition(t)&&e.getNode()===t.getNode(!0),ed=(e,t,n)=>{const r=Xu(t);return L.from(e?r.next(n):r.prev(n))},td=(e,t,n)=>ed(e,t,n).bind((r=>_u(n,r,t)&&((e,t,n)=>{return e?!Qu(t,n)&&(r=t,!(!Ma.isTextPosition(r)&&Qr(r.getNode())))&&Ju(t)&&Yu(n):!Qu(n,t)&&Yu(t)&&Ju(n);var r})(e,n,r)?ed(e,t,r):L.some(r))),nd=(e,t,n,r)=>td(e,t,n).bind((n=>r(n)?nd(e,t,n,r):L.some(n))),rd=(e,t)=>{const n=e?t.firstChild:t.lastChild;return Zr(n)?L.some(Ma(n,e?0:n.data.length)):n?Qo(n)?L.some(e?Ma.before(n):Qr(r=n)?Ma.before(r):Ma.after(r)):((e,t,n)=>{const r=e?Ma.before(n):Ma.after(n);return ed(e,t,r)})(e,t,n):L.none();var r},od=O(ed,!0),id=O(ed,!1),sd=O(rd,!0),ad=O(rd,!1),ld="_mce_caret",cd=e=>Lr(e)&&e.id===ld,ud=(e,t)=>{let n=t;for(;n&&n!==e;){if(cd(n))return n;n=n.parentNode}return null},dd=e=>Ce(e,"name"),hd=e=>Dt.isArray(e.start),pd=e=>!(!dd(e)&&y(e.forward))||e.forward,fd=(e,t)=>(Lr(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),md=(e,t)=>ad(e).fold(B,(e=>(t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0))),gd=(e,t,n)=>!(!(e=>!e.hasChildNodes())(t)||!ud(e,t)||(((e,t)=>{var n;const r=(null!==(n=e.ownerDocument)&&void 0!==n?n:document).createTextNode(Po);e.appendChild(r),t.setStart(r,0),t.setEnd(r,0)})(t,n),0)),vd=(e,t,n,r)=>{const o=n[t?"start":"end"],i=e.getRoot();if(o){let e=i,n=o[0];for(let t=o.length-1;e&&t>=1;t--){const n=e.childNodes;if(gd(i,e,r))return!0;if(o[t]>n.length-1)return!!gd(i,e,r)||md(e,r);e=n[o[t]]}Zr(e)&&(n=Math.min(o[0],e.data.length)),Lr(e)&&(n=Math.min(o[0],e.childNodes.length)),t?r.setStart(e,n):r.setEnd(e,n)}return!0},yd=e=>Zr(e)&&e.data.length>0,bd=(e,t,n)=>{const r=e.get(n.id+"_"+t),o=null==r?void 0:r.parentNode,i=n.keep;if(r&&o){let s,a;if("start"===t?i?r.hasChildNodes()?(s=r.firstChild,a=1):yd(r.nextSibling)?(s=r.nextSibling,a=0):yd(r.previousSibling)?(s=r.previousSibling,a=r.previousSibling.data.length):(s=o,a=e.nodeIndex(r)+1):(s=o,a=e.nodeIndex(r)):i?r.hasChildNodes()?(s=r.firstChild,a=1):yd(r.previousSibling)?(s=r.previousSibling,a=r.previousSibling.data.length):(s=o,a=e.nodeIndex(r)):(s=o,a=e.nodeIndex(r)),!i){const o=r.previousSibling,i=r.nextSibling;let l;for(Dt.each(Dt.grep(r.childNodes),(e=>{Zr(e)&&(e.data=e.data.replace(/\uFEFF/g,""))}));l=e.get(n.id+"_"+t);)e.remove(l,!0);if(Zr(i)&&Zr(o)&&!Pt.browser.isOpera()){const t=o.data.length;o.appendData(i.data),e.remove(i),s=o,a=t}}return L.some(Ma(s,a))}return L.none()},wd=(e,t,n)=>((e,t,n=!1)=>2===t?Za(Ro,n,e):3===t?(e=>{const t=e.getRng();return{start:Ha(e.dom.getRoot(),Ma.fromRangeStart(t)),end:Ha(e.dom.getRoot(),Ma.fromRangeEnd(t)),forward:e.isForward()}})(e):t?(e=>({rng:e.getRng(),forward:e.isForward()}))(e):Ka(e,!1))(e,t,n),xd=(e,t)=>{((e,t)=>{const n=e.dom;if(t){if(hd(t))return((e,t)=>{const n=e.createRng();return vd(e,!0,t,n)&&vd(e,!1,t,n)?L.some({range:n,forward:pd(t)}):L.none()})(n,t);if((e=>p(e.start))(t))return((e,t)=>{const n=L.from(za(e.getRoot(),t.start)),r=L.from(za(e.getRoot(),t.end));return Bt(n,r,((n,r)=>{const o=e.createRng();return o.setStart(n.container(),n.offset()),o.setEnd(r.container(),r.offset()),{range:o,forward:pd(t)}}))})(n,t);if((e=>Ce(e,"id"))(t))return((e,t)=>{const n=bd(e,"start",t),r=bd(e,"end",t);return Bt(n,r.or(n),((n,r)=>{const o=e.createRng();return o.setStart(fd(e,n.container()),n.offset()),o.setEnd(fd(e,r.container()),r.offset()),{range:o,forward:pd(t)}}))})(n,t);if(dd(t))return((e,t)=>L.from(e.select(t.name)[t.index]).map((t=>{const n=e.createRng();return n.selectNode(t),{range:n,forward:!0}})))(n,t);if((e=>Ce(e,"rng"))(t))return L.some({range:t.rng,forward:pd(t)})}return L.none()})(e,t).each((({range:t,forward:n})=>{e.setRng(t,n)}))},Ed=e=>Lr(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type"),Sd=e=>" "===e,Cd=e=>""!==e&&-1!==" \f\n\r\t\v".indexOf(e),Ad=e=>!Cd(e)&&!Sd(e)&&!co(e),_d=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},kd=e=>(e=>{return{value:(t=e,Ve(t,"#").toUpperCase())};var t})(_d(e.red)+_d(e.green)+_d(e.blue)),Td=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Md=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Pd=(e,t,n,r)=>({red:e,green:t,blue:n,alpha:r}),Od=(e,t,n,r)=>{const o=parseInt(e,10),i=parseInt(t,10),s=parseInt(n,10),a=parseFloat(r);return Pd(o,i,s,a)},Rd=e=>(e=>{if("transparent"===e)return L.some(Pd(0,0,0,0));const t=Td.exec(e);if(null!==t)return L.some(Od(t[1],t[2],t[3],"1"));const n=Md.exec(e);return null!==n?L.some(Od(n[1],n[2],n[3],n[4])):L.none()})(e).map(kd).map((e=>"#"+e.value)).getOr(e),Nd=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Dd=(e,t)=>{const n=Nr(t,"td[data-mce-selected],th[data-mce-selected]");return n.length>0?n:(e=>K((e=>ne(e,(e=>{const t=la(e);return t?[vn(t)]:[]})))(e),So))(e)},Id=e=>Dd(Nd(e.selection.getSel()),vn(e.getBody())),Bd=(e,t)=>Xn(e,"table",t),Fd=e=>In(e).fold(T([e]),(t=>[e].concat(Fd(t)))),Ld=e=>Bn(e).fold(T([e]),(t=>"br"===Vt(t)?Mn(t).map((t=>[e].concat(Ld(t)))).getOr([]):[e].concat(Ld(t)))),Hd=(e,t)=>Bt((e=>{const t=e.startContainer,n=e.startOffset;return Zr(t)?0===n?L.some(vn(t)):L.none():L.from(t.childNodes[n]).map(vn)})(t),(e=>{const t=e.endContainer,n=e.endOffset;return Zr(t)?n===t.data.length?L.some(vn(t)):L.none():L.from(t.childNodes[n-1]).map(vn)})(t),((t,n)=>{const r=Q(Fd(e),O(xn,t)),o=Q(Ld(e),O(xn,n));return r.isSome()&&o.isSome()})).getOr(!1),zd=(e,t,n,r)=>{const o=n,i=new Ir(n,o),s=we(e.schema.getMoveCaretBeforeOnEnterElements(),((e,t)=>!U(["td","th","table"],t.toLowerCase())));let a=n;do{if(Zr(a)&&0!==Dt.trim(a.data).length)return void(r?t.setStart(a,0):t.setEnd(a,a.data.length));if(s[a.nodeName])return void(r?t.setStartBefore(a):"BR"===a.nodeName?t.setEndBefore(a):t.setEndAfter(a))}while(a=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},Vd=e=>{const t=e.selection.getSel();return x(t)&&t.rangeCount>0},jd=(e,t)=>{const n=Id(e);n.length>0?W(n,(n=>{const r=n.dom,o=e.dom.createRng();o.setStartBefore(r),o.setEndAfter(r),t(o,!0)})):t(e.selection.getRng(),!1)},Ud=(e,t,n)=>{const r=Ka(e,t);n(r),e.moveToBookmark(r)},Gd=e=>S(null==e?void 0:e.nodeType),qd=e=>Lr(e)&&!Ed(e)&&!cd(e)&&!Ur(e),Wd=e=>!0===e.isContentEditable,Zd=(e,t,n)=>{const{selection:r,dom:o}=e,i=r.getNode(),s=no(i);Ud(r,!0,(()=>{t()})),s&&no(i)&&o.isChildOf(i,e.getBody())?e.selection.select(i):n(r.getStart())&&$d(o,r)},$d=(e,t)=>{var n,r;const o=t.getRng(),{startContainer:i,startOffset:s}=o;if(!((e,t)=>{if(qd(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),r=parseInt(n,10);return!isNaN(r)&&r>0}return!1})(e,t.getNode())&&Lr(i)){const a=i.childNodes,l=e.getRoot();let c;if(s<a.length){const t=a[s];c=new Ir(t,null!==(n=e.getParent(t,e.isBlock))&&void 0!==n?n:l)}else{const t=a[a.length-1];c=new Ir(t,null!==(r=e.getParent(t,e.isBlock))&&void 0!==r?r:l),c.next(!0)}for(let n=c.current();n;n=c.next()){if("false"===e.getContentEditable(n))return;if(Zr(n)&&!Jd(n))return o.setStart(n,0),void t.setRng(o)}}},Kd=(e,t,n)=>{if(e){const r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(Lr(e)||!Jd(e))return e}},Xd=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||xi(e,t),Yd=(e,t,n)=>e.schema.isValidChild(t,n),Jd=(e,t=!1)=>{if(x(e)&&Zr(e)){const n=t?e.data.replace(/ /g," "):e.data;return ri(n)}return!1},Qd=(e,t)=>{const n=e.dom;return qd(t)&&"false"===n.getContentEditable(t)&&((e,t)=>{const n="[data-mce-cef-wrappable]",r=ac(e),o=Xe(r)?n:`${n},${r}`;return bn(vn(t),o)})(e,t)&&0===n.select('[contenteditable="true"]',t).length},eh=(e,t)=>E(e)?e(t):(x(t)&&(e=e.replace(/%(\w+)/g,((e,n)=>t[n]||e))),e),th=(e,t)=>(t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),nh=(e,t)=>{if(w(e))return null;{let n=String(e);return"color"!==t&&"backgroundColor"!==t||(n=Rd(n)),"fontWeight"===t&&700===e&&(n="bold"),"fontFamily"===t&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},rh=(e,t,n)=>{const r=e.getStyle(t,n);return nh(r,n)},oh=(e,t)=>{let n;return e.getParent(t,(t=>!!Lr(t)&&(n=e.getStyle(t,"text-decoration"),!!n&&"none"!==n))),n},ih=(e,t,n)=>e.getParents(t,n,e.getRoot()),sh=(e,t,n)=>{const r=e.formatter.get(t);return x(r)&&G(r,n)},ah=e=>Ae(e,"block"),lh=e=>Ae(e,"selector"),ch=e=>Ae(e,"inline"),uh=e=>lh(e)&&!1!==e.expand&&!ch(e),dh=Ed,hh=ih,ph=Jd,fh=Xd,mh=(e,t)=>{let n=t;for(;n;){if(Lr(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},gh=(e,t,n,r)=>{const o=t.data;if(e){for(let e=n;e>0;e--)if(r(o.charAt(e-1)))return e}else for(let e=n;e<o.length;e++)if(r(o.charAt(e)))return e;return-1},vh=(e,t,n)=>gh(e,t,n,(e=>Sd(e)||Cd(e))),yh=(e,t,n)=>gh(e,t,n,Ad),bh=(e,t,n,r,o,i)=>{let s;const a=e.getParent(n,e.isBlock)||t,l=(t,n,r)=>{const i=ea(e),l=o?i.backwards:i.forwards;return L.from(l(t,n,((e,t)=>dh(e.parentNode)?-1:(s=e,r(o,e,t))),a))};return l(n,r,vh).bind((e=>i?l(e.container,e.offset+(o?-1:0),yh):L.some(e))).orThunk((()=>s?L.some({container:s,offset:o?0:s.length}):L.none()))},wh=(e,t,n,r,o)=>{const i=r[o];Zr(r)&&Xe(r.data)&&i&&(r=i);const s=hh(e,r);for(let r=0;r<s.length;r++)for(let o=0;o<t.length;o++){const i=t[o];if((!x(i.collapsed)||i.collapsed===n.collapsed)&&lh(i)&&e.is(s[r],i.selector))return s[r]}return r},xh=(e,t,n,r)=>{var o;let i=n;const s=e.getRoot(),a=t[0];if(ah(a)&&(i=a.wrapper?null:e.getParent(n,a.block,s)),!i){const t=null!==(o=e.getParent(n,"LI,TD,TH"))&&void 0!==o?o:s;i=e.getParent(Zr(n)?n.parentNode:n,(t=>t!==s&&fh(e.schema,t)),t)}if(i&&ah(a)&&a.wrapper&&(i=hh(e,i,"ul,ol").reverse()[0]||i),!i)for(i=n;i&&i[r]&&!e.isBlock(i[r])&&(i=i[r],!th(i,"br")););return i||n},Eh=(e,t,n,r)=>{const o=n.parentNode;return!x(n[r])&&(!(o!==t&&!w(o)&&!e.isBlock(o))||Eh(e,t,o,r))},Sh=(e,t,n,r,o)=>{let i=n;const s=o?"previousSibling":"nextSibling",a=e.getRoot();if(Zr(n)&&!ph(n)&&(o?r>0:r<n.data.length))return n;for(;i;){if(!t[0].block_expand&&e.isBlock(i))return i;for(let t=i[s];t;t=t[s]){const n=Zr(t)&&!Eh(e,a,t,s);if(!dh(t)&&(!Qr(l=t)||!l.getAttribute("data-mce-bogus")||l.nextSibling)&&!ph(t,n))return i}if(i===a||i.parentNode===a){n=i;break}i=i.parentNode}var l;return n},Ch=e=>dh(e.parentNode)||dh(e),Ah=(e,t,n,r=!1)=>{let{startContainer:o,startOffset:i,endContainer:s,endOffset:a}=t;const l=n[0];return Lr(o)&&o.hasChildNodes()&&(o=ca(o,i),Zr(o)&&(i=0)),Lr(s)&&s.hasChildNodes()&&(s=ca(s,t.collapsed?a:a-1),Zr(s)&&(a=s.data.length)),o=mh(e,o),s=mh(e,s),Ch(o)&&(o=dh(o)?o:o.parentNode,o=t.collapsed?o.previousSibling||o:o.nextSibling||o,Zr(o)&&(i=t.collapsed?o.length:0)),Ch(s)&&(s=dh(s)?s:s.parentNode,s=t.collapsed?s.nextSibling||s:s.previousSibling||s,Zr(s)&&(a=t.collapsed?0:s.length)),t.collapsed&&(bh(e,e.getRoot(),o,i,!0,r).each((({container:e,offset:t})=>{o=e,i=t})),bh(e,e.getRoot(),s,a,!1,r).each((({container:e,offset:t})=>{s=e,a=t}))),(ch(l)||l.block_expand)&&(ch(l)&&Zr(o)&&0!==i||(o=Sh(e,n,o,i,!0)),ch(l)&&Zr(s)&&a!==s.data.length||(s=Sh(e,n,s,a,!1))),uh(l)&&(o=wh(e,n,t,o,"previousSibling"),s=wh(e,n,t,s,"nextSibling")),(ah(l)||lh(l))&&(o=xh(e,n,o,"previousSibling"),s=xh(e,n,s,"nextSibling"),ah(l)&&(e.isBlock(o)||(o=Sh(e,n,o,i,!0)),e.isBlock(s)||(s=Sh(e,n,s,a,!1)))),Lr(o)&&o.parentNode&&(i=e.nodeIndex(o),o=o.parentNode),Lr(s)&&s.parentNode&&(a=e.nodeIndex(s)+1,s=s.parentNode),{startContainer:o,startOffset:i,endContainer:s,endOffset:a}},_h=(e,t,n)=>{var r;const o=t.startOffset,i=ca(t.startContainer,o),s=t.endOffset,a=ca(t.endContainer,s-1),l=e=>{const t=e[0];Zr(t)&&t===i&&o>=t.data.length&&e.splice(0,1);const n=e[e.length-1];return 0===s&&e.length>0&&n===a&&Zr(n)&&e.splice(e.length-1,1),e},c=(e,t,n)=>{const r=[];for(;e&&e!==n;e=e[t])r.push(e);return r},u=(t,n)=>e.getParent(t,(e=>e.parentNode===n),n),d=(e,t,r)=>{const o=r?"nextSibling":"previousSibling";for(let i=e,s=i.parentNode;i&&i!==t;i=s){s=i.parentNode;const t=c(i===e?i:i[o],o);t.length&&(r||t.reverse(),n(l(t)))}};if(i===a)return n(l([i]));const h=null!==(r=e.findCommonAncestor(i,a))&&void 0!==r?r:e.getRoot();if(e.isChildOf(i,a))return d(i,h,!0);if(e.isChildOf(a,i))return d(a,h);const p=u(i,h)||i,f=u(a,h)||a;d(i,p,!0);const m=c(p===i?p:p.nextSibling,"nextSibling",f===a?f.nextSibling:f);m.length&&n(l(m)),d(a,f)},kh=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],Th=(e,t,n,r,o,i)=>{const{uid:s=t,...a}=n;cn(e,Fs()),Xt(e,`${Hs()}`,s),Xt(e,`${Ls()}`,r);const{attributes:l={},classes:c=[]}=o(s,a);if(Yt(e,l),((e,t)=>{W(t,(t=>{cn(e,t)}))})(e,c),i){c.length>0&&Xt(e,`${Vs()}`,c.join(","));const t=pe(l);t.length>0&&Xt(e,`${js()}`,t.join(","))}},Mh=(e,t,n,r,o)=>{const i=mn("span",e);return Th(i,t,n,r,o,!1),i},Ph=e=>{const t=(()=>{const e={};return{register:(t,n)=>{e[t]={name:t,settings:n}},lookup:t=>Se(e,t).map((e=>e.settings)),getNames:()=>pe(e)}})();((e,t)=>{const n=Ls(),r=e=>L.from(e.attr(n)).bind(t.lookup),o=e=>{var t,n;e.attr(Hs(),null),e.attr(Ls(),null),e.attr(zs(),null);const r=L.from(e.attr(js())).map((e=>e.split(","))).getOr([]),o=L.from(e.attr(Vs())).map((e=>e.split(","))).getOr([]);W(r,(t=>e.attr(t,null)));const i=null!==(n=null===(t=e.attr("class"))||void 0===t?void 0:t.split(" "))&&void 0!==n?n:[],s=ie(i,[Fs()].concat(o));e.attr("class",s.length>0?s.join(" "):null),e.attr(Vs(),null),e.attr(js(),null)};e.serializer.addTempAttr(zs()),e.serializer.addAttributeFilter(n,(e=>{for(const t of e)r(t).each((e=>{!1===e.persistent&&("span"===t.name?t.unwrap():o(t))}))}))})(e,t);const n=((e,t)=>{const n=ks({}),r=()=>({listeners:[],previous:Ds()}),o=(e,t)=>{i(e,(e=>(t(e),e)))},i=(e,t)=>{const o=n.get(),i=t(Se(o,e).getOrThunk(r));o[e]=i,n.set(o)},s=(t,n)=>{W(Ws(e,t),(e=>{n?Xt(e,zs(),"true"):tn(e,zs())}))},a=Bs((()=>{const n=ae(t.getNames());W(n,(t=>{i(t,(n=>{const r=n.previous.get();return Gs(e,L.some(t)).fold((()=>{r.each((e=>{(e=>{o(e,(t=>{W(t.listeners,(t=>t(!1,e)))}))})(t),n.previous.clear(),s(e,!1)}))}),(({uid:e,name:t,elements:i})=>{It(r,e)||(r.each((e=>s(e,!1))),((e,t,n)=>{o(e,(r=>{W(r.listeners,(r=>r(!0,e,{uid:t,nodes:q(n,(e=>e.dom))})))}))})(t,e,i),n.previous.set(e),s(e,!0))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);return e.on("remove",(()=>{a.cancel()})),e.on("NodeChange",(()=>{a.throttle()})),{addListener:(e,t)=>{i(e,(e=>({previous:e.previous,listeners:e.listeners.concat([t])})))}}})(e,t),r=$t("span"),o=e=>{W(e,(e=>{r(e)?yr(e):(e=>{dn(e,Fs()),tn(e,`${Hs()}`),tn(e,`${Ls()}`),tn(e,`${zs()}`);const t=Qt(e,`${js()}`).map((e=>e.split(","))).getOr([]),n=Qt(e,`${Vs()}`).map((e=>e.split(","))).getOr([]);var r;W(t,(t=>tn(e,t))),r=e,W(n,(e=>{dn(r,e)})),tn(e,`${Vs()}`),tn(e,`${js()}`)})(e)}))};return{register:(e,n)=>{t.register(e,n)},annotate:(n,r)=>{t.lookup(n).each((t=>{((e,t,n,r)=>{e.undoManager.transact((()=>{const o=e.selection,i=o.getRng(),s=Id(e).length>0,a=Ks("mce-annotation");if(i.collapsed&&!s&&((e,t)=>{const n=Ah(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)})(e,i),o.getRng().collapsed&&!s){const i=Mh(e.getDoc(),a,r,t,n.decorate);xr(i,lo),o.getRng().insertNode(i.dom),o.select(i.dom)}else Ud(o,!1,(()=>{jd(e,(o=>{((e,t,n,r,o,i)=>{const s=[],a=Mh(e.getDoc(),n,i,r,o),l=Ds(),c=()=>{l.clear()},u=e=>{W(e,d)},d=t=>{switch(((e,t,n,r)=>_n(t).fold((()=>"skipping"),(o=>"br"===r||(e=>qt(e)&&ho(e)===Po)(t)?"valid":(e=>Gt(e)&&hn(e,Fs()))(t)?"existing":cd(t.dom)?"caret":G(kh,(e=>bn(t,e)))?"valid-block":Yd(e,n,r)&&Yd(e,Vt(o),n)?"valid":"invalid-child")))(e,t,"span",Vt(t))){case"invalid-child":{c();const e=Nn(t);u(e),c();break}case"valid-block":c(),Th(t,n,i,r,o,!0);break;case"valid":{const e=l.get().getOrThunk((()=>{const e=Ys(a);return s.push(e),l.set(e),e}));fr(t,e);break}}};_h(e.dom,t,(e=>{c(),(e=>{const t=q(e,vn);u(t)})(e)}))})(e,o,a,t,n.decorate,r)}))}))}))})(e,n,t,r)}))},annotationChanged:(e,t)=>{n.addListener(e,t)},remove:t=>{Gs(e,L.some(t)).each((({elements:t})=>{const n=e.selection.getBookmark();o(t),e.selection.moveToBookmark(n)}))},removeAll:t=>{const n=e.selection.getBookmark();me(Zs(e,t),((e,t)=>{o(e)})),e.selection.moveToBookmark(n)},getAll:t=>{const n=Zs(e,t);return ge(n,(e=>q(e,(e=>e.dom))))}}},Oh=e=>({getBookmark:O(wd,e),moveToBookmark:O(xd,e)});Oh.isBookmarkNode=Ed;const Rh=(e,t,n)=>!n.collapsed&&G(n.getClientRects(),(n=>((e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom)(n,e,t))),Nh=(e,t,n)=>{e.dispatch(t,n)},Dh=(e,t,n,r)=>{e.dispatch("FormatApply",{format:t,node:n,vars:r})},Ih=(e,t,n,r)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:r})},Bh=(e,t)=>e.dispatch("SetContent",t),Fh=(e,t)=>e.dispatch("GetContent",t),Lh=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),Hh={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Hh.metaKeyPressed(e),metaKeyPressed:e=>Pt.os.isMacOS()||Pt.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},zh="data-mce-selected",Vh=Math.abs,jh=Math.round,Uh={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Gh=(e,t)=>{const n=t.dom,r=t.getDoc(),o=document,i=t.getBody();let s,a,l,c,u,d,h,p,f,m,g,v,y,b,w;const E=e=>x(e)&&(eo(e)||n.is(e,"figure.image")),S=e=>io(e)||n.hasClass(e,"mce-preview-object"),C=e=>{const n=e.target;((e,t)=>{if((e=>"longpress"===e.type||0===e.type.indexOf("touch"))(e)){const n=e.touches[0];return E(e.target)&&!Rh(n.clientX,n.clientY,t)}return E(e.target)&&!Rh(e.clientX,e.clientY,t)})(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},A=e=>n.hasClass(e,"mce-preview-object")&&x(e.firstElementChild)?[e,e.firstElementChild]:n.is(e,"figure.image")?[e.querySelector("img")]:[e],_=e=>{const r=$l(t);return!!r&&"false"!==e.getAttribute("data-mce-resize")&&e!==t.getBody()&&(n.hasClass(e,"mce-preview-object")&&x(e.firstElementChild)?bn(vn(e.firstElementChild),r):bn(vn(e),r))},k=(e,r,o)=>{if(x(o)){const i=A(e);W(i,(e=>{e.style[r]||!t.schema.isValid(e.nodeName.toLowerCase(),r)?n.setStyle(e,r,o):n.setAttrib(e,r,""+o)}))}},T=(e,t,n)=>{k(e,"width",t),k(e,"height",n)},M=e=>{let r,o,u,x,C;r=e.screenX-d,o=e.screenY-h,v=r*c[2]+p,y=o*c[3]+f,v=v<5?5:v,y=y<5?5:y,u=(E(s)||S(s))&&!1!==Kl(t)?!Hh.modifierPressed(e):Hh.modifierPressed(e),u&&(Vh(r)>Vh(o)?(y=jh(v*m),v=jh(y/m)):(v=jh(y/m),y=jh(v*m))),T(a,v,y),x=c.startPos.x+r,C=c.startPos.y+o,x=x>0?x:0,C=C>0?C:0,n.setStyles(l,{left:x,top:C,display:"block"}),l.innerHTML=v+" &times; "+y,c[2]<0&&a.clientWidth<=v&&n.setStyle(a,"left",void 0+(p-v)),c[3]<0&&a.clientHeight<=y&&n.setStyle(a,"top",void 0+(f-y)),r=i.scrollWidth-b,o=i.scrollHeight-w,r+o!==0&&n.setStyles(l,{left:x-r,top:C-o}),g||(((e,t,n,r,o)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:r,origin:o})})(t,s,p,f,"corner-"+c.name),g=!0)},P=()=>{const e=g;g=!1,e&&(k(s,"width",v),k(s,"height",y)),n.unbind(r,"mousemove",M),n.unbind(r,"mouseup",P),o!==r&&(n.unbind(o,"mousemove",M),n.unbind(o,"mouseup",P)),n.remove(a),n.remove(l),n.remove(u),O(s),e&&(((e,t,n,r,o)=>{e.dispatch("ObjectResized",{target:t,width:n,height:r,origin:o})})(t,s,v,y,"corner-"+c.name),n.setAttrib(s,"style",n.getAttrib(s,"style"))),t.nodeChanged()},O=e=>{B();const g=n.getPos(e,i),x=g.x,E=g.y,C=e.getBoundingClientRect(),k=C.width||C.right-C.left,O=C.height||C.bottom-C.top;s!==e&&(N(),s=e,v=y=0);const R=t.dispatch("ObjectSelected",{target:e});_(e)&&!R.isDefaultPrevented()?me(Uh,((e,t)=>{let g=n.get("mceResizeHandle"+t);g&&n.remove(g),g=n.add(i,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),n.bind(g,"mousedown",(g=>{g.stopImmediatePropagation(),g.preventDefault(),(g=>{const v=A(s)[0];var y;d=g.screenX,h=g.screenY,p=v.clientWidth,f=v.clientHeight,m=f/p,c=e,c.name=t,c.startPos={x:k*e[0]+x,y:O*e[1]+E},b=i.scrollWidth,w=i.scrollHeight,u=n.add(i,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(u,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),a=S(y=s)?n.create("img",{src:Pt.transparentSrc}):y.cloneNode(!0),n.addClass(a,"mce-clonedresizable"),n.setAttrib(a,"data-mce-bogus","all"),a.contentEditable="false",n.setStyles(a,{left:x,top:E,margin:0}),T(a,k,O),a.removeAttribute(zh),i.appendChild(a),n.bind(r,"mousemove",M),n.bind(r,"mouseup",P),o!==r&&(n.bind(o,"mousemove",M),n.bind(o,"mouseup",P)),l=n.add(i,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},p+" &times; "+f)})(g)})),e.elm=g,n.setStyles(g,{left:k*e[0]+x-g.offsetWidth/2,top:O*e[1]+E-g.offsetHeight/2})})):N(!1)},R=Is(O,0),N=(e=!0)=>{R.cancel(),B(),s&&e&&s.removeAttribute(zh),me(Uh,((e,t)=>{const r=n.get("mceResizeHandle"+t);r&&(n.unbind(r),n.remove(r))}))},D=(e,t)=>n.isChildOf(e,t),I=r=>{if(g||t.removed||t.composing)return;const o="mousedown"===r.type?r.target:e.getNode(),s=Jn(vn(o),"table,img,figure.image,hr,video,span.mce-preview-object").map((e=>e.dom)).filter((e=>n.isEditable(e.parentElement))).getOrUndefined(),a=x(s)?n.getAttrib(s,zh,"1"):"1";if(W(n.select("img[data-mce-selected],hr[data-mce-selected]"),(e=>{e.removeAttribute(zh)})),x(s)&&D(s,i)){F();const t=e.getStart(!0);if(D(t,s)&&D(e.getEnd(!0),s))return n.setAttrib(s,zh,a),void R.throttle(s)}N()},B=()=>{me(Uh,(e=>{e.elm&&(n.unbind(e.elm),delete e.elm)}))},F=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};return t.on("init",(()=>{F(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",I),t.on("keyup compositionend",(e=>{s&&"TABLE"===s.nodeName&&I(e)})),t.on("hide blur",N),t.on("contextmenu longpress",C,!0)})),t.on("remove",B),{isResizable:_,showResizeRect:O,hideResizeRect:N,updateResizeRect:I,destroy:()=>{R.cancel(),s=a=u=null}}},qh=(e,t,n)=>{const r=e.document.createRange();var o;return o=r,t.fold((e=>{o.setStartBefore(e.dom)}),((e,t)=>{o.setStart(e.dom,t)}),(e=>{o.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))})(r,n),r},Wh=(e,t,n,r,o)=>{const i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(r.dom,o),i},Zh=el([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),$h=(e,t,n)=>t(vn(n.startContainer),n.startOffset,vn(n.endContainer),n.endOffset);Zh.ltr,Zh.rtl;const Kh=(e,t,n,r)=>({start:e,soffset:t,finish:n,foffset:r}),Xh=document.caretPositionFromPoint?(e,t,n)=>{var r,o;return L.from(null===(o=(r=e.dom).caretPositionFromPoint)||void 0===o?void 0:o.call(r,t,n)).bind((t=>{if(null===t.offsetNode)return L.none();const n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),L.some(n)}))}:document.caretRangeFromPoint?(e,t,n)=>{var r,o;return L.from(null===(o=(r=e.dom).caretRangeFromPoint)||void 0===o?void 0:o.call(r,t,n))}:L.none,Yh=el([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Jh={before:Yh.before,on:Yh.on,after:Yh.after,cata:(e,t,n,r)=>e.fold(t,n,r),getStart:e=>e.fold(M,M,M)},Qh=el([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ep={domRange:Qh.domRange,relative:Qh.relative,exact:Qh.exact,exactFromRange:e=>Qh.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>vn(e.startContainer),relative:(e,t)=>Jh.getStart(e),exact:(e,t,n,r)=>e}))(e);return An(t)},range:Kh},tp=(e,t)=>{const n=Vt(e);return"input"===n?Jh.after(e):U(["br","img"],n)?0===t?Jh.before(e):Jh.after(e):Jh.on(e,t)},np=(e,t)=>{const n=e.fold(Jh.before,tp,Jh.after),r=t.fold(Jh.before,tp,Jh.after);return ep.relative(n,r)},rp=(e,t,n,r)=>{const o=tp(e,t),i=tp(n,r);return ep.relative(o,i)},op=(e,t)=>{const n=(t||document).createDocumentFragment();return W(e,(e=>{n.appendChild(e.dom)})),vn(n)},ip=(e,t,n)=>((e,t,n)=>((e,t,n)=>{const r=vn(e.document);return Xh(r,t,n).map((e=>Kh(vn(e.startContainer),e.startOffset,vn(e.endContainer),e.endOffset)))})(e,t,n))(An(vn(n)).dom,e,t).map((e=>{const t=n.createRange();return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),t})).getOrUndefined(),sp=(e,t)=>x(e)&&x(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,ap=(e,t,n)=>null!==((e,t,n)=>{let r=e;for(;r&&r!==t;){if(n(r))return r;r=r.parentNode}return null})(e,t,n),lp=(e,t,n)=>ap(e,t,(e=>e.nodeName===n)),cp=(e,t)=>Fo(e)&&!ap(e,t,cd),up=(e,t,n)=>{const r=t.parentNode;if(r){const o=new Ir(t,e.getParent(r,e.isBlock)||e.getRoot());let i;for(;i=o[n?"prev":"next"]();)if(Qr(i))return!0}return!1},dp=(e,t,n,r,o)=>{const i=e.getRoot(),s=e.schema.getNonEmptyElements(),a=o.parentNode;let l,c;if(!a)return L.none();const u=e.getParent(a,e.isBlock)||i;if(r&&Qr(o)&&t&&e.isEmpty(u))return L.some(Ma(a,e.nodeIndex(o)));const d=new Ir(o,u);for(;c=d[r?"prev":"next"]();){if("false"===e.getContentEditableParent(c)||cp(c,i))return L.none();if(Zr(c)&&c.data.length>0)return lp(c,i,"A")?L.none():L.some(Ma(c,r?c.data.length:0));if(e.isBlock(c)||s[c.nodeName.toLowerCase()])return L.none();l=c}return Xr(l)?L.none():n&&l?L.some(Ma(l,0)):L.none()},hp=(e,t,n,r)=>{const o=e.getRoot();let i,s=!1,a=n?r.startContainer:r.endContainer,l=n?r.startOffset:r.endOffset;const c=Lr(a)&&l===a.childNodes.length,u=e.schema.getNonEmptyElements();let d=n;if(Fo(a))return L.none();if(Lr(a)&&l>a.childNodes.length-1&&(d=!1),Yr(a)&&(a=o,l=0),a===o){if(d&&(i=a.childNodes[l>0?l-1:0],i)){if(Fo(i))return L.none();if(u[i.nodeName]||Gr(i))return L.none()}if(a.hasChildNodes()){if(l=Math.min(!d&&l>0?l-1:l,a.childNodes.length-1),a=a.childNodes[l],l=Zr(a)&&c?a.data.length:0,!t&&a===o.lastChild&&Gr(a))return L.none();if(((e,t)=>{let n=t;for(;n&&n!==e;){if(no(n))return!0;n=n.parentNode}return!1})(o,a)||Fo(a))return L.none();if(a.hasChildNodes()&&!Gr(a)){i=a;const t=new Ir(a,o);do{if(no(i)||Fo(i)){s=!1;break}if(Zr(i)&&i.data.length>0){l=d?0:i.data.length,a=i,s=!0;break}if(u[i.nodeName.toLowerCase()]&&!oo(i)){l=e.nodeIndex(i),a=i.parentNode,d||l++,s=!0;break}}while(i=d?t.next():t.prev())}}}return t&&(Zr(a)&&0===l&&dp(e,c,t,!0,a).each((e=>{a=e.container(),l=e.offset(),s=!0})),Lr(a)&&(i=a.childNodes[l],i||(i=a.childNodes[l-1]),!i||!Qr(i)||((e,t)=>{var n;return"A"===(null===(n=e.previousSibling)||void 0===n?void 0:n.nodeName)})(i)||up(e,i,!1)||up(e,i,!0)||dp(e,c,t,!0,i).each((e=>{a=e.container(),l=e.offset(),s=!0})))),d&&!t&&Zr(a)&&l===a.data.length&&dp(e,c,t,!1,a).each((e=>{a=e.container(),l=e.offset(),s=!0})),s&&a?L.some(Ma(a,l)):L.none()},pp=(e,t)=>{const n=t.collapsed,r=t.cloneRange(),o=Ma.fromRangeStart(t);return hp(e,n,!0,r).each((e=>{n&&Ma.isAbove(o,e)||r.setStart(e.container(),e.offset())})),n||hp(e,n,!1,r).each((e=>{r.setEnd(e.container(),e.offset())})),n&&r.collapse(!0),sp(t,r)?L.none():L.some(r)},fp=(e,t)=>e.splitText(t),mp=e=>{let t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;if(t===r&&Zr(t)){if(n>0&&n<t.data.length)if(r=fp(t,n),t=r.previousSibling,o>n){o-=n;const e=fp(r,o).previousSibling;t=r=e,o=e.data.length,n=0}else o=0}else if(Zr(t)&&n>0&&n<t.data.length&&(t=fp(t,n),n=0),Zr(r)&&o>0&&o<r.data.length){const e=fp(r,o).previousSibling;r=e,o=e.data.length}return{startContainer:t,startOffset:n,endContainer:r,endOffset:o}},gp=e=>({walk:(t,n)=>_h(e,t,n),split:mp,expand:(t,n={type:"word"})=>{if("word"===n.type){const n=Ah(e,t,[{inline:"span"}]),r=e.createRng();return r.setStart(n.startContainer,n.startOffset),r.setEnd(n.endContainer,n.endOffset),r}return t},normalize:t=>pp(e,t).fold(B,(e=>(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0)))});gp.compareRanges=sp,gp.getCaretRangeFromPoint=ip,gp.getSelectedNode=la,gp.getNode=ca;const vp=((e,t)=>{const n=t=>{const n=(e=>{const t=e.dom;return Wn(e)?t.getBoundingClientRect().height:t.offsetHeight})(t);if(n<=0||null===n){const n=ir(t,e);return parseFloat(n)||0}return n},r=(e,t)=>Y(t,((t,n)=>{const r=ir(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o}),0);return{set:(t,n)=>{if(!S(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const r=t.dom;tr(r)&&(r.style[e]=n+"px")},get:n,getOuter:n,aggregate:r,max:(e,t,n)=>{const o=r(e,n);return t>o?t-o:0}}})("height"),yp=()=>vn(document),bp=(e,t)=>e.view(t).fold(T([]),(t=>{const n=e.owner(t),r=bp(e,n);return[t].concat(r)}));var wp=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?L.none():L.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(vn)},owner:e=>Cn(e)});const xp=e=>"textarea"===Vt(e),Ep=(e,t)=>{const n=(e=>{const t=e.dom.ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom)return Cr(n.offsetLeft,n.offsetTop);const i=Ar(null==r?void 0:r.pageYOffset,o.scrollTop),s=Ar(null==r?void 0:r.pageXOffset,o.scrollLeft),a=Ar(o.clientTop,n.clientTop),l=Ar(o.clientLeft,n.clientLeft);return _r(e).translate(s-l,i-a)})(e),r=(e=>vp.get(e))(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},Sp=(e,t,n,r)=>{kp(e,((o,i)=>Ap(e,t,n,r)),n)},Cp=(e,t,n,r,o)=>{const i={elm:r.element.dom,alignToTop:o};((e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented())(e,i)||(n(t,kr(t).top,r,o),((e,t)=>{e.dispatch("AfterScrollIntoView",t)})(e,i))},Ap=(e,t,n,r)=>{const o=vn(e.getBody()),i=vn(e.getDoc());o.dom.offsetWidth;const s=((e,t)=>{const n=((e,t)=>{const n=Nn(e);if(0===n.length||xp(e))return{element:e,offset:t};if(t<n.length&&!xp(n[t]))return{element:n[t],offset:0};{const r=n[n.length-1];return xp(r)?{element:e,offset:t}:"img"===Vt(r)?{element:r,offset:1}:qt(r)?{element:r,offset:ho(r).length}:{element:r,offset:Nn(r).length}}})(e,t),r=fn('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>');return ur(n.element,r),Ep(r,(()=>vr(r)))})(vn(n.startContainer),n.startOffset);Cp(e,i,t,s,r),s.cleanup()},_p=(e,t,n,r)=>{const o=vn(e.getDoc());Cp(e,o,n,(e=>Ep(vn(e),A))(t),r)},kp=(e,t,n)=>{const r=n.startContainer,o=n.startOffset,i=n.endContainer,s=n.endOffset;t(vn(r),vn(i));const a=e.dom.createRng();a.setStart(r,o),a.setEnd(i,s),e.selection.setRng(n)},Tp=(e,t,n,r)=>{const o=e.pos;if(n)Tr(o.left,o.top,r);else{const n=o.top-t+e.height;Tr(o.left,n,r)}},Mp=(e,t,n,r,o)=>{const i=n+t,s=r.pos.top,a=r.bottom,l=a-s>=n;s<t?Tp(r,n,!1!==o,e):s>i?Tp(r,n,l?!1!==o:!0===o,e):a>i&&!l&&Tp(r,n,!0===o,e)},Pp=(e,t,n,r)=>{const o=An(e).dom.innerHeight;Mp(e,t,o,n,r)},Op=(e,t,n,r)=>{const o=An(e).dom.innerHeight;Mp(e,t,o,n,r);const i=(e=>{const t=yp(),n=kr(t),r=((e,t)=>{const n=t.owner(e);return bp(t,n)})(e,wp),o=_r(e),i=X(r,((e,t)=>{const n=_r(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return Cr(i.left+o.left+n.left,i.top+o.top+n.top)})(n.element),s=Or(window);i.top<s.y?Mr(n.element,!1!==r):i.top>s.bottom&&Mr(n.element,!0===r)},Rp=(e,t,n)=>Sp(e,Pp,t,n),Np=(e,t,n)=>_p(e,t,Pp,n),Dp=(e,t,n)=>Sp(e,Op,t,n),Ip=(e,t,n)=>_p(e,t,Op,n),Bp=(e,t,n)=>{(e.inline?Rp:Dp)(e,t,n)},Fp=e=>e.dom.focus(),Lp=e=>{const t=Vn(e).dom;return e.dom===t.activeElement},Hp=(e=yp())=>L.from(e.dom.activeElement).map(vn),zp=(e,t)=>{const n=qt(t)?ho(t).length:Nn(t).length+1;return e>n?n:e<0?0:e},Vp=e=>ep.range(e.start,zp(e.soffset,e.start),e.finish,zp(e.foffset,e.finish)),jp=(e,t)=>!Fr(t.dom)&&(En(e,t)||xn(e,t)),Up=e=>t=>jp(e,t.start)&&jp(e,t.finish),Gp=e=>ep.range(vn(e.startContainer),e.startOffset,vn(e.endContainer),e.endOffset),qp=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),L.some(t)}catch(e){return L.none()}},Wp=e=>{const t=(e=>e.inline||Pt.browser.isFirefox())(e)?(n=vn(e.getBody()),(e=>{const t=e.getSelection();return(t&&0!==t.rangeCount?L.from(t.getRangeAt(0)):L.none()).map(Gp)})(An(n).dom).filter(Up(n))):L.none();var n;e.bookmark=t.isSome()?t:e.bookmark},Zp=e=>(e.bookmark?e.bookmark:L.none()).bind((t=>{return n=vn(e.getBody()),r=t,L.from(r).filter(Up(n)).map(Vp);var n,r})).bind(qp),$p={isEditorUIElement:e=>{const t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},Kp={setEditorTimeout:(e,t,n)=>((e,t)=>(S(t)||(t=0),setTimeout(e,t)))((()=>{e.removed||t()}),n),setEditorInterval:(e,t,n)=>{const r=((e,t)=>(S(t)||(t=0),setInterval(e,t)))((()=>{e.removed?clearInterval(r):t()}),n);return r}};let Xp;const Yp=Cs.DOM,Jp=e=>{const t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},Qp=(e,t)=>{const n=lc(e),r=Yp.getParent(t,(t=>(e=>Lr(e)&&$p.isEditorUIElement(e))(t)||!!n&&e.dom.is(t,n)));return null!==r},ef=e=>{try{const t=Vn(vn(e.getElement()));return Hp(t).fold((()=>document.body),(e=>e.dom))}catch(e){return document.body}},tf=(e,t)=>{const n=t.editor;(e=>{const t=Is((()=>{Wp(e)}),0);e.on("init",(()=>{e.inline&&((e,t)=>{const n=()=>{t.throttle()};Cs.DOM.bind(document,"mouseup",n),e.on("remove",(()=>{Cs.DOM.unbind(document,"mouseup",n)}))})(e,t),((e,t)=>{((e,t)=>{e.on("mouseup touchend",(e=>{t.throttle()}))})(e,t),e.on("keyup NodeChange AfterSetSelectionRange",(t=>{(e=>"nodechange"===e.type&&e.selectionChange)(t)||Wp(e)}))})(e,t)})),e.on("remove",(()=>{t.cancel()}))})(n);const r=(e,t)=>{$c(e)&&!0!==e.inline&&t(vn(e.getContainer()),"tox-edit-focus")};n.on("focusin",(()=>{const t=e.focusedEditor;Jp(ef(n))&&r(n,cn),t!==n&&(t&&t.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:t}),n.focus(!0))})),n.on("focusout",(()=>{Kp.setEditorTimeout(n,(()=>{const t=e.focusedEditor;Jp(ef(n))&&t===n||r(n,dn),Qp(n,ef(n))||t!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),Xp||(Xp=t=>{const n=e.activeEditor;n&&Gn(t).each((t=>{const r=t;r.ownerDocument===document&&(r===document.body||Qp(n,r)||e.focusedEditor!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null))}))},Yp.bind(document,"focusin",Xp))},nf=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Xp&&(Yp.unbind(document,"focusin",Xp),Xp=null)},rf=(e,t)=>{((e,t)=>(e=>e.collapsed?L.from(ca(e.startContainer,e.startOffset)).map(vn):L.none())(t).bind((t=>Eo(t)?L.some(t):En(e,t)?L.none():L.some(e))))(vn(e.getBody()),t).bind((e=>sd(e.dom))).fold((()=>{e.selection.normalize()}),(t=>e.selection.setRng(t.toRange())))},of=e=>{if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},sf=e=>e.inline?(e=>{const t=e.getBody();return t&&(n=vn(t),Lp(n)||(r=n,Hp(Vn(r)).filter((e=>r.dom.contains(e.dom)))).isSome());var n,r})(e):(e=>x(e.iframeElement)&&Lp(vn(e.iframeElement)))(e),af=e=>e.editorManager.setActive(e),lf=(e,t,n,r,o)=>{const i=n?t.startContainer:t.endContainer,s=n?t.startOffset:t.endOffset;return L.from(i).map(vn).map((e=>r&&t.collapsed?e:Dn(e,o(e,s)).getOr(e))).bind((e=>Gt(e)?L.some(e):_n(e).filter(Gt))).map((e=>e.dom)).getOr(e)},cf=(e,t,n=!1)=>lf(e,t,!0,n,((e,t)=>Math.min(Fn(e),t))),uf=(e,t,n=!1)=>lf(e,t,!1,n,((e,t)=>t>0?t-1:t)),df=(e,t)=>{const n=e;for(;e&&Zr(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},hf=(e,t)=>q(t,(t=>{const n=e.dispatch("GetSelectionRange",{range:t});return n.range!==t?n.range:t})),pf=["img","br"],ff=e=>{const t=po(e).filter((e=>0!==e.trim().length||e.indexOf(lo)>-1)).isSome();return t||U(pf,Vt(e))||(e=>{return Gt(t=e)&&(e=>{const t=Ht("ownerDocument.defaultView",e);return f(e)&&((e=>((e,t)=>{const n=((e,t)=>Ht(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(zt(e).constructor.name))})(t.dom)&&"false"===Jt(e,"contenteditable");var t})(e)},mf="[data-mce-autocompleter]",gf=e=>Yn(e,mf),vf={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},yf=(e,t,n)=>{const r=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[r])return e[r];if(e!==t){let n=e[o];if(n)return n;for(let r=e.parent;r&&r!==t;r=r.parent)if(n=r[o],n)return n}},bf=e=>{var t;const n=null!==(t=e.value)&&void 0!==t?t:"";if(!ri(n))return!1;const r=e.parent;return!r||"span"===r.name&&!r.attr("style")||!/^[ ]+$/.test(n)},wf=e=>{const t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class xf{constructor(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}static create(e,t){const n=new xf(e,vf[e]||1);return t&&me(t,((e,t)=>{n.attr(t,e)})),n}replace(e){const t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t}attr(e,t){const n=this;if(!p(e))return x(e)&&me(e,((e,t)=>{n.attr(t,e)})),n;const r=n.attributes;if(r){if(void 0!==t){if(null===t){if(e in r.map){delete r.map[e];let t=r.length;for(;t--;)if(r[t].name===e)return r.splice(t,1),n}return n}if(e in r.map){let n=r.length;for(;n--;)if(r[n].name===e){r[n].value=t;break}}else r.push({name:e,value:t});return r.map[e]=t,n}return r.map[e]}}clone(){const e=this,t=new xf(e.name,e.type),n=e.attributes;if(n){const e=[];e.map={};for(let t=0,r=n.length;t<r;t++){const r=n[t];"id"!==r.name&&(e[e.length]={name:r.name,value:r.value},e.map[r.name]=r.value)}t.attributes=e}return t.value=e.value,t}wrap(e){const t=this;return t.parent&&(t.parent.insert(e,t),e.append(t)),t}unwrap(){const e=this;for(let t=e.firstChild;t;){const n=t.next;e.insert(t,e,!0),t=n}e.remove()}remove(){const e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r&&(r.next=n),t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n&&(n.prev=r),e.parent=e.next=e.prev=null),e}append(e){const t=this;e.parent&&e.remove();const n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e}insert(e,t,n){e.parent&&e.remove();const r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev&&(t.prev.next=e),e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e),e.parent=r,e}getAll(e){const t=this,n=[];for(let r=t.firstChild;r;r=yf(r,t))r.name===e&&n.push(r);return n}children(){const e=[];for(let t=this.firstChild;t;t=t.next)e.push(t);return e}empty(){const e=this;if(e.firstChild){const t=[];for(let n=e.firstChild;n;n=yf(n,e))t.push(n);let n=t.length;for(;n--;){const e=t[n];e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return e.firstChild=e.lastChild=null,e}isEmpty(e,t={},n){var r;const o=this;let i=o.firstChild;if(wf(o))return!1;if(i)do{if(1===i.type){if(i.attr("data-mce-bogus"))continue;if(e[i.name])return!1;if(wf(i))return!1}if(8===i.type)return!1;if(3===i.type&&!bf(i))return!1;if(3===i.type&&i.parent&&t[i.parent.name]&&ri(null!==(r=i.value)&&void 0!==r?r:""))return!1;if(n&&n(i))return!1}while(i=yf(i,o));return!0}walk(e){return yf(this,null,e)}}const Ef=(e,t,n=0)=>{const r=e.toLowerCase();if(-1!==r.indexOf("[if ",n)&&((e,t)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t)))(r,n)){const e=r.indexOf("[endif]",n);return r.indexOf(">",e)}if(t){const e=r.indexOf(">",n);return-1!==e?e:r.length}{const t=/--!?>/g;t.lastIndex=n;const o=t.exec(e);return o?o.index+o[0].length:r.length}},Sf=(e,t,n)=>{const r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,o=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,i=e.getVoidElements();let s=1,a=n;for(;0!==s;)for(r.lastIndex=a;;){const e=r.exec(t);if(null===e)return a;if("!"===e[1]){a=Ue(e[2],"--")?Ef(t,!1,e.index+"!--".length):Ef(t,!0,e.index+1);break}{o.lastIndex=r.lastIndex;const n=o.exec(t);if(v(n)||n.index!==r.lastIndex)continue;"/"===e[1]?s-=1:Ce(i,e[2])||(s+=1),a=r.lastIndex+n[0].length;break}}return a},Cf=(e,t)=>{const n=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema;let o=((e,t)=>{const n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")})(e.getTempAttrs(),t);const i=r.getVoidElements();let s;for(;s=n.exec(o);){const e=n.lastIndex,t=s[0].length;let a;a=i[s[1]]?e:Sf(r,o,e),o=o.substring(0,e-t)+o.substring(a),n.lastIndex=e-t}return Ro(o)},Af=Cf,_f=e=>{const t=Nr(e,"[data-mce-bogus]");W(t,(e=>{"all"===Jt(e,"data-mce-bogus")?vr(e):yo(e)?(ur(e,gn(ao)),vr(e)):yr(e)}))},kf=e=>{const t=Nr(e,"input");W(t,(e=>{tn(e,"name")}))},Tf=Dt.makeMap,Mf=e=>{const t=[],n=(e=e||{}).indent,r=Tf(e.indent_before||""),o=Tf(e.indent_after||""),i=qi.getEncodeFunc(e.entity_encoding||"raw",e.entities),s="xhtml"!==e.element_format;return{start:(e,a,l)=>{if(n&&r[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}if(t.push("<",e),a)for(let e=0,n=a.length;e<n;e++){const n=a[e];t.push(" ",n.name,'="',i(n.value,!0),'"')}if(t[t.length]=!l||s?">":" />",l&&n&&o[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}},end:e=>{let r;t.push("</",e,">"),n&&o[e]&&t.length>0&&(r=t[t.length-1],r.length>0&&"\n"!==r&&t.push("\n"))},text:(e,n)=>{e.length>0&&(t[t.length]=n?e:i(e))},cdata:e=>{t.push("<![CDATA[",e,"]]>")},comment:e=>{t.push("\x3c!--",e,"--\x3e")},pi:(e,r)=>{r?t.push("<?",e," ",i(r),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:e=>{t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Pf=(e={},t=os())=>{const n=Mf(e);return e.validate=!("validate"in e)||e.validate,{serialize:r=>{const o=e.validate,i={3:e=>{var t;n.text(null!==(t=e.value)&&void 0!==t?t:"",e.raw)},8:e=>{var t;n.comment(null!==(t=e.value)&&void 0!==t?t:"")},7:e=>{n.pi(e.name,e.value)},10:e=>{var t;n.doctype(null!==(t=e.value)&&void 0!==t?t:"")},4:e=>{var t;n.cdata(null!==(t=e.value)&&void 0!==t?t:"")},11:e=>{let t=e;if(t=t.firstChild)do{s(t)}while(t=t.next)}};n.reset();const s=e=>{var r;const a=i[e.type];if(a)a(e);else{const i=e.name,a=i in t.getVoidElements();let l=e.attributes;if(o&&l&&l.length>1){const n=[];n.map={};const r=t.getElementRule(e.name);if(r){for(let e=0,t=r.attributesOrder.length;e<t;e++){const t=r.attributesOrder[e];if(t in l.map){const e=l.map[t];n.map[t]=e,n.push({name:t,value:e})}}for(let e=0,t=l.length;e<t;e++){const t=l[e].name;if(!(t in n.map)){const e=l.map[t];n.map[t]=e,n.push({name:t,value:e})}}l=n}}if(n.start(i,l,a),!a){let t=e.firstChild;if(t){"pre"!==i&&"textarea"!==i||3!==t.type||"\n"!==(null===(r=t.value)||void 0===r?void 0:r[0])||n.text("\n",!0);do{s(t)}while(t=t.next)}n.end(i)}}};return 1!==r.type||e.inner?3===r.type?i[3](r):i[11](r):s(r),n.getContent()}}},Of=new Set;W(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],(e=>{Of.add(e)}));const Rf=["font","text-decoration","text-emphasis"],Nf=(e,t)=>pe(e.parseStyle(e.getAttrib(t,"style"))),Df=(e,t,n)=>{const r=Nf(e,t),o=Nf(e,n),i=r=>{var o,i;const s=null!==(o=e.getStyle(t,r))&&void 0!==o?o:"",a=null!==(i=e.getStyle(n,r))&&void 0!==i?i:"";return Ke(s)&&Ke(a)&&s!==a};return G(r,(e=>{const t=t=>G(t,(t=>t===e));if(!t(o)&&t(Rf)){const e=K(o,(e=>G(Rf,(t=>Ue(e,t)))));return G(e,i)}return i(e)}))},If=(e,t,n)=>L.from(n.container()).filter(Zr).exists((r=>{const o=e?0:-1;return t(r.data.charAt(n.offset()+o))})),Bf=O(If,!0,Cd),Ff=O(If,!1,Cd),Lf=e=>{const t=e.container();return Zr(t)&&(0===t.data.length||Oo(t.data)&&Oh.isBookmarkNode(t.parentNode))},Hf=(e,t)=>n=>ku(e?0:-1,n).filter(t).isSome(),zf=e=>eo(e)&&"block"===ir(vn(e),"display"),Vf=e=>no(e)&&!(e=>Lr(e)&&"all"===e.getAttribute("data-mce-bogus"))(e),jf=Hf(!0,zf),Uf=Hf(!1,zf),Gf=Hf(!0,io),qf=Hf(!1,io),Wf=Hf(!0,Gr),Zf=Hf(!1,Gr),$f=Hf(!0,Vf),Kf=Hf(!1,Vf),Xf=(e,t)=>((e,t,n)=>En(t,e)?Tn(e,(e=>n(e)||xn(e,t))).slice(0,-1):[])(e,t,B),Yf=(e,t)=>[e].concat(Xf(e,t)),Jf=(e,t,n)=>nd(e,t,n,Lf),Qf=(e,t)=>Q(Yf(vn(t.container()),e),go),em=(e,t,n)=>Jf(e,t.dom,n).forall((e=>Qf(t,n).fold((()=>!_u(e,n,t.dom)),(r=>!_u(e,n,t.dom)&&En(r,vn(e.container())))))),tm=(e,t,n)=>Qf(t,n).fold((()=>Jf(e,t.dom,n).forall((e=>!_u(e,n,t.dom)))),(t=>Jf(e,t.dom,n).isNone())),nm=O(tm,!1),rm=O(tm,!0),om=O(em,!1),im=O(em,!0),sm=e=>Bu(e).exists(yo),am=(e,t,n)=>{const r=K(Yf(vn(n.container()),t),go),o=ce(r).getOr(t);return ed(e,o.dom,n).filter(sm)},lm=(e,t)=>Bu(t).exists(yo)||am(!0,e,t).isSome(),cm=(e,t)=>(e=>L.from(e.getNode(!0)).map(vn))(t).exists(yo)||am(!1,e,t).isSome(),um=O(am,!1),dm=O(am,!0),hm=e=>Ma.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),pm=(e,t)=>{const n=K(Yf(vn(t.container()),e),go);return ce(n).getOr(e)},fm=(e,t)=>hm(t)?Ff(t):Ff(t)||id(pm(e,t).dom,t).exists(Ff),mm=(e,t)=>hm(t)?Bf(t):Bf(t)||od(pm(e,t).dom,t).exists(Bf),gm=e=>Bu(e).bind((e=>Kn(e,Gt))).exists((e=>(e=>U(["pre","pre-wrap"],e))(ir(e,"white-space")))),vm=(e,t)=>n=>{return r=new Ir(n,e)[t](),x(r)&&no(r)&&mu(r);var r},ym=(e,t)=>!gm(t)&&(nm(e,t)||om(e,t)||cm(e,t)||fm(e,t)||((e,t)=>{const n=id(e.dom,t).getOr(t),r=vm(e.dom,"prev");return t.isAtStart()&&(r(t.container())||r(n.container()))})(e,t)),bm=(e,t)=>!gm(t)&&(rm(e,t)||im(e,t)||lm(e,t)||mm(e,t)||((e,t)=>{const n=od(e.dom,t).getOr(t),r=vm(e.dom,"next");return t.isAtEnd()&&(r(t.container())||r(n.container()))})(e,t)),wm=(e,t)=>ym(e,t)||bm(e,(e=>{const t=e.container(),n=e.offset();return Zr(t)&&n<t.data.length?Ma(t,n+1):e})(t)),xm=(e,t)=>Sd(e.charAt(t)),Em=(e,t)=>Cd(e.charAt(t)),Sm=(e,t,n)=>{const r=t.data,o=Ma(t,0);return n||!xm(r,0)||wm(e,o)?!!(n&&Em(r,0)&&ym(e,o))&&(t.data=lo+r.slice(1),!0):(t.data=" "+r.slice(1),!0)},Cm=(e,t,n)=>{const r=t.data,o=Ma(t,r.length-1);return n||!xm(r,r.length-1)||wm(e,o)?!!(n&&Em(r,r.length-1)&&bm(e,o))&&(t.data=r.slice(0,-1)+lo,!0):(t.data=r.slice(0,-1)+" ",!0)},Am=(e,t,n)=>{if(0===n)return;const r=vn(e),o=$n(r,go).getOr(r),i=e.data.slice(t,t+n),s=t+n>=e.data.length&&bm(o,Ma(e,e.data.length)),a=0===t&&ym(o,Ma(e,0));e.replaceData(t,n,ii(i,4,a,s))},_m=(e,t)=>{const n=e.data.slice(t),r=n.length-Ze(n).length;Am(e,t,r)},km=(e,t)=>{const n=e.data.slice(0,t),r=n.length-$e(n).length;Am(e,t-r,r)},Tm=(e,t,n,r=!0)=>{const o=$e(e.data).length,i=r?e:t,s=r?t:e;return r?i.appendData(s.data):i.insertData(0,s.data),vr(vn(s)),n&&_m(i,o),i},Mm=(e,t)=>((e,t)=>{const n=e.container(),r=e.offset();return!Ma.isTextPosition(e)&&n===t.parentNode&&r>Ma.before(t).offset()})(t,e)?Ma(t.container(),t.offset()-1):t,Pm=e=>{return Qo(e.previousSibling)?L.some((t=e.previousSibling,Zr(t)?Ma(t,t.data.length):Ma.after(t))):e.previousSibling?ad(e.previousSibling):L.none();var t},Om=e=>{return Qo(e.nextSibling)?L.some((t=e.nextSibling,Zr(t)?Ma(t,0):Ma.before(t))):e.nextSibling?sd(e.nextSibling):L.none();var t},Rm=(e,t,n)=>{n.fold((()=>{e.focus()}),(n=>{e.selection.setRng(n.toRange(),t)}))},Nm=(e,t)=>t&&Ce(e.schema.getBlockElements(),Vt(t)),Dm=e=>{if(ui(e)){const t=fn('<br data-mce-bogus="1">');return gr(e),pr(e,t),L.some(Ma.before(t.dom))}return L.none()},Im=(e,t,n,r=!0)=>{const o=((e,t,n)=>((e,t,n)=>e?((e,t)=>Om(t).orThunk((()=>Pm(t))).orThunk((()=>((e,t)=>od(e,Ma.after(t)).orThunk((()=>id(e,Ma.before(t)))))(e,t))))(t,n):((e,t)=>Pm(t).orThunk((()=>Om(t))).orThunk((()=>((e,t)=>L.from(t.previousSibling?t.previousSibling:t.parentNode).bind((t=>id(e,Ma.before(t)))).orThunk((()=>od(e,Ma.after(t)))))(e,t))))(t,n))(e,t,n).map(O(Mm,n)))(t,e.getBody(),n.dom),i=$n(n,O(Nm,e),(s=e.getBody(),e=>e.dom===s));var s;const a=((e,t,n)=>{const r=Mn(e).filter(qt),o=Pn(e).filter(qt);return vr(e),(i=r,s=o,a=t,l=(e,t,r)=>{const o=e.dom,i=t.dom,s=o.data.length;return Tm(o,i,n),r.container()===i?Ma(o,s):r},i.isSome()&&s.isSome()&&a.isSome()?L.some(l(i.getOrDie(),s.getOrDie(),a.getOrDie())):L.none()).orThunk((()=>(n&&(r.each((e=>km(e.dom,e.dom.length))),o.each((e=>_m(e.dom,0)))),t)));var i,s,a,l})(n,o,((e,t)=>Ce(e.schema.getTextInlineElements(),Vt(t)))(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):i.bind(Dm).fold((()=>{r&&Rm(e,t,a)}),(n=>{r&&Rm(e,t,L.some(n))}))},Bm=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Fm=(e,t)=>bn(vn(t),Zl(e))&&!xi(e.schema,t)&&e.dom.isEditable(t),Lm=(e,t,n)=>{const r=((e,t,n)=>K(Cs.DOM.getParents(n.container(),"*",t),e))(e,t,n);return L.from(r[r.length-1])},Hm=(e,t)=>{const n=t.container(),r=t.offset();return e?Bo(n)?Zr(n.nextSibling)?Ma(n.nextSibling,0):Ma.after(n):Ho(t)?Ma(n,r+1):t:Bo(n)?Zr(n.previousSibling)?Ma(n.previousSibling,n.previousSibling.data.length):Ma.before(n):zo(t)?Ma(n,r-1):t},zm=O(Hm,!0),Vm=O(Hm,!1),jm=(e,t)=>{const n=e=>e.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},Um=e=>jm(e,"Delete"),Gm=e=>bo(e)||xo(e),qm=(e,t)=>En(e,t)?Kn(t,Gm,(e=>t=>It(_n(t),e,xn))(e)):L.none(),Wm=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},Zm=e=>{var t;return(8===jt(t=e)||"#comment"===Vt(t)?Mn(e):Bn(e)).bind(Zm).orThunk((()=>L.some(e)))},$m=(e,t,n,r=!0)=>{var o;t.deleteContents();const i=Zm(n).getOr(n),s=vn(null!==(o=e.dom.getParent(i.dom,e.dom.isBlock))&&void 0!==o?o:n.dom);if(s.dom===e.getBody()?Wm(e,r):ui(s)&&(To(s),r&&e.selection.setCursorLocation(s.dom,0)),!xn(n,s)){const e=It(_n(s),n)?[]:_n(a=s).map(Nn).map((e=>K(e,(e=>!xn(a,e))))).getOr([]);W(e.concat(Nn(n)),(e=>{xn(e,s)||En(e,s)||!ui(e)||vr(e)}))}var a},Km=e=>Nr(e,"td,th"),Xm=(e,t)=>({start:e,end:t}),Ym=el([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Jm=(e,t)=>Jn(vn(e),"td,th",t),Qm=e=>!xn(e.start,e.end),eg=(e,t)=>Bd(e.start,t).bind((n=>Bd(e.end,t).bind((e=>Ft(xn(n,e),n))))),tg=e=>t=>eg(t,e).map((e=>((e,t,n)=>({rng:e,table:t,cells:n}))(t,e,Km(e)))),ng=(e,t,n,r)=>{if(n.collapsed||!e.forall(Qm))return L.none();if(t.isSameTable){const t=e.bind(tg(r));return L.some({start:t,end:t})}{const e=Jm(n.startContainer,r),t=Jm(n.endContainer,r),o=e.bind((e=>t=>Bd(t,e).bind((e=>ue(Km(e)).map((e=>Xm(t,e))))))(r)).bind(tg(r)),i=t.bind((e=>t=>Bd(t,e).bind((e=>ce(Km(e)).map((e=>Xm(e,t))))))(r)).bind(tg(r));return L.some({start:o,end:i})}},rg=(e,t)=>ee(e,(e=>xn(e,t))),og=e=>Bt(rg(e.cells,e.rng.start),rg(e.cells,e.rng.end),((t,n)=>e.cells.slice(t,n+1))),ig=(e,t)=>{const{startTable:n,endTable:r}=t,o=e.cloneRange();return n.each((e=>o.setStartAfter(e.dom))),r.each((e=>o.setEndBefore(e.dom))),o},sg=e=>W(e,(e=>{tn(e,"contenteditable"),To(e)})),ag=(e,t,n,r)=>{const o=n.cloneRange();r?(o.setStart(n.startContainer,n.startOffset),o.setEndAfter(t.dom.lastChild)):(o.setStartBefore(t.dom.firstChild),o.setEnd(n.endContainer,n.endOffset)),dg(e,o,t,!1).each((e=>e()))},lg=e=>{const t=Id(e),n=vn(e.selection.getNode());ro(n.dom)&&ui(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&G(t,(e=>xn(e,n)))&&Xt(n,"data-mce-selected","1")},cg=(e,t,n)=>L.some((()=>{const r=e.selection.getRng(),o=n.bind((({rng:n,isStartInTable:o})=>{const i=((e,t)=>L.from(e.dom.getParent(t,e.dom.isBlock)).map(vn))(e,o?n.endContainer:n.startContainer);n.deleteContents(),((e,t,n)=>{n.each((n=>{t?vr(n):(To(n),e.selection.setCursorLocation(n.dom,0))}))})(e,o,i.filter(ui));const s=o?t[0]:t[t.length-1];return ag(e,s,r,o),ui(s)?L.none():L.some(o?t.slice(1):t.slice(0,-1))})).getOr(t);sg(o),lg(e)})),ug=(e,t,n,r)=>L.some((()=>{const o=e.selection.getRng(),i=t[0],s=n[n.length-1];ag(e,i,o,!0),ag(e,s,o,!1);const a=ui(i)?t:t.slice(1),l=ui(s)?n:n.slice(0,-1);sg(a.concat(l)),r.deleteContents(),lg(e)})),dg=(e,t,n,r=!0)=>L.some((()=>{$m(e,t,n,r)})),hg=(e,t)=>L.some((()=>Im(e,!1,t))),pg=(e,t)=>Q(Yf(t,e),So),fg=(e,t)=>Q(Yf(t,e),$t("caption")),mg=(e,t)=>L.some((()=>{To(t),e.selection.setCursorLocation(t.dom,0)})),gg=(e,t)=>e?Wf(t):Zf(t),vg=(e,t)=>{const n=vn(e.selection.getStart(!0)),r=Id(e);return e.selection.isCollapsed()&&0===r.length?((e,t,n)=>{const r=vn(e.getBody());return fg(r,n).fold((()=>((e,t,n,r)=>{const o=Ma.fromRangeStart(e.selection.getRng());return pg(n,r).bind((r=>ui(r)?mg(e,r):((e,t,n,r,o)=>td(n,e.getBody(),o).bind((e=>pg(t,vn(e.getNode())).bind((e=>xn(e,r)?L.none():L.some(A))))))(e,n,t,r,o)))})(e,t,r,n).orThunk((()=>Ft(((e,t)=>{const n=Ma.fromRangeStart(e.selection.getRng());return gg(t,n)||ed(t,e.getBody(),n).exists((e=>gg(t,e)))})(e,t),A)))),(n=>((e,t,n,r)=>{const o=Ma.fromRangeStart(e.selection.getRng());return ui(r)?mg(e,r):((e,t,n,r,o)=>td(n,e.getBody(),o).fold((()=>L.some(A)),(i=>((e,t,n,r)=>sd(e.dom).bind((o=>ad(e.dom).map((e=>t?n.isEqual(o)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(o))))).getOr(!0))(r,n,o,i)?((e,t)=>mg(e,t))(e,r):((e,t,n)=>fg(e,vn(n.getNode())).fold((()=>L.some(A)),(e=>Ft(!xn(e,t),A))))(t,r,i))))(e,n,t,r,o)})(e,t,r,n)))})(e,t,n):((e,t,n)=>{const r=vn(e.getBody()),o=e.selection.getRng();return 0!==n.length?cg(e,n,L.none()):((e,t,n,r)=>fg(t,r).fold((()=>((e,t,n)=>((e,t)=>{const n=(e=>t=>xn(e,t))(e),r=((e,t)=>{const n=Jm(e.startContainer,t),r=Jm(e.endContainer,t);return Bt(n,r,Xm)})(t,n),o=((e,t)=>{const n=e=>Bd(vn(e),t),r=n(e.startContainer),o=n(e.endContainer),i=r.isSome(),s=o.isSome(),a=Bt(r,o,xn).getOr(!1);return{startTable:r,endTable:o,isStartInTable:i,isEndInTable:s,isSameTable:a,isMultiTable:!a&&i&&s}})(t,n);return((e,t,n)=>e.exists((e=>((e,t)=>!Qm(e)&&eg(e,t).exists((e=>{const t=e.dom.rows;return 1===t.length&&1===t[0].cells.length})))(e,n)&&Hd(e.start,t))))(r,t,n)?r.map((e=>Ym.singleCellTable(t,e.start))):o.isMultiTable?((e,t,n,r)=>ng(e,t,n,r).bind((({start:e,end:r})=>{const o=e.bind(og).getOr([]),i=r.bind(og).getOr([]);if(o.length>0&&i.length>0){const e=ig(n,t);return L.some(Ym.multiTable(o,i,e))}return L.none()})))(r,o,t,n):((e,t,n,r)=>ng(e,t,n,r).bind((({start:e,end:t})=>e.or(t))).bind((e=>{const{isSameTable:r}=t,o=og(e).getOr([]);if(r&&e.cells.length===o.length)return L.some(Ym.fullTable(e.table));if(o.length>0){if(r)return L.some(Ym.partialTable(o,L.none()));{const e=ig(n,t);return L.some(Ym.partialTable(o,L.some({...t,rng:e})))}}return L.none()})))(r,o,t,n)})(t,n).bind((t=>t.fold(O(dg,e),O(hg,e),O(cg,e),O(ug,e)))))(e,t,n)),(t=>((e,t)=>mg(e,t))(e,t))))(e,r,o,t)})(e,n,r)},yg=(e,t)=>{let n=t;for(;n&&n!==e;){if(to(n)||no(n))return n;n=n.parentNode}return null},bg=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],wg=Dt.each,xg=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),r=e=>G(bg,(t=>Ue(e,t)))||n.has(e);return{compare:(e,n)=>{if(e.nodeName!==n.nodeName||e.nodeType!==n.nodeType)return!1;const o=e=>{const n={};return wg(t.getAttribs(e),(o=>{const i=o.nodeName.toLowerCase();"style"===i||r(i)||(n[i]=t.getAttrib(e,i))})),n},i=(e,t)=>{for(const n in e)if(Ce(e,n)){const r=t[n];if(b(r))return!1;if(e[n]!==r)return!1;delete t[n]}for(const e in t)if(Ce(t,e))return!1;return!0};if(Lr(e)&&Lr(n)){if(!i(o(e),o(n)))return!1;if(!i(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style"))))return!1}return!Ed(e)&&!Ed(n)},isAttributeInternal:r}},Eg=(e,t,n,r)=>{const o=n.name;for(let t=0,i=e.length;t<i;t++){const i=e[t];if(i.name===o){const e=r.nodes[o];e?e.nodes.push(n):r.nodes[o]={filter:i,nodes:[n]}}}if(n.attributes)for(let e=0,o=t.length;e<o;e++){const o=t[e],i=o.name;if(i in n.attributes.map){const e=r.attributes[i];e?e.nodes.push(n):r.attributes[i]={filter:o,nodes:[n]}}}},Sg=(e,t)=>{const n=(e,n)=>{me(e,(e=>{const r=de(e.nodes);W(e.filter.callbacks,(o=>{for(let t=r.length-1;t>=0;t--){const o=r[t];(n?void 0!==o.attr(e.filter.name):o.name===e.filter.name)&&!w(o.parent)||r.splice(t,1)}r.length>0&&o(r,e.filter.name,t)}))}))};n(e.nodes,!1),n(e.attributes,!0)},Cg=(e,t,n,r={})=>{const o=((e,t,n)=>{const r={nodes:{},attributes:{}};return n.firstChild&&((n,o)=>{let i=n;for(;i=i.walk();)Eg(e,t,i,r)})(n),r})(e,t,n);Sg(o,r)},Ag=(e,t,n)=>{if(e.insert&&t(n)){const e=new xf("br",1);e.attr("data-mce-bogus","1"),n.empty().append(e)}else n.empty().append(new xf("#text",3)).value=lo},_g=(e,t)=>{const n=null==e?void 0:e.firstChild;return x(n)&&n===e.lastChild&&n.name===t},kg=(e,t,n,r)=>r.isEmpty(t,n,(t=>((e,t)=>{const n=e.getElementRule(t.name);return!0===(null==n?void 0:n.paddEmpty)})(e,t))),Tg=e=>{let t;for(let n=e;n;n=n.parent){const e=n.attr("contenteditable");if("false"===e)break;"true"===e&&(t=n)}return L.from(t)},Mg=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const e of r)n&&!t.isValidChild(n.name,e.name)&&Mg(e,t,n);e.unwrap()}},Pg=(e,t,n,r=A)=>{const o=t.getTextBlockElements(),i=t.getNonEmptyElements(),s=t.getWhitespaceElements(),a=Dt.makeMap("tr,td,th,tbody,thead,tfoot,table"),l=new Set,c=e=>e!==n&&!a[e.name];for(let n=0;n<e.length;n++){const a=e[n];let u,d,h;if(!a.parent||l.has(a))continue;if(o[a.name]&&"li"===a.parent.name){let e=a.next;for(;e&&o[e.name];)e.name="li",l.add(e),a.parent.insert(e,a.parent),e=e.next;a.unwrap();continue}const p=[a];for(u=a.parent;u&&!t.isValidChild(u.name,a.name)&&c(u);u=u.parent)p.push(u);if(u&&p.length>1)if(t.isValidChild(u.name,a.name)){p.reverse(),d=p[0].clone(),r(d);let e=d;for(let n=0;n<p.length-1;n++){t.isValidChild(e.name,p[n].name)&&n>0?(h=p[n].clone(),r(h),e.append(h)):h=e;for(let e=p[n].firstChild;e&&e!==p[n+1];){const t=e.next;h.append(e),e=t}e=h}kg(t,i,s,d)?u.insert(a,p[0],!0):(u.insert(d,p[0],!0),u.insert(a,d)),u=p[0],(kg(t,i,s,u)||_g(u,"br"))&&u.empty().remove()}else Mg(a,t);else if(a.parent){if("li"===a.name){let e=a.prev;if(e&&("ul"===e.name||"ol"===e.name)){e.append(a);continue}if(e=a.next,e&&("ul"===e.name||"ol"===e.name)&&e.firstChild){e.insert(a,e.firstChild,!0);continue}const t=new xf("ul",1);r(t),a.wrap(t);continue}if(t.isValidChild(a.parent.name,"div")&&t.isValidChild("div",a.name)){const e=new xf("div",1);r(e),a.wrap(e)}else Mg(a,t)}}},Og=(e,t,n=t.parent)=>!(!n||!e.children[t.name]||e.isValidChild(n.name,t.name))||!(!n||"a"!==t.name||!((e,t)=>{let n=e;for(;n;){if("a"===n.name)return!0;n=n.parent}return!1})(n)),Rg=e=>e.collapsed?e:(e=>{const t=Ma.fromRangeStart(e),n=Ma.fromRangeEnd(e),r=e.commonAncestorContainer;return ed(!1,r,n).map((o=>!_u(t,n,r)&&_u(t,o,r)?((e,t,n,r)=>{const o=document.createRange();return o.setStart(e,t),o.setEnd(n,r),o})(t.container(),t.offset(),o.container(),o.offset()):e)).getOr(e)})(e),Ng=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},Dg=(e,t)=>{const n=Ma.after(e),r=Xu(t).prev(n);return r?r.toRange():null},Ig=["pre"],Bg=ro,Fg=(e,t,n)=>{var r,o;const i=e.selection,s=e.dom,a=e.parser,l=n.merge,c=Pf({validate:!0},e.schema),u='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,u);let d=i.getRng();const h=d.startContainer,p=e.getBody();h===p&&i.isCollapsed()&&s.isBlock(p.firstChild)&&((e,t)=>x(t)&&!e.schema.getVoidElements()[t.nodeName])(e,p.firstChild)&&s.isEmpty(p.firstChild)&&(d=s.createRng(),d.setStart(p.firstChild,0),d.setEnd(p.firstChild,0),i.setRng(d)),i.isCollapsed()||(e=>{const t=e.dom,n=Rg(e.selection.getRng());e.selection.setRng(n);const r=t.getParent(n.startContainer,Bg);((e,t,n)=>!!x(n)&&n===e.getParent(t.endContainer,Bg)&&Hd(vn(n),t))(t,n,r)?dg(e,n,vn(r)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset==1&&Zr(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)})(e);const f=i.getNode(),m={context:f.nodeName.toLowerCase(),data:n.data,insert:!0},g=a.parse(t,m);if(!0===n.paste&&((e,t)=>{let n=t.firstChild,r=t.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),((e,t)=>{const n=e.getNonEmptyElements();return x(t)&&(t.isEmpty(n)||((e,t)=>e.getBlockElements()[t.name]&&(e=>x(e.firstChild)&&e.firstChild===e.lastChild)(t)&&(e=>"br"===e.name||e.value===lo)(t.firstChild))(e,t))})(e,r)&&(r=null==r?void 0:r.prev),!(!n||n!==r||"ul"!==n.name&&"ol"!==n.name)})(e.schema,g)&&((e,t)=>!!Ng(e,t))(s,f))return d=((e,t,n,r)=>{const o=((e,t,n)=>{const r=t.serialize(n);return(e=>{var t,n;const r=e.firstChild,o=e.lastChild;return r&&"META"===r.nodeName&&(null===(t=r.parentNode)||void 0===t||t.removeChild(r)),o&&"mce_marker"===o.id&&(null===(n=o.parentNode)||void 0===n||n.removeChild(o)),e})(e.createFragment(r))})(t,e,r),i=Ng(t,n.startContainer),s=(e=>{return e.length>0&&(!(n=e[e.length-1]).firstChild||x(null==(t=n)?void 0:t.firstChild)&&t.firstChild===t.lastChild&&(e=>e.data===lo||Qr(e))(t.firstChild))?e.slice(0,-1):e;var t,n})((a=o.firstChild,K(null!==(l=null==a?void 0:a.childNodes)&&void 0!==l?l:[],(e=>"LI"===e.nodeName))));var a,l;const c=t.getRoot(),u=e=>{const r=Ma.fromRangeStart(n),o=Xu(t.getRoot()),s=1===e?o.prev(r):o.next(r),a=null==s?void 0:s.getNode();return!a||Ng(t,a)!==i};return i?u(1)?((e,t,n)=>{const r=e.parentNode;return r&&Dt.each(t,(t=>{r.insertBefore(t,e)})),((e,t)=>{const n=Ma.before(e),r=Xu(t).next(n);return r?r.toRange():null})(e,n)})(i,s,c):u(2)?((e,t,n,r)=>(r.insertAfter(t.reverse(),e),Dg(t[0],n)))(i,s,c,t):((e,t,n,r)=>{const o=((e,t)=>{const n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]})(e,r),i=e.parentNode;return i&&(i.insertBefore(o[0],e),Dt.each(t,(t=>{i.insertBefore(t,e)})),i.insertBefore(o[1],e),i.removeChild(e)),Dg(t[t.length-1],n)})(i,s,c,n):null})(c,s,i.getRng(),g),d&&i.setRng(d),t;!0===n.paste&&((e,t,n,r)=>{var o;const i=t.firstChild,s=t.lastChild,a=i===("bookmark"===s.attr("data-mce-type")?s.prev:s),l=U(Ig,i.name);if(a&&l){const t="false"!==i.attr("contenteditable"),s=(null===(o=e.getParent(n,e.isBlock))||void 0===o?void 0:o.nodeName.toLowerCase())===i.name,a=L.from(yg(r,n)).forall(to);return t&&s&&a}return!1})(s,g,f,e.getBody())&&(null===(r=g.firstChild)||void 0===r||r.unwrap()),(e=>{let t=e;for(;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")})(g);let v=g.lastChild;if(v&&"mce_marker"===v.attr("id")){const t=v;for(v=v.prev;v;v=v.walk(!0))if(3===v.type||!s.isBlock(v.name)){v.parent&&e.schema.isValidChild(v.parent.name,"span")&&v.parent.insert(t,v,"br"===v.name);break}}if(e._selectionOverrides.showBlockCaretContainer(f),m.invalid){e.selection.setContent(u);let n,r=i.getNode();const l=e.getBody();for(Yr(r)?r=n=l:n=r;n&&n!==l;)r=n,n=n.parentNode;t=r===l?l.innerHTML:s.getOuterHTML(r);const d=a.parse(t),h=(e=>{for(let t=e;t;t=t.walk())if("mce_marker"===t.attr("id"))return L.some(t);return L.none()})(d),p=h.bind(Tg).getOr(d);h.each((e=>e.replace(g)));const f=g.children(),m=null!==(o=g.parent)&&void 0!==o?o:d;g.unwrap();const v=K(f,(t=>Og(e.schema,t,m)));Pg(v,e.schema,p),Cg(a.getNodeFilters(),a.getAttributeFilters(),d),t=c.serialize(d),r===l?s.setHTML(l,t):s.setOuterHTML(r,t)}else t=c.serialize(g),((e,t,n)=>{var r;if("all"===n.getAttribute("data-mce-bogus"))null===(r=n.parentNode)||void 0===r||r.insertBefore(e.dom.createFragment(t),n);else{const r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}})(e,t,f);var y;return((e,t)=>{const n=e.schema.getTextInlineElements(),r=e.dom;if(t){const t=e.getBody(),o=xg(e);Dt.each(r.select("*[data-mce-fragment]"),(e=>{if(x(n[e.nodeName.toLowerCase()])&&((e,t)=>re(Nf(e,t),(e=>!(e=>Of.has(e))(e))))(r,e))for(let n=e.parentElement;x(n)&&n!==t&&!Df(r,e,n);n=n.parentElement)if(o.compare(n,e)){r.remove(e,!0);break}}))}})(e,l),((e,t)=>{var n,r,o;let i;const s=e.dom,a=e.selection;if(!t)return;a.scrollIntoView(t);const l=yg(e.getBody(),t);if(l&&"false"===s.getContentEditable(l))return s.remove(t),void a.select(l);let c=s.createRng();const u=t.previousSibling;if(Zr(u)){c.setStart(u,null!==(r=null===(n=u.nodeValue)||void 0===n?void 0:n.length)&&void 0!==r?r:0);const e=t.nextSibling;Zr(e)&&(u.appendData(e.data),null===(o=e.parentNode)||void 0===o||o.removeChild(e))}else c.setStartBefore(t),c.setEndBefore(t);const d=s.getParent(t,s.isBlock);s.remove(t),d&&s.isEmpty(d)&&(gr(vn(d)),c.setStart(d,0),c.setEnd(d,0),Bg(d)||(e=>!!e.getAttribute("data-mce-fragment"))(d)||!(i=(t=>{let n=Ma.fromRangeStart(t);return n=Xu(e.getBody()).next(n),null==n?void 0:n.toRange()})(c))?s.add(d,s.create("br",{"data-mce-bogus":"1"})):(c=i,s.remove(d))),a.setRng(c)})(e,s.get("mce_marker")),y=e.getBody(),Dt.each(y.getElementsByTagName("*"),(e=>{e.removeAttribute("data-mce-fragment")})),((e,t)=>{L.from(e.getParent(t,"td,th")).map(vn).each(Mo)})(s,i.getStart()),((e,t,n)=>{const r=Tn(vn(n),(e=>xn(e,vn(t))));le(r,r.length-2).filter(Gt).fold((()=>gi(e,t)),(t=>gi(e,t.dom)))})(e.schema,e.getBody(),i.getStart()),t},Lg=e=>e instanceof xf,Hg=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),!0!==n&&(e=>{sf(e)&&sd(e.getBody()).each((t=>{const n=t.getNode(),r=Gr(n)?sd(n).getOr(t):t;e.selection.setRng(r.toRange())}))})(e)},zg=e=>E(e)?e:B,Vg=(e,t,n)=>{const r=t(e),o=zg(n);return r.orThunk((()=>o(e)?L.none():((e,t,n)=>{let r=e.dom;const o=zg(n);for(;r.parentNode;){r=r.parentNode;const e=vn(r),n=t(e);if(n.isSome())return n;if(o(e))break}return L.none()})(e,t,o)))},jg=th,Ug=(e,t,n)=>{const r=e.formatter.get(n);if(r)for(let n=0;n<r.length;n++){const o=r[n];if(lh(o)&&!1===o.inherit&&e.dom.is(t,o.selector))return!0}return!1},Gg=(e,t,n,r,o)=>{const i=e.dom.getRoot();if(t===i)return!1;const s=e.dom.getParent(t,(t=>!!Ug(e,t,n)||t.parentNode===i||!!Zg(e,t,n,r,!0)));return!!Zg(e,s,n,r,o)},qg=(e,t,n)=>!(!ch(n)||!jg(t,n.inline))||!(!ah(n)||!jg(t,n.block))||!!lh(n)&&Lr(t)&&e.is(t,n.selector),Wg=(e,t,n,r,o,i)=>{const s=n[r],a="attributes"===r;if(E(n.onmatch))return n.onmatch(t,n,r);if(s)if(ke(s)){for(let n=0;n<s.length;n++)if(a?e.getAttrib(t,s[n]):rh(e,t,s[n]))return!0}else for(const r in s)if(Ce(s,r)){const l=a?e.getAttrib(t,r):rh(e,t,r),c=eh(s[r],i),u=w(l)||Xe(l);if(u&&w(c))continue;if(o&&u&&!n.exact)return!1;if((!o||n.exact)&&!jg(l,nh(c,r)))return!1}return!0},Zg=(e,t,n,r,o)=>{const i=e.formatter.get(n),s=e.dom;if(i&&Lr(t))for(let n=0;n<i.length;n++){const a=i[n];if(qg(e.dom,t,a)&&Wg(s,t,a,"attributes",o,r)&&Wg(s,t,a,"styles",o,r)){const n=a.classes;if(n)for(let o=0;o<n.length;o++)if(!e.dom.hasClass(t,eh(n[o],r)))return;return a}}},$g=(e,t,n,r,o)=>{if(r)return Gg(e,r,t,n,o);if(r=e.selection.getNode(),Gg(e,r,t,n,o))return!0;const i=e.selection.getStart();return!(i===r||!Gg(e,i,t,n,o))},Kg=Po,Xg=e=>(e=>{const t=[];let n=e;for(;n;){if(Zr(n)&&n.data!==Kg||n.childNodes.length>1)return[];Lr(n)&&t.push(n),n=n.firstChild}return t})(e).length>0,Yg=e=>{if(e){const t=new Ir(e,e);for(let e=t.current();e;e=t.next())if(Zr(e))return e}return null},Jg=e=>{const t=mn("span");return Yt(t,{id:ld,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&pr(t,gn(Kg)),t},Qg=(e,t,n=!0)=>{const r=e.dom,o=e.selection;if(Xg(t))Im(e,!1,vn(t),n);else{const e=o.getRng(),n=r.getParent(t,r.isBlock),i=e.startContainer,s=e.startOffset,a=e.endContainer,l=e.endOffset,c=(e=>{const t=Yg(e);return t&&t.data.charAt(0)===Kg&&t.deleteData(0,1),t})(t);r.remove(t,!0),i===c&&s>0&&e.setStart(c,s-1),a===c&&l>0&&e.setEnd(c,l-1),n&&r.isEmpty(n)&&To(vn(n)),o.setRng(e)}},ev=(e,t,n=!0)=>{const r=e.dom,o=e.selection;if(t)Qg(e,t,n);else if(!(t=ud(e.getBody(),o.getStart())))for(;t=r.get(ld);)Qg(e,t,!1)},tv=(e,t)=>(e.appendChild(t),t),nv=(e,t)=>{var n;const r=X(e,((e,t)=>tv(e,t.cloneNode(!1))),t),o=null!==(n=r.ownerDocument)&&void 0!==n?n:document;return tv(r,o.createTextNode(Kg))},rv=(e,t,n,r)=>{const o=e.dom,a=e.selection;let l=!1;const c=e.formatter.get(t);if(!c)return;const u=a.getRng(),d=u.startContainer,h=u.startOffset;let p=d;Zr(d)&&(h!==d.data.length&&(l=!0),p=p.parentNode);const f=[];let m;for(;p;){if(Zg(e,p,t,n,r)){m=p;break}p.nextSibling&&(l=!0),f.push(p),p=p.parentNode}if(m)if(l){const i=a.getBookmark();u.collapse(!0);let s=Ah(o,u,c,!0);s=mp(s),e.formatter.remove(t,n,s,r),a.moveToBookmark(i)}else{const l=ud(e.getBody(),m),c=Jg(!1).dom;((e,t,n)=>{var r,o;const i=e.dom,s=i.getParent(n,O(Xd,e.schema));s&&i.isEmpty(s)?null===(r=n.parentNode)||void 0===r||r.replaceChild(t,n):((e=>{const t=Nr(e,"br"),n=K((e=>{const t=[];let n=e.dom;for(;n;)t.push(vn(n)),n=n.lastChild;return t})(e).slice(-1),yo);t.length===n.length&&W(n,vr)})(vn(n)),i.isEmpty(n)?null===(o=n.parentNode)||void 0===o||o.replaceChild(t,n):i.insertAfter(t,n))})(e,c,null!=l?l:m);const u=((e,t,n,r,o,a)=>{const l=e.formatter,c=e.dom,u=K(pe(l.get()),(e=>e!==r&&!je(e,"removeformat"))),d=((e,t,n)=>Y(n,((n,r)=>{const o=((e,t)=>sh(e,t,(e=>{const t=e=>E(e)||e.length>1&&"%"===e.charAt(0);return G(["styles","attributes"],(n=>Se(e,n).exists((e=>{const n=g(e)?e:Ee(e);return G(n,t)}))))})))(e,r);return e.formatter.matchNode(t,r,{},o)?n.concat([r]):n}),[]))(e,n,u);if(K(d,(t=>!((e,t,n)=>{const r=["inline","block","selector","attributes","styles","classes"],o=e=>we(e,((e,t)=>G(r,(e=>e===t))));return sh(e,t,(t=>{const r=o(t);return sh(e,n,(e=>{const t=o(e);return((e,t,n=s)=>i(n).eq(e,t))(r,t)}))}))})(e,t,r))).length>0){const e=n.cloneNode(!1);return c.add(t,e),l.remove(r,o,e,a),c.remove(e),L.some(e)}return L.none()})(e,c,m,t,n,r),d=nv(f.concat(u.toArray()),c);l&&Qg(e,l,!1),a.setCursorLocation(d,1),o.isEmpty(m)&&o.remove(m)}},ov=e=>{const t=Jg(!1),n=nv(e,t.dom);return{caretContainer:t,caretPosition:Ma(n,0)}},iv=(e,t)=>{const{caretContainer:n,caretPosition:r}=ov(t);return ur(vn(e),n),vr(vn(e)),r},sv=(e,t)=>{const n=e.schema.getTextInlineElements();return Ce(n,Vt(t))&&!cd(t.dom)&&!Ur(t.dom)},av=e=>cd(e.dom)&&Xg(e.dom),lv={},cv=zr(["pre"]);lv.pre||(lv.pre=[]),lv.pre.push((e=>{if(!e.selection.getRng().collapsed){const t=e.selection.getSelectedBlocks(),n=K(K(t,cv),(e=>t=>{const n=t.previousSibling;return cv(n)&&U(e,n)})(t));W(n,(e=>{((e,t)=>{const n=vn(t),r=Cn(n).dom;vr(n),mr(vn(e),[mn("br",r),mn("br",r),...Nn(n)])})(e.previousSibling,e)}))}}));const uv=["fontWeight","fontStyle","color","fontSize","fontFamily"],dv=(e,t)=>{const n=e.get(t);return g(n)?Q(n,(e=>ch(e)&&"span"===e.inline&&(e=>f(e.styles)&&G(pe(e.styles),(e=>U(uv,e))))(e))):L.none()},hv=(e,t)=>id(t,Ma.fromRangeStart(e)).isNone(),pv=(e,t)=>!1===od(t,Ma.fromRangeEnd(e)).exists((e=>!Qr(e.getNode())||od(t,e).isSome())),fv=e=>t=>so(t)&&e.isEditable(t),mv=e=>K(e.getSelectedBlocks(),fv(e.dom)),gv=Dt.each,vv=e=>Lr(e)&&!Ed(e)&&!cd(e)&&!Ur(e),yv=(e,t)=>{for(let n=e;n;n=n[t]){if(Zr(n)&&Ke(n.data))return e;if(Lr(n)&&!Ed(n))return n}return e},bv=(e,t,n)=>{const r=xg(e),o=Lr(t)&&Wd(t),i=Lr(n)&&Wd(n);if(o&&i){const o=yv(t,"previousSibling"),i=yv(n,"nextSibling");if(r.compare(o,i)){for(let e=o.nextSibling;e&&e!==i;){const t=e;e=e.nextSibling,o.appendChild(t)}return e.dom.remove(i),Dt.each(Dt.grep(i.childNodes),(e=>{o.appendChild(e)})),o}}return n},wv=(e,t,n,r)=>{var o;if(r&&!1!==t.merge_siblings){const t=null!==(o=bv(e,Kd(r),r))&&void 0!==o?o:r;bv(e,t,Kd(t,!0))}},xv=(e,t,n)=>{gv(e.childNodes,(e=>{vv(e)&&(t(e)&&n(e),e.hasChildNodes()&&xv(e,t,n))}))},Ev=(e,t)=>n=>!(!n||!rh(e,n,t)),Sv=(e,t,n)=>r=>{e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),((e,t)=>{"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)})(e,r)},Cv=el([{keep:[]},{rename:["name"]},{removed:[]}]),Av=/^(src|href|style)$/,_v=Dt.each,kv=th,Tv=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),Mv=(e,t,n)=>{let r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"];if(Lr(r)){const e=r.childNodes.length-1;!n&&o&&o--,r=r.childNodes[o>e?e:o]}return Zr(r)&&n&&o>=r.data.length&&(r=new Ir(r,e.getBody()).next()||r),Zr(r)&&!n&&0===o&&(r=new Ir(r,e.getBody()).prev()||r),r},Pv=(e,t)=>{const n=t?"firstChild":"lastChild",r=e[n];return(e=>/^(TR|TH|TD)$/.test(e.nodeName))(e)&&r?"TR"===e.nodeName&&r[n]||r:e},Ov=(e,t,n,r)=>{var o;const i=e.create(n,r);return null===(o=t.parentNode)||void 0===o||o.insertBefore(i,t),i.appendChild(t),i},Rv=(e,t,n,r,o)=>{const i=vn(t),s=vn(e.create(r,o)),a=n?Rn(i):On(i);return mr(s,a),n?(ur(i,s),hr(s,i)):(dr(i,s),pr(s,i)),s.dom},Nv=(e,t,n)=>{const r=t.parentNode;let o;const i=e.dom,s=xl(e);ah(n)&&r===i.getRoot()&&(n.list_block&&kv(t,n.list_block)||W(de(t.childNodes),(t=>{Yd(e,s,t.nodeName.toLowerCase())?o?o.appendChild(t):(o=Ov(i,t,s),i.setAttribs(o,El(e))):o=null}))),(e=>lh(e)&&ch(e)&&It(Se(e,"mixed"),!0))(n)&&!kv(n.inline,t)||i.remove(t,!0)},Dv=(e,t,n)=>S(e)?{name:t,value:null}:{name:e,value:eh(t,n)},Iv=(e,t)=>{""===e.getAttrib(t,"style")&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},Bv=(e,t,n,r,o)=>{let i=!1;_v(n.styles,((s,a)=>{const{name:l,value:c}=Dv(a,s,r),u=nh(c,l);(n.remove_similar||v(c)||!Lr(o)||kv(rh(e,o,l),u))&&e.setStyle(t,l,""),i=!0})),i&&Iv(e,t)},Fv=(e,t,n,r,o)=>{const i=e.dom,s=xg(e),a=e.schema;if(ch(t)&&bi(a,t.inline)&&xi(a,r)&&r.parentElement===e.getBody())return Nv(e,r,t),Cv.removed();if(!t.ceFalseOverride&&r&&"false"===i.getContentEditableParent(r))return Cv.keep();if(r&&!qg(i,r,t)&&!((e,t)=>t.links&&"A"===e.nodeName)(r,t))return Cv.keep();const l=r,c=t.preserve_attributes;if(ch(t)&&"all"===t.remove&&g(c)){const e=K(i.getAttribs(l),(e=>U(c,e.name.toLowerCase())));if(i.removeAllAttribs(l),W(e,(e=>i.setAttrib(l,e.name,e.value))),e.length>0)return Cv.rename("span")}if("all"!==t.remove){Bv(i,l,t,n,o),_v(t.attributes,((e,r)=>{const{name:s,value:a}=Dv(r,e,n);if(t.remove_similar||v(a)||!Lr(o)||kv(i.getAttrib(o,s),a)){if("class"===s){const e=i.getAttrib(l,s);if(e){let t="";if(W(e.split(/\s+/),(e=>{/mce\-\w+/.test(e)&&(t+=(t?" ":"")+e)})),t)return void i.setAttrib(l,s,t)}}if(Av.test(s)&&l.removeAttribute("data-mce-"+s),"style"===s&&zr(["li"])(l)&&"none"===i.getStyle(l,"list-style-type"))return l.removeAttribute(s),void i.setStyle(l,"list-style-type","none");"class"===s&&l.removeAttribute("className"),l.removeAttribute(s)}})),_v(t.classes,(e=>{e=eh(e,n),Lr(o)&&!i.hasClass(o,e)||i.removeClass(l,e)}));const e=i.getAttribs(l);for(let t=0;t<e.length;t++){const n=e[t].nodeName;if(!s.isAttributeInternal(n))return Cv.keep()}}return"none"!==t.remove?(Nv(e,l,t),Cv.removed()):Cv.keep()},Lv=(e,t,n,r,o)=>Fv(e,t,n,r,o).fold(B,(t=>(e.dom.rename(r,t),!0)),F),Hv=(e,t,n,r)=>Fv(e,t,n,r,r).fold(T(r),(t=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,t))),T(null)),zv=(e,t,n,r,o)=>{const i=e.formatter.get(t),s=i[0],a=e.dom,l=e.selection,c=r=>{const a=((e,t,n,r,o)=>{let i;return t.parentNode&&W(ih(e.dom,t.parentNode).reverse(),(t=>{if(!i&&Lr(t)&&"_start"!==t.id&&"_end"!==t.id){const s=Zg(e,t,n,r,o);s&&!1!==s.split&&(i=t)}})),i})(e,r,t,n,o);return((e,t,n,r,o,i,s,a)=>{var l,c;let u,d;const h=e.dom;if(n){const i=n.parentNode;for(let n=r.parentNode;n&&n!==i;n=n.parentNode){let r=h.clone(n,!1);for(let n=0;n<t.length&&(r=Hv(e,t[n],a,r),null!==r);n++);r&&(u&&r.appendChild(u),d||(d=r),u=r)}s.mixed&&h.isBlock(n)||(r=null!==(l=h.split(n,r))&&void 0!==l?l:r),u&&d&&(null===(c=o.parentNode)||void 0===c||c.insertBefore(u,o),d.appendChild(o),ch(s)&&wv(e,s,0,u))}return r})(e,i,a,r,r,0,s,n)},u=t=>G(i,(r=>Lv(e,r,n,t,t))),d=t=>{const n=de(t.childNodes),r=u(t)||G(i,(e=>qg(a,t,e))),o=t.parentNode;if(!r&&x(o)&&uh(s)&&u(o),s.deep&&n.length)for(let e=0;e<n.length;e++)d(n[e]);W(["underline","line-through","overline"],(n=>{Lr(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&oh(a,t.parentNode)===n&&Lv(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},void 0,t)}))},h=e=>{const t=a.get(e?"_start":"_end");if(t){let n=t[e?"firstChild":"lastChild"];return(e=>Ed(e)&&Lr(e)&&("_start"===e.id||"_end"===e.id))(n)&&(n=n[e?"firstChild":"lastChild"]),Zr(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),a.remove(t,!0),n}return null},p=t=>{let n,r,o=Ah(a,t,i,t.collapsed);if(s.split){if(o=mp(o),n=Mv(e,o,!0),r=Mv(e,o),n!==r){if(n=Pv(n,!0),r=Pv(r,!1),Tv(a,n,r)){const e=L.from(n.firstChild).getOr(n);return c(Rv(a,e,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void h(!0)}if(Tv(a,r,n)){const e=L.from(r.lastChild).getOr(r);return c(Rv(a,e,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void h(!1)}n=Ov(a,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=Ov(a,r,"span",{id:"_end","data-mce-type":"bookmark"});const e=a.createRng();e.setStartAfter(n),e.setEndBefore(r),_h(a,e,(e=>{W(e,(e=>{Ed(e)||Ed(e.parentNode)||c(e)}))})),c(n),c(r),n=h(!0),r=h()}else n=r=c(n);o.startContainer=n.parentNode?n.parentNode:n,o.startOffset=a.nodeIndex(n),o.endContainer=r.parentNode?r.parentNode:r,o.endOffset=a.nodeIndex(r)+1}_h(a,o,(e=>{W(e,d)}))};if(r){if(Gd(r)){const e=a.createRng();e.setStartBefore(r),e.setEndAfter(r),p(e)}else p(r);Ih(e,t,r,n)}else l.isCollapsed()&&ch(s)&&!Id(e).length?rv(e,t,n,o):(Zd(e,(()=>jd(e,p)),(r=>ch(s)&&$g(e,t,n,r))),e.nodeChanged()),((e,t,n)=>{"removeformat"===t?W(mv(e.selection),(t=>{W(uv,(n=>e.dom.setStyle(t,n,""))),Iv(e.dom,t)})):dv(e.formatter,t).each((t=>{W(mv(e.selection),(r=>Bv(e.dom,r,t,n,null)))}))})(e,t,n),Ih(e,t,r,n)},Vv=Dt.each,jv=Dt.each,Uv=(e,t,n,r)=>{if(jv(n.styles,((n,o)=>{e.setStyle(t,o,eh(n,r))})),n.styles){const n=e.getAttrib(t,"style");n&&e.setAttrib(t,"data-mce-style",n)}},Gv=(e,t,n,r)=>{const o=e.formatter.get(t),i=o[0],s=!r&&e.selection.isCollapsed(),a=e.dom,l=e.selection,c=(e,t=i)=>{E(t.onformat)&&t.onformat(e,t,n,r),Uv(a,e,t,n),jv(t.attributes,((t,r)=>{a.setAttrib(e,r,eh(t,n))})),jv(t.classes,(t=>{const r=eh(t,n);a.hasClass(e,r)||a.addClass(e,r)}))},u=(e,t)=>{let n=!1;return jv(e,(e=>!(!lh(e)||("false"!==a.getContentEditable(t)||e.ceFalseOverride)&&(!x(e.collapsed)||e.collapsed===s)&&a.is(t,e.selector)&&!cd(t)&&(c(t,e),n=!0,1)))),n},d=e=>{if(p(e)){const t=a.create(e);return c(t),t}return null},h=(r,s,a)=>{const l=[];let h=!0;const p=i.inline||i.block,f=d(p);_h(r,s,(s=>{let d;const m=s=>{let g=!1,v=h,y=!1;const b=s.parentNode,w=b.nodeName.toLowerCase(),E=r.getContentEditable(s);x(E)&&(v=h,h="true"===E,g=!0,y=Qd(e,s));const S=h&&!g;if(Qr(s)&&!((e,t,n,r)=>{if(sc(e)&&ch(t)&&n.parentNode){const t=ns(e.schema),o=((e,t)=>((e,t)=>{const n=e.dom;return n.parentNode?((e,t)=>Q(e.dom.childNodes,(e=>t(vn(e)))).map(vn))(vn(n.parentNode),(n=>!xn(e,n)&&t(n))):L.none()})(e,(e=>cd(e.dom))).isSome())(vn(n));return Ae(t,r)&&ui(vn(n.parentNode),!1)&&!o}return!1})(e,i,s,w))return d=null,void(ah(i)&&r.remove(s));if((r=>(e=>ah(e)&&!0===e.wrapper)(i)&&Zg(e,r,t,n))(s))d=null;else{if(((t,n,r)=>{const o=(e=>ah(e)&&!0!==e.wrapper)(i)&&Xd(e.schema,t)&&Yd(e,n,p);return r&&o})(s,w,S)){const e=r.rename(s,p);return c(e),l.push(e),void(d=null)}if(lh(i)){let e=u(o,s);if(!e&&x(b)&&uh(i)&&(e=u(o,b)),!ch(i)||e)return void(d=null)}x(f)&&((t,n,o,s)=>{const l=t.nodeName.toLowerCase(),c=Yd(e,p,l)&&Yd(e,n,p),u=!a&&Zr(t)&&Oo(t.data),d=cd(t),h=!ch(i)||!r.isBlock(t);return(o||s)&&c&&!u&&!d&&h})(s,w,S,y)?(d||(d=r.clone(f,!1),b.insertBefore(d,s),l.push(d)),y&&g&&(h=v),d.appendChild(s)):(d=null,W(de(s.childNodes),m),g&&(h=v),d=null)}};W(s,m)})),!0===i.links&&W(l,(e=>{const t=e=>{"A"===e.nodeName&&c(e,i),W(de(e.childNodes),t)};t(e)})),W(l,(s=>{const a=(e=>{let t=0;return W(e.childNodes,(e=>{(e=>x(e)&&Zr(e)&&0===e.length)(e)||Ed(e)||t++})),t})(s);!(l.length>1)&&r.isBlock(s)||0!==a?(ch(i)||ah(i)&&i.wrapper)&&(i.exact||1!==a||(s=(e=>Q(e.childNodes,qd).filter((e=>"false"!==r.getContentEditable(e)&&qg(r,e,i))).map((t=>{const n=r.clone(t,!1);return c(n),r.replace(n,e,!0),r.remove(t,!0),n})).getOr(e))(s)),((e,t,n,r)=>{Vv(t,(t=>{ch(t)&&Vv(e.dom.select(t.inline,r),(r=>{vv(r)&&Lv(e,t,n,r,t.exact?r:null)})),((e,t,n)=>{if(t.clear_child_styles){const r=t.links?"*:not(a)":"*";gv(e.select(r,n),(n=>{vv(n)&&Wd(n)&&gv(t.styles,((t,r)=>{e.setStyle(n,r,"")}))}))}})(e.dom,t,r)}))})(e,o,n,s),((e,t,n,r,o)=>{const i=o.parentNode;Zg(e,i,n,r)&&Lv(e,t,r,o)||t.merge_with_parents&&i&&e.dom.getParent(i,(i=>!!Zg(e,i,n,r)&&(Lv(e,t,r,o),!0)))})(e,i,t,n,s),((e,t,n,r)=>{if(t.styles&&t.styles.backgroundColor){const o=Ev(e,"fontSize");xv(r,(e=>o(e)&&Wd(e)),Sv(e,"backgroundColor",eh(t.styles.backgroundColor,n)))}})(r,i,n,s),((e,t,n,r)=>{const o=t=>{if(Lr(t)&&Lr(t.parentNode)&&Wd(t)){const n=oh(e,t.parentNode);e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Dt.walk(r,o,"childNodes"),o(r))})(r,i,0,s),((e,t,n,r)=>{if(ch(t)&&("sub"===t.inline||"sup"===t.inline)){const n=Ev(e,"fontSize");xv(r,(e=>n(e)&&Wd(e)),Sv(e,"fontSize",""));const o=K(e.select("sup"===t.inline?"sub":"sup",r),Wd);e.remove(o,!0)}})(r,i,0,s),wv(e,i,0,s)):r.remove(s,!0)}))},f=Gd(r)?r:l.getNode();if("false"===a.getContentEditable(f)&&!Qd(e,f))return u(o,r=f),void Dh(e,t,r,n);if(i){if(r)if(Gd(r)){if(!u(o,r)){const e=a.createRng();e.setStartBefore(r),e.setEndAfter(r),h(a,Ah(a,e,o),!0)}}else h(a,r,!0);else s&&ch(i)&&!Id(e).length?((e,t,n)=>{let r;const o=e.selection,i=e.formatter.get(t);if(!i)return;const s=o.getRng();let a=s.startOffset;const l=s.startContainer.nodeValue;r=ud(e.getBody(),o.getStart());const c=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(l&&a>0&&a<l.length&&c.test(l.charAt(a))&&c.test(l.charAt(a-1))){const r=o.getBookmark();s.collapse(!0);let a=Ah(e.dom,s,i);a=mp(a),e.formatter.apply(t,n,a),o.moveToBookmark(r)}else{let i=r?Yg(r):null;r&&(null==i?void 0:i.data)===Kg||(u=e.getDoc(),d=Jg(!0).dom,r=u.importNode(d,!0),i=r.firstChild,s.insertNode(r),a=1),e.formatter.apply(t,n,r),o.setCursorLocation(i,a)}var u,d})(e,t,n):(l.setRng(Rg(l.getRng())),Zd(e,(()=>{jd(e,((e,t)=>{const n=t?e:Ah(a,e,o);h(a,n,!1)}))}),F),e.nodeChanged()),dv(e.formatter,t).each((t=>{W((e=>K((e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(1===t.length)return hv(n,t[0])&&pv(n,t[0])?t:[];{const e=ce(t).filter((e=>hv(n,e))).toArray(),r=ue(t).filter((e=>pv(n,e))).toArray(),o=t.slice(1,-1);return e.concat(o).concat(r)}})(e),fv(e.dom)))(e.selection),(e=>Uv(a,e,t,n)))}));((e,t)=>{Ce(lv,e)&&W(lv[e],(e=>{e(t)}))})(t,e)}Dh(e,t,r,n)},qv=e=>Ce(e,"vars"),Wv=e=>e.selection.getStart(),Zv=(e,t,n,r,o)=>J(t,(t=>{const i=e.formatter.matchNode(t,n,null!=o?o:{},r);return!b(i)}),(t=>!!Ug(e,t,n)||!r&&x(e.formatter.matchNode(t,n,o,!0)))),$v=(e,t)=>{const n=null!=t?t:Wv(e);return K(ih(e.dom,n),(e=>Lr(e)&&!Ur(e)))},Kv=(e,t,n)=>{const r=$v(e,t);me(n,((n,o)=>{const i=n=>{const i=Zv(e,r,o,n.similar,qv(n)?n.vars:void 0),s=i.isSome();if(n.state.get()!==s){n.state.set(s);const e=i.getOr(t);qv(n)?n.callback(s,{node:e,format:o,parents:r}):W(n.callbacks,(t=>t(s,{node:e,format:o,parents:r})))}};W([n.withSimilar,n.withoutSimilar],i),W(n.withVars,i)}))},Xv=Dt.explode,Yv=()=>{const e={};return{addFilter:(t,n)=>{W(Xv(t),(t=>{Ce(e,t)||(e[t]={name:t,callbacks:[]}),e[t].callbacks.push(n)}))},getFilters:()=>Ee(e),removeFilter:(t,n)=>{W(Xv(t),(t=>{if(Ce(e,t))if(x(n)){const r=e[t],o=K(r.callbacks,(e=>e!==n));o.length>0?r.callbacks=o:delete e[t]}else delete e[t]}))}}},Jv=e=>{const[t,...n]=e.split(","),r=n.join(","),o=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(o){const e=";base64"===o[2],t=e?(e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""})(r):decodeURIComponent(r);return L.some({type:o[1],data:t,base64Encoded:e})}return L.none()},Qv=(e,t,n=!0)=>{let r=t;if(n)try{r=atob(t)}catch(e){return L.none()}const o=new Uint8Array(r.length);for(let e=0;e<o.length;e++)o[e]=r.charCodeAt(e);return L.some(new Blob([o],{type:e}))},ey=e=>new Promise(((t,n)=>{const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{var e;n(null===(e=r.error)||void 0===e?void 0:e.message)},r.readAsDataURL(e)}));let ty=0;const ny=(e,t,n)=>Jv(e).bind((({data:e,type:r,base64Encoded:o})=>{if(t&&!o)return L.none();{const t=o?e:btoa(e);return n(t,r)}})),ry=(e,t,n)=>{const r=e.create("blobid"+ty++,t,n);return e.add(r),r},oy=(e,t,n=!1)=>ny(t,n,((t,n)=>L.from(e.getByData(t,n)).orThunk((()=>Qv(n,t).map((n=>ry(e,n,t)))))));function iy(e){return iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(e)}function sy(e,t){return sy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},sy(e,t)}function ay(e,t,n){return ay=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&sy(o,n.prototype),o},ay.apply(null,arguments)}function ly(e){return function(e){if(Array.isArray(e))return cy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return cy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cy(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var uy=Object.hasOwnProperty,dy=Object.setPrototypeOf,hy=Object.isFrozen,py=Object.getPrototypeOf,fy=Object.getOwnPropertyDescriptor,my=Object.freeze,gy=Object.seal,vy=Object.create,yy="undefined"!=typeof Reflect&&Reflect,by=yy.apply,wy=yy.construct;by||(by=function(e,t,n){return e.apply(t,n)}),my||(my=function(e){return e}),gy||(gy=function(e){return e}),wy||(wy=function(e,t){return ay(e,ly(t))});var xy,Ey=Ry(Array.prototype.forEach),Sy=Ry(Array.prototype.pop),Cy=Ry(Array.prototype.push),Ay=Ry(String.prototype.toLowerCase),_y=Ry(String.prototype.match),ky=Ry(String.prototype.replace),Ty=Ry(String.prototype.indexOf),My=Ry(String.prototype.trim),Py=Ry(RegExp.prototype.test),Oy=(xy=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wy(xy,t)});function Ry(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return by(e,t,r)}}function Ny(e,t){dy&&dy(e,null);for(var n=t.length;n--;){var r=t[n];if("string"==typeof r){var o=Ay(r);o!==r&&(hy(t)||(t[n]=o),r=o)}e[r]=!0}return e}function Dy(e){var t,n=vy(null);for(t in e)by(uy,e,[t])&&(n[t]=e[t]);return n}function Iy(e,t){for(;null!==e;){var n=fy(e,t);if(n){if(n.get)return Ry(n.get);if("function"==typeof n.value)return Ry(n.value)}e=py(e)}return function(e){return console.warn("fallback value for",e),null}}var By=my(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Fy=my(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ly=my(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Hy=my(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),zy=my(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Vy=my(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),jy=my(["#text"]),Uy=my(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Gy=my(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),qy=my(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Wy=my(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Zy=gy(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$y=gy(/<%[\w\W]*|[\w\W]*%>/gm),Ky=gy(/^data-[\-\w.\u00B7-\uFFFF]/),Xy=gy(/^aria-[\-\w]+$/),Yy=gy(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Jy=gy(/^(?:\w+script|data):/i),Qy=gy(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),eb=gy(/^html$/i),tb=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,n=function(t){return e(t)};if(n.version="2.3.8",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,o=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,a=t.Node,l=t.Element,c=t.NodeFilter,u=t.NamedNodeMap,d=void 0===u?t.NamedNodeMap||t.MozNamedAttrMap:u,h=t.HTMLFormElement,p=t.DOMParser,f=t.trustedTypes,m=l.prototype,g=Iy(m,"cloneNode"),v=Iy(m,"nextSibling"),y=Iy(m,"childNodes"),b=Iy(m,"parentNode");if("function"==typeof s){var w=o.createElement("template");w.content&&w.content.ownerDocument&&(o=w.content.ownerDocument)}var x=function(e,t){if("object"!==iy(e)||"function"!=typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(n=t.currentScript.getAttribute(r));var o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(f,r),E=x?x.createHTML(""):"",S=o,C=S.implementation,A=S.createNodeIterator,_=S.createDocumentFragment,k=S.getElementsByTagName,T=r.importNode,M={};try{M=Dy(o).documentMode?o.documentMode:{}}catch(e){}var P={};n.isSupported="function"==typeof b&&C&&void 0!==C.createHTMLDocument&&9!==M;var O,R,N=Zy,D=$y,I=Ky,B=Xy,F=Jy,L=Qy,H=Yy,z=null,V=Ny({},[].concat(ly(By),ly(Fy),ly(Ly),ly(zy),ly(jy))),j=null,U=Ny({},[].concat(ly(Uy),ly(Gy),ly(qy),ly(Wy))),G=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,W=null,Z=!0,$=!0,K=!1,X=!1,Y=!1,J=!1,Q=!1,ee=!1,te=!1,ne=!1,re=!0,oe=!0,ie=!1,se={},ae=null,le=Ny({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ce=null,ue=Ny({},["audio","video","img","source","image","track"]),de=null,he=Ny({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pe="http://www.w3.org/1998/Math/MathML",fe="http://www.w3.org/2000/svg",me="http://www.w3.org/1999/xhtml",ge=me,ve=!1,ye=["application/xhtml+xml","text/html"],be=null,we=o.createElement("form"),xe=function(e){return e instanceof RegExp||e instanceof Function},Ee=function(e){be&&be===e||(e&&"object"===iy(e)||(e={}),e=Dy(e),z="ALLOWED_TAGS"in e?Ny({},e.ALLOWED_TAGS):V,j="ALLOWED_ATTR"in e?Ny({},e.ALLOWED_ATTR):U,de="ADD_URI_SAFE_ATTR"in e?Ny(Dy(he),e.ADD_URI_SAFE_ATTR):he,ce="ADD_DATA_URI_TAGS"in e?Ny(Dy(ue),e.ADD_DATA_URI_TAGS):ue,ae="FORBID_CONTENTS"in e?Ny({},e.FORBID_CONTENTS):le,q="FORBID_TAGS"in e?Ny({},e.FORBID_TAGS):{},W="FORBID_ATTR"in e?Ny({},e.FORBID_ATTR):{},se="USE_PROFILES"in e&&e.USE_PROFILES,Z=!1!==e.ALLOW_ARIA_ATTR,$=!1!==e.ALLOW_DATA_ATTR,K=e.ALLOW_UNKNOWN_PROTOCOLS||!1,X=e.SAFE_FOR_TEMPLATES||!1,Y=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,Q=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,oe=!1!==e.KEEP_CONTENT,ie=e.IN_PLACE||!1,H=e.ALLOWED_URI_REGEXP||H,ge=e.NAMESPACE||me,e.CUSTOM_ELEMENT_HANDLING&&xe(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(G.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&xe(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(G.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(G.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),O=O=-1===ye.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,R="application/xhtml+xml"===O?function(e){return e}:Ay,X&&($=!1),te&&(ee=!0),se&&(z=Ny({},ly(jy)),j=[],!0===se.html&&(Ny(z,By),Ny(j,Uy)),!0===se.svg&&(Ny(z,Fy),Ny(j,Gy),Ny(j,Wy)),!0===se.svgFilters&&(Ny(z,Ly),Ny(j,Gy),Ny(j,Wy)),!0===se.mathMl&&(Ny(z,zy),Ny(j,qy),Ny(j,Wy))),e.ADD_TAGS&&(z===V&&(z=Dy(z)),Ny(z,e.ADD_TAGS)),e.ADD_ATTR&&(j===U&&(j=Dy(j)),Ny(j,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&Ny(de,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(ae===le&&(ae=Dy(ae)),Ny(ae,e.FORBID_CONTENTS)),oe&&(z["#text"]=!0),Y&&Ny(z,["html","head","body"]),z.table&&(Ny(z,["tbody"]),delete q.tbody),my&&my(e),be=e)},Se=Ny({},["mi","mo","mn","ms","mtext"]),Ce=Ny({},["foreignobject","desc","title","annotation-xml"]),Ae=Ny({},["title","style","font","a","script"]),_e=Ny({},Fy);Ny(_e,Ly),Ny(_e,Hy);var ke=Ny({},zy);Ny(ke,Vy);var Te=function(e){Cy(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=E}catch(t){e.remove()}}},Me=function(e,t){try{Cy(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Cy(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!j[e])if(ee||te)try{Te(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Pe=function(e){var t,n;if(Q)e="<remove></remove>"+e;else{var r=_y(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===O&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=x?x.createHTML(e):e;if(ge===me)try{t=(new p).parseFromString(i,O)}catch(e){}if(!t||!t.documentElement){t=C.createDocument(ge,"template",null);try{t.documentElement.innerHTML=ve?"":i}catch(e){}}var s=t.body||t.documentElement;return e&&n&&s.insertBefore(o.createTextNode(n),s.childNodes[0]||null),ge===me?k.call(t,Y?"html":"body")[0]:Y?t.documentElement:s},Oe=function(e){return A.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Re=function(e){return"object"===iy(a)?e instanceof a:e&&"object"===iy(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Ne=function(e,t,r){P[e]&&Ey(P[e],(function(e){e.call(n,t,r,be)}))},De=function(e){var t;if(Ne("beforeSanitizeElements",e,null),function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)}(e))return Te(e),!0;if(Py(/[\u0080-\uFFFF]/,e.nodeName))return Te(e),!0;var r=R(e.nodeName);if(Ne("uponSanitizeElement",e,{tagName:r,allowedTags:z}),e.hasChildNodes()&&!Re(e.firstElementChild)&&(!Re(e.content)||!Re(e.content.firstElementChild))&&Py(/<[/\w]/g,e.innerHTML)&&Py(/<[/\w]/g,e.textContent))return Te(e),!0;if("select"===r&&Py(/<template/i,e.innerHTML))return Te(e),!0;if(!z[r]||q[r]){if(!q[r]&&Be(r)){if(G.tagNameCheck instanceof RegExp&&Py(G.tagNameCheck,r))return!1;if(G.tagNameCheck instanceof Function&&G.tagNameCheck(r))return!1}if(oe&&!ae[r]){var o=b(e)||e.parentNode,i=y(e)||e.childNodes;if(i&&o)for(var s=i.length-1;s>=0;--s)o.insertBefore(g(i[s],!0),v(e))}return Te(e),!0}return e instanceof l&&!function(e){var t=b(e);t&&t.tagName||(t={namespaceURI:me,tagName:"template"});var n=Ay(e.tagName),r=Ay(t.tagName);return e.namespaceURI===fe?t.namespaceURI===me?"svg"===n:t.namespaceURI===pe?"svg"===n&&("annotation-xml"===r||Se[r]):Boolean(_e[n]):e.namespaceURI===pe?t.namespaceURI===me?"math"===n:t.namespaceURI===fe?"math"===n&&Ce[r]:Boolean(ke[n]):e.namespaceURI===me&&!(t.namespaceURI===fe&&!Ce[r])&&!(t.namespaceURI===pe&&!Se[r])&&!ke[n]&&(Ae[n]||!_e[n])}(e)?(Te(e),!0):"noscript"!==r&&"noembed"!==r||!Py(/<\/no(script|embed)/i,e.innerHTML)?(X&&3===e.nodeType&&(t=e.textContent,t=ky(t,N," "),t=ky(t,D," "),e.textContent!==t&&(Cy(n.removed,{element:e.cloneNode()}),e.textContent=t)),Ne("afterSanitizeElements",e,null),!1):(Te(e),!0)},Ie=function(e,t,n){if(re&&("id"===t||"name"===t)&&(n in o||n in we))return!1;if($&&!W[t]&&Py(I,t));else if(Z&&Py(B,t));else if(!j[t]||W[t]){if(!(Be(e)&&(G.tagNameCheck instanceof RegExp&&Py(G.tagNameCheck,e)||G.tagNameCheck instanceof Function&&G.tagNameCheck(e))&&(G.attributeNameCheck instanceof RegExp&&Py(G.attributeNameCheck,t)||G.attributeNameCheck instanceof Function&&G.attributeNameCheck(t))||"is"===t&&G.allowCustomizedBuiltInElements&&(G.tagNameCheck instanceof RegExp&&Py(G.tagNameCheck,n)||G.tagNameCheck instanceof Function&&G.tagNameCheck(n))))return!1}else if(de[t]);else if(Py(H,ky(n,L,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Ty(n,"data:")||!ce[e])if(K&&!Py(F,ky(n,L,"")));else if(n)return!1;return!0},Be=function(e){return e.indexOf("-")>0},Fe=function(e){var t,n,r,o;Ne("beforeSanitizeAttributes",e,null);var i=e.attributes;if(i){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:j};for(o=i.length;o--;){var a=t=i[o],l=a.name,c=a.namespaceURI;n="value"===l?t.value:My(t.value),r=R(l);var u=n;if(s.attrName=r,s.attrValue=n,s.keepAttr=!0,s.forceKeepAttr=void 0,Ne("uponSanitizeAttribute",e,s),n=s.attrValue,!s.forceKeepAttr)if(s.keepAttr)if(Py(/\/>/i,n))Me(l,e);else{X&&(n=ky(n,N," "),n=ky(n,D," "));var d=R(e.nodeName);if(Ie(d,r,n)){if(n!==u)try{c?e.setAttributeNS(c,l,n):e.setAttribute(l,n)}catch(t){Me(l,e)}}else Me(l,e)}else Me(l,e)}Ne("afterSanitizeAttributes",e,null)}},Le=function e(t){var n,r=Oe(t);for(Ne("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)Ne("uponSanitizeShadowNode",n,null),De(n)||(n.content instanceof i&&e(n.content),Fe(n));Ne("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,o){var s,l,c,u,d;if((ve=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Re(e)){if("function"!=typeof e.toString)throw Oy("toString is not a function");if("string"!=typeof(e=e.toString()))throw Oy("dirty is not a string, aborting")}if(!n.isSupported){if("object"===iy(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Re(e))return t.toStaticHTML(e.outerHTML)}return e}if(J||Ee(o),n.removed=[],"string"==typeof e&&(ie=!1),ie){if(e.nodeName){var h=R(e.nodeName);if(!z[h]||q[h])throw Oy("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof a)1===(l=(s=Pe("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?s=l:s.appendChild(l);else{if(!ee&&!X&&!Y&&-1===e.indexOf("<"))return x&&ne?x.createHTML(e):e;if(!(s=Pe(e)))return ee?null:ne?E:""}s&&Q&&Te(s.firstChild);for(var p=Oe(ie?e:s);c=p.nextNode();)3===c.nodeType&&c===u||De(c)||(c.content instanceof i&&Le(c.content),Fe(c),u=c);if(u=null,ie)return e;if(ee){if(te)for(d=_.call(s.ownerDocument);s.firstChild;)d.appendChild(s.firstChild);else d=s;return j.shadowroot&&(d=T.call(r,d,!0)),d}var f=Y?s.outerHTML:s.innerHTML;return Y&&z["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&Py(eb,s.ownerDocument.doctype.name)&&(f="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+f),X&&(f=ky(f,N," "),f=ky(f,D," ")),x&&ne?x.createHTML(f):f},n.setConfig=function(e){Ee(e),J=!0},n.clearConfig=function(){be=null,J=!1},n.isValidAttribute=function(e,t,n){be||Ee({});var r=R(e),o=R(t);return Ie(r,o,n)},n.addHook=function(e,t){"function"==typeof t&&(P[e]=P[e]||[],Cy(P[e],t))},n.removeHook=function(e){if(P[e])return Sy(P[e])},n.removeHooks=function(e){P[e]&&(P[e]=[])},n.removeAllHooks=function(){P={}},n}();const nb=Dt.each,rb=Dt.trim,ob=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],ib={ftp:21,http:80,https:443,mailto:25},sb=["img","video"],ab=(e,t,n)=>{const r=(e=>{try{return decodeURIComponent(e)}catch(t){return unescape(e)}})(t).replace(/\s/g,"");return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(r)||!e.allow_html_data_urls&&(/^data:image\//i.test(r)?((e,t)=>x(e)?!e:!x(t)||!U(sb,t))(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)))};class lb{constructor(e,t={}){this.path="",this.directory="",e=rb(e),this.settings=t;const n=t.base_uri,r=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(r.source=e);const o=0===e.indexOf("//");if(0!==e.indexOf("/")||o||(e=(n&&n.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){const t=n?n.path:new lb(document.location.href).directory;if(""===(null==n?void 0:n.protocol))e="//mce_host"+r.toAbsPath(t,e);else{const o=/([^#?]*)([#?]?.*)/.exec(e);o&&(e=(n&&n.protocol||"http")+"://mce_host"+r.toAbsPath(t,o[1])+o[2])}}e=e.replace(/@@/g,"(mce_at)");const i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);i&&nb(ob,((e,t)=>{let n=i[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),r[e]=n})),n&&(r.protocol||(r.protocol=n.protocol),r.userInfo||(r.userInfo=n.userInfo),r.port||"mce_host"!==r.host||(r.port=n.port),r.host&&"mce_host"!==r.host||(r.host=n.host),r.source=""),o&&(r.protocol="")}static parseDataUri(e){let t;const n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}}static isDomSafe(e,t,n={}){if(n.allow_script_urls)return!0;{const r=qi.decode(e).replace(/[\s\u0000-\u001F]+/g,"");return!ab(n,r,t)}}static getDocumentBaseUrl(e){var t;let n;return n=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?null!==(t=e.href)&&void 0!==t?t:"":e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),n}setPath(e){const t=/^(.*?)\/?(\w+)?$/.exec(e);t&&(this.path=t[0],this.directory=t[1],this.file=t[2]),this.source="",this.getURI()}toRelative(e){if("./"===e)return e;const t=new lb(e,{base_uri:this});if("mce_host"!==t.host&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&""!==t.protocol)return t.getURI();const n=this.getURI(),r=t.getURI();if(n===r||"/"===n.charAt(n.length-1)&&n.substr(0,n.length-1)===r)return n;let o=this.toRelPath(this.path,t.path);return t.query&&(o+="?"+t.query),t.anchor&&(o+="#"+t.anchor),o}toAbsolute(e,t){const n=new lb(e,{base_uri:this});return n.getURI(t&&this.isSameOrigin(n))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;const t=this.protocol?ib[this.protocol]:null;if(t&&(this.port||t)==(e.port||t))return!0}return!1}toRelPath(e,t){let n,r,o=0,i="";const s=e.substring(0,e.lastIndexOf("/")).split("/"),a=t.split("/");if(s.length>=a.length)for(n=0,r=s.length;n<r;n++)if(n>=a.length||s[n]!==a[n]){o=n+1;break}if(s.length<a.length)for(n=0,r=a.length;n<r;n++)if(n>=s.length||s[n]!==a[n]){o=n+1;break}if(1===o)return t;for(n=0,r=s.length-(o-1);n<r;n++)i+="../";for(n=o-1,r=a.length;n<r;n++)i+=n!==o-1?"/"+a[n]:a[n];return i}toAbsPath(e,t){let n=0;const r=/\/$/.test(t)?"/":"",o=e.split("/"),i=t.split("/"),s=[];nb(o,(e=>{e&&s.push(e)}));const a=[];for(let e=i.length-1;e>=0;e--)0!==i[e].length&&"."!==i[e]&&(".."!==i[e]?n>0?n--:a.push(i[e]):n++);const l=s.length-n;let c;return c=l<=0?oe(a).join("/"):s.slice(0,l).join("/")+"/"+oe(a).join("/"),0!==c.indexOf("/")&&(c="/"+c),r&&c.lastIndexOf("/")!==c.length-1&&(c+=r),c}getURI(e=!1){let t;return this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source}}const cb=Dt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),ub="data-mce-type";let db=0;const hb=(e,t,n,r)=>{var o,i,s,a;const l=t.validate,c=n.getSpecialElements();8===e.nodeType&&!t.allow_conditional_comments&&/^\[if/i.test(null!==(o=e.nodeValue)&&void 0!==o?o:"")&&(e.nodeValue=" "+e.nodeValue);const u=null!==(i=null==r?void 0:r.tagName)&&void 0!==i?i:e.nodeName.toLowerCase();if(1!==e.nodeType||"body"===u)return;const d=vn(e),h=en(d,ub),f=Jt(d,"data-mce-bogus");if(!h&&p(f))return void("all"===f?vr(d):yr(d));const m=n.getElementRule(u);if(!l||m){if(x(r)&&(r.allowedTags[u]=!0),l&&m&&!h){if(W(null!==(s=m.attributesForced)&&void 0!==s?s:[],(e=>{Xt(d,e.name,"{$uid}"===e.value?"mce_"+db++:e.value)})),W(null!==(a=m.attributesDefault)&&void 0!==a?a:[],(e=>{en(d,e.name)||Xt(d,e.name,"{$uid}"===e.value?"mce_"+db++:e.value)})),m.attributesRequired&&!G(m.attributesRequired,(e=>en(d,e))))return void yr(d);if(m.removeEmptyAttrs&&(e=>{const t=e.dom.attributes;return null==t||0===t.length})(d))return void yr(d);m.outputName&&m.outputName!==u&&((e,t)=>{const n=((e,t)=>{const n=mn(t),r=nn(e);return Yt(n,r),n})(e,t);dr(e,n);const r=Nn(e);mr(n,r),vr(e)})(d,m.outputName)}}else Ce(c,u)?vr(d):yr(d)},pb=(e,t,n,r,o)=>!(r in cb&&ab(e,o,n))&&(!e.validate||t.isValid(n,r)||Ue(r,"data-")||Ue(r,"aria-")),fb=(e,t)=>e.hasAttribute(ub)&&("id"===t||"class"===t||"style"===t),mb=(e,t)=>e in t.getBoolAttrs(),gb=(e,t,n)=>{const{attributes:r}=e;for(let o=r.length-1;o>=0;o--){const i=r[o],s=i.name,a=i.value;pb(t,n,e.tagName.toLowerCase(),s,a)||fb(e,s)?mb(s,n)&&e.setAttribute(s,s):e.removeAttribute(s)}},vb=Dt.makeMap,yb=Dt.extend,bb=(e,t,n)=>{const r=e.name,o=r in n&&"title"!==r&&"textarea"!==r,i=t.childNodes;for(let t=0,r=i.length;t<r;t++){const r=i[t],s=new xf(r.nodeName.toLowerCase(),r.nodeType);if(Lr(r)){const e=r.attributes;for(let t=0,n=e.length;t<n;t++){const n=e[t];s.attr(n.name,n.value)}}else Zr(r)?(s.value=r.data,o&&(s.raw=!0)):(Xr(r)||$r(r)||Kr(r))&&(s.value=r.data);bb(s,r,n),e.append(s)}},wb=(e={},t=os())=>{const n=Yv(),r=Yv(),o={validate:!0,root_name:"body",sanitize:!0,...e},i=new DOMParser,s=((e,t)=>{if(e.sanitize){const n=((e,t)=>{const n=tb();return n.addHook("uponSanitizeElement",((n,r)=>{hb(n,e,t,r)})),n.addHook("uponSanitizeAttribute",((n,r)=>{const o=n.tagName.toLowerCase(),{attrName:i,attrValue:s}=r;r.keepAttr=pb(e,t,o,i,s),r.keepAttr?(r.allowedAttributes[i]=!0,mb(i,t)&&(r.attrValue=i),e.allow_svg_data_urls&&Ue(s,"data:image/svg+xml")&&(r.forceKeepAttr=!0)):fb(n,i)&&(r.forceKeepAttr=!0)})),n})(e,t);return(t,r)=>{n.sanitize(t,((e,t)=>{const n={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]};return n.PARSER_MEDIA_TYPE=t,e.allow_script_urls?n.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(n.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),n})(e,r)),n.removed=[]}}return(n,r)=>{const o=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let i;for(;i=o.nextNode();)hb(i,e,t),Lr(i)&&gb(i,e,t)}})(o,t),a=n.addFilter,l=n.getFilters,c=n.removeFilter,u=r.addFilter,d=r.getFilters,h=r.removeFilter,f=(e,n)=>{const r=p(n.attr(ub)),o=1===n.type&&!Ce(e,n.name)&&!((e,t)=>1===t.type&&bi(e,t.name)&&p(t.attr(di)))(t,n);return 3===n.type||o&&!r},m={schema:t,addAttributeFilter:u,getAttributeFilters:d,removeAttributeFilter:h,addNodeFilter:a,getNodeFilters:l,removeNodeFilter:c,parse:(e,n={})=>{var r;const a=o.validate,c=null!==(r=n.context)&&void 0!==r?r:o.root_name,u=((e,n,r="html")=>{const o="xhtml"===r?"application/xhtml+xml":"text/html",a=Ce(t.getSpecialElements(),n.toLowerCase()),l=a?`<${n}>${e}</${n}>`:e,c="xhtml"===r?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${l}</body></html>`:`<body>${l}</body>`,u=i.parseFromString(c,o).body;return s(u,o),a?u.firstChild:u})(e,c,n.format);gi(t,u);const h=new xf(c,11);bb(h,u,t.getSpecialElements()),u.innerHTML="";const[p,m]=((e,t,n,r)=>{const o=n.validate,i=t.getNonEmptyElements(),s=t.getWhitespaceElements(),a=yb(vb("script,style,head,html,body,title,meta,param"),t.getBlockElements()),l=ns(t),c=/[ \t\r\n]+/g,u=/^[ \t\r\n]+/,d=/[ \t\r\n]+$/,h=e=>{let t=e.parent;for(;x(t);){if(t.name in s)return!0;t=t.parent}return!1},p=e=>e.name in a&&!Si(t,e),f=(t,n)=>{const o=n?t.prev:t.next;return!x(o)&&!w(t.parent)&&p(t.parent)&&(t.parent!==e||!0===r.isRootContent)};return[e=>{var t;if(3===e.type&&!h(e)){let n=null!==(t=e.value)&&void 0!==t?t:"";n=n.replace(c," "),(((e,t)=>x(e)&&(t(e)||"br"===e.name))(e.prev,p)||f(e,!0))&&(n=n.replace(u,"")),0===n.length?e.remove():e.value=n}},e=>{var n;if(1===e.type){const n=t.getElementRule(e.name);if(o&&n){const o=kg(t,i,s,e);n.paddInEmptyBlock&&o&&(e=>{let n=e;for(;x(n);){if(n.name in l)return kg(t,i,s,n);n=n.parent}return!1})(e)?Ag(r,p,e):n.removeEmpty&&o?p(e)?e.remove():e.unwrap():n.paddEmpty&&(o||(e=>{var t;return _g(e,"#text")&&(null===(t=null==e?void 0:e.firstChild)||void 0===t?void 0:t.value)===lo})(e))&&Ag(r,p,e)}}else if(3===e.type&&!h(e)){let t=null!==(n=e.value)&&void 0!==n?n:"";(e.next&&p(e.next)||f(e,!1))&&(t=t.replace(d,"")),0===t.length?e.remove():e.value=t}}]})(h,t,o,n),g=[],v=a?e=>((e,n)=>{Og(t,e)&&n.push(e)})(e,g):A,y={nodes:{},attributes:{}},b=e=>Eg(l(),d(),e,y);if(((e,t,n)=>{const r=[];for(let n=e,o=n;n;o=n,n=n.walk()){const i=n;W(t,(e=>e(i))),w(i.parent)&&i!==e?n=o:r.push(i)}for(let e=r.length-1;e>=0;e--){const t=r[e];W(n,(e=>e(t)))}})(h,[p,b],[m,v]),g.reverse(),a&&g.length>0)if(n.context){const{pass:e,fail:r}=$(g,(e=>e.parent===h));Pg(r,t,h,b),n.invalid=e.length>0}else Pg(g,t,h,b);const E=((e,t)=>{var n;const r=null!==(n=t.forced_root_block)&&void 0!==n?n:e.forced_root_block;return!1===r?"":!0===r?"p":r})(o,n);return E&&("body"===h.name||n.isRootContent)&&((e,n)=>{const r=yb(vb("script,style,head,html,body,title,meta,param"),t.getBlockElements()),i=/^[ \t\r\n]+/,s=/[ \t\r\n]+$/;let a=e.firstChild,l=null;const c=e=>{var t,n;e&&(a=e.firstChild,a&&3===a.type&&(a.value=null===(t=a.value)||void 0===t?void 0:t.replace(i,"")),a=e.lastChild,a&&3===a.type&&(a.value=null===(n=a.value)||void 0===n?void 0:n.replace(s,"")))};if(t.isValidChild(e.name,n.toLowerCase())){for(;a;){const t=a.next;f(r,a)?(l||(l=new xf(n,1),l.attr(o.forced_root_block_attrs),e.insert(l,a)),l.append(a)):(c(l),l=null),a=t}c(l)}})(h,E),n.invalid||Sg(y,n),h}};return((e,t)=>{const n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",((e,t,r)=>{const o=Dt.extend({},n.getBlockElements()),i=n.getNonEmptyElements(),s=n.getWhitespaceElements();o.body=1;const a=e=>e.name in o&&Si(n,e);for(let t=0,l=e.length;t<l;t++){let l=e[t],c=l.parent;if(c&&o[c.name]&&l===c.lastChild){let e=l.prev;for(;e;){const t=e.name;if("span"!==t||"bookmark"!==e.attr("data-mce-type")){"br"===t&&(l=null);break}e=e.prev}if(l&&(l.remove(),kg(n,i,s,c))){const e=n.getElementRule(c.name);e&&(e.removeEmpty?c.remove():e.paddEmpty&&Ag(r,a,c))}}else{let e=l;for(;c&&c.firstChild===e&&c.lastChild===e&&(e=c,!o[c.name]);)c=c.parent;if(e===c){const e=new xf("#text",3);e.value=lo,l.replace(e)}}}})),e.addAttributeFilter("href",(e=>{let n=e.length;const r=e=>{const t=e?Dt.trim(e):"";return/\b(noopener)\b/g.test(t)?t:(e=>e.split(" ").filter((e=>e.length>0)).concat(["noopener"]).sort().join(" "))(t)};if(!t.allow_unsafe_link_target)for(;n--;){const t=e[n];"a"===t.name&&"_blank"===t.attr("target")&&t.attr("rel",r(t.attr("rel")))}})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(e=>{let t,n,r,o,i=e.length;for(;i--;)if(o=e[i],"a"===o.name&&o.firstChild&&!o.attr("href"))for(r=o.parent,t=o.lastChild;t&&r;)n=t.prev,r.insert(t,o),t=n})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(e=>{let t,n,r=e.length;for(;r--;)if(t=e[r],n=t.parent,n&&("ul"===n.name||"ol"===n.name))if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{const e=new xf("li",1);e.attr("style","list-style-type: none"),t.wrap(e)}}));const r=n.getValidClasses();t.validate&&r&&e.addAttributeFilter("class",(e=>{var t;let n=e.length;for(;n--;){const o=e[n],i=null!==(t=o.attr("class"))&&void 0!==t?t:"",s=Dt.explode(i," ");let a="";for(let e=0;e<s.length;e++){const t=s[e];let n=!1,i=r["*"];i&&i[t]&&(n=!0),i=r[o.name],!n&&i&&i[t]&&(n=!0),n&&(a&&(a+=" "),a+=t)}a.length||(a=null),o.attr("class",a)}})),((e,t)=>{const{blob_cache:n}=t;if(n){const t=e=>{const t=e.attr("src");(e=>e.attr("src")===Pt.transparentSrc||x(e.attr("data-mce-placeholder")))(e)||(e=>x(e.attr("data-mce-bogus")))(e)||w(t)||oy(n,t,!0).each((t=>{e.attr("src",t.blobUri())}))};e.addAttributeFilter("src",(e=>W(e,t)))}})(e,t)})(m,o),((e,t,n)=>{t.inline_styles&&((e,t,n)=>{var r;const o=is();t.convert_fonts_to_spans&&((e,t,n)=>{e.addNodeFilter("font",(e=>{W(e,(e=>{const r=t.parse(e.attr("style")),o=e.attr("color"),i=e.attr("face"),s=e.attr("size");o&&(r.color=o),i&&(r["font-family"]=i),s&&Ye(s).each((e=>{r["font-size"]=n[e-1]})),e.name="span",e.attr("style",t.serialize(r)),((e,t)=>{W(["color","face","size"],(t=>{e.attr(t,null)}))})(e)}))}))})(e,o,Dt.explode(null!==(r=t.font_size_legacy_values)&&void 0!==r?r:"")),((e,t,n)=>{e.addNodeFilter("strike",(e=>{const r="html4"!==t.type;W(e,(e=>{if(r)e.name="s";else{const t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))}}))}))})(e,n,o)})(e,t,n)})(m,o,t),m},xb=(e,t,n)=>{const r=(e=>Lg(e)?Pf({validate:!1}).serialize(e):e)(e),o=t(r);if(o.isDefaultPrevented())return o;if(Lg(e)){if(o.content!==r){const t=wb({validate:!1,forced_root_block:!1,sanitize:n}).parse(o.content,{context:e.name});return{...o,content:t}}return{...o,content:e}}return o},Eb=(e,t)=>{if(t.no_events)return Qa.value(t);{const n=((e,t)=>e.dispatch("BeforeGetContent",t))(e,t);return n.isDefaultPrevented()?Qa.error(Fh(e,{content:"",...n}).content):Qa.value(n)}},Sb=(e,t,n)=>{if(n.no_events)return t;{const r=xb(t,(t=>Fh(e,{...n,content:t})),Kc(e));return r.content}},Cb=(e,t)=>{if(t.no_events)return Qa.value(t);{const n=xb(t.content,(n=>((e,t)=>e.dispatch("BeforeSetContent",t))(e,{...t,content:n})),Kc(e));return n.isDefaultPrevented()?(Bh(e,n),Qa.error(void 0)):Qa.value(n)}},Ab=(e,t,n)=>{n.no_events||Bh(e,{...n,content:t})},_b=(e,t,n)=>({element:e,width:t,rows:n}),kb=(e,t)=>({element:e,cells:t}),Tb=(e,t)=>({x:e,y:t}),Mb=(e,t)=>Qt(e,t).bind(Ye).getOr(1),Pb=(e,t,n)=>{const r=e.rows;return!!(r[n]?r[n].cells:[])[t]},Ob=e=>Y(e,((e,t)=>t.cells.length>e?t.cells.length:e),0),Rb=(e,t)=>{const n=e.rows;for(let e=0;e<n.length;e++){const r=n[e].cells;for(let n=0;n<r.length;n++)if(xn(r[n],t))return L.some(Tb(n,e))}return L.none()},Nb=(e,t,n,r,o)=>{const i=[],s=e.rows;for(let e=n;e<=o;e++){const n=s[e].cells,o=t<r?n.slice(t,r+1):n.slice(r,t+1);i.push(kb(s[e].element,o))}return i},Db=e=>((e,t)=>{const n=Ys(e.element),r=mn("tbody");return mr(r,t),pr(n,r),n})(e,(e=>q(e.rows,(e=>{const t=q(e.cells,(e=>{const t=Js(e);return tn(t,"colspan"),tn(t,"rowspan"),t})),n=Ys(e.element);return mr(n,t),n})))(e)),Ib=()=>op([]),Bb=(e,t)=>t>=0&&t<e.length&&Cd(e.charAt(t)),Fb=e=>Ro(e.innerText),Lb=e=>Lr(e)?e.outerHTML:Zr(e)?qi.encodeRaw(e.data,!1):Xr(e)?"\x3c!--"+e.data+"--\x3e":"",Hb=Ie((()=>document.implementation.createHTMLDocument("undo"))),zb=e=>{const t=(n=e.getBody(),K(q(de(n.childNodes),Lb),(e=>e.length>0)));var n;const r=ne(t,(t=>{const n=Cf(e.serializer,t);return n.length>0?[n]:[]})),o=r.join("");return(e=>-1!==e.indexOf("</iframe>"))(o)?(e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}))(r):(e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}))(o)},Vb=(e,t,n)=>{const r=n?t.beforeBookmark:t.bookmark;"fragmented"===t.type?((e,t)=>{((e,t)=>{let n=0;W(e,(e=>{0===e[0]?n++:1===e[0]?(((e,t,n)=>{const r=(e=>{let t;const n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r})(t);if(e.hasChildNodes()&&n<e.childNodes.length){const t=e.childNodes[n];e.insertBefore(r,t)}else e.appendChild(r)})(t,e[1],n),n++):2===e[0]&&((e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}})(t,n)}))})(((e,t)=>{const n=e.length+t.length+2,r=new Array(n),o=new Array(n),i=(n,r,o,s,l)=>{const c=a(n,r,o,s);if(null===c||c.start===r&&c.diag===r-s||c.end===n&&c.diag===n-o){let i=n,a=o;for(;i<r||a<s;)i<r&&a<s&&e[i]===t[a]?(l.push([0,e[i]]),++i,++a):r-n>s-o?(l.push([2,e[i]]),++i):(l.push([1,t[a]]),++a)}else{i(n,c.start,o,c.start-c.diag,l);for(let t=c.start;t<c.end;++t)l.push([0,e[t]]);i(c.end,r,c.end-c.diag,s,l)}},s=(n,r,o,i)=>{let s=n;for(;s-r<i&&s<o&&e[s]===t[s-r];)++s;return((e,t,n)=>({start:e,end:t,diag:n}))(n,s,r)},a=(n,i,a,l)=>{const c=i-n,u=l-a;if(0===c||0===u)return null;const d=c-u,h=u+c,p=(h%2==0?h:h+1)/2;let f,m,g,v,y;for(r[1+p]=n,o[1+p]=i+1,f=0;f<=p;++f){for(m=-f;m<=f;m+=2){for(g=m+p,m===-f||m!==f&&r[g-1]<r[g+1]?r[g]=r[g+1]:r[g]=r[g-1]+1,v=r[g],y=v-n+a-m;v<i&&y<l&&e[v]===t[y];)r[g]=++v,++y;if(d%2!=0&&d-f<=m&&m<=d+f&&o[g-d]<=r[g])return s(o[g-d],m+n-a,i,l)}for(m=d-f;m<=d+f;m+=2){for(g=m+p-d,m===d-f||m!==d+f&&o[g+1]<=o[g-1]?o[g]=o[g+1]-1:o[g]=o[g-1],v=o[g]-1,y=v-n+a-m;v>=n&&y>=a&&e[v]===t[y];)o[g]=v--,y--;if(d%2==0&&-f<=m&&m<=f&&o[g]<=r[g+d])return s(o[g],m+n-a,i,l)}}return null},l=[];return i(0,e.length,0,t.length,l),l})(q(de(t.childNodes),Lb),e),t)})(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!x(r)||!hd(r)||!r.isFakeCaret}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},jb=e=>"fragmented"===e.type?e.fragments.join(""):e.content,Ub=e=>{const t=mn("body",Hb());return xr(t,jb(e)),W(Nr(t,"*[data-mce-bogus]"),yr),wr(t)},Gb=(e,t)=>!(!e||!t)&&(!!((e,t)=>jb(e)===jb(t))(e,t)||((e,t)=>Ub(e)===Ub(t))(e,t)),qb=e=>0===e.get(),Wb=(e,t,n)=>{qb(n)&&(e.typing=t)},Zb=(e,t)=>{e.typing&&(Wb(e,!1,t),e.add())},$b=e=>({init:{bindEvents:A},undoManager:{beforeChange:(t,n)=>((e,t,n)=>{qb(t)&&n.set(Xa(e.selection))})(e,t,n),add:(t,n,r,o,i,s)=>((e,t,n,r,o,i,s)=>{const a=zb(e),l=Dt.extend(i||{},a);if(!qb(r)||e.removed)return null;const c=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:l,lastLevel:c,originalEvent:s}).isDefaultPrevented())return null;if(c&&Gb(c,l))return null;t.data[n.get()]&&o.get().each((e=>{t.data[n.get()].beforeBookmark=e}));const u=fc(e);if(u&&t.data.length>u){for(let e=0;e<t.data.length-1;e++)t.data[e]=t.data[e+1];t.data.length--,n.set(t.data.length)}l.bookmark=Xa(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(l),n.set(t.data.length-1);const d={level:l,lastLevel:c,originalEvent:s};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",d),e.dispatch("change",d)):e.dispatch("AddUndo",d),l})(e,t,n,r,o,i,s),undo:(t,n,r)=>((e,t,n,r)=>{let o;return t.typing&&(t.add(),t.typing=!1,Wb(t,!1,n)),r.get()>0&&(r.set(r.get()-1),o=t.data[r.get()],Vb(e,o,!0),e.setDirty(!0),e.dispatch("Undo",{level:o})),o})(e,t,n,r),redo:(t,n)=>((e,t,n)=>{let r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],Vb(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r})(e,t,n),clear:(t,n)=>((e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")})(e,t,n),reset:e=>(e=>{e.clear(),e.add()})(e),hasUndo:(t,n)=>((e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!Gb(zb(e),t.data[0]))(e,t,n),hasRedo:(e,t)=>((e,t)=>t.get()<e.data.length-1&&!e.typing)(e,t),transact:(e,t,n)=>((e,t,n)=>(Zb(e,t),e.beforeChange(),e.ignore(n),e.add()))(e,t,n),ignore:(e,t)=>((e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}})(e,t),extra:(t,n,r,o)=>((e,t,n,r,o)=>{if(t.transact(r)){const r=t.data[n.get()].bookmark,i=t.data[n.get()-1];Vb(e,i,!0),t.transact(o)&&(t.data[n.get()-1].beforeBookmark=r)}})(e,t,n,r,o)},formatter:{match:(t,n,r,o)=>$g(e,t,n,r,o),matchAll:(t,n)=>((e,t,n)=>{const r=[],o={},i=e.selection.getStart();return e.dom.getParent(i,(i=>{for(let s=0;s<t.length;s++){const a=t[s];!o[a]&&Zg(e,i,a,n)&&(o[a]=!0,r.push(a))}}),e.dom.getRoot()),r})(e,t,n),matchNode:(t,n,r,o)=>Zg(e,t,n,r,o),canApply:t=>((e,t)=>{const n=e.formatter.get(t),r=e.dom;if(n){const t=e.selection.getStart(),o=ih(r,t);for(let e=n.length-1;e>=0;e--){const t=n[e];if(!lh(t))return!0;for(let e=o.length-1;e>=0;e--)if(r.is(o[e],t.selector))return!0}}return!1})(e,t),closest:t=>((e,t)=>{const n=t=>xn(t,vn(e.getBody()));return L.from(e.selection.getStart(!0)).bind((r=>Vg(vn(r),(n=>he(t,(t=>((t,n)=>Zg(e,t.dom,n)?L.some(n):L.none())(n,t)))),n))).getOrNull()})(e,t),apply:(t,n,r)=>Gv(e,t,n,r),remove:(t,n,r,o)=>zv(e,t,n,r,o),toggle:(t,n,r)=>((e,t,n,r)=>{const o=e.formatter.get(t);o&&(!$g(e,t,n,r)||"toggle"in o[0]&&!o[0].toggle?Gv(e,t,n,r):zv(e,t,n,r))})(e,t,n,r),formatChanged:(t,n,r,o,i)=>((e,t,n,r,o,i)=>(((e,t,n,r,o,i)=>{const s=t.get();W(n.split(","),(t=>{const n=Se(s,t).getOrThunk((()=>{const e={withSimilar:{state:ks(!1),similar:!0,callbacks:[]},withoutSimilar:{state:ks(!1),similar:!1,callbacks:[]},withVars:[]};return s[t]=e,e})),a=()=>{const n=$v(e);return Zv(e,n,t,o,i).isSome()};if(b(i)){const e=o?n.withSimilar:n.withoutSimilar;e.callbacks.push(r),1===e.callbacks.length&&e.state.set(a())}else n.withVars.push({state:ks(a()),similar:o,vars:i,callback:r})})),t.set(s)})(e,t,n,r,o,i),{unbind:()=>((e,t,n)=>{const r=e.get();W(t.split(","),(e=>Se(r,e).each((t=>{r[e]={withSimilar:{...t.withSimilar,callbacks:K(t.withSimilar.callbacks,(e=>e!==n))},withoutSimilar:{...t.withoutSimilar,callbacks:K(t.withoutSimilar.callbacks,(e=>e!==n))},withVars:K(t.withVars,(e=>e.callback!==n))}})))),e.set(r)})(t,n,r)}))(e,t,n,r,o,i)},editor:{getContent:t=>((e,t)=>L.from(e.getBody()).fold(T("tree"===t.format?new xf("body",11):""),(n=>((e,t,n)=>{let r;return r="raw"===t.format?Dt.trim(Af(e.serializer,n.innerHTML)):"text"===t.format?((e,t)=>{const n=e.getDoc(),r=Vn(vn(e.getBody())),o=mn("div",n);Xt(o,"data-mce-bogus","all"),or(o,{position:"fixed",left:"-9999999px",top:"0"}),xr(o,t.innerHTML),_f(o),kf(o);const i=(e=>Ln(e)?e:vn(Cn(e).dom.body))(r);pr(i,o);const s=Ro(o.dom.innerText);return vr(o),s})(e,n):"tree"===t.format?e.serializer.serialize(n,t):((e,t)=>{const n=xl(e),r=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${n}>[\r\n]*|<br \\/>[\r\n]*)$`);return t.replace(r,"")})(e,e.serializer.serialize(n,t)),"text"!==t.format&&!Co(vn(n))&&p(r)?Dt.trim(r):r})(e,t,n))))(e,t),setContent:(t,n)=>((e,t,n)=>L.from(e.getBody()).map((r=>Lg(t)?((e,t,n,r)=>{Cg(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const o=Pf({validate:!1},e.schema).serialize(n),i=Co(vn(t))?o:Dt.trim(o);return Hg(e,i,r.no_selection),{content:n,html:i}})(e,r,t,n):((e,t,n,r)=>{if(0===n.length||/^\s+$/.test(n)){const o='<br data-mce-bogus="1">';"TABLE"===t.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+o+"</li>");const i=xl(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),i.toLowerCase())?(n=o,n=e.dom.createHTML(i,El(e),n)):n||(n=o),Hg(e,n,r.no_selection),{content:n,html:n}}{"raw"!==r.format&&(n=Pf({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const o=Co(vn(t))?n:Dt.trim(n);return Hg(e,o,r.no_selection),{content:o,html:o}}})(e,r,t,n))).getOr({content:t,html:Lg(n.content)?"":n.content}))(e,t,n),insertContent:(t,n)=>Fg(e,t,n),addVisual:t=>((e,t)=>{const n=e.dom,r=x(t)?t:e.getBody();W(n.select("table,a",r),(t=>{switch(t.nodeName){case"TABLE":const r=Ec(e),o=n.getAttrib(t,"border");o&&"0"!==o||!e.hasVisual?n.removeClass(t,r):n.addClass(t,r);break;case"A":if(!n.getAttrib(t,"href")){const r=n.getAttrib(t,"name")||t.id,o=Sc(e);r&&e.hasVisual?n.addClass(t,o):n.removeClass(t,o)}}})),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})})(e,t)},selection:{getContent:(t,n)=>((e,t,n={})=>{const r=((e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}))(n,t);return Eb(e,r).fold(M,(t=>{const n=((e,t)=>{if("text"===t.format)return(e=>L.from(e.selection.getRng()).map((t=>{var n;const r=L.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),o=e.getBody(),i=(e=>e.map((e=>e.nodeName)).getOr("div").toLowerCase())(r),s=vn(t.cloneContents());_f(s),kf(s);const a=e.dom.add(o,i,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},s.dom),l=Fb(a),c=Ro(null!==(n=a.textContent)&&void 0!==n?n:"");if(e.dom.remove(a),Bb(c,0)||Bb(c,c.length-1)){const e=r.getOr(o),t=Fb(e),n=t.indexOf(l);return-1===n?l:(Bb(t,n-1)?" ":"")+l+(Bb(t,n+l.length)?" ":"")}return l})).getOr(""))(e);{const n=((e,t)=>{const n=e.selection.getRng(),r=e.dom.create("body"),o=e.selection.getSel(),i=hf(e,Nd(o)),s=t.contextual?((e,t)=>{const n=Dd(t,e);return n.length>0?((e,t)=>((e,t)=>Xn(t,"table",O(xn,e)))(e,t[0]).bind((e=>{const n=t[0],r=t[t.length-1],o=(e=>{const t=_b(Ys(e),0,[]);return W(Nr(e,"tr"),((e,n)=>{W(Nr(e,"td,th"),((r,o)=>{((e,t,n,r,o)=>{const i=Mb(o,"rowspan"),s=Mb(o,"colspan"),a=e.rows;for(let e=n;e<n+i;e++){a[e]||(a[e]=kb(Js(r),[]));for(let r=t;r<t+s;r++)a[e].cells[r]=e===n&&r===t?o:Ys(o)}})(t,((e,t,n)=>{for(;Pb(e,t,n);)t++;return t})(t,o,n),n,e,r)}))})),_b(t.element,Ob(t.rows),t.rows)})(e);return((e,t,n)=>Rb(e,t).bind((t=>Rb(e,n).map((n=>((e,t,n)=>{const r=t.x,o=t.y,i=n.x,s=n.y,a=o<s?Nb(e,r,o,i,s):Nb(e,r,s,i,o);return _b(e.element,Ob(a),a)})(e,t,n))))))(o,n,r).map((e=>op([Db(e)])))})).getOrThunk(Ib))(e,n):((e,t)=>t.length>0&&t[0].collapsed?Ib():((e,t)=>((e,t)=>{const n=Y(t,((e,t)=>(pr(t,e),t)),e);return t.length>0?op([n]):n})(vn(t.cloneContents()),((e,t)=>{const n=vn(t.commonAncestorContainer),r=Yf(n,e),o=K(r,_o),i=((e,t)=>Q(e,(e=>"li"===Vt(e)&&Hd(e,t))).fold(T([]),(t=>(e=>Q(e,(e=>"ul"===Vt(e)||"ol"===Vt(e))))(e).map((e=>{const t=mn(Vt(e)),n=we(lr(e),((e,t)=>Ue(t,"list-style")));return or(t,n),[mn("li"),t]})).getOr([]))))(r,t),s=o.concat(i.length?i:(e=>xo(e)?_n(e).filter(wo).fold(T([]),(t=>[e,t])):wo(e)?[e]:[])(n));return q(s,Ys)})(e,t)))(e,t[0]))(e,t)})(vn(e.getBody()),i).dom:n.cloneContents();return s&&r.appendChild(s),e.selection.serializer.serialize(r,t)})(e,t);return"tree"===t.format?n:e.selection.isCollapsed()?"":n}})(e,t);return Sb(e,n,t)}))})(e,t,n)},autocompleter:{addDecoration:t=>((e,t)=>{if(gf(vn(e.getBody())).isNone()){const r=fn('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());pr(r,vn(t.extractContents())),t.insertNode(r.dom),_n(r).each((e=>e.dom.normalize())),(n=r,((e,t)=>{const n=e=>{const r=Nn(e);for(let e=r.length-1;e>=0;e--){const o=r[e];if(t(o))return L.some(o);const i=n(o);if(i.isSome())return i}return L.none()};return n(e)})(n,ff)).map((t=>{e.selection.setCursorLocation(t.dom,(e=>"img"===Vt(e)?1:po(e).fold((()=>Nn(e).length),(e=>e.length)))(t))}))}var n})(e,t),removeDecoration:()=>((e,t)=>gf(t).each((t=>{const n=e.selection.getBookmark();yr(t),e.selection.moveToBookmark(n)})))(e,vn(e.getBody()))},raw:{getModel:()=>L.none()}}),Kb=e=>Ce(e.plugins,"rtc"),Xb=e=>e.rtcInstance?e.rtcInstance:$b(e),Yb=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},Jb=e=>Yb(e).init.bindEvents(),Qb=e=>0===e.dom.length?(vr(e),L.none()):L.some(e),ew=(e,t,n,r)=>{e.bind((e=>((r?km:_m)(e.dom,r?e.dom.length:0),t.filter(qt).map((t=>((e,t,n,r)=>{const o=e.dom,i=t.dom,s=r?o.length:i.length;r?(Tm(o,i,!1,!r),n.setStart(i,s)):(Tm(i,o,!1,!r),n.setEnd(i,s))})(e,t,n,r)))))).orThunk((()=>{const e=((e,t)=>e.filter((e=>Oh.isBookmarkNode(e.dom))).bind(t?Pn:Mn))(t,r).or(t).filter(qt);return e.map((e=>((e,t)=>{_n(e).each((n=>{const r=e.dom;t&&ym(n,Ma(r,0))?_m(r,0):!t&&bm(n,Ma(r,r.length))&&km(r,r.length)}))})(e,r)))}))},tw=(e,t,n)=>{if(Ce(e,t)){const r=K(e[t],(e=>e!==n));0===r.length?delete e[t]:e[t]=r}},nw=e=>!(!e||!e.ownerDocument)&&En(vn(e.ownerDocument),vn(e)),rw=(e,t,n,r)=>{let o,i;const{selectorChangedWithUnbind:s}=((e,t)=>{let n,r;const o=(t,n)=>Q(n,(n=>e.is(n,t))),i=t=>e.getParents(t,void 0,e.getRoot());return{selectorChangedWithUnbind:(e,s)=>(n||(n={},r={},t.on("NodeChange",(e=>{const t=e.element,s=i(t),a={};me(n,((e,t)=>{o(t,s).each((n=>{r[t]||(W(e,(e=>{e(!0,{node:n,selector:t,parents:s})})),r[t]=e),a[t]=e}))})),me(r,((e,n)=>{a[n]||(delete r[n],W(e,(e=>{e(!1,{node:t,selector:n,parents:s})})))}))}))),n[e]||(n[e]=[]),n[e].push(s),o(e,i(t.selection.getStart())).each((()=>{r[e]=n[e]})),{unbind:()=>{tw(n,e,s),tw(r,e,s)}})}})(e,r),a=(e,t)=>((e,t,n={})=>{const r=((e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}))(n,t);Cb(e,r).each((t=>{const n=((e,t)=>{if("raw"!==t.format){const n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),o=r?{context:r.nodeName.toLowerCase()}:{},i=e.parser.parse(t.content,{forced_root_block:!1,...o,...t});return Pf({validate:!1},e.schema).serialize(i)}return t.content})(e,t),r=e.selection.getRng();((e,t)=>{const n=L.from(t.firstChild).map(vn),r=L.from(t.lastChild).map(vn);e.deleteContents(),e.insertNode(t);const o=n.bind(Mn).filter(qt).bind(Qb),i=r.bind(Pn).filter(qt).bind(Qb);ew(o,n,e,!0),ew(i,r,e,!1),e.collapse(!1)})(r,r.createContextualFragment(n)),e.selection.setRng(r),Bp(e,r),Ab(e,n,t)}))})(r,e,t),l=e=>{const t=u();t.collapse(!!e),d(t)},c=()=>t.getSelection?t.getSelection():t.document.selection,u=()=>{let n;const s=(e,t,n)=>{try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}},a=t.document;if(x(r.bookmark)&&!sf(r)){const e=Zp(r);if(e.isSome())return e.map((e=>hf(r,[e])[0])).getOr(a.createRange())}try{const e=c();e&&!Fr(e.anchorNode)&&(n=e.rangeCount>0?e.getRangeAt(0):a.createRange(),n=hf(r,[n])[0])}catch(e){}if(n||(n=a.createRange()),Yr(n.startContainer)&&n.collapsed){const t=e.getRoot();n.setStart(t,0),n.setEnd(t,0)}return o&&i&&(0===s(n.START_TO_START,n,o)&&0===s(n.END_TO_END,n,o)?n=i:(o=null,i=null)),n},d=(e,t)=>{if(!(e=>!!e&&nw(e.startContainer)&&nw(e.endContainer))(e))return;const n=c();if(e=r.dispatch("SetSelectionRange",{range:e,forward:t}).range,n){i=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),o=n.rangeCount>0?n.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&(null==n?void 0:n.setBaseAndExtent)&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()){const t=e.startContainer.childNodes[e.startOffset];t&&"IMG"===t.nodeName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(t,0,t,1))}r.dispatch("AfterSetSelectionRange",{range:e,forward:t})},h=()=>{const t=c(),n=null==t?void 0:t.anchorNode,r=null==t?void 0:t.focusNode;if(!t||!n||!r||Fr(n)||Fr(r))return!0;const o=e.createRng(),i=e.createRng();try{o.setStart(n,t.anchorOffset),o.collapse(!0),i.setStart(r,t.focusOffset),i.collapse(!0)}catch(e){return!0}return o.compareBoundaryPoints(o.START_TO_START,i)<=0},p={dom:e,win:t,serializer:n,editor:r,expand:(t={type:"word"})=>d(gp(e).expand(u(),t)),collapse:l,setCursorLocation:(t,n)=>{const o=e.createRng();x(t)&&x(n)?(o.setStart(t,n),o.setEnd(t,n),d(o),l(!1)):(zd(e,o,r.getBody(),!0),d(o))},getContent:e=>((e,t={})=>((e,t,n)=>Yb(e).selection.getContent(t,n))(e,t.format?t.format:"html",t))(r,e),setContent:a,getBookmark:(e,t)=>f.getBookmark(e,t),moveToBookmark:e=>f.moveToBookmark(e),select:(t,n)=>(((e,t,n)=>L.from(t).bind((t=>L.from(t.parentNode).map((r=>{const o=e.nodeIndex(t),i=e.createRng();return i.setStart(r,o),i.setEnd(r,o+1),n&&(zd(e,i,t,!0),zd(e,i,t,!1)),i})))))(e,t,n).each(d),t),isCollapsed:()=>{const e=u(),t=c();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isEditable:()=>{const t=u(),n=r.getBody().querySelectorAll('[data-mce-selected="1"]');return n.length>0?re(n,(t=>e.isEditable(t.parentElement))):t.startContainer===t.endContainer?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer)},isForward:h,setNode:t=>(a(e.getOuterHTML(t)),t),getNode:()=>((e,t)=>{if(!t)return e;let n=t.startContainer,r=t.endContainer;const o=t.startOffset,i=t.endOffset;let s=t.commonAncestorContainer;t.collapsed||(n===r&&i-o<2&&n.hasChildNodes()&&(s=n.childNodes[o]),Zr(n)&&Zr(r)&&(n=n.length===o?df(n.nextSibling,!0):n.parentNode,r=0===i?df(r.previousSibling,!1):r.parentNode,n&&n===r&&(s=n)));const a=Zr(s)?s.parentNode:s;return Lr(a)?a:e})(r.getBody(),u()),getSel:c,setRng:d,getRng:u,getStart:e=>cf(r.getBody(),u(),e),getEnd:e=>uf(r.getBody(),u(),e),getSelectedBlocks:(t,n)=>((e,t,n,r)=>{const o=[],i=e.getRoot(),s=e.getParent(n||cf(i,t,t.collapsed),e.isBlock),a=e.getParent(r||uf(i,t,t.collapsed),e.isBlock);if(s&&s!==i&&o.push(s),s&&a&&s!==a){let t;const n=new Ir(s,i);for(;(t=n.next())&&t!==a;)e.isBlock(t)&&o.push(t)}return a&&s!==a&&a!==i&&o.push(a),o})(e,u(),t,n),normalize:()=>{const t=u(),n=c();if(!(Nd(n).length>1)&&Vd(r)){const n=pp(e,t);return n.each((e=>{d(e,h())})),n.getOr(t)}return t},selectorChanged:(e,t)=>(s(e,t),p),selectorChangedWithUnbind:s,getScrollContainer:()=>{let t,n=e.getRoot();for(;n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:(e,t)=>{x(e)?((e,t,n)=>{(e.inline?Np:Ip)(e,t,n)})(r,e,t):Bp(r,u(),t)},placeCaretAt:(e,t)=>d(ip(e,t,r.getDoc())),getBoundingClientRect:()=>{const e=u();return e.collapsed?Ma.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:()=>{t=o=i=null,m.destroy()}},f=Oh(p),m=Gh(p,r);return p.bookmarkManager=f,p.controlSelection=m,p},ow=(e,t,n)=>{-1===Dt.inArray(t,n)&&(e.addAttributeFilter(n,((e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)})),t.push(n))},iw=(e,t)=>{const n=((e,t)=>{const n=["data-mce-selected"],r=t&&t.dom?t.dom:Cs.DOM,o=t&&t.schema?t.schema:os(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs;const i=wb(e,o);return((e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",((e,t)=>{let n=e.length;for(;n--;){const r=e[n];r.attr("tabindex",r.attr("data-mce-tabindex")),r.attr(t,null)}})),e.addAttributeFilter("src,href,style",((e,r)=>{const o="data-mce-"+r,i=t.url_converter,s=t.url_converter_scope;let a=e.length;for(;a--;){const t=e[a];let l=t.attr(o);void 0!==l?(t.attr(r,l.length>0?l:null),t.attr(o,null)):(l=t.attr(r),"style"===r?l=n.serializeStyle(n.parseStyle(l),t.name):i&&(l=i.call(s,l,r,t.name)),t.attr(r,l.length>0?l:null))}})),e.addAttributeFilter("class",(e=>{let t=e.length;for(;t--;){const n=e[t];let r=n.attr("class");r&&(r=r.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",r.length>0?r:null))}})),e.addAttributeFilter("data-mce-type",((e,t,n)=>{let r=e.length;for(;r--;){const t=e[r];if("bookmark"===t.attr("data-mce-type")&&!n.cleanup){const e=L.from(t.firstChild).exists((e=>{var t;return!Oo(null!==(t=e.value)&&void 0!==t?t:"")}));e?t.unwrap():t.remove()}}})),e.addNodeFilter("noscript",(e=>{var t;let n=e.length;for(;n--;){const r=e[n].firstChild;r&&(r.value=qi.decode(null!==(t=r.value)&&void 0!==t?t:""))}})),e.addNodeFilter("script,style",((e,n)=>{var r;const o=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let i=e.length;for(;i--;){const s=e[i],a=s.firstChild,l=null!==(r=null==a?void 0:a.value)&&void 0!==r?r:"";if("script"===n){const e=s.attr("type");e&&s.attr("type","mce-no/type"===e?null:e.replace(/^mce\-/,"")),"xhtml"===t.element_format&&a&&l.length>0&&(a.value="// <![CDATA[\n"+o(l)+"\n// ]]>")}else"xhtml"===t.element_format&&a&&l.length>0&&(a.value="\x3c!--\n"+o(l)+"\n--\x3e")}})),e.addNodeFilter("#comment",(e=>{let r=e.length;for(;r--;){const o=e[r],i=o.value;t.preserve_cdata&&0===(null==i?void 0:i.indexOf("[CDATA["))?(o.name="#cdata",o.type=4,o.value=n.decode(i.replace(/^\[CDATA\[|\]\]$/g,""))):0===(null==i?void 0:i.indexOf("mce:protected "))&&(o.name="#text",o.type=3,o.raw=!0,o.value=unescape(i).substr(14))}})),e.addNodeFilter("xml:namespace,input",((e,t)=>{let n=e.length;for(;n--;){const r=e[n];7===r.type?r.remove():1===r.type&&("input"!==t||r.attr("type")||r.attr("type","text"))}})),e.addAttributeFilter("data-mce-type",(t=>{W(t,(t=>{"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",((e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)}))})(i,e,r),{schema:o,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:(n,s={})=>{const a={format:"html",...s},l=((e,t,n)=>((e,t)=>x(e)&&e.hasEventListeners("PreProcess")&&!t.no_events)(e,n)?((e,t,n)=>{let r;const o=e.dom;let i=t.cloneNode(!0);const s=document.implementation;if(s.createHTMLDocument){const e=s.createHTMLDocument("");Dt.each("BODY"===i.nodeName?i.childNodes:[i],(t=>{e.body.appendChild(e.importNode(t,!0))})),i="BODY"!==i.nodeName?e.body.firstChild:e.body,r=o.doc,o.doc=e}return((e,t)=>{e.dispatch("PreProcess",t)})(e,{...n,node:i}),r&&(o.doc=r),i})(e,t,n):t)(t,n,a),c=((e,t,n)=>{const r=Ro(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Co(vn(t))?r:Dt.trim(r)})(r,l,a),u=((e,t,n)=>{const r=n.selection?{forced_root_block:!1,...n}:n,o=e.parse(t,r);return(e=>{const t=e=>"br"===(null==e?void 0:e.name),n=e.lastChild;if(t(n)){const e=n.prev;t(e)&&(n.remove(),e.remove())}})(o),o})(i,c,a);return"tree"===a.format?u:((e,t,n,r,o)=>{const i=((e,t,n)=>Pf(e,t).serialize(n))(t,n,r);return((e,t,n)=>{if(!t.no_events&&e){const r=((e,t)=>e.dispatch("PostProcess",t))(e,{...t,content:n});return r.content}return n})(e,o,i)})(t,e,o,u,a)},addRules:o.addValidElements,setRules:o.setValidElements,addTempAttr:O(ow,i,n),getTempAttrs:T(n),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters,removeNodeFilter:i.removeNodeFilter,removeAttributeFilter:i.removeAttributeFilter}})(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},sw=(e,t,n={})=>{const r=((e,t)=>({format:"html",...e,set:!0,content:t}))(n,t);return Cb(e,r).map((t=>{const n=((e,t,n)=>Xb(e).editor.setContent(t,n))(e,t.content,t);return Ab(e,n.html,t),n.content})).getOr(t)},aw="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),lw="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),cw="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),uw=[{name:"template",replacedWith:"Advanced Template"}],dw=(e,t)=>{const n=K(t,(t=>Ce(e,t)));return ae(n)},hw=(e,t)=>{const n=Dt.makeMap(e.plugins," "),r=K(t,(e=>Ce(n,e)));return ae(r)},pw=e=>Q(uw,(t=>t.name===e)).fold((()=>e),(t=>`${e}, replaced by ${t.replacedWith}`)),fw=Cs.DOM,mw=e=>L.from(e).each((e=>e.destroy())),gw=(()=>{const e={};return{add:(t,n)=>{e[t]=n},get:t=>e[t]?e[t]:{icons:{}},has:t=>Ce(e,t)}})(),vw=Rs.ModelManager,yw=(e,t)=>t.dom[e],bw=(e,t)=>parseInt(ir(t,e),10),ww=O(yw,"clientWidth"),xw=O(yw,"clientHeight"),Ew=O(bw,"margin-top"),Sw=O(bw,"margin-left"),Cw=e=>{const t=[],n=()=>{const t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():(()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}})()},r=()=>L.from(t[0]),o=()=>{W(t,(e=>{e.reposition()}))},i=e=>{ee(t,(t=>t===e)).each((e=>{t.splice(e,1)}))},s=(s,a=!0)=>e.removed||!(e=>{return(t=e.inline?e.getBody():e.getContentAreaContainer(),L.from(t).map(vn)).map(Wn).getOr(!1);var t})(e)?{}:(a&&e.dispatch("BeforeOpenNotification",{notification:s}),Q(t,(e=>{return t=n().getArgs(e),r=s,!(t.type!==r.type||t.text!==r.text||t.progressBar||t.timeout||r.progressBar||r.timeout);var t,r})).getOrThunk((()=>{e.editorManager.setActive(e);const a=n().open(s,(()=>{i(a),o(),r().fold((()=>e.focus()),(e=>Fp(vn(e.getEl()))))}));return(e=>{t.push(e)})(a),o(),e.dispatch("OpenNotification",{notification:{...a}}),a}))),a=T(t);return(e=>{e.on("SkinLoaded",(()=>{const t=Jl(e);t&&s({text:t,type:"warning",timeout:0},!1),o()})),e.on("show ResizeEditor ResizeWindow NodeChange",(()=>{requestAnimationFrame(o)})),e.on("remove",(()=>{W(t.slice(),(e=>{n().close(e)}))}))})(e),{open:s,close:()=>{r().each((e=>{n().close(e),i(e),o()}))},getNotifications:a}},Aw=Rs.PluginManager,_w=Rs.ThemeManager,kw=e=>{let t=[];const n=()=>{const t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():(()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}})()},r=(e,t)=>(...n)=>t?t.apply(e,n):void 0,o=n=>{(t=>{e.dispatch("CloseWindow",{dialog:t})})(n),t=K(t,(e=>e!==n)),0===t.length&&e.focus()},i=n=>{e.editorManager.setActive(e),Wp(e),e.ui.show();const r=n();return(n=>{t.push(n),(t=>{e.dispatch("OpenWindow",{dialog:t})})(n)})(r),r};return e.on("remove",(()=>{W(t,(e=>{n().close(e)}))})),{open:(e,t)=>i((()=>n().open(e,t,o))),openUrl:e=>i((()=>n().openUrl(e,o))),alert:(e,t,o)=>{const i=n();i.alert(e,r(o||i,t))},confirm:(e,t,o)=>{const i=n();i.confirm(e,r(o||i,t))},close:()=>{L.from(t[t.length-1]).each((e=>{n().close(e),o(e)}))}}},Tw=(e,t)=>{e.notificationManager.open({type:"error",text:t})},Mw=(e,t)=>{e._skinLoaded?Tw(e,t):e.on("SkinLoaded",(()=>{Tw(e,t)}))},Pw=(e,t,n)=>{Nh(e,t,{message:n}),console.error(n)},Ow=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,Rw=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},Nw=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",r=`content${e.editorManager.suffix}.css`;return q(t,(t=>(e=>/^[a-z0-9\-]+$/i.test(e))(t)&&!e.inline?`${n}/${t}/${r}`:e.documentBaseURI.toAbsolute(t)))},Dw=()=>{let e={};const t=(e,t)=>({status:e,resultUri:t}),n=t=>t in e;return{hasBlobUri:n,getResultUri:t=>{const n=e[t];return n?n.resultUri:null},isPending:t=>!!n(t)&&1===e[t].status,isUploaded:t=>!!n(t)&&2===e[t].status,markPending:n=>{e[n]=t(1,null)},markUploaded:(n,r)=>{e[n]=t(2,r)},removeFailed:t=>{delete e[t]},destroy:()=>{e={}}}};let Iw=0;const Bw=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),Fw=(e,t)=>((e,t)=>{const n={},r=(e,n)=>new Promise(((r,o)=>{const i=new XMLHttpRequest;i.open("POST",t.url),i.withCredentials=t.credentials,i.upload.onprogress=e=>{n(e.loaded/e.total*100)},i.onerror=()=>{o("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=()=>{if(i.status<200||i.status>=300)return void o("HTTP Error: "+i.status);const e=JSON.parse(i.responseText);var n,s;e&&p(e.location)?r((n=t.basePath,s=e.location,n?n.replace(/\/$/,"")+"/"+s.replace(/^\//,""):s)):o("Invalid JSON: "+i.responseText)};const s=new FormData;s.append("file",e.blob(),e.filename()),i.send(s)})),o=E(t.handler)?t.handler:r,i=(e,t)=>({url:t,blobInfo:e,status:!0}),s=(e,t)=>({url:"",blobInfo:e,status:!1,error:t}),a=(e,t)=>{Dt.each(n[e],(e=>{e(t)})),delete n[e]};return{upload:(l,c)=>t.url||o!==r?((t,r)=>(t=Dt.grep(t,(t=>!e.isUploaded(t.blobUri()))),Promise.all(Dt.map(t,(t=>e.isPending(t.blobUri())?(e=>{const t=e.blobUri();return new Promise((e=>{n[t]=n[t]||[],n[t].push(e)}))})(t):((t,n,r)=>(e.markPending(t.blobUri()),new Promise((o=>{let l,c;try{const u=()=>{l&&(l.close(),c=A)},d=n=>{u(),e.markUploaded(t.blobUri(),n),a(t.blobUri(),i(t,n)),o(i(t,n))},h=n=>{u(),e.removeFailed(t.blobUri()),a(t.blobUri(),s(t,n)),o(s(t,n))};c=e=>{e<0||e>100||L.from(l).orThunk((()=>L.from(r).map(D))).each((t=>{l=t,t.progressBar.value(e)}))},n(t,c).then(d,(e=>{h(p(e)?{message:e}:e)}))}catch(e){o(s(t,e))}}))))(t,o,r))))))(l,c):new Promise((e=>{e([])}))}})(t,{url:Nl(e),basePath:Dl(e),credentials:Il(e),handler:Bl(e)}),Lw={remove_similar:!0,inherit:!1},Hw={selector:"td,th",...Lw},zw={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Hw},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Hw},tablecellbordercolor:{styles:{borderColor:"%value"},...Hw},tablecellclass:{classes:["%value"],...Hw},tableclass:{selector:"table",classes:["%value"],...Lw},tablecellborderstyle:{styles:{borderStyle:"%value"},...Hw},tablecellborderwidth:{styles:{borderWidth:"%value"},...Hw}},Vw=T(zw),jw=Dt.each,Uw=Cs.DOM,Gw=e=>x(e)&&f(e),qw=(e,t)=>{const n=t&&t.schema||os({}),r=e=>{const t=p(e)?{name:e,classes:[],attrs:{}}:e,n=Uw.create(t.name);return((e,t)=>{t.classes.length>0&&Uw.addClass(e,t.classes.join(" ")),Uw.setAttribs(e,t.attrs)})(n,t),n},o=(e,t,i)=>{let s;const a=t[0],l=Gw(a)?a.name:void 0,c=((e,t)=>{const r=n.getElementRule(e.nodeName.toLowerCase()),o=null==r?void 0:r.parentsRequired;return!(!o||!o.length)&&(t&&U(o,t)?t:o[0])})(e,l);if(c)l===c?(s=a,t=t.slice(1)):s=c;else if(a)s=a,t=t.slice(1);else if(!i)return e;const u=s?r(s):Uw.create("div");u.appendChild(e),i&&Dt.each(i,(t=>{const n=r(t);u.insertBefore(n,e)}));const d=Gw(s)?s.siblings:void 0;return o(u,t,d)},i=Uw.create("div");if(e.length>0){const t=e[0],n=r(t),s=Gw(t)?t.siblings:void 0;i.appendChild(o(n,e.slice(1),s))}return i},Ww=e=>{let t="div";const n={name:t,classes:[],attrs:{},selector:e=Dt.trim(e)};return"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,((e,t,r,o,i)=>{switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==Dt.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}if("["===o){const e=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);e&&(n.attrs[e[1]]=e[2])}return""}))),n.name=t||"div",n},Zw=(e,t)=>{let n="",r=ic(e);if(""===r)return"";const o=e=>p(e)?e.replace(/%(\w+)/g,""):"",i=(t,n)=>Uw.getStyle(null!=n?n:e.getBody(),t,!0);if(p(t)){const n=e.formatter.get(t);if(!n)return"";t=n[0]}if("preview"in t){const e=t.preview;if(!1===e)return"";r=e||r}let s,a=t.block||t.inline||"span";const l=(c=t.selector,p(c)?(c=(c=c.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Dt.map(c.split(/(?:>|\s+(?![^\[\]]+\]))/),(e=>{const t=Dt.map(e.split(/(?:~\+|~|\+)/),Ww),n=t.pop();return t.length&&(n.siblings=t),n})).reverse()):[]);var c;l.length>0?(l[0].name||(l[0].name=a),a=t.selector,s=qw(l,e)):s=qw([a],e);const u=Uw.select(a,s)[0]||s.firstChild;jw(t.styles,((e,t)=>{const n=o(e);n&&Uw.setStyle(u,t,n)})),jw(t.attributes,((e,t)=>{const n=o(e);n&&Uw.setAttrib(u,t,n)})),jw(t.classes,(e=>{const t=o(e);Uw.hasClass(u,t)||Uw.addClass(u,t)})),e.dispatch("PreviewFormats"),Uw.setStyles(s,{position:"absolute",left:-65535}),e.getBody().appendChild(s);const d=i("fontSize"),h=/px$/.test(d)?parseInt(d,10):0;return jw(r.split(" "),(e=>{let t=i(e,u);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=i(e),"#ffffff"===Rd(t).toLowerCase())||"color"===e&&"#000000"===Rd(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===h)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*h+"px"}"border"===e&&t&&(n+="padding:0 2px;"),n+=e+":"+t+";"}})),e.dispatch("AfterPreviewFormats"),Uw.remove(s),n},$w=e=>{const t=(e=>{const t={},n=(e,r)=>{e&&(p(e)?(g(r)||(r=[r]),W(r,(e=>{b(e.deep)&&(e.deep=!lh(e)),b(e.split)&&(e.split=!lh(e)||ch(e)),b(e.remove)&&lh(e)&&!ch(e)&&(e.remove="none"),lh(e)&&ch(e)&&(e.mixed=!0,e.block_expand=!0),p(e.classes)&&(e.classes=e.classes.split(/\s+/))})),t[e]=r):me(e,((e,t)=>{n(t,e)})))};return n((e=>{const t=e.dom,n=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const e={inline:"span",styles:{textDecoration:"line-through"},exact:!0},t={inline:"strike",remove:"all",preserve_attributes:["class","style"]},r={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==n?[r,e,t]:[e,r,t]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(e,t,n)=>Lr(e)&&e.hasAttribute("href"),onformat:(e,n,r)=>{Dt.each(r,((n,r)=>{t.setAttrib(e,r,n)}))}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":e=>{var t;return null!==(t=null==e?void 0:e.customValue)&&void 0!==t?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Dt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(e=>{r[e]={block:e,remove:"all"}})),r})(e)),n(Vw()),n(oc(e)),{get:e=>x(e)?t[e]:t,has:e=>Ce(t,e),register:n,unregister:e=>(e&&t[e]&&delete t[e],t)}})(e),n=ks({});return(e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])})(e),(e=>{e.on("mouseup keydown",(t=>{((e,t)=>{const n=e.selection,r=e.getBody();ev(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==Kg||ev(e,ud(r,n.getStart())),37!==t&&39!==t||ev(e,ud(r,n.getStart()))})(e,t.keyCode)}))})(e),Kb(e)||((e,t)=>{e.set({}),t.on("NodeChange",(n=>{Kv(t,n.element,e.get())})),t.on("FormatApply FormatRemove",(n=>{const r=L.from(n.node).map((e=>Gd(e)?e:e.startContainer)).bind((e=>Lr(e)?L.some(e):L.from(e.parentElement))).getOrThunk((()=>Wv(t)));Kv(t,r,e.get())}))})(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(t,n,r)=>{((e,t,n,r)=>{Yb(e).formatter.apply(t,n,r)})(e,t,n,r)},remove:(t,n,r,o)=>{((e,t,n,r,o)=>{Yb(e).formatter.remove(t,n,r,o)})(e,t,n,r,o)},toggle:(t,n,r)=>{((e,t,n,r)=>{Yb(e).formatter.toggle(t,n,r)})(e,t,n,r)},match:(t,n,r,o)=>((e,t,n,r,o)=>Yb(e).formatter.match(t,n,r,o))(e,t,n,r,o),closest:t=>((e,t)=>Yb(e).formatter.closest(t))(e,t),matchAll:(t,n)=>((e,t,n)=>Yb(e).formatter.matchAll(t,n))(e,t,n),matchNode:(t,n,r,o)=>((e,t,n,r,o)=>Yb(e).formatter.matchNode(t,n,r,o))(e,t,n,r,o),canApply:t=>((e,t)=>Yb(e).formatter.canApply(t))(e,t),formatChanged:(t,r,o,i)=>((e,t,n,r,o,i)=>Yb(e).formatter.formatChanged(t,n,r,o,i))(e,n,t,r,o,i),getCssText:O(Zw,e)}},Kw=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Xw=e=>{const t=Ds(),n=ks(0),r=ks(0),o={data:[],typing:!1,beforeChange:()=>{((e,t,n)=>{Yb(e).undoManager.beforeChange(t,n)})(e,n,t)},add:(i,s)=>((e,t,n,r,o,i,s)=>Yb(e).undoManager.add(t,n,r,o,i,s))(e,o,r,n,t,i,s),dispatchChange:()=>{e.setDirty(!0);const t=zb(e);t.bookmark=Xa(e.selection),e.dispatch("change",{level:t,lastLevel:le(o.data,r.get()).getOrUndefined()})},undo:()=>((e,t,n,r)=>Yb(e).undoManager.undo(t,n,r))(e,o,n,r),redo:()=>((e,t,n)=>Yb(e).undoManager.redo(t,n))(e,r,o.data),clear:()=>{((e,t,n)=>{Yb(e).undoManager.clear(t,n)})(e,o,r)},reset:()=>{((e,t)=>{Yb(e).undoManager.reset(t)})(e,o)},hasUndo:()=>((e,t,n)=>Yb(e).undoManager.hasUndo(t,n))(e,o,r),hasRedo:()=>((e,t,n)=>Yb(e).undoManager.hasRedo(t,n))(e,o,r),transact:t=>((e,t,n,r)=>Yb(e).undoManager.transact(t,n,r))(e,o,n,t),ignore:t=>{((e,t,n)=>{Yb(e).undoManager.ignore(t,n)})(e,n,t)},extra:(t,n)=>{((e,t,n,r,o)=>{Yb(e).undoManager.extra(t,n,r,o)})(e,o,r,t,n)}};return Kb(e)||((e,t,n)=>{const r=ks(!1),o=e=>{Wb(t,!1,n),t.add({},e)};e.on("init",(()=>{t.add()})),e.on("BeforeExecCommand",(e=>{const r=e.command;Kw(r)||(Zb(t,n),t.beforeChange())})),e.on("ExecCommand",(e=>{const t=e.command;Kw(t)||o(e)})),e.on("ObjectResizeStart cut",(()=>{t.beforeChange()})),e.on("SaveContent ObjectResized blur",o),e.on("dragend",o),e.on("keyup",(n=>{const i=n.keyCode;n.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||n.ctrlKey)&&(o(),e.nodeChanged()),46!==i&&8!==i||e.nodeChanged(),r.get()&&t.typing&&!Gb(zb(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged()))})),e.on("keydown",(e=>{const i=e.keyCode;if(e.isDefaultPrevented())return;if(i>=33&&i<=36||i>=37&&i<=40||45===i)return void(t.typing&&o(e));const s=e.ctrlKey&&!e.altKey||e.metaKey;!(i<16||i>20)||224===i||91===i||t.typing||s||(t.beforeChange(),Wb(t,!0,n),t.add({},e),r.set(!0))})),e.on("mousedown",(e=>{t.typing&&o(e)})),e.on("input",(e=>{var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data||(e=>"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType)(e))&&o(e)})),e.on("AddUndo Undo Redo ClearUndos",(t=>{t.isDefaultPrevented()||e.nodeChanged()}))})(e,o,n),(e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")})(e),o},Yw=[9,27,Hh.HOME,Hh.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Hh.DOWN,Hh.UP,Hh.LEFT,Hh.RIGHT].concat(Pt.browser.isFirefox()?[224]:[]),Jw="data-mce-placeholder",Qw=e=>"keydown"===e.type||"keyup"===e.type,ex=e=>{const t=e.keyCode;return t===Hh.BACKSPACE||t===Hh.DELETE},tx=(e,t)=>({from:e,to:t}),nx=(e,t)=>{const n=vn(e),r=vn(t.container());return qm(n,r).map((e=>((e,t)=>({block:e,position:t}))(e,t)))},rx=(e,t)=>Kn(t,(e=>So(e)||to(e.dom)),(t=>xn(t,e))).filter(Gt).getOr(e),ox=e=>{const t=(e=>{const t=Nn(e);return ee(t,go).fold(T(t),(e=>t.slice(0,e)))})(e);return W(t,vr),t},ix=(e,t)=>{const n=Yf(t,e);return Q(n.reverse(),(e=>ui(e))).each(vr)},sx=(e,t,n,r)=>{if(ui(n))return To(n),sd(n.dom);0===K(On(r),(e=>!ui(e))).length&&ui(t)&&ur(r,mn("br"));const o=id(n.dom,Ma.before(r.dom));return W(ox(t),(e=>{ur(r,e)})),ix(e,t),o},ax=(e,t,n)=>{if(ui(n)){if(ui(t)){const e=e=>{const t=(e,n)=>In(e).fold((()=>n),(e=>vo(e)?t(e,n.concat(Ys(e))):n));return t(e,[])},r=X(e(n),((e,t)=>(fr(e,t),t)),ko());gr(t),pr(t,r)}return vr(n),sd(t.dom)}const r=ad(n.dom);return W(ox(t),(e=>{pr(n,e)})),ix(e,t),r},lx=(e,t)=>{rd(e,t.dom).bind((e=>L.from(e.getNode()))).map(vn).filter(yo).each(vr)},cx=(e,t,n)=>(lx(!0,t),lx(!1,n),((e,t)=>En(t,e)?((e,t)=>{const n=Yf(t,e);return L.from(n[n.length-1])})(t,e):L.none())(t,n).fold(O(ax,e,t,n),O(sx,e,t,n))),ux=(e,t,n,r)=>t?cx(e,r,n):cx(e,n,r),dx=(e,t)=>{const n=vn(e.getBody()),r=((e,t,n)=>n.collapsed?((e,t,n)=>{const r=nx(e,Ma.fromRangeStart(n)),o=r.bind((n=>ed(t,e,n.position).bind((n=>nx(e,n).map((n=>((e,t,n)=>Qr(n.position.getNode())&&!ui(n.block)?rd(!1,n.block.dom).bind((r=>r.isEqual(n.position)?ed(t,e,r).bind((t=>nx(e,t))):L.some(n))).getOr(n):n)(e,t,n)))))));return Bt(r,o,tx).filter((t=>(e=>!xn(e.from.block,e.to.block))(t)&&((e,t)=>{const n=vn(e);return xn(rx(n,t.from.block),rx(n,t.to.block))})(e,t)&&(e=>!1===no(e.from.block.dom)&&!1===no(e.to.block.dom))(t)&&(e=>{const t=e=>bo(e)||yi(e.dom);return t(e.from.block)&&t(e.to.block)})(t)))})(e,t,n):L.none())(n.dom,t,e.selection.getRng()).map((r=>()=>{ux(n,t,r.from.block,r.to.block).each((t=>{e.selection.setRng(t.toRange())}))}));return r},hx=(e,t)=>{const n=vn(t),r=O(xn,e);return $n(n,So,r).isSome()},px=(e,t)=>e.selection.isCollapsed()?L.none():(e=>{const t=vn(e.getBody());return((e,t)=>{const n=id(e.dom,Ma.fromRangeStart(t)).isNone(),r=od(e.dom,Ma.fromRangeEnd(t)).isNone();return!((e,t)=>hx(e,t.startContainer)||hx(e,t.endContainer))(e,t)&&n&&r})(t,e.selection.getRng())?(e=>L.some((()=>{e.setContent(""),e.selection.setCursorLocation()})))(e):((e,t)=>{const n=t.getRng();return Bt(qm(e,vn(n.startContainer)),qm(e,vn(n.endContainer)),((r,o)=>xn(r,o)?L.none():L.some((()=>{n.deleteContents(),ux(e,!0,r,o).each((e=>{t.setRng(e.toRange())}))})))).getOr(L.none())})(t,e.selection)})(e),fx=(e,t,n,r,o)=>L.from(t._selectionOverrides.showCaret(e,n,r,o)),mx=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?L.none():L.some((e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t})(t)),gx=(e,t,n)=>t.collapsed?((e,t,n)=>{const r=Nu(1,e.getBody(),t),o=Ma.fromRangeStart(r),i=o.getNode();if(uu(i))return fx(1,e,i,!o.isAtEnd(),!1);const s=o.getNode(!0);if(uu(s))return fx(1,e,s,!1,!1);const a=yg(e.dom.getRoot(),o.getNode());return uu(a)?fx(1,e,a,!1,n):L.none()})(e,t,n).getOr(t):t,vx=e=>$f(e)||Gf(e),yx=e=>Kf(e)||qf(e),bx=(e,t,n,r,o,i)=>{fx(r,e,i.getNode(!o),o,!0).each((n=>{if(t.collapsed){const e=t.cloneRange();o?e.setEnd(n.startContainer,n.startOffset):e.setStart(n.endContainer,n.endOffset),e.deleteContents()}else t.deleteContents();e.selection.setRng(n)})),((e,t)=>{Zr(t)&&0===t.data.length&&e.remove(t)})(e.dom,n)},wx=(e,t)=>((e,t)=>{const n=e.selection.getRng();if(!Zr(n.commonAncestorContainer))return L.none();const r=t?Hu.Forwards:Hu.Backwards,o=Xu(e.getBody()),i=O(Fu,t?o.next:o.prev),s=t?vx:yx,a=Iu(r,e.getBody(),n),l=i(a),c=l?Hm(t,l):l;if(!c||!Lu(a,c))return L.none();if(s(c))return L.some((()=>bx(e,n,a.getNode(),r,t,c)));const u=i(c);return u&&s(u)&&Lu(c,u)?L.some((()=>bx(e,n,a.getNode(),r,t,u))):L.none()})(e,t),xx=(e,t)=>{const n=e.getBody();return t?sd(n).filter($f):ad(n).filter(Kf)},Ex=e=>{const t=e.selection.getRng();return!t.collapsed&&(xx(e,!0).exists((e=>e.isEqual(Ma.fromRangeStart(t))))||xx(e,!1).exists((e=>e.isEqual(Ma.fromRangeEnd(t)))))},Sx=el([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Cx=(e,t,n)=>ed(t,e,n).bind((r=>{return o=r.getNode(),x(o)&&(So(vn(o))||xo(vn(o)))||((e,t,n,r)=>{const o=t=>vo(vn(t))&&!_u(n,r,e);return Du(!t,n).fold((()=>Du(t,r).fold(B,o)),o)})(e,t,n,r)?L.none():t&&no(r.getNode())||!t&&no(r.getNode(!0))?((e,t,n,r)=>{const o=r.getNode(!t);return qm(vn(e),vn(n.getNode())).map((e=>ui(e)?Sx.remove(e.dom):Sx.moveToElement(o))).orThunk((()=>L.some(Sx.moveToElement(o))))})(e,t,n,r):t&&Kf(n)||!t&&$f(n)?L.some(Sx.moveToPosition(r)):L.none();var o})),Ax=(e,t)=>L.from(yg(e.getBody(),t)),_x=e=>{const t=e.dom,n=e.selection,r=yg(e.getBody(),n.getNode());if(to(r)&&t.isBlock(r)&&t.isEmpty(r)){const e=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(e),n.setRng(Ma.before(e).toRange())}return!0},kx=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=e.selection.getNode();return Ax(e,n).filter(no).fold((()=>((e,t,n)=>{const r=Nu(t?1:-1,e,n),o=Ma.fromRangeStart(r),i=vn(e);return!t&&Kf(o)?L.some(Sx.remove(o.getNode(!0))):t&&$f(o)?L.some(Sx.remove(o.getNode())):!t&&$f(o)&&cm(i,o)?um(i,o).map((e=>Sx.remove(e.getNode()))):t&&Kf(o)&&lm(i,o)?dm(i,o).map((e=>Sx.remove(e.getNode()))):((e,t,n)=>((e,t)=>{const n=t.getNode(!e),r=e?"after":"before";return Lr(n)&&n.getAttribute("data-mce-caret")===r})(t,n)?((e,t)=>w(t)?L.none():e&&no(t.nextSibling)?L.some(Sx.moveToElement(t.nextSibling)):!e&&no(t.previousSibling)?L.some(Sx.moveToElement(t.previousSibling)):L.none())(t,n.getNode(!t)).orThunk((()=>Cx(e,t,n))):Cx(e,t,n).bind((t=>((e,t,n)=>n.fold((e=>L.some(Sx.remove(e))),(e=>L.some(Sx.moveToElement(e))),(n=>_u(t,n,e)?L.none():L.some(Sx.moveToPosition(n)))))(e,n,t))))(e,t,o)})(e.getBody(),t,e.selection.getRng()).map((n=>()=>n.fold(((e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),Im(e,t,vn(n)),!0))(e,t),((e,t)=>n=>{const r=t?Ma.before(n):Ma.after(n);return e.selection.setRng(r.toRange()),!0})(e,t),(e=>t=>(e.selection.setRng(t.toRange()),!0))(e))))),(()=>L.some(A)))})(e,t):((e,t)=>{const n=e.selection.getNode();return no(n)&&!ro(n)?Ax(e,n.parentNode).filter(no).fold((()=>L.some((()=>{var n;n=vn(e.getBody()),W(Nr(n,".mce-offscreen-selection"),vr),Im(e,t,vn(e.selection.getNode())),Wm(e)}))),(()=>L.some(A))):Ex(e)?L.some((()=>{$m(e,e.selection.getRng(),vn(e.getBody()))})):L.none()})(e,t),Tx=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=Ma.fromRangeStart(e.selection.getRng());return ed(t,e.getBody(),n).filter((e=>t?jf(e):Uf(e))).bind((e=>ku(t?0:-1,e))).map((t=>()=>e.selection.select(t)))})(e,t):L.none(),Mx=Zr,Px=e=>Mx(e)&&e.data[0]===Po,Ox=e=>Mx(e)&&e.data[e.data.length-1]===Po,Rx=e=>{var t;return(null!==(t=e.ownerDocument)&&void 0!==t?t:document).createTextNode(Po)},Nx=(e,t)=>e?(e=>{var t;if(Mx(e.previousSibling))return Ox(e.previousSibling)||e.previousSibling.appendData(Po),e.previousSibling;if(Mx(e))return Px(e)||e.insertData(0,Po),e;{const n=Rx(e);return null===(t=e.parentNode)||void 0===t||t.insertBefore(n,e),n}})(t):(e=>{var t,n;if(Mx(e.nextSibling))return Px(e.nextSibling)||e.nextSibling.insertData(0,Po),e.nextSibling;if(Mx(e))return Ox(e)||e.appendData(Po),e;{const r=Rx(e);return e.nextSibling?null===(t=e.parentNode)||void 0===t||t.insertBefore(r,e.nextSibling):null===(n=e.parentNode)||void 0===n||n.appendChild(r),r}})(t),Dx=O(Nx,!0),Ix=O(Nx,!1),Bx=(e,t)=>Zr(e.container())?Nx(t,e.container()):Nx(t,e.getNode()),Fx=(e,t)=>{const n=t.get();return n&&e.container()===n&&Bo(n)},Lx=(e,t)=>t.fold((t=>{ou(e.get());const n=Dx(t);return e.set(n),L.some(Ma(n,n.length-1))}),(t=>sd(t).map((t=>{if(Fx(t,e)){const t=e.get();return Ma(t,1)}{ou(e.get());const n=Bx(t,!0);return e.set(n),Ma(n,1)}}))),(t=>ad(t).map((t=>{if(Fx(t,e)){const t=e.get();return Ma(t,t.length-1)}{ou(e.get());const n=Bx(t,!1);return e.set(n),Ma(n,n.length-1)}}))),(t=>{ou(e.get());const n=Ix(t);return e.set(n),L.some(Ma(n,1))})),Hx=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n].apply(null,t);if(r.isSome())return r}return L.none()},zx=el([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Vx=(e,t)=>Au(t,e)||e,jx=(e,t,n)=>{const r=zm(n),o=Vx(t,r.container());return Lm(e,o,r).fold((()=>od(o,r).bind(O(Lm,e,o)).map((e=>zx.before(e)))),L.none)},Ux=(e,t)=>null===ud(e,t),Gx=(e,t,n)=>Lm(e,t,n).filter(O(Ux,t)),qx=(e,t,n)=>{const r=Vm(n);return Gx(e,t,r).bind((e=>id(e,r).isNone()?L.some(zx.start(e)):L.none()))},Wx=(e,t,n)=>{const r=zm(n);return Gx(e,t,r).bind((e=>od(e,r).isNone()?L.some(zx.end(e)):L.none()))},Zx=(e,t,n)=>{const r=Vm(n),o=Vx(t,r.container());return Lm(e,o,r).fold((()=>id(o,r).bind(O(Lm,e,o)).map((e=>zx.after(e)))),L.none)},$x=e=>{return t=Xx(e),!("rtl"===Cs.DOM.getStyle(t,"direction",!0)||(e=>Bm.test(e))(null!==(n=t.textContent)&&void 0!==n?n:""));var t,n},Kx=(e,t,n)=>Hx([jx,qx,Wx,Zx],[e,t,n]).filter($x),Xx=e=>e.fold(M,M,M,M),Yx=e=>e.fold(T("before"),T("start"),T("end"),T("after")),Jx=e=>e.fold(zx.before,zx.before,zx.after,zx.after),Qx=e=>e.fold(zx.start,zx.start,zx.end,zx.end),eE=(e,t,n,r,o,i)=>Bt(Lm(t,n,r),Lm(t,n,o),((t,r)=>t!==r&&((e,t,n)=>{const r=Au(t,e),o=Au(n,e);return x(r)&&r===o})(n,t,r)?zx.after(e?t:r):i)).getOr(i),tE=(e,t)=>e.fold(F,(e=>{return r=t,!(Yx(n=e)===Yx(r)&&Xx(n)===Xx(r));var n,r})),nE=(e,t)=>e?t.fold(_(L.some,zx.start),L.none,_(L.some,zx.after),L.none):t.fold(L.none,_(L.some,zx.before),L.none,_(L.some,zx.end)),rE=(e,t,n)=>{const r=e?1:-1;return t.setRng(Ma(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0};var oE;!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(oE||(oE={}));const iE=(e,t)=>e===Hu.Backwards?oe(t):t,sE=(e,t,n)=>e===Hu.Forwards?t.next(n):t.prev(n),aE=(e,t,n,r)=>Qr(r.getNode(t===Hu.Forwards))?oE.Br:!1===_u(n,r)?oE.Block:oE.Wrap,lE=(e,t,n,r)=>{const o=Xu(n);let i=r;const s=[];for(;i;){const n=sE(t,o,i);if(!n)break;if(Qr(n.getNode(!1)))return t===Hu.Forwards?{positions:iE(t,s).concat([n]),breakType:oE.Br,breakAt:L.some(n)}:{positions:iE(t,s),breakType:oE.Br,breakAt:L.some(n)};if(n.isVisible()){if(e(i,n)){const e=aE(0,t,i,n);return{positions:iE(t,s),breakType:e,breakAt:L.some(n)}}s.push(n),i=n}else i=n}return{positions:iE(t,s),breakType:oE.Eol,breakAt:L.none()}},cE=(e,t,n,r)=>t(n,r).breakAt.map((r=>{const o=t(n,r).positions;return e===Hu.Backwards?o.concat(r):[r].concat(o)})).getOr([]),uE=(e,t)=>Y(e,((e,n)=>e.fold((()=>L.some(n)),(r=>Bt(ce(r.getClientRects()),ce(n.getClientRects()),((e,o)=>{const i=Math.abs(t-e.left);return Math.abs(t-o.left)<=i?n:r})).or(e)))),L.none()),dE=(e,t)=>ce(t.getClientRects()).bind((t=>uE(e,t.left))),hE=O(lE,Ma.isAbove,-1),pE=O(lE,Ma.isBelow,1),fE=O(cE,-1,hE),mE=O(cE,1,pE),gE=(e,t)=>dE(fE(e,t),t),vE=(e,t)=>dE(mE(e,t),t),yE=no,bE=(e,t)=>Math.abs(e.left-t),wE=(e,t)=>Math.abs(e.right-t),xE=(e,t)=>Re(e,((e,n)=>{const r=Math.min(bE(e,t),wE(e,t)),o=Math.min(bE(n,t),wE(n,t));return o===r&&Ae(n,"node")&&yE(n.node)||o<r?n:e})),EE=e=>{const t=t=>q(t,(t=>{const n=na(t);return n.node=e,n}));if(Lr(e))return t(e.getClientRects());if(Zr(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}return[]},SE=e=>ne(e,EE);var CE;!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(CE||(CE={}));const AE=(e,t,n,r,o,i)=>{let s=0;const a=[],l=r=>{let i=SE([r]);-1===e&&(i=i.reverse());for(let e=0;e<i.length;e++){const r=i[e];if(!n(r,c)){if(a.length>0&&t(r,De(a))&&s++,r.line=s,o(r))return!0;a.push(r)}}return!1},c=De(i.getClientRects());if(!c)return a;const u=i.getNode();return u&&(l(u),((e,t,n,r)=>{let o=r;for(;o=Cu(o,e,ti,t);)if(n(o))return})(e,r,l,u)),a},_E=O(AE,CE.Up,ia,sa),kE=O(AE,CE.Down,sa,ia),TE=e=>De(e.getClientRects()),ME=e=>t=>((e,t)=>t.line>e)(e,t),PE=e=>t=>((e,t)=>t.line===e)(e,t),OE=(e,t)=>{e.selection.setRng(t),Bp(e,e.selection.getRng())},RE=(e,t,n)=>L.some(gx(e,t,n)),NE=(e,t,n,r,o,i)=>{const s=t===Hu.Forwards,a=Xu(e.getBody()),l=O(Fu,s?a.next:a.prev),c=s?r:o;if(!n.collapsed){const r=la(n);if(i(r))return fx(t,e,r,t===Hu.Backwards,!1);if(Ex(e)){const e=n.cloneRange();return e.collapse(t===Hu.Backwards),L.from(e)}}const u=Iu(t,e.getBody(),n);if(c(u))return mx(e,u.getNode(!s));let d=l(u);const h=Go(n);if(!d)return h?L.some(n):L.none();if(d=Hm(s,d),c(d))return fx(t,e,d.getNode(!s),s,!1);const p=l(d);return p&&c(p)&&Lu(d,p)?fx(t,e,p.getNode(!s),s,!1):h?RE(e,d.toRange(),!1):L.none()},DE=(e,t,n,r,o,i)=>{const s=Iu(t,e.getBody(),n),a=De(s.getClientRects()),l=t===CE.Down,c=e.getBody();if(!a)return L.none();if(Ex(e)){const e=l?Ma.fromRangeEnd(n):Ma.fromRangeStart(n);return(l?vE:gE)(c,e).orThunk((()=>L.from(e))).map((e=>e.toRange()))}const u=(l?kE:_E)(c,ME(1),s),d=K(u,PE(1)),h=a.left,p=xE(d,h);if(p&&i(p.node)){const n=Math.abs(h-p.left),r=Math.abs(h-p.right);return fx(t,e,p.node,n<r,!1)}let f;if(f=r(s)?s.getNode():o(s)?s.getNode(!0):la(n),f){const n=((e,t,n,r)=>{const o=Xu(t);let i,s,a,l;const c=[];let u=0;1===e?(i=o.next,s=sa,a=ia,l=Ma.after(r)):(i=o.prev,s=ia,a=sa,l=Ma.before(r));const d=TE(l);do{if(!l.isVisible())continue;const e=TE(l);if(a(e,d))continue;c.length>0&&s(e,De(c))&&u++;const t=na(e);if(t.position=l,t.line=u,n(t))return c;c.push(t)}while(l=i(l));return c})(t,c,ME(1),f);let r=xE(K(n,PE(1)),h);if(r)return RE(e,r.position.toRange(),!1);if(r=De(K(n,PE(0))),r)return RE(e,r.position.toRange(),!1)}return 0===d.length?IE(e,l).filter(l?o:r).map((t=>gx(e,t.toRange(),!1))):L.none()},IE=(e,t)=>{const n=e.selection.getRng(),r=t?Ma.fromRangeEnd(n):Ma.fromRangeStart(n),o=(i=r.container(),s=e.getBody(),$n(vn(i),(e=>hu(e.dom)),(e=>e.dom===s)).map((e=>e.dom)).getOr(s));var i,s;if(t){const e=pE(o,r);return ue(e.positions)}{const e=hE(o,r);return ce(e.positions)}},BE=(e,t,n)=>IE(e,t).filter(n).exists((t=>(e.selection.setRng(t.toRange()),!0))),FE=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},LE=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},HE=(e,t,n)=>Lx(t,n).map((t=>(FE(e,t),n))),zE=(e,t,n)=>!!rc(e)&&((e,t,n)=>{const r=e.getBody(),o=((e,t,n)=>{const r=Ma.fromRangeStart(e);if(e.collapsed)return r;{const o=Ma.fromRangeEnd(e);return n?id(t,o).getOr(o):od(t,r).getOr(r)}})(e.selection.getRng(),r,n);return((e,t,n,r)=>{const o=Hm(e,r),i=Kx(t,n,o);return Kx(t,n,o).bind(O(nE,e)).orThunk((()=>((e,t,n,r,o)=>{const i=Hm(e,o);return ed(e,n,i).map(O(Hm,e)).fold((()=>r.map(Jx)),(o=>Kx(t,n,o).map(O(eE,e,t,n,i,o)).filter(O(tE,r)))).filter($x)})(e,t,n,i,r)))})(n,O(Fm,e),r,o).bind((n=>HE(e,t,n)))})(e,t,n).isSome(),VE=(e,t,n)=>!!rc(t)&&((e,t)=>{const n=t.selection.getRng(),r=e?Ma.fromRangeEnd(n):Ma.fromRangeStart(n);return!!(e=>E(e.selection.getSel().modify))(t)&&(e&&Ho(r)?rE(!0,t.selection,r):!(e||!zo(r))&&rE(!1,t.selection,r))})(e,t),jE=O(VE,!0),UE=O(VE,!1),GE=(e,t,n)=>{if(rc(e)){const r=IE(e,t).getOrThunk((()=>{const n=e.selection.getRng();return t?Ma.fromRangeEnd(n):Ma.fromRangeStart(n)}));return Kx(O(Fm,e),e.getBody(),r).exists((t=>{const r=Jx(t);return Lx(n,r).exists((t=>(FE(e,t),!0)))}))}return!1},qE=(e,t)=>n=>Lx(t,n).map((t=>()=>FE(e,t))),WE=(e,t,n,r)=>{const o=e.getBody(),i=O(Fm,e);e.undoManager.ignore((()=>{e.selection.setRng(((e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n})(n,r)),Um(e),Kx(i,o,Ma.fromRangeStart(e.selection.getRng())).map(Qx).bind(qE(e,t)).each(I)})),e.nodeChanged()},ZE=(e,t,n)=>{if(e.selection.isCollapsed()&&rc(e)){const r=Ma.fromRangeStart(e.selection.getRng());return((e,t,n,r)=>{const o=((e,t)=>Au(t,e)||e)(e.getBody(),r.container()),i=O(Fm,e),s=Kx(i,o,r);return s.bind((e=>n?e.fold(T(L.some(Qx(e))),L.none,T(L.some(Jx(e))),L.none):e.fold(L.none,T(L.some(Jx(e))),L.none,T(L.some(Qx(e)))))).map(qE(e,t)).getOrThunk((()=>{const a=td(n,o,r),l=a.bind((e=>Kx(i,o,e)));return Bt(s,l,(()=>Lm(i,o,r).bind((t=>(e=>Bt(sd(e),ad(e),((t,n)=>{const r=Hm(!0,t),o=Hm(!1,n);return od(e,r).forall((e=>e.isEqual(o)))})).getOr(!0))(t)?L.some((()=>{Im(e,n,vn(t))})):L.none())))).getOrThunk((()=>l.bind((()=>a.map((o=>()=>{n?WE(e,t,r,o):WE(e,t,o,r)}))))))}))})(e,t,n,r)}return L.none()},$E=(e,t)=>{const n=vn(e.getBody()),r=vn(e.selection.getStart()),o=Yf(r,n);return ee(o,t).fold(T(o),(e=>o.slice(0,e)))},KE=(e,t)=>{const n=O(sv,e);return ne(t,(e=>n(e)?[e.dom]:[]))},XE=e=>{const t=(e=>$E(e,go))(e);return KE(e,t)},YE=(e,t)=>{const n=e.selection.getStart(),r=((e,t)=>{const n=t.parentElement;return Qr(t)&&!v(n)&&e.dom.isEmpty(n)})(e,n)||av(vn(n))?iv(n,t):((e,t)=>{const{caretContainer:n,caretPosition:r}=ov(t);return e.selection.getRng().insertNode(n.dom),r})(e,t);e.selection.setRng(r.toRange())},JE=e=>Zr(e.startContainer),QE=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=(e=>$E(e,(e=>go(e)||(e=>Fn(e)>1)(e))))(e);return ue(n).bind((r=>{const o=Ma.fromRangeStart(e.selection.getRng());return((e,t,n)=>Bt(sd(n),ad(n),((r,o)=>{const i=Hm(!0,r),s=Hm(!1,o),a=Hm(!1,t);return e?od(n,a).exists((e=>e.isEqual(s)&&t.isEqual(i))):id(n,a).exists((e=>e.isEqual(i)&&t.isEqual(s)))})).getOr(!0))(t,o,r.dom)&&!av(r)?L.some((()=>((e,t,n,r)=>{const o=KE(t,r);if(0===o.length)Im(t,e,n);else{const e=iv(n.dom,o);t.selection.setRng(e.toRange())}})(t,e,r,n))):L.none()}))})(e,t):(e=>{if((e=>{const t=e.selection.getRng();return(e=>0===e.startOffset&&JE(e))(t)&&((e,t)=>{const n=t.startContainer.parentElement;return!v(n)&&sv(e,vn(n))})(e,t)&&(e=>(e=>(e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!v(t)&&!v(n)&&t.isEqualNode(n)})(e)&&(e=>{const t=e.endContainer;return e.endOffset===(Zr(t)?t.length:t.childNodes.length)})(e))(e)||(e=>!e.endContainer.isEqualNode(e.commonAncestorContainer))(e))(t)})(e)){const t=XE(e);return L.some((()=>{Um(e),((e,t)=>{const n=ie(t,XE(e));n.length>0&&YE(e,n)})(e,t)}))}return L.none()})(e),eS=e=>((e=>{const t=e.selection.getRng();return t.collapsed&&(JE(t)||e.dom.isEmpty(t.startContainer))&&!(e=>(e=>((e,t,n)=>$n(e,(e=>cd(e.dom)),n).isSome())(e,0,go))(vn(e.selection.getStart())))(e)})(e)&&YE(e,[]),!0),tS=(e,t,n)=>x(n)?L.some((()=>{e._selectionOverrides.hideFakeCaret(),Im(e,t,vn(n))})):L.none(),nS=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=t?Gf:qf,r=t?Hu.Forwards:Hu.Backwards,o=Iu(r,e.getBody(),e.selection.getRng());return n(o)?tS(e,t,o.getNode(!t)):L.from(Hm(t,o)).filter((e=>n(e)&&Lu(o,e))).bind((n=>tS(e,t,n.getNode(!t))))})(e,t):((e,t)=>{const n=e.selection.getNode();return io(n)?tS(e,t,n):L.none()})(e,t),rS=e=>Ye(null!=e?e:"").getOr(0),oS=(e,t)=>(e||"table"===Vt(t)?"margin":"padding")+("rtl"===ir(t,"direction")?"-right":"-left"),iS=e=>{const t=aS(e);return!e.mode.isReadOnly()&&(t.length>1||((e,t)=>re(t,(t=>{const n=oS(Vl(e),t),r=ar(t,n).map(rS).getOr(0);return"false"!==e.dom.getContentEditable(t.dom)&&r>0})))(e,t))},sS=e=>wo(e)||xo(e),aS=e=>K(br(e.selection.getSelectedBlocks()),(e=>!sS(e)&&!(e=>_n(e).exists(sS))(e)&&Kn(e,(e=>to(e.dom)||no(e.dom))).exists((e=>to(e.dom))))),lS=(e,t)=>{var n,r;const{dom:o}=e,i=jl(e),s=null!==(r=null===(n=/[a-z%]+$/i.exec(i))||void 0===n?void 0:n[0])&&void 0!==r?r:"px",a=rS(i),l=Vl(e);W(aS(e),(e=>{((e,t,n,r,o,i)=>{const s=oS(n,vn(i)),a=rS(e.getStyle(i,s));if("outdent"===t){const t=Math.max(0,a-r);e.setStyle(i,s,t?t+o:"")}else{const t=a+r+o;e.setStyle(i,s,t)}})(o,t,l,a,s,e.dom)}))},cS=e=>lS(e,"outdent"),uS=e=>{if(e.selection.isCollapsed()&&iS(e)){const t=e.dom,n=e.selection.getRng(),r=Ma.fromRangeStart(n),o=t.getParent(n.startContainer,t.isBlock);if(null!==o&&nm(vn(o),r))return L.some((()=>cS(e)))}return L.none()},dS=(e,t,n)=>he([uS,kx,wx,(e,n)=>ZE(e,t,n),dx,vg,Tx,nS,px,QE],(t=>t(e,n))).filter((t=>e.selection.isEditable())),hS=e=>void 0===e.touches||1!==e.touches.length?L.none():L.some(e.touches[0]),pS=(e,t)=>Ce(e,t.nodeName),fS=(e,t)=>!!Zr(t)||!!Lr(t)&&!pS(e.getBlockElements(),t)&&!Ed(t)&&!xi(e,t),mS=(e,t)=>{if(Zr(t)){if(0===t.data.length)return!0;if(/^\s+$/.test(t.data)&&(!t.nextSibling||pS(e,t.nextSibling)))return!0}return!1},gS=e=>e.dom.create(xl(e),El(e)),vS=e=>{const t=e.dom,n=e.selection,r=e.schema,o=r.getBlockElements(),i=n.getStart(),s=e.getBody();let a,l,c=!1;const u=xl(e);if(!i||!Lr(i))return;const d=s.nodeName.toLowerCase();if(!r.isValidChild(d,u.toLowerCase())||((e,t,n)=>G(Xf(vn(n),vn(t)),(t=>pS(e,t.dom))))(o,s,i))return;const h=n.getRng(),{startContainer:p,startOffset:f,endContainer:m,endOffset:g}=h,v=sf(e);let y=s.firstChild;for(;y;)if(Lr(y)&&vi(r,y),fS(r,y)){if(mS(o,y)){l=y,y=y.nextSibling,t.remove(l);continue}a||(a=gS(e),s.insertBefore(a,y),c=!0),l=y,y=y.nextSibling,a.appendChild(l)}else a=null,y=y.nextSibling;c&&v&&(h.setStart(p,f),h.setEnd(m,g),n.setRng(h),e.nodeChanged())},yS=(e,t,n)=>{const r=vn(gS(e)),o=ko();pr(r,o),n(t,r);const i=document.createRange();return i.setStartBefore(o.dom),i.setEndBefore(o.dom),i},bS=e=>t=>-1!==(" "+t.attr("class")+" ").indexOf(e),wS=(e,t,n)=>function(r){const o=arguments,i=o[o.length-2],s=i>0?t.charAt(i-1):"";if('"'===s)return r;if(">"===s){const e=t.lastIndexOf("<",i);if(-1!==e&&-1!==t.substring(e,i).indexOf('contenteditable="false"'))return r}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(o[0])+'">'+e.dom.encode("string"==typeof o[1]?o[1]:o[0])+"</span>"},xS=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Uo(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},ES=(e,t)=>{const n=(e=>Yn(vn(e.getBody()),"*[data-mce-caret]").map((e=>e.dom)).getOrNull())(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void xS(e,n)):void(Lo(n)&&(xS(e,n),e.undoManager.add()))},SS=no,CS=(e,t,n)=>{const r=Xu(e.getBody()),o=O(Fu,1===t?r.next:r.prev);if(n.collapsed){const r=e.dom.getParent(n.startContainer,"PRE");if(!r)return;if(!o(Ma.fromRangeStart(n))){const n=vn((e=>{const t=e.dom.create(xl(e));return t.innerHTML='<br data-mce-bogus="1">',t})(e));1===t?dr(vn(r),n):ur(vn(r),n),e.selection.select(n.dom,!0),e.selection.collapse()}}},AS=(e,t)=>((e,t)=>{const n=t?Hu.Forwards:Hu.Backwards,r=e.selection.getRng();return((e,t,n)=>NE(t,e,n,$f,Kf,SS))(n,e,r).orThunk((()=>(CS(e,n,r),L.none())))})(e,t).exists((t=>(OE(e,t),!0))),_S=(e,t)=>((e,t)=>{const n=t?1:-1,r=e.selection.getRng();return((e,t,n)=>DE(t,e,n,(e=>$f(e)||Wf(e)),(e=>Kf(e)||Zf(e)),SS))(n,e,r).orThunk((()=>(CS(e,n,r),L.none())))})(e,t).exists((t=>(OE(e,t),!0))),kS=(e,t)=>BE(e,t,t?Kf:$f),TS=(e,t)=>xx(e,!t).map((n=>{const r=n.toRange(),o=e.selection.getRng();return t?r.setStart(o.startContainer,o.startOffset):r.setEnd(o.endContainer,o.endOffset),r})).exists((t=>(OE(e,t),!0))),MS=e=>U(["figcaption"],Vt(e)),PS=(e,t)=>!!e.selection.isCollapsed()&&((e,t)=>{const n=vn(e.getBody()),r=Ma.fromRangeStart(e.selection.getRng());return((e,t)=>{const n=O(xn,t);return Kn(vn(e.container()),go,n).filter(MS)})(r,n).exists((()=>{if(((e,t,n)=>t?((e,t)=>pE(e,t).breakAt.isNone())(e.dom,n):((e,t)=>hE(e,t).breakAt.isNone())(e.dom,n))(n,t,r)){const r=yS(e,n,t?pr:hr);return e.selection.setRng(r),!0}return!1}))})(e,t),OS={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},RS=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,NS=(e,...t)=>()=>e.apply(null,t),DS=(e,t)=>Q(((e,t)=>ne((e=>q(e,(e=>({...OS,...e}))))(e),(e=>RS(e,t)?[e]:[])))(e,t),(e=>e.action())),IS=(e,t)=>he(((e,t)=>ne((e=>q(e,(e=>({...OS,...e}))))(e),(e=>RS(e,t)?[e]:[])))(e,t),(e=>e.action())),BS=(e,t)=>{const n=t?Hu.Forwards:Hu.Backwards,r=e.selection.getRng();return NE(e,n,r,Gf,qf,io).exists((t=>(OE(e,t),!0)))},FS=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return DE(e,n,r,Gf,qf,io).exists((t=>(OE(e,t),!0)))},LS=(e,t)=>BE(e,t,t?qf:Gf),HS=el([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),zS={...HS,none:e=>HS.none(e)},VS=(e,t,n)=>ne(Nn(e),(e=>bn(e,t)?n(e)?[e]:[]:VS(e,t,n))),jS=(e,t)=>Jn(e,"table",t),US=(e,t,n,r,o=F)=>{const i=1===r;if(!i&&n<=0)return zS.first(e[0]);if(i&&n>=e.length-1)return zS.last(e[e.length-1]);{const i=n+r,s=e[i];return o(s)?zS.middle(t,s):US(e,t,i,r,o)}},GS=(e,t)=>jS(e,t).bind((t=>{const n=VS(t,"th,td",F);return ee(n,(t=>xn(e,t))).map((e=>({index:e,all:n})))})),qS=(e,t,n,r,o)=>{const i=Nr(vn(n),"td,th,caption").map((e=>e.dom)),s=K(((e,t)=>ne(t,(t=>{const n=((e,t)=>({left:e.left- -1,top:e.top- -1,right:e.right+-2,bottom:e.bottom+-2,width:e.width+-1,height:e.height+-1}))(na(t.getBoundingClientRect()));return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]})))(e,i),(e=>t(e,o)));return((e,t,n)=>Y(e,((e,r)=>e.fold((()=>L.some(r)),(e=>{const o=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),i=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return L.some(i<o?r:e)}))),L.none()))(s,r,o).map((e=>e.cell))},WS=O(qS,(e=>e.bottom),((e,t)=>e.y<t)),ZS=O(qS,(e=>e.top),((e,t)=>e.y>t)),$S=(e,t,n)=>{const r=e(t,n);return(e=>e.breakType===oE.Wrap&&0===e.positions.length)(r)||!Qr(n.getNode())&&(e=>e.breakType===oE.Br&&1===e.positions.length)(r)?!((e,t,n)=>n.breakAt.exists((n=>e(t,n).breakAt.isSome())))(e,t,r):r.breakAt.isNone()},KS=O($S,hE),XS=O($S,pE),YS=(e,t,n,r)=>{const o=e.selection.getRng(),i=t?1:-1;return!(!cu()||!((e,t,n)=>{const r=Ma.fromRangeStart(t);return rd(!e,n).exists((e=>e.isEqual(r)))})(t,o,n)||(fx(i,e,n,!t,!1).each((t=>{OE(e,t)})),0))},JS=(e,t,n)=>{const r=((e,t)=>{const n=t.getNode(e);return Gr(n)?L.some(n):L.none()})(!!t,n),o=!1===t;r.fold((()=>OE(e,n.toRange())),(r=>rd(o,e.getBody()).filter((e=>e.isEqual(n))).fold((()=>OE(e,n.toRange())),(n=>((e,t,n)=>{t.undoManager.transact((()=>{const r=e?dr:ur,o=yS(t,vn(n),r);OE(t,o)}))})(t,e,r)))))},QS=(e,t,n,r)=>{const o=e.selection.getRng(),i=Ma.fromRangeStart(o),s=e.getBody();if(!t&&KS(r,i)){const r=((e,t,n)=>((e,t)=>ce(t.getClientRects()).bind((t=>WS(e,t.left,t.top))).bind((e=>{return dE(ad(n=e).map((e=>hE(n,e).positions.concat(e))).getOr([]),t);var n})))(t,n).orThunk((()=>ce(n.getClientRects()).bind((n=>uE(fE(e,Ma.before(t)),n.left))))).getOr(Ma.before(t)))(s,n,i);return JS(e,t,r),!0}if(t&&XS(r,i)){const r=((e,t,n)=>((e,t)=>ue(t.getClientRects()).bind((t=>ZS(e,t.left,t.top))).bind((e=>{return dE(sd(n=e).map((e=>[e].concat(pE(n,e).positions))).getOr([]),t);var n})))(t,n).orThunk((()=>ce(n.getClientRects()).bind((n=>uE(mE(e,Ma.after(t)),n.left))))).getOr(Ma.after(t)))(s,n,i);return JS(e,t,r),!0}return!1},eC=(e,t,n)=>L.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((r=>L.from(e.dom.getParent(r,"table")).map((o=>n(e,t,o,r))))).getOr(!1),tC=(e,t)=>eC(e,t,YS),nC=(e,t)=>eC(e,t,QS),rC=(e,t,n)=>n.fold(L.none,L.none,((e,t)=>{return(n=t,((e,t)=>{const n=e=>{for(let r=0;r<e.childNodes.length;r++){const o=vn(e.childNodes[r]);if(t(o))return L.some(o);const i=n(e.childNodes[r]);if(i.isSome())return i}return L.none()};return n(e.dom)})(n,ff)).map((e=>(e=>(e=>{const t=ep.getWin(e).dom,n=(e,n,r,o)=>Wh(t,e,n,r,o),r=(e=>e.match({domRange:e=>{const t=vn(e.startContainer),n=vn(e.endContainer);return rp(t,e.startOffset,n,e.endOffset)},relative:np,exact:rp}))(e);return((e,t)=>{const n=((e,t)=>t.match({domRange:e=>({ltr:T(e),rtl:L.none}),relative:(t,n)=>({ltr:Ie((()=>qh(e,t,n))),rtl:Ie((()=>L.some(qh(e,n,t))))}),exact:(t,n,r,o)=>({ltr:Ie((()=>Wh(e,t,n,r,o))),rtl:Ie((()=>L.some(Wh(e,r,o,t,n))))})}))(e,t);return((e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter((e=>!1===e.collapsed)).map((e=>Zh.rtl(vn(e.endContainer),e.endOffset,vn(e.startContainer),e.startOffset))).getOrThunk((()=>$h(0,Zh.ltr,n))):$h(0,Zh.ltr,n)})(0,n)})(t,r).match({ltr:n,rtl:n})})(ep.exact(e,0,e,0)))(e)));var n}),(n=>(e.execCommand("mceTableInsertRowAfter"),oC(e,t,n)))),oC=(e,t,n)=>{return rC(e,t,(o=Qn,GS(r=n,void 0).fold((()=>zS.none(r)),(e=>US(e.all,r,e.index,1,o)))));var r,o},iC=(e,t,n)=>{return rC(e,t,(o=Qn,GS(r=n,void 0).fold((()=>zS.none()),(e=>US(e.all,r,e.index,-1,o)))));var r,o},sC=(e,t)=>{const n=["table","li","dl"],r=vn(e.getBody()),o=e=>{const t=Vt(e);return xn(e,r)||U(n,t)},i=e.selection.getRng();return((e,t)=>((e,t,n=B)=>n(t)?L.none():U(e,Vt(t))?L.some(t):Xn(t,e.join(","),(e=>bn(e,"table")||n(e))))(["td","th"],e,t))(vn(t?i.endContainer:i.startContainer),o).map((n=>(jS(n,o).each((t=>{e.model.table.clearSelectedCells(t.dom)})),e.selection.collapse(!t),(t?oC:iC)(e,o,n).each((t=>{e.selection.setRng(t)})),!0))).getOr(!1)},aC=(e,t)=>({container:e,offset:t}),lC=Cs.DOM,cC=e=>t=>e===t?-1:0,uC=(e,t,n)=>{if(Zr(e)&&t>=0)return L.some(aC(e,t));{const r=ea(lC);return L.from(r.backwards(e,t,cC(e),n)).map((e=>aC(e.container,e.container.data.length)))}},dC=(e,t,n)=>{if(!Zr(e))return L.none();const r=e.data;if(t>=0&&t<=r.length)return L.some(aC(e,t));{const r=ea(lC);return L.from(r.backwards(e,t,cC(e),n)).bind((e=>{const r=e.container.data;return dC(e.container,t+r.length,n)}))}},hC=(e,t,n)=>{if(!Zr(e))return L.none();const r=e.data;if(t<=r.length)return L.some(aC(e,t));{const o=ea(lC);return L.from(o.forwards(e,t,cC(e),n)).bind((e=>hC(e.container,t-r.length,n)))}},pC=(e,t,n,r,o)=>{const i=ea(e,(e=>t=>e.isBlock(t)||U(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t))(e));return L.from(i.backwards(t,n,r,o))},fC=e=>Ro(e.toString().replace(/\u00A0/g," ")),mC=e=>""!==e&&-1!=="  \f\n\r\t\v".indexOf(e),gC=(e,t)=>e.substring(t.length),vC=(e,t,n,r=0)=>{return(o=vn(t.startContainer),Jn(o,mf)).fold((()=>((e,t,n,r=0)=>{if(!(o=t).collapsed||!Zr(o.startContainer))return L.none();var o;const i={text:"",offset:0},s=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return pC(e,t.startContainer,t.startOffset,((e,t,r)=>(i.text=r+i.text,i.offset+=t,((e,t,n)=>{let r;const o=n.charAt(0);for(r=t-1;r>=0;r--){const i=e.charAt(r);if(mC(i))return L.none();if(o===i&&je(e,n,r,t))break}return L.some(r)})(i.text,i.offset,n).getOr(t))),s).bind((e=>{const o=t.cloneRange();if(o.setStart(e.container,e.offset),o.setEnd(t.endContainer,t.endOffset),o.collapsed)return L.none();const i=fC(o);return 0!==i.lastIndexOf(n)||gC(i,n).length<r?L.none():L.some({text:gC(i,n),range:o,trigger:n})}))})(e,t,n,r)),(t=>{const r=e.createRng();r.selectNode(t.dom);const o=fC(r);return L.some({range:r,text:gC(o,n),trigger:n})}));var o},yC=e=>{if((e=>3===e.nodeType)(e))return aC(e,e.data.length);{const t=e.childNodes;return t.length>0?yC(t[t.length-1]):aC(e,t.length)}},bC=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?bC(n[t],0):n.length>0&&(e=>1===e.nodeType)(e)&&n.length===t?yC(n[n.length-1]):aC(e,t)},wC=(e,t,n,r={})=>{var o;const i=t(),s=null!==(o=e.selection.getRng().startContainer.nodeValue)&&void 0!==o?o:"",a=K(i.lookupByTrigger(n.trigger),(t=>n.text.length>=t.minChars&&t.matches.getOrThunk((()=>(e=>t=>{const n=bC(t.startContainer,t.startOffset);return!((e,t)=>{var n;const r=null!==(n=e.getParent(t.container,e.isBlock))&&void 0!==n?n:e.getRoot();return pC(e,t.container,t.offset,((e,t)=>0===t?-1:t),r).filter((e=>{const t=e.container.data.charAt(e.offset-1);return!mC(t)})).isSome()})(e,n)})(e.dom)))(n.range,s,n.text)));if(0===a.length)return L.none();const l=Promise.all(q(a,(e=>e.fetch(n.text,e.maxResults,r).then((t=>({matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}))))));return L.some({lookupData:l,context:n})};var xC;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(xC||(xC={}));const EC=(e,t,n)=>e.stype===xC.Error?t(e.serror):n(e.svalue),SC=e=>({stype:xC.Value,svalue:e}),CC=e=>({stype:xC.Error,serror:e}),AC=EC,_C=e=>f(e)&&pe(e).length>100?" removed due to size":JSON.stringify(e,null,2),kC=(e,t)=>CC([{path:e,getErrorInfo:t}]),TC=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let r=0;r<t.length;r++){const o=t[r];for(const t in o)Ce(o,t)&&(n[t]=e(n[t],o[t]))}return n},MC=TC(((e,t)=>m(e)&&m(t)?MC(e,t):t)),PC=(TC(((e,t)=>t)),e=>({tag:"defaultedThunk",process:T(e)})),OC=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},RC=e=>({extract:(t,n)=>{return o=e=>((e,t)=>kC(e,T(t)))(t,e),(r=e(n)).stype===xC.Error?o(r.serror):r;var r,o},toString:T("val")}),NC=RC(SC),DC=(e,t,n,r)=>r(Se(e,t).getOrThunk((()=>n(e)))),IC=(e,t,n,r,o)=>{const i=e=>o.extract(t.concat([r]),e),s=e=>e.fold((()=>SC(L.none())),(e=>{return n=o.extract(t.concat([r]),e),i=L.some,n.stype===xC.Value?{stype:xC.Value,svalue:i(n.svalue)}:n;var n,i}));switch(e.tag){case"required":return((e,t,n,r)=>Se(t,n).fold((()=>((e,t,n)=>kC(e,(()=>'Could not find valid *required* value for "'+t+'" in '+_C(n))))(e,n,t)),r))(t,n,r,i);case"defaultedThunk":return DC(n,r,e.process,i);case"option":return((e,t,n)=>n(Se(e,t)))(n,r,s);case"defaultedOptionThunk":return((e,t,n,r)=>r(Se(e,t).map((t=>!0===t?n(e):t))))(n,r,e.process,s);case"mergeWithThunk":return DC(n,r,T({}),(t=>{const r=MC(e.process(n),t);return i(r)}))}},BC=e=>({extract:(t,n)=>((e,t,n)=>{const r={},o=[];for(const i of n)OC(i,((n,i,s,a)=>{const l=IC(s,e,t,n,a);AC(l,(e=>{o.push(...e)}),(e=>{r[i]=e}))}),((e,n)=>{r[e]=n(t)}));return o.length>0?CC(o):SC(r)})(t,n,e),toString:()=>{const t=q(e,(e=>OC(e,((e,t,n,r)=>e+" -> "+r.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"}}),FC=e=>({extract:(t,n)=>{const r=q(n,((n,r)=>e.extract(t.concat(["["+r+"]"]),n)));return(e=>{const t=(e=>{const t=[],n=[];return W(e,(e=>{EC(e,(e=>n.push(e)),(e=>t.push(e)))})),{values:t,errors:n}})(e);return t.errors.length>0?(n=t.errors,_(CC,te)(n)):SC(t.values);var n})(r)},toString:()=>"array("+e.toString()+")"}),LC=(e,t)=>((e,t)=>({extract:(n,r)=>Se(r,e).fold((()=>((e,t)=>kC(e,(()=>'Choice schema did not contain choice key: "'+t+'"')))(n,e)),(e=>((e,t,n,r)=>Se(n,r).fold((()=>((e,t,n)=>kC(e,(()=>'The chosen schema: "'+n+'" did not exist in branches: '+_C(t))))(e,n,r)),(n=>n.extract(e.concat(["branch: "+r]),t))))(n,r,t,e))),toString:()=>"chooseOn("+e+"). Possible values: "+pe(t)}))(e,ge(t,BC)),HC=T(NC),zC=(e,t)=>RC((n=>{const r=typeof n;return e(n)?SC(n):CC(`Expected type: ${t} but got: ${r}`)})),VC=zC(S,"number"),jC=zC(p,"string"),UC=zC(y,"boolean"),GC=zC(E,"function"),qC=(e,t,n,r)=>({tag:"field",key:e,newKey:t,presence:n,prop:r}),WC=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),ZC=(e,t)=>qC(e,e,{tag:"required",process:{}},t),$C=e=>ZC(e,jC),KC=e=>ZC(e,GC),XC=(e,t)=>qC(e,e,{tag:"option",process:{}},t),YC=e=>XC(e,jC),JC=(e,t,n)=>qC(e,e,PC(t),n),QC=(e,t)=>JC(e,t,VC),eA=(e,t,n)=>JC(e,t,(e=>{return t=t=>U(e,t)?Qa.value(t):Qa.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`),RC((e=>t(e).fold(CC,SC)));var t})(n)),tA=(e,t)=>JC(e,t,UC),nA=(e,t)=>JC(e,t,GC),rA=$C("type"),oA=KC("fetch"),iA=KC("onAction"),sA=nA("onSetup",(()=>A)),aA=YC("text"),lA=YC("icon"),cA=YC("tooltip"),uA=YC("label"),dA=tA("active",!1),hA=tA("enabled",!0),pA=tA("primary",!1),fA=e=>((e,t)=>JC("type",t,jC))(0,e),mA=BC([rA,$C("trigger"),QC("minChars",1),((e,t)=>qC(e,e,PC(1),HC()))("columns"),QC("maxResults",10),XC("matches",GC),oA,iA,(gA=jC,JC("highlightOn",[],FC(gA)))]);var gA;const vA=[hA,cA,lA,aA,sA],yA=[dA].concat(vA),bA=[nA("predicate",B),eA("scope","node",["node","editor"]),eA("position","selection",["node","selection","line"])],wA=vA.concat([fA("contextformbutton"),pA,iA,WC("original",M)]),xA=yA.concat([fA("contextformbutton"),pA,iA,WC("original",M)]),EA=vA.concat([fA("contextformbutton")]),SA=yA.concat([fA("contextformtogglebutton")]),CA=LC("type",{contextformbutton:wA,contextformtogglebutton:xA});BC([fA("contextform"),nA("initValue",T("")),uA,((e,t)=>qC(e,e,{tag:"required",process:{}},FC(t)))("commands",CA),XC("launch",LC("type",{contextformbutton:EA,contextformtogglebutton:SA}))].concat(bA));const AA=e=>{const t=Ds(),n=ks(!1),r=t.isSet,o=()=>{r()&&((e=>{Yb(e).autocompleter.removeDecoration()})(e),(e=>{e.dispatch("AutocompleterEnd")})(e),n.set(!1),t.clear())},i=Ie((()=>(e=>{const t=e.ui.registry.getAll().popups,n=ge(t,(e=>{return(t=e,((e,t,n)=>{return r=((e,t,n)=>((e,t)=>e.stype===xC.Error?{stype:xC.Error,serror:(e=>({input:n,errors:e}))(e.serror)}:e)(t.extract([e],n)))(e,t,n),EC(r,Qa.error,Qa.value);var r})("Autocompleter",mA,{trigger:t.ch,...t})).fold((e=>{throw new Error("Errors: \n"+(e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:T("... (only showing first ten failures)")}]):e;return q(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))})((t=e).errors).join("\n")+"\n\nInput object: "+_C(t.input));var t}),M);var t})),r=_e(xe(n,(e=>e.trigger))),o=Ee(n);return{dataset:n,triggers:r,lookupByTrigger:e=>K(o,(t=>t.trigger===e))}})(e))),s=s=>{(n=>t.get().map((t=>vC(e.dom,e.selection.getRng(),t.trigger).bind((t=>wC(e,i,t,n))))).getOrThunk((()=>((e,t)=>{const n=t(),r=e.selection.getRng();return((e,t,n)=>he(n.triggers,(n=>vC(e,t,n))))(e.dom,r,n).bind((n=>wC(e,t,n)))})(e,i))))(s).fold(o,(i=>{(n=>{r()||(((e,t)=>{Yb(e).autocompleter.addDecoration(t)})(e,n.range),t.set({trigger:n.trigger,matchLength:n.text.length}))})(i.context),i.lookupData.then((r=>{t.get().map((s=>{const a=i.context;s.trigger===a.trigger&&(a.text.length-s.matchLength>=10?o():(t.set({...s,matchLength:a.text.length}),n.get()?((e,t)=>{e.dispatch("AutocompleterUpdate",t)})(e,{lookupData:r}):(n.set(!0),((e,t)=>{e.dispatch("AutocompleterStart",t)})(e,{lookupData:r}))))}))}))}))};e.addCommand("mceAutocompleterReload",((e,t)=>{const n=f(t)?t.fetchOptions:{};s(n)})),e.addCommand("mceAutocompleterClose",o),((e,t)=>{const n=Bs(t.load,50);e.on("keypress compositionend",(e=>{27!==e.which&&n.throttle()})),e.on("keydown",(e=>{const r=e.which;8===r?n.throttle():27===r&&t.cancelIfNecessary()})),e.on("remove",n.cancel)})(e,{cancelIfNecessary:o,load:s})},_A=e=>(t,n,r={})=>{const o=t.getBody(),i={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:o,currentTarget:o,eventPhase:Event.AT_TARGET,originalTarget:o,explicitOriginalTarget:o,isTrusted:!1,srcElement:o,cancelable:!1,preventDefault:A,inputType:n},s=as(new InputEvent(e));return t.dispatch(e,{...s,...i,...r})},kA=_A("input"),TA=_A("beforeinput"),MA=(e,t)=>{const n=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const e=(e=>{for(;e;){if(Lr(e)||Zr(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null})(t.firstChild);e&&/^(UL|OL|DL)$/.test(e.nodeName)&&t.insertBefore(n.doc.createTextNode(lo),t.firstChild)}const o=n.createRng();if(t.normalize(),t.hasChildNodes()){const e=new Ir(t,t);let n,i=t;for(;n=e.current();){if(Zr(n)){o.setStart(n,0),o.setEnd(n,0);break}if(r[n.nodeName.toLowerCase()]){o.setStartBefore(n),o.setEndBefore(n);break}i=n,n=e.next()}n||(o.setStart(i,0),o.setEnd(i,0))}else Qr(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));e.selection.setRng(o),Bp(e,o)},PA=(e,t)=>{const n=e.getRoot();let r,o=t;for(;o!==n&&o&&"false"!==e.getContentEditable(o);)"true"===e.getContentEditable(o)&&(r=o),o=o.parentNode;return o!==n?r:n},OA=e=>L.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),RA=(e,t)=>{const n=null==e?void 0:e.parentNode;return x(n)&&n.nodeName===t},NA=e=>x(e)&&/^(OL|UL|LI)$/.test(e.nodeName),DA=e=>{const t=e.parentNode;return x(n=t)&&/^(LI|DT|DD)$/.test(n.nodeName)?t:e;var n},IA=(e,t,n)=>{let r=e[n?"firstChild":"lastChild"];for(;r&&!Lr(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},BA=(e,t)=>t&&"A"===t.nodeName&&e.isEmpty(t),FA=e=>{e.innerHTML='<br data-mce-bogus="1">'},LA=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,HA=(e,t)=>x(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&"false"!==e.getContentEditable(t),zA=(e,t,n)=>Zr(t)?e?1===n&&t.data.charAt(n-1)===Po?0:n:n===t.data.length-1&&t.data.charAt(n)===Po?t.data.length:n:n,VA=(e,t)=>{xl(e).toLowerCase()===t.tagName.toLowerCase()&&((e,t,n)=>{const r=e.dom;L.from(n.style).map(r.parseStyle).each((e=>{const n={...lr(vn(t)),...e};r.setStyles(t,n)}));const o=L.from(n.class).map((e=>e.split(/\s+/))),i=L.from(t.className).map((e=>K(e.split(/\s+/),(e=>""!==e))));Bt(o,i,((e,n)=>{const o=K(n,(t=>!U(e,t))),i=[...e,...o];r.setAttrib(t,"class",i.join(" "))}));const s=["style","class"],a=we(n,((e,t)=>!U(s,t)));r.setAttribs(t,a)})(e,t,El(e))},jA={insert:(e,t)=>{let n,r,o,i,s=!1;const a=e.dom,l=e.schema,c=l.getNonEmptyElements(),u=e.selection.getRng(),d=xl(e),h=t=>{let r=n;const i=l.getTextInlineElements();let s;s=t||"TABLE"===o||"HR"===o?a.create(t||d):b.cloneNode(!1);let c=s;if(!1===_l(e))a.setAttrib(s,"style",null),a.setAttrib(s,"class",null);else do{if(i[r.nodeName]){if(cd(r)||Ed(r))continue;const e=r.cloneNode(!1);a.setAttrib(e,"id",""),s.hasChildNodes()?(e.appendChild(s.firstChild),s.appendChild(e)):(c=e,s.appendChild(e))}}while((r=r.parentNode)&&r!==y);return VA(e,s),FA(c),s},f=e=>{const t=zA(e,n,r);if(Zr(n)&&(e?t>0:t<n.data.length))return!1;if(n.parentNode===b&&s&&!e)return!0;if(e&&Lr(n)&&n===b.firstChild)return!0;if(LA(n,"TABLE")||LA(n,"HR"))return s&&!e||!s&&e;const o=new Ir(n,b);let i;for(Zr(n)&&(e&&0===t?o.prev():e||t!==n.data.length||o.next());i=o.current();){if(Lr(i)){if(!i.getAttribute("data-mce-bogus")){const e=i.nodeName.toLowerCase();if(c[e]&&"br"!==e)return!1}}else if(Zr(i)&&!ri(i.data))return!1;e?o.prev():o.next()}return!0},m=()=>{let t;return t=/^(H[1-6]|PRE|FIGURE)$/.test(o)&&"HGROUP"!==E?h(d):h(),((e,t)=>{const n=kl(e);return!w(t)&&(p(n)?U(Dt.explode(n),t.nodeName.toLowerCase()):n)})(e,i)&&HA(a,i)&&a.isEmpty(b)?t=a.split(i,b):a.insertAfter(t,b),MA(e,t),t};pp(a,u).each((e=>{u.setStart(e.startContainer,e.startOffset),u.setEnd(e.endContainer,e.endOffset)})),n=u.startContainer,r=u.startOffset;const g=!(!t||!t.shiftKey),v=!(!t||!t.ctrlKey);Lr(n)&&n.hasChildNodes()&&(s=r>n.childNodes.length-1,n=n.childNodes[Math.min(r,n.childNodes.length-1)]||n,r=s&&Zr(n)?n.data.length:0);const y=PA(a,n);if(!y||((e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return null!==n&&"false"===e.dom.getContentEditableParent(n)})(e,n))return;g||(n=((e,t,n,r,o)=>{var i,s;const a=e.dom,l=null!==(i=PA(a,r))&&void 0!==i?i:a.getRoot();let c=a.getParent(r,a.isBlock);if(!c||!HA(a,c)){if(c=c||l,!c.hasChildNodes()){const r=a.create(t);return VA(e,r),c.appendChild(r),n.setStart(r,0),n.setEnd(r,0),r}let i,u=r;for(;u&&u.parentNode!==c;)u=u.parentNode;for(;u&&!a.isBlock(u);)i=u,u=u.previousSibling;const d=null===(s=null==i?void 0:i.parentElement)||void 0===s?void 0:s.nodeName;if(i&&d&&e.schema.isValidChild(d,t.toLowerCase())){const s=i.parentNode,l=a.create(t);for(VA(e,l),s.insertBefore(l,i),u=i;u&&!a.isBlock(u);){const e=u.nextSibling;l.appendChild(u),u=e}n.setStart(r,o),n.setEnd(r,o)}}return r})(e,d,u,n,r));let b=a.getParent(n,a.isBlock)||a.getRoot();i=x(null==b?void 0:b.parentNode)?a.getParent(b.parentNode,a.isBlock):null,o=b?b.nodeName.toUpperCase():"";const E=i?i.nodeName.toUpperCase():"";if("LI"!==E||v||(b=i,i=i.parentNode,o=E),/^(LI|DT|DD)$/.test(o)&&Lr(i)&&a.isEmpty(b))return void((e,t,n,r,o)=>{const i=e.dom,s=e.selection.getRng(),a=n.parentNode;if(n===e.getBody()||!a)return;var l;NA(l=n)&&NA(l.parentNode)&&(o="LI");let c=t(o);if(IA(n,r,!0)&&IA(n,r,!1))if(RA(n,"LI")){const e=DA(n);i.insertAfter(c,e),(e=>{var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e})(n)?i.remove(e):i.remove(n)}else i.replace(c,n);else if(IA(n,r,!0))RA(n,"LI")?(i.insertAfter(c,DA(n)),c.appendChild(i.doc.createTextNode(" ")),c.appendChild(n)):a.insertBefore(c,n),i.remove(r);else if(IA(n,r,!1))i.insertAfter(c,DA(n)),i.remove(r);else{n=DA(n);const e=s.cloneRange();e.setStartAfter(r),e.setEndAfter(n);const t=e.extractContents();"LI"===o&&((e,t)=>e.firstChild&&"LI"===e.firstChild.nodeName)(t)?(c=t.firstChild,i.insertAfter(t,n)):(i.insertAfter(t,n),i.insertAfter(c,n)),i.remove(r)}MA(e,c)})(e,h,i,b,d);if(b===e.getBody()||!HA(a,b))return;const S=b.parentNode;let C;if(Io(b))C=Uo(b),a.isEmpty(b)&&FA(b),VA(e,C),MA(e,C);else if(f(!1))C=m();else if(f(!0)&&S)C=S.insertBefore(h(),b),MA(e,LA(b,"HR")?C:b);else{const t=(e=>{const t=e.cloneRange();return t.setStart(e.startContainer,zA(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,zA(!1,e.endContainer,e.endOffset)),t})(u).cloneRange();t.setEndAfter(b);const n=t.extractContents();(e=>{W(Rr(vn(e),qt),(e=>{const t=e.dom;t.nodeValue=Ro(t.data)}))})(n),(e=>{let t=e;do{Zr(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)})(n),C=n.firstChild,a.insertAfter(n,b),((e,t,n)=>{var r;const o=[];if(!n)return;let i=n;for(;i=i.firstChild;){if(e.isBlock(i))return;Lr(i)&&!t[i.nodeName.toLowerCase()]&&o.push(i)}let s=o.length;for(;s--;)i=o[s],(!i.hasChildNodes()||i.firstChild===i.lastChild&&""===(null===(r=i.firstChild)||void 0===r?void 0:r.nodeValue)||BA(e,i))&&e.remove(i)})(a,c,C),((e,t)=>{t.normalize();const n=t.lastChild;(!n||Lr(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")})(a,b),a.isEmpty(b)&&FA(b),C.normalize(),a.isEmpty(C)?(a.remove(C),m()):(VA(e,C),MA(e,C))}a.setAttrib(C,"id",""),e.dispatch("NewBlock",{newBlock:C})},fakeEventName:"insertParagraph"},UA=(e,t,n)=>{const r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),Bp(e,r)},GA=(e,t)=>{const n=mn("br");ur(vn(t),n),e.undoManager.add()},qA=(e,t)=>{WA(e.getBody(),t)||dr(vn(t),mn("br"));const n=mn("br");dr(vn(t),n),UA(e,n.dom,!1),e.undoManager.add()},WA=(e,t)=>{return n=Ma.after(t),!!Qr(n.getNode())||od(e,Ma.after(t)).map((e=>Qr(e.getNode()))).getOr(!1);var n},ZA=e=>e&&"A"===e.nodeName&&"href"in e,$A=e=>e.fold(B,ZA,ZA,B),KA=(e,t)=>{t.fold(A,O(GA,e),O(qA,e),A)},XA={insert:(e,t)=>{const n=(e=>{const t=O(Fm,e),n=Ma.fromRangeStart(e.selection.getRng());return Kx(t,e.getBody(),n).filter($A)})(e);n.isSome()?n.each(O(KA,e)):((e,t)=>{const n=e.selection,r=e.dom,o=n.getRng();let i,s=!1;pp(r,o).each((e=>{o.setStart(e.startContainer,e.startOffset),o.setEnd(e.endContainer,e.endOffset)}));let a=o.startOffset,l=o.startContainer;if(Lr(l)&&l.hasChildNodes()){const e=a>l.childNodes.length-1;l=l.childNodes[Math.min(a,l.childNodes.length-1)]||l,a=e&&Zr(l)?l.data.length:0}let c=r.getParent(l,r.isBlock);const u=c&&c.parentNode?r.getParent(c.parentNode,r.isBlock):null,d=u?u.nodeName.toUpperCase():"",h=!(!t||!t.ctrlKey);"LI"!==d||h||(c=u),Zr(l)&&a>=l.data.length&&(((e,t,n)=>{const r=new Ir(t,n);let o;const i=e.getNonEmptyElements();for(;o=r.next();)if(i[o.nodeName.toLowerCase()]||Zr(o)&&o.length>0)return!0;return!1})(e.schema,l,c||r.getRoot())||(i=r.create("br"),o.insertNode(i),o.setStartAfter(i),o.setEndAfter(i),s=!0)),i=r.create("br"),Oa(r,o,i),UA(e,i,s),e.undoManager.add()})(e,t)},fakeEventName:"insertLineBreak"},YA=(e,t)=>OA(e).filter((e=>t.length>0&&bn(vn(e),t))).isSome(),JA=el([{br:[]},{block:[]},{none:[]}]),QA=(e,t)=>(e=>YA(e,Al(e)))(e),e_=e=>(t,n)=>(e=>OA(e).filter((e=>xo(vn(e)))).isSome())(t)===e,t_=(e,t)=>(n,r)=>{const o=(e=>OA(e).fold(T(""),(e=>e.nodeName.toUpperCase())))(n)===e.toUpperCase();return o===t},n_=e=>{const t=PA(e.dom,e.selection.getStart());return w(t)},r_=e=>t_("pre",e),o_=e=>(t,n)=>wl(t)===e,i_=(e,t)=>(e=>YA(e,Cl(e)))(e),s_=(e,t)=>t,a_=e=>{const t=xl(e),n=PA(e.dom,e.selection.getStart());return x(n)&&e.schema.isValidChild(n.nodeName,t)},l_=(e,t)=>(n,r)=>Y(e,((e,t)=>e&&t(n,r)),!0)?L.some(t):L.none(),c_=(e,t,n)=>{t.selection.isCollapsed()||(e=>{e.execCommand("delete")})(t),x(n)&&TA(t,e.fakeEventName).isDefaultPrevented()||(e.insert(t,n),x(n)&&kA(t,e.fakeEventName))},u_=(e,t)=>{const n=()=>c_(XA,e,t),r=()=>c_(jA,e,t),o=((e,t)=>Hx([l_([QA],JA.none()),l_([r_(!0),n_],JA.none()),l_([t_("summary",!0)],JA.br()),l_([r_(!0),o_(!1),s_],JA.br()),l_([r_(!0),o_(!1)],JA.block()),l_([r_(!0),o_(!0),s_],JA.block()),l_([r_(!0),o_(!0)],JA.br()),l_([e_(!0),s_],JA.br()),l_([e_(!0)],JA.block()),l_([i_],JA.br()),l_([s_],JA.br()),l_([a_],JA.block())],[e,!(!t||!t.shiftKey)]).getOr(JA.none()))(e,t);switch(Sl(e)){case"linebreak":o.fold(n,n,A);break;case"block":o.fold(r,r,A);break;case"invert":o.fold(r,n,A);break;default:o.fold(n,r,A)}},d_=St(),h_=e=>e.stopImmediatePropagation(),p_=e=>e.keyCode===Hh.PAGE_UP||e.keyCode===Hh.PAGE_DOWN,f_=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",h_,!0):!n&&e.get()&&t.off("NodeChange",h_),e.set(n)},m_=(e,t)=>{const n=t.container(),r=t.offset();return Zr(n)?(n.insertData(r,e),L.some(Ma(n,r+e.length))):Bu(t).map((n=>{const r=gn(e);return t.isAtEnd()?dr(n,r):ur(n,r),Ma(r.dom,e.length)}))},g_=O(m_,lo),v_=O(m_," "),y_=e=>{const t=Ma.fromRangeStart(e.selection.getRng()),n=vn(e.getBody());if(e.selection.isCollapsed()){const r=O(Fm,e),o=Ma.fromRangeStart(e.selection.getRng());return Kx(r,e.getBody(),o).bind((e=>t=>t.fold((t=>id(e.dom,Ma.before(t))),(e=>sd(e)),(e=>ad(e)),(t=>od(e.dom,Ma.after(t)))))(n)).map((r=>()=>((e,t)=>n=>((e,t)=>!gm(t)&&(((e,t)=>((e,t)=>id(e.dom,t).isNone())(e,t)||((e,t)=>od(e.dom,t).isNone())(e,t)||nm(e,t)||rm(e,t)||cm(e,t)||lm(e,t))(e,t)||fm(e,t)||mm(e,t)))(e,n)?g_(t):v_(t))(n,t)(r).each((e=>t=>(e.selection.setRng(t.toRange()),e.nodeChanged(),!0))(e))))}return L.none()},b_=e=>Yc(e)?[{keyCode:Hh.TAB,action:NS(sC,e,!0)},{keyCode:Hh.TAB,shiftKey:!0,action:NS(sC,e,!1)}]:[],w_=e=>{if(e.addShortcut("Meta+P","","mcePrint"),AA(e),Kb(e))return ks(null);{const t=(e=>{const t=ks(null),n=O(Fm,e);return e.on("NodeChange",(r=>{rc(e)&&(((e,t,n)=>{const r=q(Nr(vn(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(e=>e.dom)),o=K(r,e),i=K(n,e);W(ie(o,i),O(LE,!1)),W(ie(i,o),O(LE,!0))})(n,e.dom,r.parents),((e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const r=Ma.fromRangeStart(e.selection.getRng());Ma.isTextPosition(r)&&!(e=>Ho(e)||zo(e))(r)&&(FE(e,((e,t)=>Ma.isTextPosition(t)?((e,t)=>Qc(e)&&t.container()===e?((e,t)=>{const n=tu(e.data.substr(0,t.offset())),r=tu(e.data.substr(t.offset()));return(n.text+r.text).length>0?(nu(e),Ma(e,t.offset()-n.count)):t})(e,t):ru(e,t))(e,t):((e,t)=>t.container()===e.parentNode?((e,t)=>{const n=t.container(),r=((e,t)=>{const n=j(e,t);return-1===n?L.none():L.some(n)})(de(n.childNodes),e).map((e=>e<t.offset()?Ma(n,t.offset()-1):t)).getOr(t);return ou(e),r})(e,t):ru(e,t))(e,t))(n,r)),t.set(null))}})(e,t),((e,t,n,r)=>{if(t.selection.isCollapsed()){const o=K(r,e);W(o,(r=>{const o=Ma.fromRangeStart(t.selection.getRng());Kx(e,t.getBody(),o).bind((e=>HE(t,n,e)))}))}})(n,e,t,r.parents))})),t})(e);return(e=>{e.on("keyup compositionstart",O(ES,e))})(e),((e,t)=>{e.on("keydown",(n=>{n.isDefaultPrevented()||((e,t,n)=>{const r=Pt.os.isMacOS()||Pt.os.isiOS();DS([{keyCode:Hh.RIGHT,action:NS(AS,e,!0)},{keyCode:Hh.LEFT,action:NS(AS,e,!1)},{keyCode:Hh.UP,action:NS(_S,e,!1)},{keyCode:Hh.DOWN,action:NS(_S,e,!0)},...r?[{keyCode:Hh.UP,action:NS(TS,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Hh.DOWN,action:NS(TS,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Hh.RIGHT,action:NS(tC,e,!0)},{keyCode:Hh.LEFT,action:NS(tC,e,!1)},{keyCode:Hh.UP,action:NS(nC,e,!1)},{keyCode:Hh.DOWN,action:NS(nC,e,!0)},{keyCode:Hh.RIGHT,action:NS(BS,e,!0)},{keyCode:Hh.LEFT,action:NS(BS,e,!1)},{keyCode:Hh.UP,action:NS(FS,e,!1)},{keyCode:Hh.DOWN,action:NS(FS,e,!0)},{keyCode:Hh.RIGHT,action:NS(zE,e,t,!0)},{keyCode:Hh.LEFT,action:NS(zE,e,t,!1)},{keyCode:Hh.RIGHT,ctrlKey:!r,altKey:r,action:NS(jE,e,t)},{keyCode:Hh.LEFT,ctrlKey:!r,altKey:r,action:NS(UE,e,t)},{keyCode:Hh.UP,action:NS(PS,e,!1)},{keyCode:Hh.DOWN,action:NS(PS,e,!0)}],n).each((e=>{n.preventDefault()}))})(e,t,n)}))})(e,t),((e,t)=>{let n=!1;e.on("keydown",(r=>{n=r.keyCode===Hh.BACKSPACE,r.isDefaultPrevented()||((e,t,n)=>{const r=n.keyCode===Hh.BACKSPACE?"deleteContentBackward":"deleteContentForward";IS([{keyCode:Hh.BACKSPACE,action:NS(uS,e)},{keyCode:Hh.BACKSPACE,action:NS(kx,e,!1)},{keyCode:Hh.DELETE,action:NS(kx,e,!0)},{keyCode:Hh.BACKSPACE,action:NS(wx,e,!1)},{keyCode:Hh.DELETE,action:NS(wx,e,!0)},{keyCode:Hh.BACKSPACE,action:NS(ZE,e,t,!1)},{keyCode:Hh.DELETE,action:NS(ZE,e,t,!0)},{keyCode:Hh.BACKSPACE,action:NS(vg,e,!1)},{keyCode:Hh.DELETE,action:NS(vg,e,!0)},{keyCode:Hh.BACKSPACE,action:NS(Tx,e,!1)},{keyCode:Hh.DELETE,action:NS(Tx,e,!0)},{keyCode:Hh.BACKSPACE,action:NS(nS,e,!1)},{keyCode:Hh.DELETE,action:NS(nS,e,!0)},{keyCode:Hh.BACKSPACE,action:NS(px,e,!1)},{keyCode:Hh.DELETE,action:NS(px,e,!0)},{keyCode:Hh.BACKSPACE,action:NS(dx,e,!1)},{keyCode:Hh.DELETE,action:NS(dx,e,!0)},{keyCode:Hh.BACKSPACE,action:NS(QE,e,!1)},{keyCode:Hh.DELETE,action:NS(QE,e,!0)}],n).filter((t=>e.selection.isEditable())).each((t=>{n.preventDefault(),TA(e,r).isDefaultPrevented()||(t(),kA(e,r))}))})(e,t,r)})),e.on("keyup",(t=>{t.isDefaultPrevented()||((e,t,n)=>{const r=St(),o=r.os,i=r.browser,s=o.isMacOS()?[{keyCode:Hh.BACKSPACE,altKey:!0,action:NS(eS,e)},{keyCode:Hh.DELETE,altKey:!0,action:NS(eS,e)}]:[{keyCode:Hh.BACKSPACE,ctrlKey:!0,action:NS(eS,e)},{keyCode:Hh.DELETE,ctrlKey:!0,action:NS(eS,e)}];o.isMacOS()&&n&&s.push({keyCode:i.isFirefox()?224:91,action:NS(eS,e)}),DS([{keyCode:Hh.BACKSPACE,action:NS(_x,e)},{keyCode:Hh.DELETE,action:NS(_x,e)},...s],t)})(e,t,n),n=!1}))})(e,t),(e=>{e.on("keydown",(t=>{t.keyCode===Hh.ENTER&&((e,t)=>{var n;t.isDefaultPrevented()||(t.preventDefault(),(n=e.undoManager).typing&&(n.typing=!1,n.add()),e.undoManager.transact((()=>{u_(e,t)})))})(e,t)}))})(e),(e=>{e.on("keydown",(t=>{t.isDefaultPrevented()||((e,t)=>{IS([{keyCode:Hh.SPACEBAR,action:NS(y_,e)}],t).each((n=>{t.preventDefault(),TA(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),kA(e,"insertText",{data:" "}))}))})(e,t)}))})(e),(e=>{e.on("input",(t=>{t.isComposing||(e=>{const t=vn(e.getBody());e.selection.isCollapsed()&&((e,t)=>{const n=t.container();if(!Zr(n))return L.none();if((e=>{const t=e.container();return Zr(t)&&je(t.data,lo)})(t)){const r=Sm(e,n,!1)||(e=>{const t=e.data,n=(e=>{const t=e.split("");return q(t,((e,n)=>Sd(e)&&n>0&&n<t.length-1&&Ad(t[n-1])&&Ad(t[n+1])?" ":e)).join("")})(t);return n!==t&&(e.data=n,!0)})(n)||Cm(e,n,!1);return Ft(r,t)}if(wm(e,t)){const r=Sm(e,n,!0)||Cm(e,n,!0);return Ft(r,t)}return L.none()})(t,Ma.fromRangeStart(e.selection.getRng())).each((t=>{e.selection.setRng(t.toRange())}))})(e)}))})(e),(e=>{e.on("keydown",(t=>{t.isDefaultPrevented()||((e,t)=>{DS([...b_(e)],t).each((e=>{t.preventDefault()}))})(e,t)}))})(e),((e,t)=>{e.on("keydown",(n=>{n.isDefaultPrevented()||((e,t,n)=>{const r=Pt.os.isMacOS()||Pt.os.isiOS();DS([{keyCode:Hh.END,action:NS(kS,e,!0)},{keyCode:Hh.HOME,action:NS(kS,e,!1)},...r?[]:[{keyCode:Hh.HOME,action:NS(TS,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Hh.END,action:NS(TS,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Hh.END,action:NS(LS,e,!0)},{keyCode:Hh.HOME,action:NS(LS,e,!1)},{keyCode:Hh.END,action:NS(GE,e,!0,t)},{keyCode:Hh.HOME,action:NS(GE,e,!1,t)}],n).each((e=>{n.preventDefault()}))})(e,t,n)}))})(e,t),((e,t)=>{if(d_.os.isMacOS())return;const n=ks(!1);e.on("keydown",(t=>{p_(t)&&f_(n,e,!0)})),e.on("keyup",(r=>{r.isDefaultPrevented()||((e,t,n)=>{DS([{keyCode:Hh.PAGE_UP,action:NS(GE,e,!1,t)},{keyCode:Hh.PAGE_DOWN,action:NS(GE,e,!0,t)}],n)})(e,t,r),p_(r)&&n.get()&&(f_(n,e,!1),e.nodeChanged())}))})(e,t),t}};class x_{constructor(e){let t;this.lastPath=[],this.editor=e;const n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(n=>{const r=e.selection.getRng(),o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};"nodechange"!==n.type&&sp(o,t)||e.dispatch("SelectionChange"),t=o})),e.on("contextmenu",(()=>{e.dispatch("SelectionChange")})),e.on("SelectionChange",(()=>{const t=e.selection.getStart(!0);t&&Vd(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("mouseup",(t=>{!t.isDefaultPrevented()&&Vd(e)&&("IMG"===e.selection.getNode().nodeName?Kp.setEditorTimeout(e,(()=>{e.nodeChanged()})):e.nodeChanged())}))}nodeChanged(e={}){const t=this.editor.selection;let n;if(this.editor.initialized&&t&&!mc(this.editor)&&!this.editor.mode.isReadOnly()){const r=this.editor.getBody();n=t.getStart(!0)||r,n.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(n,r)||(n=r);const o=[];this.editor.dom.getParent(n,(e=>e===r||(o.push(e),!1))),this.editor.dispatch("NodeChange",{...e,element:n,parents:o})}}isSameElementPath(e){let t;const n=this.editor,r=oe(n.dom.getParents(e,F,n.getBody()));if(r.length===this.lastPath.length){for(t=r.length;t>=0&&r[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=r,!0}return this.lastPath=r,!1}}const E_=T("x-tinymce/html"),S_="\x3c!-- x-tinymce/html --\x3e",C_=e=>S_+e,A_=e=>-1!==e.indexOf(S_),__="%MCEPASTEBIN%",k_=e=>e.dom.get("mcepastebin"),T_=e=>x(e)&&"mcepastebin"===e.id,M_=e=>e===__,P_=(e,t)=>(Dt.each(t,(t=>{e=h(t,RegExp)?e.replace(t,""):e.replace(t[0],t[1])})),e),O_=e=>P_(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(e,t,n)=>t||n?lo:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),R_=(e,t)=>({content:e,cancelled:t}),N_=(e,t)=>(e.insertContent(t,{merge:Fc(e),paste:!0}),!0),D_=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),I_=(e,t,n)=>!(e.selection.isCollapsed()||!D_(t))&&((e,t,n)=>(e.undoManager.extra((()=>{n(e,t)}),(()=>{e.execCommand("mceInsertLink",!1,t)})),!0))(e,t,n),B_=(e,t,n)=>!!((e,t)=>D_(t)&&G(Xc(e),(e=>Ge(t.toLowerCase(),`.${e.toLowerCase()}`))))(e,t)&&((e,t,n)=>(e.undoManager.extra((()=>{n(e,t)}),(()=>{e.insertContent('<img src="'+t+'">')})),!0))(e,t,n),F_=(e=>{let t=0;return()=>"mceclip"+t++})(),L_=(e,t,n,r)=>{const o=((e,t,n)=>((e,t,n)=>{const r=((e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}))(e,t,n),o=((e,t)=>{const n=wb({sanitize:Kc(e)},e.schema);n.addNodeFilter("meta",(e=>{Dt.each(e,(e=>{e.remove()}))}));const r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Pf({validate:!0},e.schema).serialize(r)})(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?((e,t,n)=>{const r=e.dom.create("div",{style:"display:none"},t),o=((e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}))(e,r,n);return R_(o.node.innerHTML,o.isDefaultPrevented())})(e,o,n):R_(o,r.isDefaultPrevented())})(e,t,n))(e,t,n);o.cancelled||((e,t,n)=>{n||!Lc(e)?N_(e,t):((e,t)=>{Dt.each([I_,B_,N_],(n=>!n(e,t,N_)))})(e,t)})(e,o.content,r)},H_=(e,t,n)=>{const r=n||A_(t);L_(e,(e=>e.replace(S_,""))(t),r,!1)},z_=(e,t)=>{const n=e.dom.encode(t).replace(/\r\n/g,"\n"),r=((e,t,n)=>{const r=e.split(/\n\n/),o=((e,t)=>{let n="<"+e;const r=xe(t,((e,t)=>t+'="'+qi.encodeAllRaw(e)+'"'));return r.length&&(n+=" "+r.join(" ")),n+">"})(t,n),i="</"+t+">",s=q(r,(e=>e.split(/\n/).join("<br />")));return 1===s.length?s[0]:q(s,(e=>o+e+i)).join("")})(ii(n,zc(e)),xl(e),El(e));L_(e,r,!1,!0)},V_=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const r=e.types[n];try{t[r]=e.getData(r)}catch(e){t[r]=""}}return t},j_=(e,t)=>t in e&&e[t].length>0,U_=e=>j_(e,"text/html")||j_(e,"text/plain"),G_=(e,t,n)=>{const r="paste"===t.type?t.clipboardData:t.dataTransfer;var o;if(Rc(e)&&r){const i=((e,t)=>{const n=t.items?ne(de(t.items),(e=>"file"===e.kind?[e.getAsFile()]:[])):[],r=t.files?de(t.files):[];return K(n.length>0?n:r,(e=>{const t=Xc(e);return e=>Ue(e.type,"image/")&&G(t,(t=>(e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Dt.hasOwn(n,t)?"image/"+n[t]:"image/"+t})(t)===e.type))})(e))})(e,r);if(i.length>0)return t.preventDefault(),(o=i,Promise.all(q(o,(e=>ey(e).then((t=>({file:e,uri:t}))))))).then((t=>{n&&e.selection.setRng(n),W(t,(t=>{((e,t)=>{Jv(t.uri).each((({data:n,type:r,base64Encoded:o})=>{const i=o?n:btoa(n),s=t.file,a=e.editorUpload.blobCache,l=a.getByData(i,r),c=null!=l?l:((e,t,n,r)=>{const o=F_(),i=Ml(e)&&x(n.name),s=i?((e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return x(n)?e.dom.encode(n[1]):void 0})(e,n.name):o,a=i?n.name:void 0,l=t.create(o,n,r,s,a);return t.add(l),l})(e,a,s,i);H_(e,`<img src="${c.blobUri()}">`,!1)}))})(e,t)}))})),!0}return!1},q_=(e,t,n,r)=>{let o=O_(n);const i=j_(t,E_())||A_(n),s=!i&&(e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e))(o),a=D_(o);(M_(o)||!o.length||s&&!a)&&(r=!0),(r||a)&&(o=j_(t,"text/plain")&&s?t["text/plain"]:(e=>{const t=os(),n=wb({},t);let r="";const o=t.getVoidElements(),i=Dt.makeMap("script noscript style textarea video audio iframe object"," "),s=t.getBlockElements(),a=e=>{const n=e.name,l=e;if("br"!==n){if("wbr"!==n)if(o[n]&&(r+=" "),i[n])r+=" ";else{if(3===e.type&&(r+=e.value),!(e.name in t.getVoidElements())){let t=e.firstChild;if(t)do{a(t)}while(t=t.next)}s[n]&&l.next&&(r+="\n","p"===n&&(r+="\n"))}}else r+="\n"};return e=P_(e,[/<!\[[^\]]+\]>/g]),a(n.parse(e)),r})(o)),M_(o)||(r?z_(e,o):H_(e,o,i))},W_=(e,t,n,r)=>{((e,t,n)=>{if(!e)return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(E_(),t),!0}catch(e){return!1}})(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},Z_=e=>(t,n)=>{const{dom:r,selection:o}=e,i=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),s=r.create("div",{contenteditable:"true"},t);r.setStyles(i,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),i.appendChild(s),r.add(e.getBody(),i);const a=o.getRng();s.focus();const l=r.createRng();l.selectNodeContents(s),o.setRng(l),Kp.setEditorTimeout(e,(()=>{o.setRng(a),r.remove(i),n()}),0)},$_=e=>({html:C_(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),K_=e=>!e.selection.isCollapsed()||(e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()))(e),X_=(e,t)=>{var n,r;return gp.getCaretRangeFromPoint(null!==(n=t.clientX)&&void 0!==n?n:0,null!==(r=t.clientY)&&void 0!==r?r:0,e.getDoc())},Y_=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},J_=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,Q_=e=>Dt.trim(e).replace(J_,Rd).toLowerCase(),ek=(e,t,n)=>{const r=Ic(e);if(n||"all"===r||!Bc(e))return t;const o=r?r.split(/[, ]/):[];if(o&&"none"!==r){const n=e.dom,r=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,((e,t,i,s)=>{const a=n.parseStyle(n.decode(i)),l={};for(let e=0;e<o.length;e++){const t=a[o[e]];let i=t,s=n.getStyle(r,o[e],!0);/color/.test(o[e])&&(i=Q_(i),s=Q_(s)),s!==i&&(l[o[e]]=t)}const c=n.serializeStyle(l,"span");return c?t+' style="'+c+'"'+s:t+s}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,((e,t,n,r)=>t+' style="'+n+'"'+r)),t},tk=Qr,nk=Zr,rk=e=>no(e.dom),ok=e=>t=>xn(vn(e),t),ik=(e,t)=>Kn(vn(e),rk,ok(t)),sk=(e,t,n)=>{const r=new Ir(e,t),o=n?r.next.bind(r):r.prev.bind(r);let i=e;for(let t=n?e:o();t&&!tk(t);t=o())Qo(t)&&(i=t);return i};var ak;!function(e){e.Before="before",e.After="after"}(ak||(ak={}));const lk=(e,t)=>Math.abs(e.left-t),ck=(e,t)=>Math.abs(e.right-t),uk=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),dk=(e,t,n)=>{const r=e=>Qo(e.node)?L.some(e):Lr(e.node)?dk(de(e.node.childNodes),t,n):L.none(),o=(e,o)=>{const i=ae(e,((e,r)=>o(e,t,n)-o(r,t,n)));return((e,o)=>{if(e.length>=2){const i=r(e[0]).getOr(e[0]),s=r(e[1]).getOr(e[1]);if(Math.abs(o(i,t,n)-o(s,t,n))<2){if(Zr(i.node))return L.some(i);if(Zr(s.node))return L.some(s)}}return L.none()})(i,o).orThunk((()=>he(i,r)))},[i,s]=((e,t)=>(e=>Y(e,((e,t)=>e.fold((()=>L.some(t)),(e=>{const n=Math.min(t.left,e.left),r=Math.min(t.top,e.top),o=Math.max(t.right,e.right),i=Math.max(t.bottom,e.bottom);return L.some({top:r,right:o,bottom:i,left:n,width:o-n,height:i-r})}))),L.none()))(K(e,(e=>{return(n=t)>=(r=e).top&&n<=r.bottom;var n,r}))).fold((()=>[[],e]),(t=>{const{pass:n,fail:r}=$(e,(e=>((e,t)=>{const n=((e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)))(e,t)/Math.min(e.height,t.height);return((e,t)=>e.top<t.bottom&&e.bottom>t.top)(e,t)&&n>.5})(e,t)));return[n,r]})))(SE(e),n),{pass:a,fail:l}=$(s,(e=>e.top<n));return o(i,uk).orThunk((()=>o(l,aa))).orThunk((()=>o(a,aa)))},hk=(e,t,n)=>((e,t,n)=>{const r=vn(e),o=((e,t,n)=>L.from(e.dom.elementFromPoint(t,n)).map(pn))(Cn(r),t,n).filter((e=>En(r,e))).getOr(r);return((e,t,n,r)=>{const o=(t,i)=>{const s=K(t.dom.childNodes,R((e=>Lr(e)&&e.classList.contains("mce-drag-container"))));return i.fold((()=>dk(s,n,r)),(e=>{const t=K(s,(t=>t!==e.dom));return dk(t,n,r)})).orThunk((()=>(xn(t,e)?L.none():kn(t)).bind((e=>o(e,L.some(t))))))};return o(t,L.none())})(r,o,t,n)})(e,t,n).filter((e=>du(e.node))).map((e=>((e,t)=>({node:e.node,position:lk(e,t)<ck(e,t)?ak.Before:ak.After}))(e,t))),pk=e=>{var t,n;const r=e.getBoundingClientRect(),o=e.ownerDocument,i=o.documentElement,s=o.defaultView;return{top:r.top+(null!==(t=null==s?void 0:s.scrollY)&&void 0!==t?t:0)-i.clientTop,left:r.left+(null!==(n=null==s?void 0:s.scrollX)&&void 0!==n?n:0)-i.clientLeft}},fk=e=>({target:e,srcElement:e}),mk=e=>(t,n)=>((e,t,n)=>({...t,dataTransfer:null,type:e,...n}))(e,t,fk(n)),gk=mk("dragstart"),vk=mk("drop"),yk=mk("dragend"),bk=no,wk=((...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1})(bk,to),xk=(e,t,n,r)=>{const o=e.dom,i=t.cloneNode(!0);o.setStyles(i,{width:n,height:r}),o.setAttrib(i,"data-mce-selected",null);const s=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return o.setStyles(s,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),o.setStyles(i,{margin:0,boxSizing:"border-box"}),s.appendChild(i),s},Ek=(e,t)=>n=>()=>{const r="left"===e?n.scrollX:n.scrollY;n.scroll({[e]:r+t,behavior:"smooth"})},Sk=Ek("left",-32),Ck=Ek("left",32),Ak=Ek("top",-32),_k=Ek("top",32),kk=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Tk=(e,t,n)=>{e.on((e=>{if(e.intervalId.clear(),e.dragging){const r=n.fold((()=>(e=>((e,t)=>{const n=N("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,srcElement:null,target:null,timeStamp:0,type:"dragend",composedPath:n,initEvent:n,preventDefault:A,stopImmediatePropagation:A,stopPropagation:A,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:n,initMouseEvent:n,getModifierState:n,dataTransfer:null,...t}})(0,fk(e)))(e.element)),(t=>yk(t,e.element)));t.dispatch("dragend",r)}})),Mk(e)},Mk=e=>{e.on((e=>{e.intervalId.clear(),kk(e.ghost)})),e.clear()},Pk=no,Ok=(e,t)=>yg(e.getBody(),t),Rk=e=>{const t=e.selection,n=e.dom,r=e.getBody(),o=((e,t,n,r)=>{const o=Ds();let i,s;const a=xl(e),l=e.dom,c=()=>{(e=>{var t,n;const r=Nr(vn(e),"*[contentEditable=false],video,audio,embed,object");for(let e=0;e<r.length;e++){const o=r[e].dom;let i=o.previousSibling;if(jo(i)){const e=i.data;1===e.length?null===(t=i.parentNode)||void 0===t||t.removeChild(i):i.deleteData(e.length-1,1)}i=o.nextSibling,Vo(i)&&(1===i.data.length?null===(n=i.parentNode)||void 0===n||n.removeChild(i):i.deleteData(0,1))}})(t),s&&(ou(s),s=null),o.on((e=>{l.remove(e.caret),o.clear()})),i&&(clearInterval(i),i=void 0)};return{show:(e,u)=>{let d;if(c(),au(u))return null;if(!n(u))return s=((e,t)=>{var n;const r=(null!==(n=e.ownerDocument)&&void 0!==n?n:document).createTextNode(Po),o=e.parentNode;if(t){const t=e.previousSibling;if(Do(t)){if(Fo(t))return t;if(jo(t))return t.splitText(t.data.length-1)}null==o||o.insertBefore(r,e)}else{const t=e.nextSibling;if(Do(t)){if(Fo(t))return t;if(Vo(t))return t.splitText(1),t}e.nextSibling?null==o||o.insertBefore(r,e.nextSibling):null==o||o.appendChild(r)}return r})(u,e),d=u.ownerDocument.createRange(),uu(s.nextSibling)?(d.setStart(s,0),d.setEnd(s,0)):(d.setStart(s,1),d.setEnd(s,1)),d;{const n=((e,t,n)=>{var r;const o=(null!==(r=t.ownerDocument)&&void 0!==r?r:document).createElement(e);o.setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(ko().dom);const i=t.parentNode;return n?null==i||i.insertBefore(o,t):t.nextSibling?null==i||i.insertBefore(o,t.nextSibling):null==i||i.appendChild(o),o})(a,u,e),c=lu(t,u,e);l.setStyle(n,"top",c.top),s=n;const h=l.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});l.setStyles(h,{...c}),l.add(t,h),o.set({caret:h,element:u,before:e}),e&&l.addClass(h,"mce-visual-caret-before"),i=setInterval((()=>{o.on((e=>{r()?l.toggleClass(e.caret,"mce-visual-caret-hidden"):l.addClass(e.caret,"mce-visual-caret-hidden")}))}),500),d=u.ownerDocument.createRange(),d.setStart(n,0),d.setEnd(n,0)}return d},hide:c,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{o.on((e=>{const n=lu(t,e.element,e.before);l.setStyles(e.caret,{...n})}))},destroy:()=>clearInterval(i)}})(e,r,n.isBlock,(()=>sf(e))),i="sel-"+n.uniqueId(),s="data-mce-selected";let a;const l=e=>e!==r&&(Pk(e)||io(e))&&n.isChildOf(e,r)&&n.isEditable(e.parentNode),c=(n,r,i,s=!0)=>e.dispatch("ShowCaret",{target:r,direction:n,before:i}).isDefaultPrevented()?null:(s&&t.scrollIntoView(r,-1===n),o.show(i,r)),u=e=>Fo(e)||Vo(e)||jo(e),d=e=>u(e.startContainer)||u(e.endContainer),h=t=>{const r=e.schema.getVoidElements(),o=n.createRng(),i=t.startContainer,s=t.startOffset,a=t.endContainer,l=t.endOffset;return Ce(r,i.nodeName.toLowerCase())?0===s?o.setStartBefore(i):o.setStartAfter(i):o.setStart(i,s),Ce(r,a.nodeName.toLowerCase())?0===l?o.setEndBefore(a):o.setEndAfter(a):o.setEnd(a,l),o},p=(o,u)=>{if(!o)return null;if(o.collapsed){if(!d(o)){const e=u?1:-1,t=Iu(e,r,o),i=t.getNode(!u);if(x(i)){if(du(i))return c(e,i,!!u&&!t.isAtEnd(),!1);if(Bo(i)&&no(i.nextSibling)){const e=n.createRng();return e.setStart(i,0),e.setEnd(i,0),e}}const s=t.getNode(u);if(x(s)){if(du(s))return c(e,s,!u&&!t.isAtEnd(),!1);if(Bo(s)&&no(s.previousSibling)){const e=n.createRng();return e.setStart(s,1),e.setEnd(s,1),e}}}return null}let h=o.startContainer,p=o.startOffset;const f=o.endOffset;if(Zr(h)&&0===p&&Pk(h.parentNode)&&(h=h.parentNode,p=n.nodeIndex(h),h=h.parentNode),!Lr(h))return null;if(f===p+1&&h===o.endContainer){const r=h.childNodes[p];if(l(r))return(r=>{const o=r.cloneNode(!0),l=e.dispatch("ObjectSelected",{target:r,targetClone:o});if(l.isDefaultPrevented())return null;const c=((r,o)=>{const s=vn(e.getBody()),a=e.getDoc(),l=Yn(s,"#"+i).getOrThunk((()=>{const e=fn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',a);return Xt(e,"id",i),pr(s,e),e})),c=n.createRng();gr(l),mr(l,[gn(lo,a),vn(o),gn(lo,a)]),c.setStart(l.dom.firstChild,1),c.setEnd(l.dom.lastChild,0),or(l,{top:n.getPos(r,e.getBody()).y+"px"}),Fp(l);const u=t.getSel();return u&&(u.removeAllRanges(),u.addRange(c)),c})(r,l.targetClone),u=vn(r);return W(Nr(vn(e.getBody()),"*[data-mce-selected]"),(e=>{xn(u,e)||tn(e,s)})),n.getAttrib(r,s)||r.setAttribute(s,"1"),a=r,m(),c})(r)}return null},f=()=>{a&&a.removeAttribute(s),Yn(vn(e.getBody()),"#"+i).each(vr),a=null},m=()=>{o.hide()};return Kb(e)||(e.on("click",(t=>{n.isEditable(t.target)||(t.preventDefault(),e.focus())})),e.on("blur NewBlock",f),e.on("ResizeWindow FullscreenStateChanged",o.reposition),e.on("tap",(t=>{const n=t.target,r=Ok(e,n);Pk(r)?(t.preventDefault(),mx(e,r).each(p)):l(n)&&mx(e,n).each(p)}),!0),e.on("mousedown",(o=>{const i=o.target;if(i!==r&&"HTML"!==i.nodeName&&!n.isChildOf(i,r))return;if(!((e,t,n)=>{const r=vn(e.getBody()),o=e.inline?r:vn(Cn(r).dom.documentElement),i=((e,t,n,r)=>{const o=(e=>e.dom.getBoundingClientRect())(t);return{x:n-(e?o.left+t.dom.clientLeft+Sw(t):0),y:r-(e?o.top+t.dom.clientTop+Ew(t):0)}})(e.inline,o,t,n);return((e,t,n)=>{const r=ww(e),o=xw(e);return t>=0&&n>=0&&t<=r&&n<=o})(o,i.x,i.y)})(e,o.clientX,o.clientY))return;f(),m();const s=Ok(e,i);Pk(s)?(o.preventDefault(),mx(e,s).each(p)):hk(r,o.clientX,o.clientY).each((n=>{var r;o.preventDefault(),(r=c(1,n.node,n.position===ak.Before,!1))&&t.setRng(r),Lr(s)?s.focus():e.getBody().focus()}))})),e.on("keypress",(e=>{Hh.modifierPressed(e)||Pk(t.getNode())&&e.preventDefault()})),e.on("GetSelectionRange",(e=>{let t=e.range;if(a){if(!a.parentNode)return void(a=null);t=t.cloneRange(),t.selectNode(a),e.range=t}})),e.on("SetSelectionRange",(e=>{e.range=h(e.range);const t=p(e.range,e.forward);t&&(e.range=t)})),e.on("AfterSetSelectionRange",(e=>{const t=e.range,r=t.startContainer.parentElement;var o;d(t)||Lr(o=r)&&"mcepastebin"===o.id||m(),(e=>x(e)&&n.hasClass(e,"mce-offscreen-selection"))(r)||f()})),(e=>{(e=>{const t=Ds(),n=Cs.DOM,r=document,o=((e,t)=>n=>{if((e=>0===e.button)(n)){const r=Q(t.dom.getParents(n.target),wk).getOr(null);if(x(r)&&((e,t,n)=>bk(n)&&n!==t&&e.isEditable(n.parentElement))(t.dom,t.getBody(),r)){const o=t.dom.getPos(r),i=t.getBody(),s=t.getDoc().documentElement;e.set({element:r,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?i.scrollWidth:s.offsetWidth)-2,maxY:(t.inline?i.scrollHeight:s.offsetHeight)-2,relX:n.pageX-o.x,relY:n.pageY-o.y,width:r.offsetWidth,height:r.offsetHeight,ghost:xk(t,r,r.offsetWidth,r.offsetHeight),intervalId:Ns(100)})}}})(t,e),i=((e,t)=>{const n=Is(((e,n)=>((e,t,n)=>{e._selectionOverrides.hideFakeCaret(),hk(e.getBody(),t,n).fold((()=>e.selection.placeCaretAt(t,n)),(r=>{const o=e._selectionOverrides.showCaret(1,r.node,r.position===ak.Before,!1);o?e.selection.setRng(o):e.selection.placeCaretAt(t,n)}))})(t,e,n)),0);t.on("remove",n.cancel);const r=e;return o=>e.on((e=>{const i=Math.max(Math.abs(o.screenX-e.screenX),Math.abs(o.screenY-e.screenY));if(!e.dragging&&i>10){if(t.dispatch("dragstart",gk(o,e.element)).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){const i=o.currentTarget===t.getDoc().documentElement,l=((e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}))(e,((e,t)=>{return n=(e=>e.inline?pk(e.getBody()):{left:0,top:0})(e),r=(e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}})(e),o=((e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=pk(e.getContentAreaContainer()),r=(e=>{const t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:o})(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}})(e,t),{pageX:o.left-n.left+r.left,pageY:o.top-n.top+r.top};var n,r,o})(t,o));s=e.ghost,a=t.getBody(),s.parentNode!==a&&a.appendChild(s),((e,t,n,r,o,i,s,a,l,c,u,d)=>{let h=0,p=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>o&&(h=t.pageX+n-o),t.pageY+r>i&&(p=t.pageY+r-i),e.style.width=n-h+"px",e.style.height=r-p+"px";const f=l.clientHeight,m=l.clientWidth,g=s+l.getBoundingClientRect().top,v=a+l.getBoundingClientRect().left;u.on((e=>{e.intervalId.clear(),e.dragging&&d&&(s+8>=f?e.intervalId.set(_k(c)):s-8<=0?e.intervalId.set(Ak(c)):a+8>=m?e.intervalId.set(Ck(c)):a-8<=0?e.intervalId.set(Sk(c)):g+16>=window.innerHeight?e.intervalId.set(_k(window)):g-16<=0?e.intervalId.set(Ak(window)):v+16>=window.innerWidth?e.intervalId.set(Ck(window)):v-16<=0&&e.intervalId.set(Sk(window)))}))})(e.ghost,l,e.width,e.height,e.maxX,e.maxY,o.clientY,o.clientX,t.getContentAreaContainer(),t.getWin(),r,i),n.throttle(o.clientX,o.clientY)}var s,a}))})(t,e),s=((e,t)=>n=>{e.on((e=>{var r;if(e.intervalId.clear(),e.dragging){if(((e,t,n)=>!w(t)&&t!==n&&!e.dom.isChildOf(t,n)&&e.dom.isEditable(t))(t,(e=>{const t=e.getSel();if(x(t)){const e=t.getRangeAt(0).startContainer;return Zr(e)?e.parentNode:e}return null})(t.selection),e.element)){const o=(e=>{const t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t})(e.element),i=null!==(r=t.getDoc().elementFromPoint(n.clientX,n.clientY))&&void 0!==r?r:t.getBody();t.dispatch("drop",vk(n,i)).isDefaultPrevented()||t.undoManager.transact((()=>{((e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);kk(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&To(vn(n))})(t.dom,e.element),t.insertContent(t.dom.getOuterHTML(o)),t._selectionOverrides.hideFakeCaret()}))}t.dispatch("dragend",yk(n,t.getBody()))}})),Mk(e)})(t,e),a=((e,t)=>n=>Tk(e,t,L.some(n)))(t,e);e.on("mousedown",o),e.on("mousemove",i),e.on("mouseup",s),n.bind(r,"mousemove",i),n.bind(r,"mouseup",a),e.on("remove",(()=>{n.unbind(r,"mousemove",i),n.unbind(r,"mouseup",a)})),e.on("keydown",(n=>{n.keyCode===Hh.ESC&&Tk(t,e,L.none())}))})(e),wc(e)&&(e=>{const t=t=>{if(!t.isDefaultPrevented()){const n=t.dataTransfer;n&&(U(n.types,"Files")||n.files.length>0)&&(t.preventDefault(),"drop"===t.type&&Mw(e,"Dropped file type is not supported"))}},n=n=>{Qp(e,n.target)&&t(n)},r=()=>{const r=Cs.DOM,o=e.dom,i=document,s=e.inline?e.getBody():e.getDoc(),a=["drop","dragover"];W(a,(e=>{r.bind(i,e,n),o.bind(s,e,t)})),e.on("remove",(()=>{W(a,(e=>{r.unbind(i,e,n),o.unbind(s,e,t)}))}))};e.on("init",(()=>{Kp.setEditorTimeout(e,r,0)}))})(e)})(e),(e=>{const t=Is((()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const t=e.selection.getRng();if(t.collapsed){const n=gx(e,t,!1);e.selection.setRng(n)}}}),0);e.on("focus",(()=>{t.throttle()})),e.on("blur",(()=>{t.cancel()}))})(e),(e=>{e.on("init",(()=>{e.on("focusin",(t=>{const n=t.target;if(io(n)){const t=yg(e.getBody(),n),r=no(t)?t:n;e.selection.getNode()!==r&&mx(e,r).each((t=>e.selection.setRng(t)))}}))}))})(e)),{showCaret:c,showBlockCaretContainer:e=>{e.hasAttribute("data-mce-caret")&&(Uo(e),t.scrollIntoView(e))},hideFakeCaret:m,destroy:()=>{o.destroy(),a=null}}},Nk=(e,t)=>{let n=t;for(let t=e.previousSibling;Zr(t);t=t.previousSibling)n+=t.data.length;return n},Dk=(e,t,n,r,o)=>{if(Zr(n)&&(r<0||r>n.data.length))return[];const i=o&&Zr(n)?[Nk(n,r)]:[r];let s=n;for(;s!==t&&s.parentNode;)i.push(e.nodeIndex(s,o)),s=s.parentNode;return s===t?i.reverse():[]},Ik=(e,t,n,r,o,i,s=!1)=>({start:Dk(e,t,n,r,s),end:Dk(e,t,o,i,s)}),Bk=(e,t)=>{const n=t.slice(),r=n.pop();return S(r)?Y(n,((e,t)=>e.bind((e=>L.from(e.childNodes[t])))),L.some(e)).bind((e=>Zr(e)&&(r<0||r>e.data.length)?L.none():L.some({node:e,offset:r}))):L.none()},Fk=(e,t)=>Bk(e,t.start).bind((({node:n,offset:r})=>Bk(e,t.end).map((({node:e,offset:t})=>{const o=document.createRange();return o.setStart(n,r),o.setEnd(e,t),o})))),Lk=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const r=t.parentNode;e.remove(t),Lk(e,r,n)}},Hk=(e,t,n,r=!0)=>{const o=t.startContainer.parentNode,i=t.endContainer.parentNode;t.deleteContents(),r&&!n(t.startContainer)&&(Zr(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),Zr(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),Lk(e,o,n),o!==i&&Lk(e,i,n))},zk=(e,t)=>L.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),Vk=(e,t,n)=>{const r=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:ol(r).concat(e.blockPatterns),inlinePatterns:il(r).concat(e.inlinePatterns)}},jk=(e,t,n,r)=>{const o=e.createRng();return o.setStart(t,0),o.setEnd(n,r),o.toString()},Uk=(e,t,n)=>{((e,t,n)=>{if(Zr(e)&&0>=e.length)return L.some(aC(e,0));{const t=ea(lC);return L.from(t.forwards(e,0,cC(e),n)).map((e=>aC(e.container,0)))}})(t,0,t).each((r=>{const o=r.container;hC(o,n.start.length,t).each((n=>{const r=e.createRng();r.setStart(o,0),r.setEnd(n.container,n.offset),Hk(e,r,(e=>e===t))}));const i=vn(o),s=ho(i);/^\s[^\s]/.test(s)&&((e,t)=>{uo.set(e,t)})(i,s.slice(1))}))},Gk=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),qk=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},Wk=(e,t,n)=>{const r=Fk(e.getRoot(),n).getOrDie("Unable to resolve path range"),o=r.startContainer,i=r.endContainer,s=0===r.endOffset?i:i.splitText(r.endOffset),a=0===r.startOffset?o:o.splitText(r.startOffset),l=a.parentNode;return{prefix:t,end:s.parentNode.insertBefore(Gk(e,t+"-end"),s),start:l.insertBefore(Gk(e,t+"-start"),a)}},Zk=(e,t,n)=>{Lk(e,e.get(t.prefix+"-end"),n),Lk(e,e.get(t.prefix+"-start"),n)},$k=e=>0===e.start.length,Kk=(e,t,n,r)=>{const o=t.start;var i;return pC(e,r.container,r.offset,(i=o,(e,t)=>{const n=e.data.substring(0,t),r=n.lastIndexOf(i.charAt(i.length-1)),o=n.lastIndexOf(i);return-1!==o?o+i.length:-1!==r?r+1:-1}),n).bind((r=>{var i,s;const a=null!==(s=null===(i=n.textContent)||void 0===i?void 0:i.indexOf(o))&&void 0!==s?s:-1;if(-1!==a&&r.offset>=a+o.length){const t=e.createRng();return t.setStart(r.container,r.offset-o.length),t.setEnd(r.container,r.offset),L.some(t)}{const i=r.offset-o.length;return dC(r.container,i,n).map((t=>{const n=e.createRng();return n.setStart(t.container,t.offset),n.setEnd(r.container,r.offset),n})).filter((e=>e.toString()===o)).orThunk((()=>Kk(e,t,n,aC(r.container,0))))}}))},Xk=(e,t,n,r)=>{const o=e.dom,i=o.getRoot(),s=n.pattern,a=n.position.container,l=n.position.offset;return dC(a,l-n.pattern.end.length,t).bind((c=>{const u=Ik(o,i,c.container,c.offset,a,l,r);if($k(s))return L.some({matches:[{pattern:s,startRng:u,endRng:u}],position:c});{const a=Yk(e,n.remainingPatterns,c.container,c.offset,t,r),l=a.getOr({matches:[],position:c}),d=l.position,h=((e,t,n,r,o,i=!1)=>{if(0===t.start.length&&!i){const t=e.createRng();return t.setStart(n,r),t.setEnd(n,r),L.some(t)}return uC(n,r,o).bind((n=>Kk(e,t,o,n).bind((e=>{var t;if(i){if(e.endContainer===n.container&&e.endOffset===n.offset)return L.none();if(0===n.offset&&(null===(t=e.endContainer.textContent)||void 0===t?void 0:t.length)===e.endOffset)return L.none()}return L.some(e)}))))})(o,s,d.container,d.offset,t,a.isNone());return h.map((e=>{const t=((e,t,n,r=!1)=>Ik(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,r))(o,i,e,r);return{matches:l.matches.concat([{pattern:s,startRng:t,endRng:u}]),position:aC(e.startContainer,e.startOffset)}}))}}))},Yk=(e,t,n,r,o,i)=>{const s=e.dom;return uC(n,r,s.getRoot()).bind((a=>{const l=jk(s,o,n,r);for(let s=0;s<t.length;s++){const c=t[s];if(!Ge(l,c.end))continue;const u=t.slice();u.splice(s,1);const d=Xk(e,o,{pattern:c,remainingPatterns:u,position:a},i);if(d.isNone()&&r>0)return Yk(e,t,n,r-1,o,i);if(d.isSome())return d}return L.none()}))},Jk=(e,t,n)=>{e.selection.setRng(n),"inline-format"===t.type?W(t.format,(t=>{e.formatter.apply(t)})):e.execCommand(t.cmd,!1,t.value)},Qk=(e,t,n,r,o,i)=>{var s;return((e,t)=>{const n=re(e,(e=>G(t,(t=>e.pattern.start===t.pattern.start&&e.pattern.end===t.pattern.end))));return e.length===t.length?n?e:t:e.length>t.length?e:t})(Yk(e,o.inlinePatterns,n,r,t,i).fold((()=>[]),(e=>e.matches)),Yk(e,(s=o.inlinePatterns,ae(s,((e,t)=>t.end.length-e.end.length))),n,r,t,i).fold((()=>[]),(e=>e.matches)))},eT=(e,t)=>{if(0===t.length)return;const n=e.dom,r=e.selection.getBookmark(),o=((e,t)=>{const n=Ks("mce_textpattern"),r=X(t,((t,r)=>{const o=Wk(e,n+`_end${t.length}`,r.endRng);return t.concat([{...r,endMarker:o}])}),[]);return X(r,((t,o)=>{const i=r.length-t.length-1,s=$k(o.pattern)?o.endMarker:Wk(e,n+`_start${i}`,o.startRng);return t.concat([{...o,startMarker:s}])}),[])})(n,t);W(o,(t=>{const r=n.getParent(t.startMarker.start,n.isBlock),o=e=>e===r;$k(t.pattern)?((e,t,n,r)=>{const o=qk(e.dom,n);Hk(e.dom,o,r),Jk(e,t,o)})(e,t.pattern,t.endMarker,o):((e,t,n,r,o)=>{const i=e.dom,s=qk(i,r),a=qk(i,n);Hk(i,a,o),Hk(i,s,o);const l={prefix:n.prefix,start:n.end,end:r.start},c=qk(i,l);Jk(e,t,c)})(e,t.pattern,t.startMarker,t.endMarker,o),Zk(n,t.endMarker,o),Zk(n,t.startMarker,o)})),e.selection.moveToBookmark(r)},tT=(e,t,n)=>{for(let r=0;r<e.length;r++)if(n(e[r],t))return!0;return!1},nT=Cs.DOM,rT=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,oT=e=>we(e,(e=>!1===b(e))),iT=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return oT({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),remove_trailing_brs:t("remove_trailing_brs"),inline_styles:t("inline_styles"),root_name:rT(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},sT=e=>{const t=e.options.get;return oT({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},aT=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,lT=e=>{const t=aT(e),n=ql(e),r=e.contentCSS,o=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(n)},i=()=>{e.removed?o():e.on("remove",o)};if(e.contentStyles.length>0){let t="";Dt.each(e.contentStyles,(e=>{t+=e+"\r\n"})),e.dom.addStyle(t)}const s=Promise.all(((e,t,n)=>{const r=[aT(e).loadAll(t)];return e.inline?r:r.concat([e.ui.styleSheetLoader.loadAll(n)])})(e,r,n)).then(i).catch(i),a=Gl(e);return a&&((e,t)=>{const n=vn(e.getBody()),r=jn(Vn(n)),o=mn("style");Xt(o,"type","text/css"),pr(o,gn(t)),pr(r,o),e.on("remove",(()=>{vr(o)}))})(e,a),s},cT=e=>{!0!==e.removed&&((e=>{Kb(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})})(e),(e=>{e.bindPendingEventDelegates(),e.initialized=!0,(e=>{e.dispatch("Init")})(e),e.focus(!0),(e=>{const t=e.dom.getRoot();e.inline||Vd(e)&&e.selection.getStart(!0)!==t||sd(t).each((t=>{const n=t.getNode(),r=Gr(n)?sd(n).getOr(t):t;e.selection.setRng(r.toRange())}))})(e),e.nodeChanged({initial:!0});const t=_c(e);E(t)&&t.call(e,e),(e=>{const t=Tc(e);t&&Kp.setEditorTimeout(e,(()=>{let n;n=!0===t?e:e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())}),100)})(e)})(e))},uT=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(nT.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const r=e.getBody();r.disabled=!0,e.readonly=gc(e),e.readonly||(e.inline&&"static"===nT.getStyle(r,"position",!0)&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=(e=>{const t=(()=>{let e=[];const t=e=>{if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const t=e.id||"blobid"+Iw+++(()=>{const e=()=>Math.round(4294967295*Math.random()).toString(36);return"s"+(new Date).getTime().toString(36)+e()+e()+e()})(),n=e.name||t,r=e.blob;var o;return{id:T(t),name:T(n),filename:T(e.filename||n+"."+(o=r.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[o.toLowerCase()]||"dat")),blob:T(r),base64:T(e.base64),blobUri:T(e.blobUri||URL.createObjectURL(r)),uri:T(e.uri)}},n=t=>Q(e,t).getOrUndefined(),r=e=>n((t=>t.id()===e));return{create:(e,n,r,o,i)=>{if(p(e))return t({id:e,name:o,filename:i,blob:n,base64:r});if(f(e))return t(e);throw new Error("Unknown input type")},add:t=>{r(t.id())||e.push(t)},get:r,getByUri:e=>n((t=>t.blobUri()===e)),getByData:(e,t)=>n((n=>n.base64()===e&&n.blob().type===t)),findFirst:n,removeByUri:t=>{e=K(e,(e=>e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)))},destroy:()=>{W(e,(e=>{URL.revokeObjectURL(e.blobUri())})),e=[]}}})();let n,r;const o=Dw(),i=[],s=t=>n=>e.selection?t(n):[],a=(e,t,n)=>{let r=0;do{r=e.indexOf(t,r),-1!==r&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1)}while(-1!==r);return e},l=(e,t,n)=>{const r=`src="${n}"${n===Pt.transparentSrc?' data-mce-placeholder="1"':""}`;return e=a(e,`src="${t}"`,r),a(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},c=(t,n)=>{W(e.undoManager.data,(e=>{"fragmented"===e.type?e.fragments=q(e.fragments,(e=>l(e,t,n))):e.content=l(e.content,t,n)}))},u=()=>(n||(n=Fw(e,o)),m().then(s((r=>{const o=q(r,(e=>e.blobInfo));return n.upload(o,Bw(e)).then(s((n=>{const o=[];let i=!1;const s=q(n,((n,s)=>{const{blobInfo:a,image:l}=r[s];let u=!1;return n.status&&Pl(e)?(n.url&&!je(l.src,n.url)&&(i=!0),t.removeByUri(l.src),Kb(e)||((t,n)=>{const r=e.convertURL(n,"src");var o;c(t.src,n),Yt(vn(t),{src:Ml(e)?(o=n,o+(-1===o.indexOf("?")?"?":"&")+(new Date).getTime()):n,"data-mce-src":r})})(l,n.url)):n.error&&(n.error.remove&&(c(l.src,Pt.transparentSrc),o.push(l),u=!0),((e,t)=>{Mw(e,Os.translate(["Failed to upload image: {0}",t]))})(e,n.error.message)),{element:l,status:n.status,uploadUri:n.url,blobInfo:a,removed:u}}));return o.length>0&&!Kb(e)?e.undoManager.transact((()=>{W(o,(n=>{e.dom.remove(n),t.removeByUri(n.src)}))})):i&&e.undoManager.dispatchChange(),s})))})))),d=()=>Tl(e)?u():Promise.resolve([]),h=e=>re(i,(t=>t(e))),m=()=>(r||(r=((e,t)=>{const n={};return{findAll:(r,o=F)=>{const i=K((e=>e?de(e.getElementsByTagName("img")):[])(r),(t=>{const n=t.src;return!t.hasAttribute("data-mce-bogus")&&!t.hasAttribute("data-mce-placeholder")&&!(!n||n===Pt.transparentSrc)&&(Ue(n,"blob:")?!e.isUploaded(n)&&o(t):!!Ue(n,"data:")&&o(t))})),s=q(i,(e=>{const r=e.src;if(Ce(n,r))return n[r].then((t=>p(t)?t:{image:e,blobInfo:t.blobInfo}));{const o=((e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(Ue(t,"blob:")){const i=e.getByUri(t);return x(i)?Promise.resolve(i):(r=t,Ue(r,"blob:")?(e=>fetch(e).then((e=>e.ok?e.blob():Promise.reject())).catch((()=>Promise.reject(`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`))))(r):Ue(r,"data:")?(o=r,new Promise(((e,t)=>{Jv(o).bind((({type:e,data:t,base64Encoded:n})=>Qv(e,t,n))).fold((()=>t("Invalid data URI")),e)}))):Promise.reject("Unknown URI format")).then((t=>ey(t).then((r=>ny(r,!1,(n=>L.some(ry(e,t,n)))).getOrThunk(n)))))}var r,o;return Ue(t,"data:")?oy(e,t).fold(n,(e=>Promise.resolve(e))):Promise.reject("Unknown image data format")})(t,r).then((t=>(delete n[r],{image:e,blobInfo:t}))).catch((e=>(delete n[r],e)));return n[r]=o,o}}));return Promise.all(s)}}})(o,t)),r.findAll(e.getBody(),h).then(s((t=>{const n=K(t,(t=>!p(t)||(Mw(e,t),!1)));return Kb(e)||W(n,(e=>{c(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),n})))),g=n=>n.replace(/src="(blob:[^"]+)"/g,((n,r)=>{const i=o.getResultUri(r);if(i)return'src="'+i+'"';let s=t.getByUri(r);return s||(s=Y(e.editorManager.get(),((e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(r)),void 0)),s?'src="data:'+s.blob().type+";base64,"+s.base64()+'"':n}));return e.on("SetContent",(()=>{Tl(e)?d():m()})),e.on("RawSaveContent",(e=>{e.content=g(e.content)})),e.on("GetContent",(e=>{e.source_view||"raw"===e.format||"tree"===e.format||(e.content=g(e.content))})),e.on("PostRender",(()=>{e.parser.addNodeFilter("img",(e=>{W(e,(e=>{const n=e.attr("src");if(!n||t.getByUri(n))return;const r=o.getResultUri(n);r&&e.attr("src",r)}))}))})),{blobCache:t,addFilter:e=>{i.push(e)},uploadImages:u,uploadImagesAuto:d,scanForImages:m,destroy:()=>{t.destroy(),o.destroy(),r=n=null}}})(e),e.schema=os(sT(e)),e.dom=Cs(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:Fl(e),referrerPolicy:Ll(e),onSetAttrib:t=>{e.dispatch("SetAttrib",t)}}),e.parser=(e=>{const t=wb(iT(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",((t,n)=>{const r=e.dom,o="data-mce-"+n;let i=t.length;for(;i--;){const s=t[i];let a=s.attr(n);if(a&&!s.attr(o)){if(0===a.indexOf("data:")||0===a.indexOf("blob:"))continue;"style"===n?(a=r.serializeStyle(r.parseStyle(a),s.name),a.length||(a=null),s.attr(o,a),s.attr(n,a)):"tabindex"===n?(s.attr(o,a),s.attr(n,null)):s.attr(o,e.convertURL(a,n,s.name))}}})),t.addNodeFilter("script",(e=>{let t=e.length;for(;t--;){const n=e[t],r=n.attr("type")||"no/type";0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}})),Zc(e)&&t.addNodeFilter("#cdata",(t=>{var n;let r=t.length;for(;r--;){const o=t[r];o.type=8,o.name="#comment",o.value="[CDATA["+e.dom.encode(null!==(n=o.value)&&void 0!==n?n:"")+"]]"}})),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(t=>{let n=t.length;const r=e.schema.getNonEmptyElements();for(;n--;){const e=t[n];e.isEmpty(r)&&0===e.getAll("br").length&&e.append(new xf("br",1))}})),t})(e),e.serializer=iw((e=>{const t=e.options.get;return{...iT(e),...sT(e),...oT({url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}})(e),e),e.selection=rw(e.dom,e.getWin(),e.serializer,e),e.annotator=Ph(e),e.formatter=$w(e),e.undoManager=Xw(e),e._nodeChangeDispatcher=new x_(e),e._selectionOverrides=Rk(e),(e=>{const t=Ds(),n=ks(!1),r=Bs((t=>{e.dispatch("longpress",{...t,type:"longpress"}),n.set(!0)}),400);e.on("touchstart",(e=>{hS(e).each((o=>{r.cancel();const i={x:o.clientX,y:o.clientY,target:e.target};r.throttle(e),n.set(!1),t.set(i)}))}),!0),e.on("touchmove",(o=>{r.cancel(),hS(o).each((r=>{t.on((o=>{((e,t)=>{const n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>5||r>5})(r,o)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))}))}))}),!0),e.on("touchend touchcancel",(o=>{r.cancel(),"touchcancel"!==o.type&&t.get().filter((e=>e.target.isEqualNode(o.target))).each((()=>{n.get()?o.preventDefault():e.dispatch("tap",{...o,type:"tap"})}))}),!0)})(e),(e=>{(e=>{e.on("click",(t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()}))})(e),(e=>{e.parser.addNodeFilter("details",(e=>{W(e,(e=>{e.attr("data-mce-open",e.attr("open")),e.attr("open","open")}))})),e.serializer.addNodeFilter("details",(e=>{W(e,(e=>{const t=e.attr("data-mce-open");e.attr("open",p(t)?t:null),e.attr("data-mce-open",null)}))}))})(e)})(e),(e=>{const t="contenteditable",n=" "+Dt.trim(qc(e))+" ",r=" "+Dt.trim(Gc(e))+" ",o=bS(n),i=bS(r),s=Wc(e);s.length>0&&e.on("BeforeSetContent",(t=>{((e,t,n)=>{let r=t.length,o=n.content;if("raw"!==n.format){for(;r--;)o=o.replace(t[r],wS(e,o,Gc(e)));n.content=o}})(e,s,t)})),e.parser.addAttributeFilter("class",(e=>{let n=e.length;for(;n--;){const r=e[n];o(r)?r.attr(t,"true"):i(r)&&r.attr(t,"false")}})),e.serializer.addAttributeFilter(t,(e=>{let n=e.length;for(;n--;){const r=e[n];(o(r)||i(r))&&(s.length>0&&r.attr("data-mce-content")?(r.name="#text",r.type=3,r.raw=!0,r.value=r.attr("data-mce-content")):r.attr(t,null))}}))})(e),Kb(e)||((e=>{e.on("mousedown",(t=>{t.detail>=3&&(t.preventDefault(),(e=>{const t=((e,t)=>{const n=Ma.fromRangeStart(e).getNode(),r=((e,t)=>Kn(vn(e),(e=>(e=>to(e.dom))(e)||go(e)),ok(t)).getOr(vn(t)).dom)(n,t),o=sk(n,r,!1),i=sk(n,r,!0),s=document.createRange();return ik(o,r).fold((()=>{nk(o)?s.setStart(o,0):s.setStartBefore(o)}),(e=>s.setStartBefore(e.dom))),ik(i,r).fold((()=>{nk(i)?s.setEnd(i,i.data.length):s.setEndAfter(i)}),(e=>s.setEndAfter(e.dom))),s})(e.selection.getRng(),e.getBody());e.selection.setRng(Rg(t))})(e))}))})(e),(e=>{(e=>{const t=[",",".",";",":","!","?"],n=[32],r=()=>{return t=jc(e),n=Uc(e),{inlinePatterns:il(t),blockPatterns:ol(t),dynamicPatternsLookup:n};var t,n},o=()=>(e=>e.options.isSet("text_patterns_lookup"))(e);e.on("keydown",(t=>{if(13===t.keyCode&&!Hh.modifierPressed(t)&&e.selection.isCollapsed()){const n=r();(n.inlinePatterns.length>0||n.blockPatterns.length>0||o())&&((e,t)=>{const n=e.selection.getRng();return zk(e,n).map((r=>{var o;const i=Math.max(0,n.startOffset),s=Vk(t,r,null!==(o=r.textContent)&&void 0!==o?o:""),a=Qk(e,r,n.startContainer,i,s,!0),l=((e,t,n,r)=>{var o;const i=e.dom,s=xl(e);if(!i.is(t,s))return[];const a=null!==(o=t.textContent)&&void 0!==o?o:"";return((e,t)=>{const n=(e=>ae(e,((e,t)=>t.start.length-e.start.length)))(e),r=t.replace(lo," ");return Q(n,(e=>0===t.indexOf(e.start)||0===r.indexOf(e.start)))})(n.blockPatterns,a).map((e=>Dt.trim(a).length===e.start.length?[]:[{pattern:e,range:Ik(i,i.getRoot(),t,0,t,0,!0)}])).getOr([])})(e,r,s);return(l.length>0||a.length>0)&&(e.undoManager.add(),e.undoManager.extra((()=>{e.execCommand("mceInsertNewLine")}),(()=>{e.insertContent(ao),eT(e,a),((e,t)=>{if(0===t.length)return;const n=e.selection.getBookmark();W(t,(t=>((e,t)=>{const n=e.dom,r=t.pattern,o=Fk(n.getRoot(),t.range).getOrDie("Unable to resolve path range");return zk(e,o).each((t=>{"block-format"===r.type?((e,t)=>{const n=t.get(e);return g(n)&&ce(n).exists((e=>Ce(e,"block")))})(r.format,e.formatter)&&e.undoManager.transact((()=>{Uk(e.dom,t,r),e.formatter.apply(r.format)})):"block-command"===r.type&&e.undoManager.transact((()=>{Uk(e.dom,t,r),e.execCommand(r.cmd,!1,r.value)}))})),!0})(e,t))),e.selection.moveToBookmark(n)})(e,l);const t=e.selection.getRng(),n=uC(t.startContainer,t.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),n.each((t=>{const n=t.container;n.data.charAt(t.offset-1)===ao&&(n.deleteData(t.offset-1,1),Lk(e.dom,n.parentNode,(t=>t===e.dom.getRoot())))}))})),!0)})).getOr(!1)})(e,n)&&t.preventDefault()}}),!0);const i=()=>{if(e.selection.isCollapsed()){const t=r();(t.inlinePatterns.length>0||o())&&((e,t)=>{const n=e.selection.getRng();zk(e,n).map((r=>{const o=Math.max(0,n.startOffset-1),i=jk(e.dom,r,n.startContainer,o),s=Vk(t,r,i),a=Qk(e,r,n.startContainer,o,s,!1);a.length>0&&e.undoManager.transact((()=>{eT(e,a)}))}))})(e,t)}};e.on("keyup",(e=>{tT(n,e,((e,t)=>e===t.keyCode&&!Hh.modifierPressed(t)))&&i()})),e.on("keypress",(n=>{tT(t,n,((e,t)=>e.charCodeAt(0)===t.charCode))&&Kp.setEditorTimeout(e,i)}))})(e)})(e));const o=w_(e);((e,t)=>{e.addCommand("delete",(()=>{((e,t)=>{dS(e,t,!1).fold((()=>{Um(e),Wm(e)}),I)})(e,t)})),e.addCommand("forwardDelete",(()=>{((e,t)=>{dS(e,t,!0).fold((()=>(e=>jm(e,"ForwardDelete"))(e)),I)})(e,t)}))})(e,o),(e=>{e.on("NodeChange",O(vS,e))})(e),(e=>{var t;const n=e.dom,r=xl(e),o=null!==(t=Xl(e))&&void 0!==t?t:"",i=(t,s)=>{if((e=>{if(Qw(e)){const t=e.keyCode;return!ex(e)&&(Hh.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||U(Yw,t))}return!1})(t))return;const a=e.getBody(),l=!(e=>Qw(e)&&!(ex(e)||"keyup"===e.type&&229===e.keyCode))(t)&&((e,t,n)=>{if(ui(vn(t),!1)){const r=t.firstElementChild;return!r||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&n===r.nodeName.toLowerCase()}return!1})(n,a,r);(""!==n.getAttrib(a,Jw)!==l||s)&&(n.setAttrib(a,Jw,l?o:null),n.setAttrib(a,"aria-placeholder",l?o:null),((e,t)=>{e.dispatch("PlaceholderToggle",{state:t})})(e,l),e.on(l?"keydown":"keyup",i),e.off(l?"keyup":"keydown",i))};Ke(o)&&e.on("init",(t=>{i(t,!0),e.on("change SetContent ExecCommand",i),e.on("paste",(t=>Kp.setEditorTimeout(e,(()=>i(t)))))}))})(e),(e=>{const t=ks(!1),n=ks(Hc(e)?"text":"html"),r=(e=>{const t=ks(null);return{create:()=>((e,t)=>{const{dom:n,selection:r}=e,o=e.getBody();t.set(r.getRng());const i=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},__);Pt.browser.isFirefox()&&n.setStyle(i,"left","rtl"===n.getStyle(o,"direction",!0)?65535:-65535),n.bind(i,"beforedeactivate focusin focusout",(e=>{e.stopPropagation()})),i.focus(),r.select(i,!0)})(e,t),remove:()=>((e,t)=>{const n=e.dom;if(k_(e)){let r;const o=t.get();for(;r=k_(e);)n.remove(r),n.unbind(r);o&&e.selection.setRng(o)}t.set(null)})(e,t),getEl:()=>k_(e),getHtml:()=>(e=>{const t=e.dom,n=(e,n)=>{e.appendChild(n),t.remove(n,!0)},[r,...o]=K(e.getBody().childNodes,T_);W(o,(e=>{n(r,e)}));const i=t.select("div[id=mcepastebin]",r);for(let e=i.length-1;e>=0;e--){const o=t.create("div");r.insertBefore(o,i[e]),n(o,i[e])}return r?r.innerHTML:""})(e),getLastRng:t.get}})(e);(e=>{(Pt.browser.isChromium()||Pt.browser.isSafari())&&((e,t)=>{e.on("PastePreProcess",(n=>{n.content=t(e,n.content,n.internal)}))})(e,ek)})(e),((e,t)=>{e.addCommand("mceTogglePlainTextPaste",(()=>{((e,t)=>{"text"===t.get()?(t.set("html"),Lh(e,!1)):(t.set("text"),Lh(e,!0)),e.focus()})(e,t)})),e.addCommand("mceInsertClipboardContent",((t,n)=>{n.html&&H_(e,n.html,n.internal),n.text&&z_(e,n.text)}))})(e,n),(e=>{const t=t=>n=>{t(e,n)},n=Nc(e);E(n)&&e.on("PastePreProcess",t(n));const r=Dc(e);E(r)&&e.on("PastePostProcess",t(r))})(e),e.on("PreInit",(()=>{(e=>{e.on("cut",(e=>t=>{!t.isDefaultPrevented()&&K_(e)&&W_(t,$_(e),Z_(e),(()=>{if(Pt.browser.isChromium()||Pt.browser.isFirefox()){const t=e.selection.getRng();Kp.setEditorTimeout(e,(()=>{e.selection.setRng(t),e.execCommand("Delete")}),0)}else e.execCommand("Delete")}))})(e)),e.on("copy",(e=>t=>{!t.isDefaultPrevented()&&K_(e)&&W_(t,$_(e),Z_(e),A)})(e))})(e),((e,t)=>{Oc(e)&&e.on("dragend dragover draggesture dragdrop drop drag",(e=>{e.preventDefault(),e.stopPropagation()})),Rc(e)||e.on("drop",(e=>{const t=e.dataTransfer;t&&(e=>G(e.files,(e=>/^image\//.test(e.type))))(t)&&e.preventDefault()})),e.on("drop",(n=>{if(n.isDefaultPrevented())return;const r=X_(e,n);if(w(r))return;const o=V_(n.dataTransfer),i=j_(o,E_());if((!U_(o)||(e=>{const t=e["text/plain"];return!!t&&0===t.indexOf("file://")})(o))&&G_(e,n,r))return;const s=o[E_()],a=s||o["text/html"]||o["text/plain"],l=((e,t,n,r)=>{const o=e.getParent(n,(e=>xi(t,e)));if(o&&Ce(r,"text/html")){const e=(new DOMParser).parseFromString(r["text/html"],"text/html").body;return!v(e.querySelector(o.nodeName.toLowerCase()))}return!1})(e.dom,e.schema,r.startContainer,o);t.get()&&!l||a&&(n.preventDefault(),Kp.setEditorTimeout(e,(()=>{e.undoManager.transact((()=>{s&&e.execCommand("Delete"),Y_(e,r);const t=O_(a);o["text/html"]?H_(e,t,i):z_(e,t)}))})))})),e.on("dragstart",(e=>{t.set(!0)})),e.on("dragover dragend",(n=>{Rc(e)&&!t.get()&&(n.preventDefault(),Y_(e,X_(e,n))),"dragend"===n.type&&t.set(!1)}))})(e,t),((e,t,n)=>{((e,t,n)=>{let r;e.on("keydown",(e=>{(e=>Hh.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode)(e)&&!e.isDefaultPrevented()&&(r=e.shiftKey&&86===e.keyCode)})),e.on("paste",(o=>{if(o.isDefaultPrevented()||(e=>{var t,n;return Pt.os.isAndroid()&&0===(null===(n=null===(t=e.clipboardData)||void 0===t?void 0:t.items)||void 0===n?void 0:n.length)})(o))return;const i="text"===n.get()||r;r=!1;const s=V_(o.clipboardData);!U_(s)&&G_(e,o,t.getLastRng()||e.selection.getRng())||(j_(s,"text/html")?(o.preventDefault(),q_(e,s,s["text/html"],i)):j_(s,"text/plain")&&j_(s,"text/uri-list")?(o.preventDefault(),q_(e,s,s["text/plain"],i)):(t.create(),Kp.setEditorTimeout(e,(()=>{const n=t.getHtml();t.remove(),q_(e,s,n,i)}),0)))}))})(e,t,n),(e=>{const t=e=>Ue(e,"webkit-fake-url"),n=e=>Ue(e,"data:");e.parser.addNodeFilter("img",((r,o,i)=>{if(!Rc(e)&&(e=>{var t;return!0===(null===(t=e.data)||void 0===t?void 0:t.paste)})(i))for(const o of r){const r=o.attr("src");p(r)&&!o.attr("data-mce-object")&&r!==Pt.transparentSrc&&(t(r)||!Vc(e)&&n(r))&&o.remove()}}))})(e)})(e,r,n)}))})(e);const i=(e=>{const t=e;return(e=>Se(e.plugins,"rtc").bind((e=>L.from(e.setup))))(e).fold((()=>(t.rtcInstance=$b(e),L.none())),(e=>(t.rtcInstance=(()=>{const e=T(null),t=T("");return{init:{bindEvents:A},undoManager:{beforeChange:A,add:e,undo:e,redo:e,clear:A,reset:A,hasUndo:B,hasRedo:B,transact:e,ignore:A,extra:A},formatter:{match:B,matchAll:T([]),matchNode:T(void 0),canApply:B,closest:t,apply:A,remove:A,toggle:A,formatChanged:T({unbind:A})},editor:{getContent:t,setContent:T({content:"",html:""}),insertContent:T(""),addVisual:A},selection:{getContent:t},autocompleter:{addDecoration:A,removeDecoration:A},raw:{getModel:T(L.none())}}})(),L.some((()=>e().then((e=>(t.rtcInstance=(e=>{const t=e=>f(e)?e:{},{init:n,undoManager:r,formatter:o,editor:i,selection:s,autocompleter:a,raw:l}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(e,t,n)=>r.transact(n),ignore:(e,t)=>r.ignore(t),extra:(e,t,n,o)=>r.extra(n,o)},formatter:{match:(e,n,r,i)=>o.match(e,t(n),i),matchAll:o.matchAll,matchNode:o.matchNode,canApply:e=>o.canApply(e),closest:e=>o.closest(e),apply:(e,n,r)=>o.apply(e,t(n)),remove:(e,n,r,i)=>o.remove(e,t(n)),toggle:(e,n,r)=>o.toggle(e,t(n)),formatChanged:(e,t,n,r,i)=>o.formatChanged(t,n,r,i)},editor:{getContent:e=>i.getContent(e),setContent:(e,t)=>({content:i.setContent(e,t),html:""}),insertContent:(e,t)=>(i.insertContent(e),""),addVisual:i.addVisual},selection:{getContent:(e,t)=>s.getContent(t)},autocompleter:{addDecoration:a.addDecoration,removeDecoration:a.removeDecoration},raw:{getModel:()=>L.some(l.getRawModel())}}})(e),e.rtc.isRemote))))))))})(e);(e=>{const t=e.getDoc(),n=e.getBody();(e=>{e.dispatch("PreInit")})(e),Mc(e)||(t.body.spellcheck=!1,nT.setAttrib(n,"spellcheck","false")),e.quirks=(e=>{const t=Dt.each,n=Hh.BACKSPACE,r=Hh.DELETE,o=e.dom,i=e.selection,s=e.parser,a=Pt.browser,l=a.isFirefox(),c=a.isChromium()||a.isSafari(),u=Pt.deviceType.isiPhone()||Pt.deviceType.isiPad(),d=Pt.os.isMacOS()||Pt.os.isiOS(),h=(t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}},p=e=>e.isDefaultPrevented(),f=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},m=()=>{e.inline||o.bind(e.getDoc(),"mousedown mouseup",(t=>{let n;if(t.target===e.getDoc().documentElement)if(n=i.getRng(),e.getBody().focus(),"mousedown"===t.type){if(Fo(n.startContainer))return;i.placeCaretAt(t.clientX,t.clientY)}else i.setRng(n)}))},g=()=>{Range.prototype.getClientRects||e.on("mousedown",(t=>{if(!p(t)&&"HTML"===t.target.nodeName){const t=e.getBody();t.blur(),Kp.setEditorTimeout(e,(()=>{t.focus()}))}}))},v=()=>{const t=Sc(e);e.on("click",(n=>{const r=n.target;/^(IMG|HR)$/.test(r.nodeName)&&o.isEditable(r.parentNode)&&(n.preventDefault(),e.selection.select(r),e.nodeChanged()),"A"===r.nodeName&&o.hasClass(r,t)&&0===r.childNodes.length&&o.isEditable(r.parentNode)&&(n.preventDefault(),i.select(r))}))},y=()=>{e.on("keydown",(e=>{if(!p(e)&&e.keyCode===n&&i.isCollapsed()&&0===i.getRng().startOffset){const t=i.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}return!0}))},b=()=>{gc(e)||e.on("BeforeExecCommand mousedown",(()=>{h("StyleWithCSS",!1),h("enableInlineTableEditing",!1),$l(e)||h("enableObjectResizing",!1)}))},w=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},x=()=>{e.inline||e.on("keydown",(()=>{document.activeElement===document.body&&e.getWin().focus()}))},E=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(t=>{let n;"HTML"===t.target.nodeName&&(n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged())})))},S=()=>{d&&e.on("keydown",(t=>{!Hh.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))}))},C=()=>{e.on("click",(e=>{let t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},_=()=>{e.on("init",(()=>{e.dom.bind(e.getBody(),"submit",(e=>{e.preventDefault()}))}))},k=A;return Kb(e)?(c&&(m(),v(),_(),f(),u&&(x(),E(),C())),l&&(g(),b(),w(),S())):(e.on("keydown",(t=>{if(p(t)||t.keyCode!==Hh.BACKSPACE)return;let n=i.getRng();const r=n.startContainer,s=n.startOffset,a=o.getRoot();let l=r;if(n.collapsed&&0===s){for(;l.parentNode&&l.parentNode.firstChild===l&&l.parentNode!==a;)l=l.parentNode;"BLOCKQUOTE"===l.nodeName&&(e.formatter.toggle("blockquote",void 0,l),n=o.createRng(),n.setStart(r,0),n.setEnd(r,0),i.setRng(n))}})),(()=>{const t=e=>{const t=o.create("body"),n=e.cloneContents();return t.appendChild(n),i.serializer.serialize(t,{format:"html"})};e.on("keydown",(i=>{const s=i.keyCode;if(!p(i)&&(s===r||s===n)&&e.selection.isEditable()){const n=e.selection.isCollapsed(),r=e.getBody();if(n&&!o.isEmpty(r))return;if(!n&&!(n=>{const r=t(n),i=o.createRng();return i.selectNode(e.getBody()),r===t(i)})(e.selection.getRng()))return;i.preventDefault(),e.setContent(""),r.firstChild&&o.isBlock(r.firstChild)?e.selection.setCursorLocation(r.firstChild,0):e.selection.setCursorLocation(r,0),e.nodeChanged()}}))})(),Pt.windowsPhone||e.on("keyup focusin mouseup",(t=>{Hh.modifierPressed(t)||(e=>{const t=e.getBody(),n=e.selection.getRng();return n.startContainer===n.endContainer&&n.startContainer===t&&0===n.startOffset&&n.endOffset===t.childNodes.length})(e)||i.normalize()}),!0),c&&(m(),v(),e.on("init",(()=>{h("DefaultParagraphSeparator",xl(e))})),_(),y(),s.addNodeFilter("br",(e=>{let t=e.length;for(;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})),u?(x(),E(),C()):f()),l&&(e.on("keydown",(t=>{if(!p(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&0===i.getRng().startOffset){const e=i.getNode(),n=e.previousSibling;if("HR"===e.nodeName)return o.remove(e),void t.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(o.remove(n),t.preventDefault())}}})),g(),(()=>{const n=()=>{const n=o.getAttribs(i.getStart().cloneNode(!1));return()=>{const r=i.getStart();r!==e.getBody()&&(o.setAttrib(r,"style",null),t(n,(e=>{r.setAttributeNode(e.cloneNode(!0))})))}},r=()=>!i.isCollapsed()&&o.getParent(i.getStart(),o.isBlock)!==o.getParent(i.getEnd(),o.isBlock);e.on("keypress",(t=>{let o;return!(!(p(t)||8!==t.keyCode&&46!==t.keyCode)&&r()&&(o=n(),e.getDoc().execCommand("delete",!1),o(),t.preventDefault(),1))})),o.bind(e.getDoc(),"cut",(t=>{if(!p(t)&&r()){const t=n();Kp.setEditorTimeout(e,(()=>{t()}))}}))})(),b(),e.on("SetContent ExecCommand",(e=>{"setcontent"!==e.type&&"mceInsertLink"!==e.command||t(o.select("a:not([data-mce-block])"),(e=>{var t;let n=e.parentNode;const r=o.getRoot();if((null==n?void 0:n.lastChild)===e){for(;n&&!o.isBlock(n);){if((null===(t=n.parentNode)||void 0===t?void 0:t.lastChild)!==n||n===r)return;n=n.parentNode}o.add(n,"br",{"data-mce-bogus":1})}}))})),w(),S(),y())),{refreshContentEditable:k,isHidden:()=>{if(!l||e.removed)return!1;const t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount}}})(e),(e=>{e.dispatch("PostRender")})(e);const r=Wl(e);void 0!==r&&(n.dir=r);const o=Pc(e);o&&e.on("BeforeSetContent",(e=>{Dt.each(o,(t=>{e.content=e.content.replace(t,(e=>"\x3c!--mce:protected "+escape(e)+"--\x3e"))}))})),e.on("SetContent",(()=>{e.addVisual(e.getBody())})),e.on("compositionstart compositionend",(t=>{e.composing="compositionstart"===t.type}))})(e),i.fold((()=>{lT(e).then((()=>cT(e)))}),(t=>{e.setProgressState(!0),lT(e).then((()=>{t().then((t=>{e.setProgressState(!1),cT(e),Jb(e)}),(t=>{e.notificationManager.open({type:"error",text:String(t)}),cT(e),Jb(e)}))}))}))},dT=F,hT=Cs.DOM,pT=Cs.DOM,fT=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),mT=e=>{const t=e.getElement();return e.inline?fT(null):(e=>{const t=pT.create("div");return pT.insertAfter(t,e),fT(t,t)})(t)},gT=Cs.DOM,vT=e=>"-"===e.charAt(0),yT=(e,t,n)=>L.from(t).filter((e=>Ke(e)&&!gw.has(e))).map((t=>({url:`${e.editorManager.baseURL}/icons/${t}/icons${n}.js`,name:L.some(t)}))),bT=St().deviceType,wT=bT.isPhone(),xT=bT.isTablet(),ET=e=>{if(w(e))return[];{const t=g(e)?e:e.split(/[ ,]/),n=q(t,We);return K(n,Ke)}},ST=(e,t)=>Ce(e.sections(),t),CT=(e,t)=>({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Se(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1,...t?{menubar:!1}:{}}),AT=(e,t)=>{var n;const r=null!==(n=t.external_plugins)&&void 0!==n?n:{};return e&&e.external_plugins?Dt.extend({},e.external_plugins,r):r},_T=(e,t)=>{const n=e.selection,r=e.dom;return/^ | $/.test(t)?((e,t,n)=>{const r=vn(e.getRoot());return n=ym(r,Ma.fromRangeStart(t))?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),bm(r,Ma.fromRangeEnd(t))?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," ")})(r,n.getRng(),t):t},kT=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:r}=(e=>{if("string"!=typeof e){const t=Dt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}})(t);Cb(e,{...r,content:_T(e,n),format:"html",set:!1,selection:!0}).each((t=>{const n=((e,t,n)=>Xb(e).editor.insertContent(t,n))(e,t.content,r);Ab(e,n,t),e.addVisual()}))}},TT={"font-size":"size","font-family":"face"},MT=$t("font"),PT=e=>(t,n)=>L.from(n).map(vn).filter(Gt).bind((n=>((e,t,n)=>Vg(vn(n),(t=>(t=>ar(t,e).orThunk((()=>MT(t)?Se(TT,e).bind((e=>Qt(t,e))):L.none())))(t)),(e=>xn(vn(t),e))))(e,t,n.dom).or(((e,t)=>L.from(Cs.DOM.getStyle(t,e,!0)))(e,n.dom)))).getOr(""),OT=PT("font-size"),RT=_((e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")),PT("font-family")),NT=e=>sd(e.getBody()).bind((e=>{const t=e.container();return L.from(Zr(t)?t.parentNode:t)})),DT=(e,t)=>((e,t)=>(e=>L.from(e.selection.getRng()).bind((t=>{const n=e.getBody();return t.startContainer===n&&0===t.startOffset?L.none():L.from(e.selection.getStart(!0))})))(e).orThunk(O(NT,e)).map(vn).filter(Gt).bind(t))(e,k(L.some,t)),IT=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const r=(e=>Dt.explode(e.options.get("font_size_style_values")))(e),o=(e=>Dt.explode(e.options.get("font_size_classes")))(e);return o.length>0?o[n-1]||t:r[n-1]||t}return t}return t},BT=e=>{const t=e.split(/\s*,\s*/);return q(t,(e=>-1===e.indexOf(" ")||Ue(e,'"')||Ue(e,"'")?e:`'${e}'`)).join(",")},FT=["toggleview"],LT=e=>U(FT,e.toLowerCase());class HT{constructor(e){this.commands={state:{},exec:{},value:{}},this.editor=e}execCommand(e,t=!1,n,r){const o=this.editor,i=e.toLowerCase(),s=null==r?void 0:r.skip_focus;if(o.removed)return!1;if("mcefocus"!==i&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(i)||s?(e=>{Zp(e).each((t=>e.selection.setRng(t)))})(o):o.focus()),o.dispatch("BeforeExecCommand",{command:e,ui:t,value:n}).isDefaultPrevented())return!1;const a=this.commands.exec[i];return!!E(a)&&(a(i,t,n),o.dispatch("ExecCommand",{command:e,ui:t,value:n}),!0)}queryCommandState(e){if(!LT(e)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const t=e.toLowerCase(),n=this.commands.state[t];return!!E(n)&&n(t)}queryCommandValue(e){if(!LT(e)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const t=e.toLowerCase(),n=this.commands.value[t];return E(n)?n(t):""}addCommands(e,t="exec"){const n=this.commands;me(e,((e,r)=>{W(r.toLowerCase().split(","),(r=>{n[t][r]=e}))}))}addCommand(e,t,n){const r=e.toLowerCase();this.commands.exec[r]=(e,r,o)=>t.call(null!=n?n:this.editor,r,o)}queryCommandSupported(e){const t=e.toLowerCase();return!!this.commands.exec[t]}addQueryStateHandler(e,t,n){this.commands.state[e.toLowerCase()]=()=>t.call(null!=n?n:this.editor)}addQueryValueHandler(e,t,n){this.commands.value[e.toLowerCase()]=()=>t.call(null!=n?n:this.editor)}}const zT="data-mce-contenteditable",VT=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}},jT=(e,t)=>{e.dom.contentEditable=t?"true":"false"},UT=e=>e.readonly,GT=e=>{e.parser.addAttributeFilter("contenteditable",(t=>{UT(e)&&W(t,(e=>{e.attr(zT,e.attr("contenteditable")),e.attr("contenteditable","false")}))})),e.serializer.addAttributeFilter(zT,(t=>{UT(e)&&W(t,(e=>{e.attr("contenteditable",e.attr(zT))}))})),e.serializer.addTempAttr(zT)},qT=["copy"],WT=Dt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class ZT{constructor(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||B}static isNative(e){return!!WT[e.toLowerCase()]}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){const n=e.toLowerCase(),r=ls(n,null!=t?t:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(r);const o=this.bindings[n];if(o)for(let e=0,t=o.length;e<t;e++){const t=o[e];if(!t.removed){if(t.once&&this.off(n,t.func),r.isImmediatePropagationStopped())return r;if(!1===t.func.call(this.scope,r))return r.preventDefault(),r}}return r}on(e,t,n,r){if(!1===t&&(t=B),t){const o={func:t,removed:!1};r&&Dt.extend(o,r);const i=e.toLowerCase().split(" ");let s=i.length;for(;s--;){const e=i[s];let t=this.bindings[e];t||(t=[],this.toggleEvent(e,!0)),t=n?[o,...t]:[...t,o],this.bindings[e]=t}}return this}off(e,t){if(e){const n=e.toLowerCase().split(" ");let r=n.length;for(;r--;){const o=n[r];let i=this.bindings[o];if(!o)return me(this.bindings,((e,t)=>{this.toggleEvent(t,!1),delete this.bindings[t]})),this;if(i){if(t){const e=$(i,(e=>e.func===t));i=e.fail,this.bindings[o]=i,W(e.pass,(e=>{e.removed=!0}))}else i.length=0;i.length||(this.toggleEvent(e,!1),delete this.bindings[o])}}}else me(this.bindings,((e,t)=>{this.toggleEvent(t,!1)})),this.bindings={};return this}once(e,t,n){return this.on(e,t,n,{once:!0})}has(e){e=e.toLowerCase();const t=this.bindings[e];return!(!t||0===t.length)}}const $T=e=>(e._eventDispatcher||(e._eventDispatcher=new ZT({scope:e,toggleEvent:(t,n)=>{ZT.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),KT={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const r=this;if(r.removed&&"remove"!==e&&"detach"!==e)return ls(e.toLowerCase(),null!=t?t:{},r);const o=$T(r).dispatch(e,t);if(!1!==n&&r.parent){let t=r.parent();for(;t&&!o.isPropagationStopped();)t.dispatch(e,o,!1),t=t.parent?t.parent():void 0}return o},on(e,t,n){return $T(this).on(e,t,n)},off(e,t){return $T(this).off(e,t)},once(e,t){return $T(this).once(e,t)},hasEventListeners(e){return $T(this).has(e)}},XT=Cs.DOM;let YT;const JT=(e,t)=>{if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=Yl(e);return n?(e.eventRoot||(e.eventRoot=XT.select(n)[0]),e.eventRoot):e.getBody()},QT=(e,t,n)=>{(e=>!e.hidden&&!UT(e))(e)?e.dispatch(t,n):UT(e)&&((e,t)=>{if((e=>"click"===e.type)(t)&&!Hh.metaKeyPressed(t)){const n=vn(t.target);((e,t)=>Jn(t,"a",(t=>xn(t,vn(e.getBody())))).bind((e=>Qt(e,"href"))))(e,n).each((n=>{if(t.preventDefault(),/^#/.test(n)){const t=e.dom.select(`${n},[name="${Ve(n,"#")}"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))}else(e=>U(qT,e.type))(t)&&e.dispatch(t.type,t)})(e,n)},eM=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=JT(e,t);if(Yl(e)){if(YT||(YT={},e.editorManager.on("removeEditor",(()=>{e.editorManager.activeEditor||YT&&(me(YT,((t,n)=>{e.dom.unbind(JT(e,n))})),YT=null)}))),YT[t])return;const r=n=>{const r=n.target,o=e.editorManager.get();let i=o.length;for(;i--;){const e=o[i].getBody();(e===r||XT.isChildOf(r,e))&&QT(o[i],t,n)}};YT[t]=r,XT.bind(n,t,r)}else{const r=n=>{QT(e,t,n)};XT.bind(n,t,r),e.delegates[t]=r}},tM={...KT,bindPendingEventDelegates(){const e=this;Dt.each(e._pendingNativeEvents,(t=>{eM(e,t)}))},toggleNativeEvent(e,t){const n=this;"focus"!==e&&"blur"!==e&&(n.removed||(t?n.initialized?eM(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(JT(n,e),e,n.delegates[e]),delete n.delegates[e])))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(me(e.delegates,((t,n)=>{e.dom.unbind(JT(e,n),n,t)})),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},nM=e=>p(e)?{value:e.split(/[ ,]/),valid:!0}:C(e,p)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},rM=(e,t)=>e+(Xe(t.message)?"":`. ${t.message}`),oM=e=>e.valid,iM=(e,t,n="")=>{const r=t(e);return y(r)?r?{value:e,valid:!0}:{valid:!1,message:n}:r},sM=["design","readonly"],aM=(e,t,n,r)=>{const o=n[t.get()],i=n[r];try{i.activate()}catch(e){return void console.error(`problem while activating editor mode ${r}:`,e)}o.deactivate(),o.editorReadOnly!==i.editorReadOnly&&((e,t)=>{const n=vn(e.getBody());((e,t,n)=>{hn(e,t)&&!n?dn(e,t):n&&cn(e,t)})(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),(e=>{L.from(e.selection.getNode()).each((e=>{e.removeAttribute("data-mce-selected")}))})(e),e.readonly=!0,jT(n,!1),W(Nr(n,'*[contenteditable="true"]'),(e=>{Xt(e,zT,"true"),jT(e,!1)}))):(e.readonly=!1,jT(n,!0),W(Nr(n,'*[data-mce-contenteditable="true"]'),(e=>{tn(e,zT),jT(e,!0)})),VT(e,"StyleWithCSS",!1),VT(e,"enableInlineTableEditing",!1),VT(e,"enableObjectResizing",!1),(e=>sf(e)||(e=>{const t=Vn(vn(e.getElement()));return Hp(t).filter((t=>!Jp(t.dom)&&Qp(e,t.dom))).isSome()})(e))(e)&&e.focus(),(e=>{e.selection.setRng(e.selection.getRng())})(e),e.nodeChanged())})(e,i.editorReadOnly),t.set(r),((e,t)=>{e.dispatch("SwitchMode",{mode:t})})(e,r)},lM=Dt.each,cM=Dt.explode,uM={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},dM=Dt.makeMap("alt,ctrl,shift,meta,access"),hM=e=>{const t={},n=Pt.os.isMacOS()||Pt.os.isiOS();lM(cM(e.toLowerCase(),"+"),(e=>{(e=>e in dM)(e)?t[e]=!0:/^[0-9]{2,}$/.test(e)?t.keyCode=parseInt(e,10):(t.charCode=e.charCodeAt(0),t.keyCode=uM[e]||e.toUpperCase().charCodeAt(0))}));const r=[t.keyCode];let o;for(o in dM)t[o]?r.push(o):t[o]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class pM{constructor(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;const t=this;e.on("keyup keypress keydown",(e=>{!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(lM(t.shortcuts,(n=>{t.matchShortcut(e,n)&&(t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n))})),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))}))}add(e,t,n,r){const o=this,i=o.normalizeCommandFunc(n);return lM(cM(Dt.trim(e)),(e=>{const n=o.createShortcut(e,t,i,r);o.shortcuts[n.id]=n})),!0}remove(e){const t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)}normalizeCommandFunc(e){const t=this,n=e;return"string"==typeof n?()=>{t.editor.execCommand(n,!1,null)}:Dt.isArray(n)?()=>{t.editor.execCommand(n[0],n[1],n[2])}:n}createShortcut(e,t,n,r){const o=Dt.map(cM(e,">"),hM);return o[o.length-1]=Dt.extend(o[o.length-1],{func:n,scope:r||this.editor}),Dt.extend(o[0],{desc:this.editor.translate(t),subpatterns:o.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}const fM=()=>{const e=(()=>{const e={},t={},n={},r={},o={},i={},s={},a={},l=(e,t)=>(n,r)=>{e[n.toLowerCase()]={...r,type:t}};return{addButton:l(e,"button"),addGroupToolbarButton:l(e,"grouptoolbarbutton"),addToggleButton:l(e,"togglebutton"),addMenuButton:l(e,"menubutton"),addSplitButton:l(e,"splitbutton"),addMenuItem:l(t,"menuitem"),addNestedMenuItem:l(t,"nestedmenuitem"),addToggleMenuItem:l(t,"togglemenuitem"),addAutocompleter:l(n,"autocompleter"),addContextMenu:l(o,"contextmenu"),addContextToolbar:l(i,"contexttoolbar"),addContextForm:l(i,"contextform"),addSidebar:l(s,"sidebar"),addView:l(a,"views"),addIcon:(e,t)=>r[e.toLowerCase()]=t,getAll:()=>({buttons:e,menuItems:t,icons:r,popups:n,contextMenus:o,contextToolbars:i,sidebars:s,views:a})}})();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},mM=Cs.DOM,gM=Dt.extend,vM=Dt.each;class yM{constructor(e,t,n){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,gM(this,tM);const r=this;this.id=e,this.hidden=!1;const o=((e,t)=>((e,t,n,r,o)=>{var i;const s=e?{mobile:CT(null!==(i=o.mobile)&&void 0!==i?i:{},t)}:{},a=((e,t)=>{const n=((t,n)=>{const r={},o={};return be(t,((t,n)=>U(e,n)),ye(r),ye(o)),{t:r,f:o}})(t);return r=n.t,o=n.f,{sections:T(r),options:T(o)};var r,o})(["mobile"],MC(s,o)),l=Dt.extend(n,r,a.options(),((e,t)=>e&&ST(t,"mobile"))(e,a)?((e,t,n={})=>{const r=e.sections(),o=Se(r,t).getOr({});return Dt.extend({},n,o)})(a,"mobile"):{},{external_plugins:AT(r,a.options())});return((e,t,n,r)=>{const o=ET(n.forced_plugins),i=ET(r.plugins),s=((e,t)=>ST(e,t)?e.sections()[t]:{})(t,"mobile"),a=((e,t,n,r)=>e&&ST(t,"mobile")?r:n)(e,t,i,s.plugins?ET(s.plugins):i),l=((e,t)=>[...ET(e),...ET(t)])(o,a);return Dt.extend(r,{forced_plugins:o,plugins:l})})(e,a,r,l)})(wT||xT,wT,t,e,t))(n.defaultOptions,t);this.options=((e,t)=>{const n={},r={},o=(e,t,n)=>{const o=iM(t,n);return oM(o)?(r[e]=o.value,!0):(console.warn(rM(`Invalid value passed for the ${e} option`,o)),!1)},i=e=>Ce(n,e);return{register:(e,i)=>{const s=(e=>p(e.processor))(i)?(e=>{const t=(()=>{switch(e){case"array":return g;case"boolean":return y;case"function":return E;case"number":return S;case"object":return f;case"string":return p;case"string[]":return nM;case"object[]":return e=>C(e,f);case"regexp":return e=>h(e,RegExp);default:return F}})();return n=>iM(n,t,`The value must be a ${e}.`)})(i.processor):i.processor,a=((e,t,n)=>{if(!b(t)){const r=iM(t,n);if(oM(r))return r.value;console.error(rM(`Invalid default value passed for the "${e}" option`,r))}})(e,i.default,s);n[e]={...i,default:a,processor:s},Se(r,e).orThunk((()=>Se(t,e))).each((t=>o(e,t,s)))},isRegistered:i,get:e=>Se(r,e).orThunk((()=>Se(n,e).map((e=>e.default)))).getOrUndefined(),set:(e,t)=>{if(i(e)){const r=n[e];return r.immutable?(console.error(`"${e}" is an immutable option and cannot be updated`),!1):o(e,t,r.processor)}return console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:e=>{const t=i(e);return t&&delete r[e],t},isSet:e=>Ce(r,e)}})(0,o),(e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:pl(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:pl(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:e=>{const t=p(e)&&Ke(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:e=>{const t=U(["block","linebreak","invert","default"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:e=>y(e)||p(e)?{valid:!0,value:e}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:e=>{const t=!1===e||p(e)||C(e,p);return t?p(e)?{value:q(e.split(","),We),valid:t}:g(e)?{value:e,valid:t}:!1===e?{value:[],valid:t}:{value:e,valid:t}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:cc(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:e=>{const t=p(e)||C(e,p);return t?{value:g(e)?e:q(e.split(","),We),valid:t}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:e=>{const t=y(e)||p(e);return t?!1===e||al.isiPhone()||al.isiPad()?{value:"",valid:t}:{value:!0===e?"table,img,figure.image,div,video,iframe":e,valid:t}:{valid:!1,message:"Must be boolean or a string"}},default:!ll}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:e=>!1===e||p(e)||E(e),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:e=>{const t=!1===e||p(e);return t?{value:!1===e?"":e,valid:t}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean"}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:hl}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:hl}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:hl}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:e=>p(e)||!0===e}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:e=>C(e,f)||!1===e?{value:sl(!1===e?[]:e),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("text_patterns_lookup",{processor:e=>{return E(e)?{value:(t=e,e=>{const n=t(e);return sl(n)}),valid:!0}:{valid:!1,message:"Must be a single function"};var t},default:e=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:e=>C(e,ul)?{value:e,valid:!0}:ul(e)?{value:[e],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!1}),t("xss_sanitization",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",(()=>{t("directionality",{processor:"string",default:Os.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:cl.getAttrib(e.getElement(),"placeholder")})}))})(r);const i=this.options.get;i("deprecation_warnings")&&((e,t)=>{((e,t)=>{const n=(e=>{const t=dw(e,aw),n=e.forced_root_block;return!1!==n&&""!==n||t.push("forced_root_block (false only)"),ae(t)})(e),r=(e=>hw(e,cw))(t),o=r.length>0,i=n.length>0,s="mobile"===t.theme;if(o||i||s){const e="\n- ",t=s?`\n\nThemes:${e}mobile`:"",a=o?`\n\nPlugins:${e}${r.join(e)}`:"",l=i?`\n\nOptions:${e}${n.join(e)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+t+a+l)}})(e,t),((e,t)=>{const n=(e=>dw(e,lw))(e),r=(e=>hw(e,uw.map((e=>e.name))))(t),o=r.length>0,i=n.length>0;if(o||i){const e="\n- ",t=o?`\n\nPlugins:${e}${r.map(pw).join(e)}`:"",s=i?`\n\nOptions:${e}${n.join(e)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+t+s)}})(e,t)})(t,o);const s=i("suffix");s&&(n.suffix=s),this.suffix=n.suffix;const a=i("base_url");a&&n._setBaseUrl(a),this.baseUri=n.baseURI;const l=Ll(r);l&&(_s.ScriptLoader._setReferrerPolicy(l),Cs.DOM.styleSheetLoader._setReferrerPolicy(l));const c=vc(r);x(c)&&Cs.DOM.styleSheetLoader._setContentCssCors(c),Rs.languageLoad=i("language_load"),Rs.baseURL=n.baseURL,this.setDirty(!1),this.documentBaseURI=new lb(gl(r),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=cc(r),this.hasVisual=xc(r),this.shortcuts=new pM(this),this.editorCommands=new HT(this),(e=>{(e=>{(e=>{const t=t=>()=>{W("left,center,right,justify".split(","),(n=>{t!==n&&e.formatter.remove("align"+n)})),"none"!==t&&((t,n)=>{e.formatter.toggle(t,void 0),e.nodeChanged()})("align"+t)};e.editorCommands.addCommands({JustifyLeft:t("left"),JustifyCenter:t("center"),JustifyRight:t("right"),JustifyFull:t("justify"),JustifyNone:t("none")})})(e),(e=>{const t=t=>()=>{const n=e.selection,r=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks();return G(r,(n=>x(e.formatter.matchNode(n,t))))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")})(e)})(e),(e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let r;try{n.execCommand(t)}catch(e){r=!0}if("paste"!==t||n.queryCommandEnabled(t)||(r=!0),r||!n.queryCommandSupported(t)){let t=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Pt.os.isMacOS()||Pt.os.isiOS())&&(t=t.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:t,type:"error"})}}})})(e),(e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})})(e),(e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,r)=>{let o=0;e.dom.getParent(e.selection.getNode(),(t=>!Lr(t)||o++!==r||(e.selection.select(t),!1)),e.getBody())},mceSelectNode:(t,n,r)=>{e.selection.select(r)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),to);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})})(e),(e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,r)=>{kT(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,r)=>{kT(e,e.dom.encode(r))},insertHTML:(t,n,r)=>{kT(e,r)},mceInsertContent:(t,n,r)=>{kT(e,r)},mceSetContent:(t,n,r)=>{e.setContent(r)},mceReplaceContent:(t,n,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent("")}})})(e),(e=>{const t=(t,n,r)=>{const o=p(r)?{href:r}:r,i=e.dom.getParent(e.selection.getNode(),"a");f(o)&&p(o.href)&&(o.href=o.href.replace(/ /g,"%20"),i&&o.href||e.formatter.remove("link"),o.href&&e.formatter.apply("link",o,i))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isCollapsed()){const t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else e.formatter.remove("link")},mceInsertLink:t,createLink:t})})(e),(e=>{e.editorCommands.addCommands({Indent:()=>{(e=>{lS(e,"indent")})(e)},Outdent:()=>{cS(e)}}),e.editorCommands.addCommands({Outdent:()=>iS(e)},"state")})(e),(e=>{e.editorCommands.addCommands({insertParagraph:()=>{c_(jA,e)},mceInsertNewLine:(t,n,r)=>{u_(e,r)},InsertLineBreak:(t,n,r)=>{c_(XA,e)}})})(e),(e=>{(e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const n=e.dom.getParent(e.selection.getNode(),"ol,ul");if(n){const t=n.parentNode;if(t&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName)){const r=e.selection.getBookmark();e.dom.split(t,n),e.selection.moveToBookmark(r)}}}})})(e),(e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state")})(e)})(e),(e=>{(e=>{const t=(t,n)=>{e.formatter.toggle(t,n),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{t(e)},"ForeColor,HiliteColor":(e,n,r)=>{t(e,{value:r})},BackColor:(e,n,r)=>{t("hilitecolor",{value:r})},FontName:(t,n,r)=>{((e,t)=>{const n=IT(e,t);e.formatter.toggle("fontname",{value:BT(n)}),e.nodeChanged()})(e,r)},FontSize:(t,n,r)=>{((e,t)=>{e.formatter.toggle("fontsize",{value:IT(e,t)}),e.nodeChanged()})(e,r)},LineHeight:(t,n,r)=>{((e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()})(e,r)},Lang:(e,n,r)=>{var o;t(e,{value:r.code,customValue:null!==(o=r.customCode)&&void 0!==o?o:null})},RemoveFormat:t=>{e.formatter.remove(t)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(e,n,r)=>{t(p(r)?r:"p")},mceToggleFormat:(e,n,r)=>{t(r)}})})(e),(e=>{const t=t=>e.formatter.match(t);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",(()=>(e=>DT(e,(t=>RT(e.getBody(),t.dom))).getOr(""))(e))),e.editorCommands.addQueryValueHandler("FontSize",(()=>(e=>DT(e,(t=>OT(e.getBody(),t.dom))).getOr(""))(e))),e.editorCommands.addQueryValueHandler("LineHeight",(()=>(e=>DT(e,(t=>{const n=vn(e.getBody()),r=Vg(t,(e=>ar(e,"line-height")),O(xn,n));return r.getOrThunk((()=>{const e=parseFloat(ir(t,"line-height")),n=parseFloat(ir(t,"font-size"));return String(e/n)}))})).getOr(""))(e)))})(e)})(e),(e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,r)=>{const o=null!=r?r:e.selection.getNode();if(o!==e.getBody()){const t=e.selection.getBookmark();e.dom.remove(o,!0),e.selection.moveToBookmark(t)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,r)=>{((e,t)=>{e.removed||(t?af(e):(e=>{const t=e.selection,n=e.getBody();let r=t.getRng();e.quirks.refreshContentEditable(),x(e.bookmark)&&!sf(e)&&Zp(e).each((t=>{e.selection.setRng(t),r=t}));const o=((e,t)=>e.dom.getParent(t,(t=>"true"===e.dom.getContentEditable(t))))(e,t.getNode());if(o&&e.dom.isChildOf(o,n))return of(o),rf(e,r),void af(e);e.inline||(Pt.browser.isOpera()||of(n),e.getWin().focus()),(Pt.browser.isFirefox()||e.inline)&&(of(n),rf(e,r)),af(e)})(e))})(e,!0===r)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})})(e)})(this);const u=i("cache_suffix");u&&(Pt.cacheSuffix=u.replace(/^[\?\&]+/,"")),this.ui={registry:fM(),styleSheetLoader:void 0,show:A,hide:A,setEnabled:A,isEnabled:F},this.mode=(e=>{const t=ks("design"),n=ks({design:{activate:A,deactivate:A,editorReadOnly:!1},readonly:{activate:A,deactivate:A,editorReadOnly:!0}});return(e=>{e.serializer?GT(e):e.on("PreInit",(()=>{GT(e)}))})(e),(e=>{e.on("ShowCaret",(t=>{UT(e)&&t.preventDefault()})),e.on("ObjectSelected",(t=>{UT(e)&&t.preventDefault()}))})(e),{isReadOnly:()=>UT(e),set:r=>((e,t,n,r)=>{if(r!==n.get()){if(!Ce(t,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?aM(e,n,t,r):e.on("init",(()=>aM(e,n,t,r)))}})(e,n.get(),t,r),get:()=>t.get(),register:(e,t)=>{n.set(((e,t,n)=>{if(U(sM,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}})(n.get(),e,t))}}})(r),n.dispatch("SetupEditor",{editor:this});const d=Ac(r);E(d)&&d.call(r,r)}render(){(e=>{const t=e.id;Os.setCode(Hl(e));const n=()=>{gT.unbind(window,"ready",n),e.render()};if(!fs.Event.domLoaded)return void gT.bind(window,"ready",n);if(!e.getElement())return;const r=vn(e.getElement()),o=nn(r);e.on("remove",(()=>{Z(r.dom.attributes,(e=>tn(r,e.name))),Yt(r,o)})),e.ui.styleSheetLoader=((e,t)=>Ti.forElement(e,{contentCssCors:vc(t),referrerPolicy:Ll(t)}))(r,e),cc(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const i=e.getElement().form||gT.getParent(t,"form");i&&(e.formElement=i,uc(e)&&!Wr(e.getElement())&&(gT.insertAfter(gT.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=t=>{e.dispatch(t.type,t)},gT.bind(i,"submit reset",e.formEventDelegate),e.on("reset",(()=>{e.resetContent()})),!dc(e)||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)))),e.windowManager=kw(e),e.notificationManager=Cw(e),(e=>"xml"===e.options.get("encoding"))(e)&&e.on("GetContent",(e=>{e.save&&(e.content=gT.encode(e.content))})),hc(e)&&e.on("submit",(()=>{e.initialized&&e.save()})),pc(e)&&(e._beforeUnload=()=>{!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),((e,t)=>{const n=_s.ScriptLoader,r=()=>{!e.removed&&(e=>{const t=Ql(e);return!p(t)||x(_w.get(t))})(e)&&(e=>{const t=tc(e);return x(vw.get(t))})(e)&&(async e=>{e.dispatch("ScriptsLoaded"),(e=>{const t=Dt.trim(Ol(e)),n=e.ui.registry.getAll().icons,r={...gw.get("default").icons,...gw.get(t).icons};me(r,((t,r)=>{Ce(n,r)||e.ui.registry.addIcon(r,t)}))})(e),(e=>{const t=Ql(e);if(p(t)){const n=_w.get(t);e.theme=n(e,_w.urls[t])||{},E(e.theme.init)&&e.theme.init(e,_w.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}})(e),(e=>{const t=tc(e),n=vw.get(t);e.model=n(e,vw.urls[t])})(e),(e=>{const t=[];W(yc(e),(n=>{((e,t,n)=>{const r=Aw.get(n),o=Aw.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Dt.trim(n),r&&-1===Dt.inArray(t,n)){if(e.plugins[n])return;try{const i=r(e,o)||{};e.plugins[n]=i,E(i.init)&&(i.init(e,o),t.push(n))}catch(t){((e,t,n)=>{const r=Os.translate(["Failed to initialize plugin: {0}",t]);Nh(e,"PluginLoadError",{message:r}),Rw(r,n),Mw(e,r)})(e,n,t)}}})(e,t,(e=>e.replace(/^\-/,""))(n))}))})(e);const t=await(e=>{const t=e.getElement();return e.orgDisplay=t.style.display,p(Ql(e))?(e=>{const t=e.theme.renderUI;return t?t():mT(e)})(e):E(Ql(e))?(e=>{const t=e.getElement(),n=Ql(e)(e,t);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight,n})(e):mT(e)})(e);((e,t)=>{const n={show:L.from(t.show).getOr(A),hide:L.from(t.hide).getOr(A),isEnabled:L.from(t.isEnabled).getOr(F),setEnabled:n=>{e.mode.isReadOnly()||L.from(t.setEnabled).each((e=>e(n)))}};e.ui={...e.ui,...n}})(e,L.from(t.api).getOr({})),e.editorContainer=t.editorContainer,(e=>{e.contentCSS=e.contentCSS.concat((e=>Nw(e,Ul(e)))(e),(e=>Nw(e,ql(e)))(e))})(e),e.inline?uT(e):((e,t)=>{((e,t)=>{const n=e.translate("Rich Text Area"),r=Qt(vn(e.getElement()),"tabindex").bind(Ye),o=((e,t,n,r)=>{const o=mn("iframe");return r.each((e=>Xt(o,"tabindex",e))),Yt(o,n),Yt(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),cn(o,"tox-edit-area__iframe"),o})(e.id,n,fl(e),r).dom;o.onload=()=>{o.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=o,e.iframeHTML=(e=>{let t=ml(e)+"<html><head>";gl(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=vl(e),r=yl(e),o=e.translate(Cc(e));return bl(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+bl(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${o}"><br></body></html>`,t})(e),hT.add(t.iframeContainer,o)})(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=hT.isHidden(t.editorContainer)),e.getElement().style.display="none",hT.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,(e=>{const t=e.iframeElement,n=((e,t,n,r)=>((e,t,n,r,o)=>{const i=((e,t)=>n=>{e(n)&&t((e=>{const t=vn(Gn(e).getOr(e.target)),n=()=>e.stopPropagation(),r=()=>e.preventDefault(),o=_(r,n);return((e,t,n,r,o,i,s)=>({target:e,x:t,y:n,stop:r,prevent:o,kill:i,raw:s}))(t,e.clientX,e.clientY,n,r,o,e)})(n))})(n,r);return e.dom.addEventListener(t,i,!1),{unbind:O(Er,e,t,i,!1)}})(e,"load",n,r))(vn(t),0,dT,(()=>{n.unbind(),e.contentDocument=t.contentDocument,uT(e)}));if(Pt.browser.isFirefox()){const t=e.getDoc();t.open(),t.write(e.iframeHTML),t.close()}else t.srcdoc=e.iframeHTML})(e)})(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})})(e)};((e,t)=>{const n=Ql(e);if(p(n)&&!vT(n)&&!Ce(_w.urls,n)){const r=ec(e),o=r?e.documentBaseURI.toAbsolute(r):`themes/${n}/theme${t}.js`;_w.load(n,o).catch((()=>{((e,t,n)=>{Pw(e,"ThemeLoadError",Ow("theme",t,n))})(e,o,n)}))}})(e,t),((e,t)=>{const n=tc(e);if("plugin"!==n&&!Ce(vw.urls,n)){const r=nc(e),o=p(r)?e.documentBaseURI.toAbsolute(r):`models/${n}/model${t}.js`;vw.load(n,o).catch((()=>{((e,t,n)=>{Pw(e,"ModelLoadError",Ow("model",t,n))})(e,o,n)}))}})(e,t),((e,t)=>{const n=Hl(t),r=zl(t);if(!Os.hasCode(n)&&"en"!==n){const o=Ke(r)?r:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(o).catch((()=>{((e,t,n)=>{Pw(e,"LanguageLoadError",Ow("language",t,n))})(t,o,n)}))}})(n,e),((e,t,n)=>{const r=yT(t,"default",n),o=(e=>L.from(Rl(e)).filter(Ke).map((e=>({url:e,name:L.none()}))))(t).orThunk((()=>yT(t,Ol(t),"")));W((e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t})([r,o]),(n=>{e.add(n.url).catch((()=>{((e,t,n)=>{Pw(e,"IconsLoadError",Ow("icons",t,n))})(t,n.url,n.name.getOrUndefined())}))}))})(n,e,t),((e,t)=>{const n=(t,n)=>{Aw.load(t,n).catch((()=>{((e,t,n)=>{Pw(e,"PluginLoadError",Ow("plugin",t,n))})(e,n,t)}))};me(bc(e),((t,r)=>{n(r,t),e.options.set("plugins",yc(e).concat(r))})),W(yc(e),(e=>{!(e=Dt.trim(e))||Aw.urls[e]||vT(e)||n(e,`plugins/${e}/plugin${t}.js`)}))})(e,t),n.loadQueue().then(r,r)})(e,e.suffix)})(this)}focus(e){this.execCommand("mceFocus",!1,e)}hasFocus(){return sf(this)}translate(e){return Os.translate(e)}getParam(e,t,n){const r=this.options;return r.isRegistered(e)||(x(n)?r.register(e,{processor:n,default:t}):r.register(e,{processor:F,default:t})),r.isSet(e)||b(t)?r.get(e):t}hasPlugin(e,t){return!(!U(yc(this),e)||t&&void 0===Aw.get(e))}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,n){this.editorCommands.addCommand(e,t,n)}addQueryStateHandler(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)}addQueryValueHandler(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)}addShortcut(e,t,n,r){this.shortcuts.add(e,t,n,r)}execCommand(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){const e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(mM.show(e.getContainer()),mM.hide(e.id)),e.load(),e.dispatch("show"))}hide(){const e=this;e.hidden||(e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(mM.hide(e.getContainer()),mM.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch("ProgressState",{state:e,time:t})}load(e={}){const t=this,n=t.getElement();if(t.removed)return"";if(n){const r={...e,load:!0},o=Wr(n)?n.value:n.innerHTML,i=t.setContent(o,r);return r.no_events||t.dispatch("LoadContent",{...r,element:n}),i}return""}save(e={}){const t=this;let n=t.getElement();if(!n||!t.initialized||t.removed)return"";const r={...e,save:!0,element:n};let o=t.getContent(r);const i={...r,content:o};if(i.no_events||t.dispatch("SaveContent",i),"raw"===i.format&&t.dispatch("RawSaveContent",i),o=i.content,Wr(n))n.value=o;else{!e.is_removing&&t.inline||(n.innerHTML=o);const r=mM.getParent(t.id,"form");r&&vM(r.elements,(e=>e.name!==t.id||(e.value=o,!1)))}return i.element=r.element=n=null,!1!==i.set_dirty&&t.setDirty(!1),o}setContent(e,t){return sw(this,e,t)}getContent(e){return((e,t={})=>{const n=((e,t)=>({...e,format:t,get:!0,getInner:!0}))(t,t.format?t.format:"html");return Eb(e,n).fold(M,(t=>{const n=((e,t)=>Xb(e).editor.getContent(t))(e,t);return Sb(e,n,t)}))})(this,e)}insertContent(e,t){t&&(e=gM({content:e},t)),this.execCommand("mceInsertContent",!1,e)}resetContent(e){void 0===e?sw(this,this.startContent,{format:"raw"}):sw(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){const t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.dispatch("dirty")}getContainer(){const e=this;return e.container||(e.container=e.editorContainer||mM.get(e.id+"_parent")),e.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=mM.get(this.id)),this.targetElm}getWin(){const e=this;if(!e.contentWindow){const t=e.iframeElement;t&&(e.contentWindow=t.contentWindow)}return e.contentWindow}getDoc(){const e=this;if(!e.contentDocument){const t=e.getWin();t&&(e.contentDocument=t.document)}return e.contentDocument}getBody(){var e,t;const n=this.getDoc();return null!==(t=null!==(e=this.bodyElement)&&void 0!==e?e:null==n?void 0:n.body)&&void 0!==t?t:null}convertURL(e,t,n){const r=this,o=r.options.get,i=kc(r);return E(i)?i.call(r,e,n,!0,t):!o("convert_urls")||"link"===n||f(n)&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:o("relative_urls")?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,o("remove_script_host"))}addVisual(e){((e,t)=>{((e,t)=>{Yb(this).editor.addVisual(t)})(0,t)})(0,e)}remove(){(e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,r=e.getBody(),o=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&x(null==o?void 0:o.nextSibling)&&fw.remove(o.nextSibling),(e=>{e.dispatch("remove")})(e),e.editorManager.remove(e),!e.inline&&r&&(e=>{fw.setStyle(e.id,"display",e.orgDisplay)})(e),(e=>{e.dispatch("detach")})(e),fw.remove(e.getContainer()),mw(t),mw(n),e.destroy()}})(this)}destroy(e){((e,t)=>{const{selection:n,dom:r}=e;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),mw(n),mw(r)),(e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),fw.unbind(t,"submit reset",e.formEventDelegate))})(e),(e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const e=n.dom;t.selection=n.win=n.dom=e.doc=null}})(e),e.destroyed=!0):e.remove())})(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const bM=Cs.DOM,wM=Dt.each;let xM,EM=!1,SM=[];const CM=e=>{const t=e.type;wM(TM.get(),(n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e)}}))},AM=e=>{if(e!==EM){const t=Cs.DOM;e?(t.bind(window,"resize",CM),t.bind(window,"scroll",CM)):(t.unbind(window,"resize",CM),t.unbind(window,"scroll",CM)),EM=e}},_M=e=>{const t=SM;return SM=K(SM,(t=>e!==t)),TM.activeEditor===e&&(TM.activeEditor=SM.length>0?SM[0]:null),TM.focusedEditor===e&&(TM.focusedEditor=null),t.length!==SM.length},kM="CSS1Compat"!==document.compatMode,TM={...KT,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"4.0",releaseDate:"2023-03-15",i18n:Os,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",r=lb.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const o=window.tinymce||window.tinyMCEPreInit;if(o)t=o.base||o.baseURL,n=o.suffix;else{const e=document.getElementsByTagName("script");for(let r=0;r<e.length;r++){const o=e[r].src||"";if(""===o)continue;const i=o.substring(o.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(o)){-1!==i.indexOf(".min")&&(n=".min"),t=o.substring(0,o.lastIndexOf("/"));break}}if(!t&&document.currentScript){const e=document.currentScript.src;-1!==e.indexOf(".min")&&(n=".min"),t=e.substring(0,e.lastIndexOf("/"))}}var i;e.baseURL=new lb(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new lb(e.baseURL),e.suffix=n,(i=e).on("AddEditor",O(tf,i)),i.on("RemoveEditor",O(nf,i))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const r=e.plugin_base_urls;void 0!==r&&me(r,((e,t)=>{Rs.PluginManager.urls[t]=e}))},init(e){const t=this;let n;const r=Dt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let o=e=>{n=e};const i=()=>{let n=0;const s=[];let a;bM.unbind(window,"ready",i),(n=>{const r=e.onpageload;r&&r.apply(t,[])})(),a=((e,t)=>{const n=[],r=E(t)?e=>G(n,(n=>t(n,e))):e=>U(n,e);for(let t=0,o=e.length;t<o;t++){const o=e[t];r(o)||n.push(o)}return n})((e=>Pt.browser.isIE()||Pt.browser.isEdge()?(Rw("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):kM?(Rw("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):p(e.selector)?bM.select(e.selector):x(e.target)?[e.target]:[])(e)),Dt.each(a,(e=>{var n;(n=t.get(e.id))&&n.initialized&&!(n.getContainer()||n.getBody()).parentNode&&(_M(n),n.unbindAllNativeEvents(),n.destroy(!0),n.removed=!0)})),a=Dt.grep(a,(e=>!t.get(e.id))),0===a.length?o([]):wM(a,(i=>{((e,t)=>e.inline&&t.tagName.toLowerCase()in r)(e,i)?Rw("Could not initialize inline editor on invalid inline target element",i):((e,r,i)=>{const l=new yM(e,r,t);s.push(l),l.on("init",(()=>{++n===a.length&&o(s)})),l.targetElm=l.targetElm||i,l.render()})((e=>{let t=e.id;return t||(t=Se(e,"name").filter((e=>!bM.get(e))).getOrThunk(bM.uniqueId),e.setAttribute("id",t)),t})(i),e,i)}))};return bM.bind(window,"ready",i),new Promise((e=>{n?e(n):o=t=>{e(t)}}))},get(e){return 0===arguments.length?SM.slice(0):p(e)?Q(SM,(t=>t.id===e)).getOr(null):S(e)&&SM[e]?SM[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(null===n&&SM.push(e),AM(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),xM||(xM=e=>{const n=t.dispatch("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",xM))),e},createEditor(e,t){return this.add(new yM(e,t,this))},remove(e){const t=this;let n;if(e){if(!p(e))return n=e,v(t.get(n.id))?null:(_M(n)&&t.dispatch("RemoveEditor",{editor:n}),0===SM.length&&window.removeEventListener("beforeunload",xM),n.remove(),AM(SM.length>0),n);wM(bM.select(e),(e=>{n=t.get(e.id),n&&t.remove(n)}))}else for(let e=SM.length-1;e>=0;e--)t.remove(SM[e])},execCommand(e,t,n){var r;const o=this,i=f(n)?null!==(r=n.id)&&void 0!==r?r:n.index:n;switch(e){case"mceAddEditor":if(!o.get(i)){const e=n.options;new yM(i,e,o).render()}return!0;case"mceRemoveEditor":{const e=o.get(i);return e&&e.remove(),!0}case"mceToggleEditor":{const e=o.get(i);return e?(e.isHidden()?e.show():e.hide(),!0):(o.execCommand("mceAddEditor",!1,n),!0)}}return!!o.activeEditor&&o.activeEditor.execCommand(e,t,n)},triggerSave:()=>{wM(SM,(e=>{e.save()}))},addI18n:(e,t)=>{Os.add(e,t)},translate:e=>Os.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new lb(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new lb(this.baseURL)}};TM.setup();const MM=(()=>{const e=Ds();return{FakeClipboardItem:e=>({items:e,types:pe(e),getType:t=>Se(e,t).getOrUndefined()}),write:t=>{e.set(t)},read:()=>e.get().getOrUndefined(),clear:e.clear}})(),PM=Math.min,OM=Math.max,RM=Math.round,NM=(e,t,n)=>{let r=t.x,o=t.y;const i=e.w,s=e.h,a=t.w,l=t.h,c=(n||"").split("");return"b"===c[0]&&(o+=l),"r"===c[1]&&(r+=a),"c"===c[0]&&(o+=RM(l/2)),"c"===c[1]&&(r+=RM(a/2)),"b"===c[3]&&(o-=s),"r"===c[4]&&(r-=i),"c"===c[3]&&(o-=RM(s/2)),"c"===c[4]&&(r-=RM(i/2)),DM(r,o,i,s)},DM=(e,t,n,r)=>({x:e,y:t,w:n,h:r}),IM={inflate:(e,t,n)=>DM(e.x-t,e.y-n,e.w+2*t,e.h+2*n),relativePosition:NM,findBestRelativePosition:(e,t,n,r)=>{for(let o=0;o<r.length;o++){const i=NM(e,t,r[o]);if(i.x>=n.x&&i.x+i.w<=n.w+n.x&&i.y>=n.y&&i.y+i.h<=n.h+n.y)return r[o]}return null},intersect:(e,t)=>{const n=OM(e.x,t.x),r=OM(e.y,t.y),o=PM(e.x+e.w,t.x+t.w),i=PM(e.y+e.h,t.y+t.h);return o-n<0||i-r<0?null:DM(n,r,o-n,i-r)},clamp:(e,t,n)=>{let r=e.x,o=e.y,i=e.x+e.w,s=e.y+e.h;const a=t.x+t.w,l=t.y+t.h,c=OM(0,t.x-r),u=OM(0,t.y-o),d=OM(0,i-a),h=OM(0,s-l);return r+=c,o+=u,n&&(i+=c,s+=u,r-=d,o-=h),i-=d,s-=h,DM(r,o,i-r,s-o)},create:DM,fromClientRect:e=>DM(e.left,e.top,e.width,e.height)},BM=(()=>{const e={},t={};return{load:(n,r)=>{const o=`Script at URL "${r}" failed to load`,i=`Script at URL "${r}" did not call \`tinymce.Resource.add('${n}', data)\` within 1 second`;if(void 0!==e[n])return e[n];{const s=new Promise(((e,s)=>{const a=((e,t,n=1e3)=>{let r=!1,o=null;const i=e=>(...t)=>{r||(r=!0,null!==o&&(clearTimeout(o),o=null),e.apply(null,t))},s=i(e),a=i(t);return{start:(...e)=>{r||null!==o||(o=setTimeout((()=>a.apply(null,e)),n))},resolve:s,reject:a}})(e,s);t[n]=a.resolve,_s.ScriptLoader.loadScript(r).then((()=>a.start(i)),(()=>a.reject(o)))}));return e[n]=s,s}},add:(n,r)=>{void 0!==t[n]&&(t[n](r),delete t[n]),e[n]=Promise.resolve(r)},unload:t=>{delete e[t]}}})();let FM;try{const e="__storage_test__";FM=window.localStorage,FM.setItem(e,e),FM.removeItem(e)}catch(t){FM=(()=>{let e={},t=[];const n={getItem:t=>e[t]||null,setItem:(n,r)=>{t.push(n),e[n]=String(r)},key:e=>t[e],removeItem:n=>{t=t.filter((e=>e===n)),delete e[n]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})()}const LM={geom:{Rect:IM},util:{Delay:Kp,Tools:Dt,VK:Hh,URI:lb,EventDispatcher:ZT,Observable:KT,I18n:Os,LocalStorage:FM,ImageUploader:e=>{const t=Dw(),n=Fw(e,t);return{upload:(t,r=!0)=>n.upload(t,r?Bw(e):void 0)}}},dom:{EventUtils:fs,TreeWalker:Ir,TextSeeker:ea,DOMUtils:Cs,ScriptLoader:_s,RangeUtils:gp,Serializer:iw,StyleSheetLoader:ki,ControlSelection:Gh,BookmarkManager:Oh,Selection:rw,Event:fs.Event},html:{Styles:is,Entities:qi,Node:xf,Schema:os,DomParser:wb,Writer:Mf,Serializer:Pf},Env:Pt,AddOnManager:Rs,Annotator:Ph,Formatter:$w,UndoManager:Xw,EditorCommands:HT,WindowManager:kw,NotificationManager:Cw,EditorObservable:tM,Shortcuts:pM,Editor:yM,FocusManager:$p,EditorManager:TM,DOM:Cs.DOM,ScriptLoader:_s.ScriptLoader,PluginManager:Aw,ThemeManager:_w,ModelManager:vw,IconManager:gw,Resource:BM,FakeClipboard:MM,trim:Dt.trim,isArray:Dt.isArray,is:Dt.is,toArray:Dt.toArray,makeMap:Dt.makeMap,each:Dt.each,map:Dt.map,grep:Dt.grep,inArray:Dt.inArray,extend:Dt.extend,walk:Dt.walk,resolve:Dt.resolve,explode:Dt.explode,_addCacheSuffix:Dt._addCacheSuffix},HM=Dt.extend(TM,LM);(e=>{window.tinymce=e,window.tinyMCE=e})(HM),(t=>{try{e.exports=t}catch(t){}})(HM)}()},9346:(e,t,n)=>{var r,o;n.amdD,r=[n(8563)],void 0===(o=function(e){return function(){var t,n,r,o=0,i="error",s="info",a="success",l="warning",c={clear:function(n,r){var o=f();t||u(o),d(n,o,r)||function(n){for(var r=t.children(),o=r.length-1;o>=0;o--)d(e(r[o]),n)}(o)},remove:function(n){var r=f();t||u(r),n&&0===e(":focus",n).length?m(n):t.children().length&&t.remove()},error:function(e,t,n){return p({type:i,iconClass:f().iconClasses.error,message:e,optionsOverride:n,title:t})},getContainer:u,info:function(e,t,n){return p({type:s,iconClass:f().iconClasses.info,message:e,optionsOverride:n,title:t})},options:{},subscribe:function(e){n=e},success:function(e,t,n){return p({type:a,iconClass:f().iconClasses.success,message:e,optionsOverride:n,title:t})},version:"2.1.4",warning:function(e,t,n){return p({type:l,iconClass:f().iconClasses.warning,message:e,optionsOverride:n,title:t})}};return c;function u(n,r){return n||(n=f()),(t=e("#"+n.containerId)).length||r&&(t=function(n){return(t=e("<div/>").attr("id",n.containerId).addClass(n.positionClass)).appendTo(e(n.target)),t}(n)),t}function d(t,n,r){var o=!(!r||!r.force)&&r.force;return!(!t||!o&&0!==e(":focus",t).length||(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){m(t)}}),0))}function h(e){n&&n(e)}function p(n){var i=f(),s=n.iconClass||i.iconClass;if(void 0!==n.optionsOverride&&(i=e.extend(i,n.optionsOverride),s=n.optionsOverride.iconClass||s),!function(e,t){if(e.preventDuplicates){if(t.message===r)return!0;r=t.message}return!1}(i,n)){o++,t=u(i,!0);var a=null,l=e("<div/>"),c=e("<div/>"),d=e("<div/>"),p=e("<div/>"),g=e(i.closeHtml),v={intervalId:null,hideEta:null,maxHideTime:null},y={toastId:o,state:"visible",startTime:new Date,options:i,map:n};return n.iconClass&&l.addClass(i.toastClass).addClass(s),function(){if(n.title){var e=n.title;i.escapeHtml&&(e=b(n.title)),c.append(e).addClass(i.titleClass),l.append(c)}}(),function(){if(n.message){var e=n.message;i.escapeHtml&&(e=b(n.message)),d.append(e).addClass(i.messageClass),l.append(d)}}(),i.closeButton&&(g.addClass(i.closeClass).attr("role","button"),l.prepend(g)),i.progressBar&&(p.addClass(i.progressClass),l.prepend(p)),i.rtl&&l.addClass("rtl"),i.newestOnTop?t.prepend(l):t.append(l),function(){var e="";switch(n.iconClass){case"toast-success":case"toast-info":e="polite";break;default:e="assertive"}l.attr("aria-live",e)}(),l.hide(),l[i.showMethod]({duration:i.showDuration,easing:i.showEasing,complete:i.onShown}),i.timeOut>0&&(a=setTimeout(w,i.timeOut),v.maxHideTime=parseFloat(i.timeOut),v.hideEta=(new Date).getTime()+v.maxHideTime,i.progressBar&&(v.intervalId=setInterval((function(){var e=(v.hideEta-(new Date).getTime())/v.maxHideTime*100;p.width(e+"%")}),10))),i.closeOnHover&&l.hover((function(){clearTimeout(a),v.hideEta=0,l.stop(!0,!0)[i.showMethod]({duration:i.showDuration,easing:i.showEasing})}),(function(){(i.timeOut>0||i.extendedTimeOut>0)&&(a=setTimeout(w,i.extendedTimeOut),v.maxHideTime=parseFloat(i.extendedTimeOut),v.hideEta=(new Date).getTime()+v.maxHideTime)})),!i.onclick&&i.tapToDismiss&&l.click(w),i.closeButton&&g&&g.click((function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),i.onCloseClick&&i.onCloseClick(e),w(!0)})),i.onclick&&l.click((function(e){i.onclick(e),w()})),h(y),i.debug&&console&&console.log(y),l}function b(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function w(t){var n=t&&!1!==i.closeMethod?i.closeMethod:i.hideMethod,r=t&&!1!==i.closeDuration?i.closeDuration:i.hideDuration,o=t&&!1!==i.closeEasing?i.closeEasing:i.hideEasing;if(!e(":focus",l).length||t)return clearTimeout(v.intervalId),l[n]({duration:r,easing:o,complete:function(){m(l),clearTimeout(a),i.onHidden&&"hidden"!==y.state&&i.onHidden(),y.state="hidden",y.endTime=new Date,h(y)}})}}function f(){return e.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},c.options)}function m(e){t||(t=u()),e.is(":visible")||(e.remove(),e=null,0===t.children().length&&(t.remove(),r=void 0))}}()}.apply(t,r))||(e.exports=o)},4501:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function o(e={},t={}){Object.keys(t).forEach((n=>{void 0===e[n]?e[n]=t[n]:r(t[n])&&r(e[n])&&Object.keys(t[n]).length>0&&o(e[n],t[n])}))}n.d(t,{ZP:()=>q});const i={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function s(){const e="undefined"!=typeof document?document:{};return o(e,i),e}const a={document:i,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function l(){const e="undefined"!=typeof window?window:{};return o(e,a),e}function c(e,t=0){return setTimeout(e,t)}function u(){return Date.now()}function d(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function h(...e){const t=Object(e[0]),n=["__proto__","constructor","prototype"];for(let o=1;o<e.length;o+=1){const i=e[o];if(null!=i&&(r=i,!("undefined"!=typeof window&&void 0!==window.HTMLElement?r instanceof HTMLElement:r&&(1===r.nodeType||11===r.nodeType)))){const e=Object.keys(Object(i)).filter((e=>n.indexOf(e)<0));for(let n=0,r=e.length;n<r;n+=1){const r=e[n],o=Object.getOwnPropertyDescriptor(i,r);void 0!==o&&o.enumerable&&(d(t[r])&&d(i[r])?i[r].__swiper__?t[r]=i[r]:h(t[r],i[r]):!d(t[r])&&d(i[r])?(t[r]={},i[r].__swiper__?t[r]=i[r]:h(t[r],i[r])):t[r]=i[r])}}}var r;return t}function p(e,t,n){e.style.setProperty(t,n)}function f({swiper:e,targetPosition:t,side:n}){const r=l(),o=-e.translate;let i,s=null;const a=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const c=t>o?"next":"prev",u=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,d=()=>{i=(new Date).getTime(),null===s&&(s=i);const l=Math.max(Math.min((i-s)/a,1),0),c=.5-Math.cos(l*Math.PI)/2;let h=o+c*(t-o);if(u(h,t)&&(h=t),e.wrapperEl.scrollTo({[n]:h}),u(h,t))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout((()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:h})})),void r.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=r.requestAnimationFrame(d)};d()}function m(e,t=""){return[...e.children].filter((e=>e.matches(t)))}function g(e,t){return l().getComputedStyle(e,null).getPropertyValue(t)}function v(e){let t,n=e;if(n){for(t=0;null!==(n=n.previousSibling);)1===n.nodeType&&(t+=1);return t}}function y(e,t,n){const r=l();return n?e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):e.offsetWidth}let b,w,x;function E(){return b||(b=function(){const e=l(),t=s();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),b}const S={on(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof t)return r;const o=n?"unshift":"push";return e.split(" ").forEach((e=>{r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][o](t)})),r},once(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof t)return r;function o(...n){r.off(e,o),o.__emitterProxy&&delete o.__emitterProxy,t.apply(r,n)}return o.__emitterProxy=t,r.on(e,o,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof e)return n;const r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(e.split(" ").forEach((e=>{void 0===t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach(((r,o)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(o,1)}))})),n):n},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsListeners)return t;let n,r,o;return"string"==typeof e[0]||Array.isArray(e[0])?(n=e[0],r=e.slice(1,e.length),o=t):(n=e[0].events,r=e[0].data,o=e[0].context||t),r.unshift(o),(Array.isArray(n)?n:n.split(" ")).forEach((e=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach((t=>{t.apply(o,[e,...r])})),t.eventsListeners&&t.eventsListeners[e]&&t.eventsListeners[e].forEach((e=>{e.apply(o,r)}))})),t}},C={updateSize:function(){const e=this;let t,n;const r=e.el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:r.clientWidth,n=void 0!==e.params.height&&null!==e.params.height?e.params.height:r.clientHeight,0===t&&e.isHorizontal()||0===n&&e.isVertical()||(t=t-parseInt(g(r,"padding-left")||0,10)-parseInt(g(r,"padding-right")||0,10),n=n-parseInt(g(r,"padding-top")||0,10)-parseInt(g(r,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))},updateSlides:function(){const e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function n(e,n){return parseFloat(e.getPropertyValue(t(n))||0)}const r=e.params,{wrapperEl:o,slidesEl:i,size:s,rtlTranslate:a,wrongRTL:l}=e,c=e.virtual&&r.virtual.enabled,u=c?e.virtual.slides.length:e.slides.length,d=m(i,`.${e.params.slideClass}, swiper-slide`),h=c?e.virtual.slides.length:d.length;let f=[];const v=[],b=[];let w=r.slidesOffsetBefore;"function"==typeof w&&(w=r.slidesOffsetBefore.call(e));let x=r.slidesOffsetAfter;"function"==typeof x&&(x=r.slidesOffsetAfter.call(e));const E=e.snapGrid.length,S=e.slidesGrid.length;let C=r.spaceBetween,A=-w,_=0,k=0;if(void 0===s)return;"string"==typeof C&&C.indexOf("%")>=0&&(C=parseFloat(C.replace("%",""))/100*s),e.virtualSize=-C,d.forEach((e=>{a?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""})),r.centeredSlides&&r.cssMode&&(p(o,"--swiper-centered-offset-before",""),p(o,"--swiper-centered-offset-after",""));const T=r.grid&&r.grid.rows>1&&e.grid;let M;T&&e.grid.initSlides(h);const P="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter((e=>void 0!==r.breakpoints[e].slidesPerView)).length>0;for(let o=0;o<h;o+=1){let i;if(M=0,d[o]&&(i=d[o]),T&&e.grid.updateSlide(o,i,h,t),!d[o]||"none"!==g(i,"display")){if("auto"===r.slidesPerView){P&&(d[o].style[t("width")]="");const s=getComputedStyle(i),a=i.style.transform,l=i.style.webkitTransform;if(a&&(i.style.transform="none"),l&&(i.style.webkitTransform="none"),r.roundLengths)M=e.isHorizontal()?y(i,"width",!0):y(i,"height",!0);else{const e=n(s,"width"),t=n(s,"padding-left"),r=n(s,"padding-right"),o=n(s,"margin-left"),a=n(s,"margin-right"),l=s.getPropertyValue("box-sizing");if(l&&"border-box"===l)M=e+o+a;else{const{clientWidth:n,offsetWidth:s}=i;M=e+t+r+o+a+(s-n)}}a&&(i.style.transform=a),l&&(i.style.webkitTransform=l),r.roundLengths&&(M=Math.floor(M))}else M=(s-(r.slidesPerView-1)*C)/r.slidesPerView,r.roundLengths&&(M=Math.floor(M)),d[o]&&(d[o].style[t("width")]=`${M}px`);d[o]&&(d[o].swiperSlideSize=M),b.push(M),r.centeredSlides?(A=A+M/2+_/2+C,0===_&&0!==o&&(A=A-s/2-C),0===o&&(A=A-s/2-C),Math.abs(A)<.001&&(A=0),r.roundLengths&&(A=Math.floor(A)),k%r.slidesPerGroup==0&&f.push(A),v.push(A)):(r.roundLengths&&(A=Math.floor(A)),(k-Math.min(e.params.slidesPerGroupSkip,k))%e.params.slidesPerGroup==0&&f.push(A),v.push(A),A=A+M+C),e.virtualSize+=M+C,_=M,k+=1}}if(e.virtualSize=Math.max(e.virtualSize,s)+x,a&&l&&("slide"===r.effect||"coverflow"===r.effect)&&(o.style.width=`${e.virtualSize+r.spaceBetween}px`),r.setWrapperSize&&(o.style[t("width")]=`${e.virtualSize+r.spaceBetween}px`),T&&e.grid.updateWrapperSize(M,f,t),!r.centeredSlides){const t=[];for(let n=0;n<f.length;n+=1){let o=f[n];r.roundLengths&&(o=Math.floor(o)),f[n]<=e.virtualSize-s&&t.push(o)}f=t,Math.floor(e.virtualSize-s)-Math.floor(f[f.length-1])>1&&f.push(e.virtualSize-s)}if(c&&r.loop){const t=b[0]+C;if(r.slidesPerGroup>1){const n=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/r.slidesPerGroup),o=t*r.slidesPerGroup;for(let e=0;e<n;e+=1)f.push(f[f.length-1]+o)}for(let n=0;n<e.virtual.slidesBefore+e.virtual.slidesAfter;n+=1)1===r.slidesPerGroup&&f.push(f[f.length-1]+t),v.push(v[v.length-1]+t),e.virtualSize+=t}if(0===f.length&&(f=[0]),0!==r.spaceBetween){const n=e.isHorizontal()&&a?"marginLeft":t("marginRight");d.filter(((e,t)=>!(r.cssMode&&!r.loop)||t!==d.length-1)).forEach((e=>{e.style[n]=`${C}px`}))}if(r.centeredSlides&&r.centeredSlidesBounds){let e=0;b.forEach((t=>{e+=t+(r.spaceBetween?r.spaceBetween:0)})),e-=r.spaceBetween;const t=e-s;f=f.map((e=>e<0?-w:e>t?t+x:e))}if(r.centerInsufficientSlides){let e=0;if(b.forEach((t=>{e+=t+(r.spaceBetween?r.spaceBetween:0)})),e-=r.spaceBetween,e<s){const t=(s-e)/2;f.forEach(((e,n)=>{f[n]=e-t})),v.forEach(((e,n)=>{v[n]=e+t}))}}if(Object.assign(e,{slides:d,snapGrid:f,slidesGrid:v,slidesSizesGrid:b}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){p(o,"--swiper-centered-offset-before",-f[0]+"px"),p(o,"--swiper-centered-offset-after",e.size/2-b[b.length-1]/2+"px");const t=-e.snapGrid[0],n=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+n))}if(h!==u&&e.emit("slidesLengthChange"),f.length!==E&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),v.length!==S&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),!(c||r.cssMode||"slide"!==r.effect&&"fade"!==r.effect)){const t=`${r.containerModifierClass}backface-hidden`,n=e.el.classList.contains(t);h<=r.maxBackfaceHiddenSlides?n||e.el.classList.add(t):n&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,n=[],r=t.virtual&&t.params.virtual.enabled;let o,i=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const s=e=>r?t.getSlideIndexByData(e):t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach((e=>{n.push(e)}));else for(o=0;o<Math.ceil(t.params.slidesPerView);o+=1){const e=t.activeIndex+o;if(e>t.slides.length&&!r)break;n.push(s(e))}else n.push(s(t.activeIndex));for(o=0;o<n.length;o+=1)if(void 0!==n[o]){const e=n[o].offsetHeight;i=e>i?e:i}(i||0===i)&&(t.wrapperEl.style.height=`${i}px`)},updateSlidesOffset:function(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let r=0;r<t.length;r+=1)t[r].swiperSlideOffset=(e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop)-n},updateSlidesProgress:function(e=this&&this.translate||0){const t=this,n=t.params,{slides:r,rtlTranslate:o,snapGrid:i}=t;if(0===r.length)return;void 0===r[0].swiperSlideOffset&&t.updateSlidesOffset();let s=-e;o&&(s=e),r.forEach((e=>{e.classList.remove(n.slideVisibleClass)})),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(let e=0;e<r.length;e+=1){const a=r[e];let l=a.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(l-=r[0].swiperSlideOffset);const c=(s+(n.centeredSlides?t.minTranslate():0)-l)/(a.swiperSlideSize+n.spaceBetween),u=(s-i[0]+(n.centeredSlides?t.minTranslate():0)-l)/(a.swiperSlideSize+n.spaceBetween),d=-(s-l),h=d+t.slidesSizesGrid[e];(d>=0&&d<t.size-1||h>1&&h<=t.size||d<=0&&h>=t.size)&&(t.visibleSlides.push(a),t.visibleSlidesIndexes.push(e),r[e].classList.add(n.slideVisibleClass)),a.progress=o?-c:c,a.originalProgress=o?-u:u}},updateProgress:function(e){const t=this;if(void 0===e){const n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}const n=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:o,isBeginning:i,isEnd:s,progressLoop:a}=t;const l=i,c=s;if(0===r)o=0,i=!0,s=!0;else{o=(e-t.minTranslate())/r;const n=Math.abs(e-t.minTranslate())<1,a=Math.abs(e-t.maxTranslate())<1;i=n||o<=0,s=a||o>=1,n&&(o=0),a&&(o=1)}if(n.loop){const n=t.getSlideIndexByData(0),r=t.getSlideIndexByData(t.slides.length-1),o=t.slidesGrid[n],i=t.slidesGrid[r],s=t.slidesGrid[t.slidesGrid.length-1],l=Math.abs(e);a=l>=o?(l-o)/s:(l+s-i)/s,a>1&&(a-=1)}Object.assign(t,{progress:o,progressLoop:a,isBeginning:i,isEnd:s}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),i&&!l&&t.emit("reachBeginning toEdge"),s&&!c&&t.emit("reachEnd toEdge"),(l&&!i||c&&!s)&&t.emit("fromEdge"),t.emit("progress",o)},updateSlidesClasses:function(){const e=this,{slides:t,params:n,slidesEl:r,activeIndex:o}=e,i=e.virtual&&n.virtual.enabled,s=e=>m(r,`.${n.slideClass}${e}, swiper-slide${e}`)[0];let a;if(t.forEach((e=>{e.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)})),i)if(n.loop){let t=o-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),a=s(`[data-swiper-slide-index="${t}"]`)}else a=s(`[data-swiper-slide-index="${o}"]`);else a=t[o];if(a){a.classList.add(n.slideActiveClass);let e=function(e,t){const n=[];for(;e.nextElementSibling;){const r=e.nextElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}(a,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!e&&(e=t[0]),e&&e.classList.add(n.slideNextClass);let r=function(e,t){const n=[];for(;e.previousElementSibling;){const r=e.previousElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}(a,`.${n.slideClass}, swiper-slide`)[0];n.loop&&0===!r&&(r=t[t.length-1]),r&&r.classList.add(n.slidePrevClass)}e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:r,params:o,activeIndex:i,realIndex:s,snapIndex:a}=t;let l,c=e;const u=e=>{let n=e-t.virtual.slidesBefore;return n<0&&(n=t.virtual.slides.length+n),n>=t.virtual.slides.length&&(n-=t.virtual.slides.length),n};if(void 0===c&&(c=function(e){const{slidesGrid:t,params:n}=e,r=e.rtlTranslate?e.translate:-e.translate;let o;for(let e=0;e<t.length;e+=1)void 0!==t[e+1]?r>=t[e]&&r<t[e+1]-(t[e+1]-t[e])/2?o=e:r>=t[e]&&r<t[e+1]&&(o=e+1):r>=t[e]&&(o=e);return n.normalizeSlideIndex&&(o<0||void 0===o)&&(o=0),o}(t)),r.indexOf(n)>=0)l=r.indexOf(n);else{const e=Math.min(o.slidesPerGroupSkip,c);l=e+Math.floor((c-e)/o.slidesPerGroup)}if(l>=r.length&&(l=r.length-1),c===i)return l!==a&&(t.snapIndex=l,t.emit("snapIndexChange")),void(t.params.loop&&t.virtual&&t.params.virtual.enabled&&(t.realIndex=u(c)));let d;d=t.virtual&&o.virtual.enabled&&o.loop?u(c):t.slides[c]?parseInt(t.slides[c].getAttribute("data-swiper-slide-index")||c,10):c,Object.assign(t,{snapIndex:l,realIndex:d,previousIndex:i,activeIndex:c}),t.emit("activeIndexChange"),t.emit("snapIndexChange"),s!==d&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")},updateClickedSlide:function(e){const t=this,n=t.params,r=e.closest(`.${n.slideClass}, swiper-slide`);let o,i=!1;if(r)for(let e=0;e<t.slides.length;e+=1)if(t.slides[e]===r){i=!0,o=e;break}if(!r||!i)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=r,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=o,n.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}};function A({swiper:e,runCallbacks:t,direction:n,step:r}){const{activeIndex:o,previousIndex:i}=e;let s=n;if(s||(s=o>i?"next":o<i?"prev":"reset"),e.emit(`transition${r}`),t&&o!==i){if("reset"===s)return void e.emit(`slideResetTransition${r}`);e.emit(`slideChangeTransition${r}`),"next"===s?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}const _={slideTo:function(e=0,t=this.params.speed,n=!0,r,o){"string"==typeof e&&(e=parseInt(e,10));const i=this;let s=e;s<0&&(s=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:h,wrapperEl:p,enabled:m}=i;if(i.animating&&a.preventInteractionOnTransition||!m&&!r&&!o)return!1;const g=Math.min(i.params.slidesPerGroupSkip,s);let v=g+Math.floor((s-g)/i.params.slidesPerGroup);v>=l.length&&(v=l.length-1);const y=-l[v];if(a.normalizeSlideIndex)for(let e=0;e<c.length;e+=1){const t=-Math.floor(100*y),n=Math.floor(100*c[e]),r=Math.floor(100*c[e+1]);void 0!==c[e+1]?t>=n&&t<r-(r-n)/2?s=e:t>=n&&t<r&&(s=e+1):t>=n&&(s=e)}if(i.initialized&&s!==d){if(!i.allowSlideNext&&y<i.translate&&y<i.minTranslate())return!1;if(!i.allowSlidePrev&&y>i.translate&&y>i.maxTranslate()&&(d||0)!==s)return!1}let b;if(s!==(u||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(y),b=s>d?"next":s<d?"prev":"reset",h&&-y===i.translate||!h&&y===i.translate)return i.updateActiveIndex(s),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),"slide"!==a.effect&&i.setTranslate(y),"reset"!==b&&(i.transitionStart(n,b),i.transitionEnd(n,b)),!1;if(a.cssMode){const e=i.isHorizontal(),n=h?y:-y;if(0===t){const t=i.virtual&&i.params.virtual.enabled;t&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),t&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame((()=>{p[e?"scrollLeft":"scrollTop"]=n}))):p[e?"scrollLeft":"scrollTop"]=n,t&&requestAnimationFrame((()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1}))}else{if(!i.support.smoothScroll)return f({swiper:i,targetPosition:n,side:e?"left":"top"}),!0;p.scrollTo({[e?"left":"top"]:n,behavior:"smooth"})}return!0}return i.setTransition(t),i.setTranslate(y),i.updateActiveIndex(s),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,r),i.transitionStart(n,b),0===t?i.transitionEnd(n,b):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(e){i&&!i.destroyed&&e.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,b))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e=0,t=this.params.speed,n=!0,r){"string"==typeof e&&(e=parseInt(e,10));const o=this;let i=e;return o.params.loop&&(o.virtual&&o.params.virtual.enabled?i+=o.virtual.slidesBefore:i=o.getSlideIndexByData(i)),o.slideTo(i,t,n,r)},slideNext:function(e=this.params.speed,t=!0,n){const r=this,{enabled:o,params:i,animating:s}=r;if(!o)return r;let a=i.slidesPerGroup;"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<i.slidesPerGroupSkip?1:a,c=r.virtual&&i.virtual.enabled;if(i.loop){if(s&&!c&&i.loopPreventsSliding)return!1;r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft}return i.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+l,e,t,n)},slidePrev:function(e=this.params.speed,t=!0,n){const r=this,{params:o,snapGrid:i,slidesGrid:s,rtlTranslate:a,enabled:l,animating:c}=r;if(!l)return r;const u=r.virtual&&o.virtual.enabled;if(o.loop){if(c&&!u&&o.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}function d(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const h=d(a?r.translate:-r.translate),p=i.map((e=>d(e)));let f=i[p.indexOf(h)-1];if(void 0===f&&o.cssMode){let e;i.forEach(((t,n)=>{h>=t&&(e=n)})),void 0!==e&&(f=i[e>0?e-1:e])}let m=0;if(void 0!==f&&(m=s.indexOf(f),m<0&&(m=r.activeIndex-1),"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(m=m-r.slidesPerViewDynamic("previous",!0)+1,m=Math.max(m,0))),o.rewind&&r.isBeginning){const o=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(o,e,t,n)}return r.slideTo(m,e,t,n)},slideReset:function(e=this.params.speed,t=!0,n){return this.slideTo(this.activeIndex,e,t,n)},slideToClosest:function(e=this.params.speed,t=!0,n,r=.5){const o=this;let i=o.activeIndex;const s=Math.min(o.params.slidesPerGroupSkip,i),a=s+Math.floor((i-s)/o.params.slidesPerGroup),l=o.rtlTranslate?o.translate:-o.translate;if(l>=o.snapGrid[a]){const e=o.snapGrid[a];l-e>(o.snapGrid[a+1]-e)*r&&(i+=o.params.slidesPerGroup)}else{const e=o.snapGrid[a-1];l-e<=(o.snapGrid[a]-e)*r&&(i-=o.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,o.slidesGrid.length-1),o.slideTo(i,e,t,n)},slideToClickedSlide:function(){const e=this,{params:t,slidesEl:n}=e,r="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let o,i=e.clickedIndex;const s=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;o=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?i<e.loopedSlides-r/2||i>e.slides.length-e.loopedSlides+r/2?(e.loopFix(),i=e.getSlideIndex(m(n,`${s}[data-swiper-slide-index="${o}"]`)[0]),c((()=>{e.slideTo(i)}))):e.slideTo(i):i>e.slides.length-r?(e.loopFix(),i=e.getSlideIndex(m(n,`${s}[data-swiper-slide-index="${o}"]`)[0]),c((()=>{e.slideTo(i)}))):e.slideTo(i)}else e.slideTo(i)}};function k(e){const t=this,n=s(),r=l(),o=t.touchEventsData;o.evCache.push(e);const{params:i,touches:a,enabled:c}=t;if(!c)return;if(!i.simulateTouch&&"mouse"===e.pointerType)return;if(t.animating&&i.preventInteractionOnTransition)return;!t.animating&&i.cssMode&&i.loop&&t.loopFix();let d=e;d.originalEvent&&(d=d.originalEvent);let h=d.target;if("wrapper"===i.touchEventsTarget&&!t.wrapperEl.contains(h))return;if("which"in d&&3===d.which)return;if("button"in d&&d.button>0)return;if(o.isTouched&&o.isMoved)return;const p=!!i.noSwipingClass&&""!==i.noSwipingClass,f=e.composedPath?e.composedPath():e.path;p&&d.target&&d.target.shadowRoot&&f&&(h=f[0]);const m=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,g=!(!d.target||!d.target.shadowRoot);if(i.noSwiping&&(g?function(e,t=this){return function t(n){if(!n||n===s()||n===l())return null;n.assignedSlot&&(n=n.assignedSlot);const r=n.closest(e);return r||n.getRootNode?r||t(n.getRootNode().host):null}(t)}(m,h):h.closest(m)))return void(t.allowClick=!0);if(i.swipeHandler&&!h.closest(i.swipeHandler))return;a.currentX=d.pageX,a.currentY=d.pageY;const v=a.currentX,y=a.currentY,b=i.edgeSwipeDetection||i.iOSEdgeSwipeDetection,w=i.edgeSwipeThreshold||i.iOSEdgeSwipeThreshold;if(b&&(v<=w||v>=r.innerWidth-w)){if("prevent"!==b)return;e.preventDefault()}Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=v,a.startY=y,o.touchStartTime=u(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,i.threshold>0&&(o.allowThresholdMove=!1);let x=!0;h.matches(o.focusableElements)&&(x=!1,"SELECT"===h.nodeName&&(o.isTouched=!1)),n.activeElement&&n.activeElement.matches(o.focusableElements)&&n.activeElement!==h&&n.activeElement.blur();const E=x&&t.allowTouchMove&&i.touchStartPreventDefault;!i.touchStartForcePreventDefault&&!E||h.isContentEditable||d.preventDefault(),t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!i.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",d)}function T(e){const t=s(),n=this,r=n.touchEventsData,{params:o,touches:i,rtlTranslate:a,enabled:l}=n;if(!l)return;if(!o.simulateTouch&&"mouse"===e.pointerType)return;let c=e;if(c.originalEvent&&(c=c.originalEvent),!r.isTouched)return void(r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c));const d=r.evCache.findIndex((e=>e.pointerId===c.pointerId));d>=0&&(r.evCache[d]=c);const h=r.evCache.length>1?r.evCache[0]:c,p=h.pageX,f=h.pageY;if(c.preventedByNestedSwiper)return i.startX=p,void(i.startY=f);if(!n.allowTouchMove)return c.target.matches(r.focusableElements)||(n.allowClick=!1),void(r.isTouched&&(Object.assign(i,{startX:p,startY:f,prevX:n.touches.currentX,prevY:n.touches.currentY,currentX:p,currentY:f}),r.touchStartTime=u()));if(o.touchReleaseOnEdges&&!o.loop)if(n.isVertical()){if(f<i.startY&&n.translate<=n.maxTranslate()||f>i.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(p<i.startX&&n.translate<=n.maxTranslate()||p>i.startX&&n.translate>=n.minTranslate())return;if(t.activeElement&&c.target===t.activeElement&&c.target.matches(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",c),c.targetTouches&&c.targetTouches.length>1)return;i.currentX=p,i.currentY=f;const m=i.currentX-i.startX,g=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(m**2+g**2)<n.params.threshold)return;if(void 0===r.isScrolling){let e;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:m*m+g*g>=25&&(e=180*Math.atan2(Math.abs(g),Math.abs(m))/Math.PI,r.isScrolling=n.isHorizontal()?e>o.touchAngle:90-e>o.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),void 0===r.startMoving&&(i.currentX===i.startX&&i.currentY===i.startY||(r.startMoving=!0)),r.isScrolling||n.zoom&&n.params.zoom&&n.params.zoom.enabled&&r.evCache.length>1)return void(r.isTouched=!1);if(!r.startMoving)return;n.allowClick=!1,!o.cssMode&&c.cancelable&&c.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&c.stopPropagation();let v=n.isHorizontal()?m:g,y=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;o.oneWayMovement&&(v=Math.abs(v)*(a?1:-1),y=Math.abs(y)*(a?1:-1)),i.diff=v,v*=o.touchRatio,a&&(v=-v,y=-y);const b=n.touchesDirection;n.swipeDirection=v>0?"prev":"next",n.touchesDirection=y>0?"prev":"next";const w=n.params.loop&&!o.cssMode;if(!r.isMoved){if(w&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(e)}r.allowMomentumBounce=!1,!o.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let x;r.isMoved&&b!==n.touchesDirection&&w&&Math.abs(v)>=1&&(n.loopFix({direction:n.swipeDirection,setTranslate:!0}),x=!0),n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=v+r.startTranslate;let E=!0,S=o.resistanceRatio;if(o.touchReleaseOnEdges&&(S=0),v>0?(w&&!x&&r.currentTranslate>(o.centeredSlides?n.minTranslate()-n.size/2:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(E=!1,o.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+v)**S))):v<0&&(w&&!x&&r.currentTranslate<(o.centeredSlides?n.maxTranslate()+n.size/2:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-("auto"===o.slidesPerView?n.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(E=!1,o.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-v)**S))),E&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),o.threshold>0){if(!(Math.abs(v)>o.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,void(i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY)}o.followFinger&&!o.cssMode&&((o.freeMode&&o.freeMode.enabled&&n.freeMode||o.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&o.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function M(e){const t=this,n=t.touchEventsData,r=n.evCache.findIndex((t=>t.pointerId===e.pointerId));if(r>=0&&n.evCache.splice(r,1),["pointercancel","pointerout","pointerleave"].includes(e.type)&&("pointercancel"!==e.type||!t.browser.isSafari&&!t.browser.isWebView))return;const{params:o,touches:i,rtlTranslate:s,slidesGrid:a,enabled:l}=t;if(!l)return;if(!o.simulateTouch&&"mouse"===e.pointerType)return;let d=e;if(d.originalEvent&&(d=d.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",d),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&o.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);o.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const h=u(),p=h-n.touchStartTime;if(t.allowClick){const e=d.path||d.composedPath&&d.composedPath();t.updateClickedSlide(e&&e[0]||d.target),t.emit("tap click",d),p<300&&h-n.lastClickTime<300&&t.emit("doubleTap doubleClick",d)}if(n.lastClickTime=u(),c((()=>{t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===i.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let f;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,f=o.followFinger?s?t.translate:-t.translate:-n.currentTranslate,o.cssMode)return;if(t.params.freeMode&&o.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:f});let m=0,g=t.slidesSizesGrid[0];for(let e=0;e<a.length;e+=e<o.slidesPerGroupSkip?1:o.slidesPerGroup){const t=e<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;void 0!==a[e+t]?f>=a[e]&&f<a[e+t]&&(m=e,g=a[e+t]-a[e]):f>=a[e]&&(m=e,g=a[a.length-1]-a[a.length-2])}let v=null,y=null;o.rewind&&(t.isBeginning?y=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(v=0));const b=(f-a[m])/g,w=m<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(p>o.longSwipesMs){if(!o.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(b>=o.longSwipesRatio?t.slideTo(o.rewind&&t.isEnd?v:m+w):t.slideTo(m)),"prev"===t.swipeDirection&&(b>1-o.longSwipesRatio?t.slideTo(m+w):null!==y&&b<0&&Math.abs(b)>o.longSwipesRatio?t.slideTo(y):t.slideTo(m))}else{if(!o.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||d.target!==t.navigation.nextEl&&d.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(null!==v?v:m+w),"prev"===t.swipeDirection&&t.slideTo(null!==y?y:m)):d.target===t.navigation.nextEl?t.slideTo(m+w):t.slideTo(m)}}let P;function O(){const e=this,{params:t,el:n}=e;if(n&&0===n.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:o,snapGrid:i}=e,s=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const a=s&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||a?e.params.loop&&!s?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(P),P=setTimeout((()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()}),500)),e.allowSlidePrev=o,e.allowSlideNext=r,e.params.watchOverflow&&i!==e.snapGrid&&e.checkOverflow()}function R(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function N(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:r}=e;if(!r)return;let o;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const i=e.maxTranslate()-e.minTranslate();o=0===i?0:(e.translate-e.minTranslate())/i,o!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}const D=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(n){const t=n.querySelector(`.${e.params.lazyPreloaderClass}`);t&&t.remove()}};function I(e){D(this,e.target),this.update()}let B=!1;function F(){}const L=(e,t)=>{const n=s(),{params:r,el:o,wrapperEl:i,device:a}=e,l=!!r.nested,c="on"===t?"addEventListener":"removeEventListener",u=t;o[c]("pointerdown",e.onTouchStart,{passive:!1}),n[c]("pointermove",e.onTouchMove,{passive:!1,capture:l}),n[c]("pointerup",e.onTouchEnd,{passive:!0}),n[c]("pointercancel",e.onTouchEnd,{passive:!0}),n[c]("pointerout",e.onTouchEnd,{passive:!0}),n[c]("pointerleave",e.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&o[c]("click",e.onClick,!0),r.cssMode&&i[c]("scroll",e.onScroll),r.updateOnWindowResize?e[u](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",O,!0):e[u]("observerUpdate",O,!0),o[c]("load",e.onLoad,{capture:!0})},H=(e,t)=>e.grid&&t.grid&&t.grid.rows>1,z={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",runCallbacksOnInit:!0,_emitClasses:!1};function V(e,t){return function(n={}){const r=Object.keys(n)[0],o=n[r];"object"==typeof o&&null!==o?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===e[r]&&(e[r]={auto:!0}),r in e&&"enabled"in o?(!0===e[r]&&(e[r]={enabled:!0}),"object"!=typeof e[r]||"enabled"in e[r]||(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),h(t,n)):h(t,n)):h(t,n)}}const j={eventsEmitter:S,update:C,translate:{getTranslate:function(e=(this.isHorizontal()?"x":"y")){const{params:t,rtlTranslate:n,translate:r,wrapperEl:o}=this;if(t.virtualTranslate)return n?-r:r;if(t.cssMode)return r;let i=function(e,t="x"){const n=l();let r,o,i;const s=function(e){const t=l();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}(e);return n.WebKitCSSMatrix?(o=s.transform||s.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map((e=>e.replace(",","."))).join(", ")),i=new n.WebKitCSSMatrix("none"===o?"":o)):(i=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),"x"===t&&(o=n.WebKitCSSMatrix?i.m41:16===r.length?parseFloat(r[12]):parseFloat(r[4])),"y"===t&&(o=n.WebKitCSSMatrix?i.m42:16===r.length?parseFloat(r[13]):parseFloat(r[5])),o||0}(o,e);return n&&(i=-i),i||0},setTranslate:function(e,t){const n=this,{rtlTranslate:r,params:o,wrapperEl:i,progress:s}=n;let a,l=0,c=0;n.isHorizontal()?l=r?-e:e:c=e,o.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),o.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:o.virtualTranslate||(i.style.transform=`translate3d(${l}px, ${c}px, 0px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c;const u=n.maxTranslate()-n.minTranslate();a=0===u?0:(e-n.minTranslate())/u,a!==s&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e=0,t=this.params.speed,n=!0,r=!0,o){const i=this,{params:s,wrapperEl:a}=i;if(i.animating&&s.preventInteractionOnTransition)return!1;const l=i.minTranslate(),c=i.maxTranslate();let u;if(u=r&&e>l?l:r&&e<c?c:e,i.updateProgress(u),s.cssMode){const e=i.isHorizontal();if(0===t)a[e?"scrollLeft":"scrollTop"]=-u;else{if(!i.support.smoothScroll)return f({swiper:i,targetPosition:-u,side:e?"left":"top"}),!0;a.scrollTo({[e?"left":"top"]:-u,behavior:"smooth"})}return!0}return 0===t?(i.setTransition(0),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",t,o),i.emit("transitionEnd"))):(i.setTransition(t),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",t,o),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(e){i&&!i.destroyed&&e.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${e}ms`),n.emit("setTransition",e,t)},transitionStart:function(e=!0,t){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),A({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e=!0,t){const n=this,{params:r}=n;n.animating=!1,r.cssMode||(n.setTransition(0),A({swiper:n,runCallbacks:e,direction:t,step:"End"}))}},slide:_,loop:{loopCreate:function(e){const t=this,{params:n,slidesEl:r}=t;!n.loop||t.virtual&&t.params.virtual.enabled||(m(r,`.${n.slideClass}, swiper-slide`).forEach(((e,t)=>{e.setAttribute("data-swiper-slide-index",t)})),t.loopFix({slideRealIndex:e,direction:n.centeredSlides?void 0:"next"}))},loopFix:function({slideRealIndex:e,slideTo:t=!0,direction:n,setTranslate:r,activeSlideIndex:o,byController:i,byMousewheel:s}={}){const a=this;if(!a.params.loop)return;a.emit("beforeLoopFix");const{slides:l,allowSlidePrev:c,allowSlideNext:u,slidesEl:d,params:h}=a;if(a.allowSlidePrev=!0,a.allowSlideNext=!0,a.virtual&&h.virtual.enabled)return t&&(h.centeredSlides||0!==a.snapIndex?h.centeredSlides&&a.snapIndex<h.slidesPerView?a.slideTo(a.virtual.slides.length+a.snapIndex,0,!1,!0):a.snapIndex===a.snapGrid.length-1&&a.slideTo(a.virtual.slidesBefore,0,!1,!0):a.slideTo(a.virtual.slides.length,0,!1,!0)),a.allowSlidePrev=c,a.allowSlideNext=u,void a.emit("loopFix");const p="auto"===h.slidesPerView?a.slidesPerViewDynamic():Math.ceil(parseFloat(h.slidesPerView,10));let f=h.loopedSlides||p;f%h.slidesPerGroup!=0&&(f+=h.slidesPerGroup-f%h.slidesPerGroup),a.loopedSlides=f;const m=[],g=[];let v=a.activeIndex;void 0===o?o=a.getSlideIndex(a.slides.filter((e=>e.classList.contains(h.slideActiveClass)))[0]):v=o;const y="next"===n||!n,b="prev"===n||!n;let w=0,x=0;if(o<f){w=Math.max(f-o,h.slidesPerGroup);for(let e=0;e<f-o;e+=1){const t=e-Math.floor(e/l.length)*l.length;m.push(l.length-t-1)}}else if(o>a.slides.length-2*f){x=Math.max(o-(a.slides.length-2*f),h.slidesPerGroup);for(let e=0;e<x;e+=1){const t=e-Math.floor(e/l.length)*l.length;g.push(t)}}if(b&&m.forEach((e=>{d.prepend(a.slides[e])})),y&&g.forEach((e=>{d.append(a.slides[e])})),a.recalcSlides(),h.watchSlidesProgress&&a.updateSlidesOffset(),t)if(m.length>0&&b)if(void 0===e){const e=a.slidesGrid[v],t=a.slidesGrid[v+w]-e;s?a.setTranslate(a.translate-t):(a.slideTo(v+w,0,!1,!0),r&&(a.touches[a.isHorizontal()?"startX":"startY"]+=t))}else r&&a.slideToLoop(e,0,!1,!0);else if(g.length>0&&y)if(void 0===e){const e=a.slidesGrid[v],t=a.slidesGrid[v-x]-e;s?a.setTranslate(a.translate-t):(a.slideTo(v-x,0,!1,!0),r&&(a.touches[a.isHorizontal()?"startX":"startY"]+=t))}else a.slideToLoop(e,0,!1,!0);if(a.allowSlidePrev=c,a.allowSlideNext=u,a.controller&&a.controller.control&&!i){const t={slideRealIndex:e,slideTo:!1,direction:n,setTranslate:r,activeSlideIndex:o,byController:!0};Array.isArray(a.controller.control)?a.controller.control.forEach((e=>{!e.destroyed&&e.params.loop&&e.loopFix(t)})):a.controller.control instanceof a.constructor&&a.controller.control.params.loop&&a.controller.control.loopFix(t)}a.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const r=[];e.slides.forEach((e=>{const t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;r[t]=e})),e.slides.forEach((e=>{e.removeAttribute("data-swiper-slide-index")})),r.forEach((e=>{n.append(e)})),e.recalcSlides(),e.slideTo(e.realIndex,0)}},grabCursor:{setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame((()=>{t.__preventObserver__=!1}))},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame((()=>{e.__preventObserver__=!1})))}},events:{attachEvents:function(){const e=this,t=s(),{params:n}=e;e.onTouchStart=k.bind(e),e.onTouchMove=T.bind(e),e.onTouchEnd=M.bind(e),n.cssMode&&(e.onScroll=N.bind(e)),e.onClick=R.bind(e),e.onLoad=I.bind(e),B||(t.addEventListener("touchstart",F),B=!0),L(e,"on")},detachEvents:function(){L(this,"off")}},breakpoints:{setBreakpoint:function(){const e=this,{realIndex:t,initialized:n,params:r,el:o}=e,i=r.breakpoints;if(!i||i&&0===Object.keys(i).length)return;const s=e.getBreakpoint(i,e.params.breakpointsBase,e.el);if(!s||e.currentBreakpoint===s)return;const a=(s in i?i[s]:void 0)||e.originalParams,l=H(e,r),c=H(e,a),u=r.enabled;l&&!c?(o.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),e.emitContainerClasses()):!l&&c&&(o.classList.add(`${r.containerModifierClass}grid`),(a.grid.fill&&"column"===a.grid.fill||!a.grid.fill&&"column"===r.grid.fill)&&o.classList.add(`${r.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach((t=>{const n=r[t]&&r[t].enabled,o=a[t]&&a[t].enabled;n&&!o&&e[t].disable(),!n&&o&&e[t].enable()}));const d=a.direction&&a.direction!==r.direction,p=r.loop&&(a.slidesPerView!==r.slidesPerView||d);d&&n&&e.changeDirection(),h(e.params,a);const f=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),u&&!f?e.disable():!u&&f&&e.enable(),e.currentBreakpoint=s,e.emit("_beforeBreakpoint",a),p&&n&&(e.loopDestroy(),e.loopCreate(t),e.updateSlides()),e.emit("breakpoint",a)},getBreakpoint:function(e,t="window",n){if(!e||"container"===t&&!n)return;let r=!1;const o=l(),i="window"===t?o.innerHeight:n.clientHeight,s=Object.keys(e).map((e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:i*t,point:e}}return{value:e,point:e}}));s.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let e=0;e<s.length;e+=1){const{point:i,value:a}=s[e];"window"===t?o.matchMedia(`(min-width: ${a}px)`).matches&&(r=i):a<=n.clientWidth&&(r=i)}return r||"max"}},checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:r}=n;if(r){const t=e.slides.length-1,n=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*r;e.isLocked=e.size>n}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const e=this,{classNames:t,params:n,rtl:r,el:o,device:i}=e,s=function(e,t){const n=[];return e.forEach((e=>{"object"==typeof e?Object.keys(e).forEach((r=>{e[r]&&n.push(t+r)})):"string"==typeof e&&n.push(t+e)})),n}(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...s),o.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e.classList.remove(...t),this.emitContainerClasses()}}},U={};class G{constructor(...e){let t,n;1===e.length&&e[0].constructor&&"Object"===Object.prototype.toString.call(e[0]).slice(8,-1)?n=e[0]:[t,n]=e,n||(n={}),n=h({},n),t&&!n.el&&(n.el=t);const r=s();if(n.el&&"string"==typeof n.el&&r.querySelectorAll(n.el).length>1){const e=[];return r.querySelectorAll(n.el).forEach((t=>{const r=h({},n,{el:t});e.push(new G(r))})),e}const o=this;o.__swiper__=!0,o.support=E(),o.device=function(e={}){return w||(w=function({userAgent:e}={}){const t=E(),n=l(),r=n.navigator.platform,o=e||n.navigator.userAgent,i={ios:!1,android:!1},s=n.screen.width,a=n.screen.height,c=o.match(/(Android);?[\s\/]+([\d.]+)?/);let u=o.match(/(iPad).*OS\s([\d_]+)/);const d=o.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="Win32"===r;let f="MacIntel"===r;return!u&&f&&t.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${s}x${a}`)>=0&&(u=o.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),f=!1),c&&!p&&(i.os="android",i.android=!0),(u||h||d)&&(i.os="ios",i.ios=!0),i}(e)),w}({userAgent:n.userAgent}),o.browser=(x||(x=function(){const e=l();let t=!1;function n(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(n()){const n=String(e.navigator.userAgent);if(n.includes("Version/")){const[e,r]=n.split("Version/")[1].split(" ")[0].split(".").map((e=>Number(e)));t=e<16||16===e&&r<2}}return{isSafari:t||n(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),x),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],n.modules&&Array.isArray(n.modules)&&o.modules.push(...n.modules);const i={};o.modules.forEach((e=>{e({params:n,swiper:o,extendParams:V(n,i),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})}));const a=h({},z,i);return o.params=h({},a,U,n),o.originalParams=h({},o.params),o.passedParams=h({},n),o.params&&o.params.on&&Object.keys(o.params.on).forEach((e=>{o.on(e,o.params.on[e])})),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===o.params.direction,isVertical:()=>"vertical"===o.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:u(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getSlideIndex(e){const{slidesEl:t,params:n}=this,r=v(m(t,`.${n.slideClass}, swiper-slide`)[0]);return v(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter((t=>1*t.getAttribute("data-swiper-slide-index")===e))[0])}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=m(e,`.${t.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const n=this;e=Math.min(Math.max(e,0),1);const r=n.minTranslate(),o=(n.maxTranslate()-r)*e+r;n.translateTo(o,void 0===t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach((n=>{const r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const{params:n,slides:r,slidesGrid:o,slidesSizesGrid:i,size:s,activeIndex:a}=this;let l=1;if(n.centeredSlides){let e,t=r[a].swiperSlideSize;for(let n=a+1;n<r.length;n+=1)r[n]&&!e&&(t+=r[n].swiperSlideSize,l+=1,t>s&&(e=!0));for(let n=a-1;n>=0;n-=1)r[n]&&!e&&(t+=r[n].swiperSlideSize,l+=1,t>s&&(e=!0))}else if("current"===e)for(let e=a+1;e<r.length;e+=1)(t?o[e]+i[e]-o[a]<s:o[e]-o[a]<s)&&(l+=1);else for(let e=a-1;e>=0;e-=1)o[a]-o[e]<s&&(l+=1);return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:n}=e;function r(){const t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}let o;n.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach((t=>{t.complete&&D(e,t)})),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(r(),e.params.autoHeight&&e.updateAutoHeight()):(o=("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),o||r()),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.el.classList.remove(`${n.params.containerModifierClass}${r}`),n.el.classList.add(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.forEach((t=>{"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let n=e||t.params.el;if("string"==typeof n&&(n=document.querySelector(n)),!n)return!1;n.swiper=t,n.shadowEl&&(t.isElement=!0);const r=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(r()):m(n,r())[0];return!o&&t.params.createElements&&(o=function(e,t=[]){const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:[t]),n}("div",t.params.wrapperClass),n.append(o),m(n,`.${t.params.slideClass}`).forEach((e=>{o.append(e)}))),Object.assign(t,{el:n,wrapperEl:o,slidesEl:t.isElement?n:o,mounted:!0,rtl:"rtl"===n.dir.toLowerCase()||"rtl"===g(n,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===n.dir.toLowerCase()||"rtl"===g(n,"direction")),wrongRTL:"-webkit-box"===g(o,"display")}),!0}init(e){const t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach((e=>{e.complete?D(t,e):e.addEventListener("load",(e=>{D(t,e.target)}))})),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}destroy(e=!0,t=!0){const n=this,{params:r,el:o,wrapperEl:i,slides:s}=n;return void 0===n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),o.removeAttribute("style"),i.removeAttribute("style"),s&&s.length&&s.forEach((e=>{e.classList.remove(r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")}))),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((e=>{n.off(e)})),!1!==e&&(n.el.swiper=null,function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}(n)),n.destroyed=!0),null}static extendDefaults(e){h(U,e)}static get extendedDefaults(){return U}static get defaults(){return z}static installModule(e){G.prototype.__modules__||(G.prototype.__modules__=[]);const t=G.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>G.installModule(e))),G):(G.installModule(e),G)}}Object.keys(j).forEach((e=>{Object.keys(j[e]).forEach((t=>{G.prototype[t]=j[e][t]}))})),G.use([function({swiper:e,on:t,emit:n}){const r=l();let o=null,i=null;const s=()=>{e&&!e.destroyed&&e.initialized&&(n("beforeResize"),n("resize"))},a=()=>{e&&!e.destroyed&&e.initialized&&n("orientationchange")};t("init",(()=>{e.params.resizeObserver&&void 0!==r.ResizeObserver?e&&!e.destroyed&&e.initialized&&(o=new ResizeObserver((t=>{i=r.requestAnimationFrame((()=>{const{width:n,height:r}=e;let o=n,i=r;t.forEach((({contentBoxSize:t,contentRect:n,target:r})=>{r&&r!==e.el||(o=n?n.width:(t[0]||t).inlineSize,i=n?n.height:(t[0]||t).blockSize)})),o===n&&i===r||s()}))})),o.observe(e.el)):(r.addEventListener("resize",s),r.addEventListener("orientationchange",a))})),t("destroy",(()=>{i&&r.cancelAnimationFrame(i),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null),r.removeEventListener("resize",s),r.removeEventListener("orientationchange",a)}))},function({swiper:e,extendParams:t,on:n,emit:r}){const o=[],i=l(),s=(t,n={})=>{const s=new(i.MutationObserver||i.WebkitMutationObserver)((t=>{if(e.__preventObserver__)return;if(1===t.length)return void r("observerUpdate",t[0]);const n=function(){r("observerUpdate",t[0])};i.requestAnimationFrame?i.requestAnimationFrame(n):i.setTimeout(n,0)}));s.observe(t,{attributes:void 0===n.attributes||n.attributes,childList:void 0===n.childList||n.childList,characterData:void 0===n.characterData||n.characterData}),o.push(s)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",(()=>{if(e.params.observer){if(e.params.observeParents){const t=function(e,t){const n=[];let r=e.parentElement;for(;r;)n.push(r),r=r.parentElement;return n}(e.el);for(let e=0;e<t.length;e+=1)s(t[e])}s(e.el,{childList:e.params.observeSlideChildren}),s(e.wrapperEl,{attributes:!1})}})),n("destroy",(()=>{o.forEach((e=>{e.disconnect()})),o.splice(0,o.length)}))}]);const q=G}}]);
//# sourceMappingURL=699-ac77617db7f09c006d02.js.map